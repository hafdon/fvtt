{"name":"(TA)Disable Token Animation","type":"script","author":"UMK8ApDowSTMXShS","img":"icons/svg/cancel.svg","scope":"global","command":"tokenAttacher.setAnimateStatus(canvas.activeLayer.controlled, false);","folder":null,"sort":0,"permission":{"default":0,"UMK8ApDowSTMXShS":3},"flags":{"core":{"sourceId":"Macro.RBEy5s5yuwFPmITc"}},"_id":"1ATNOSsJ0wFTpfwP"}
{"name":"(TA) disableAnimationForAllBaseTokensInCompendiums","type":"script","author":"UMK8ApDowSTMXShS","img":"icons/svg/dice-target.svg","scope":"global","command":"let migrateAnimate = (elem, type) => {\n\tsetProperty(elem, `flags.token-attacher.animate`, false);\n}\n\ntokenAttacher.migrateElementsInCompendiums(migrateAnimate, [\"Token\"], false);","folder":null,"sort":0,"permission":{"default":0,"UMK8ApDowSTMXShS":3},"flags":{"core":{"sourceId":"Macro.igj7AlOhK18qr0ZS"}},"_id":"5jvkFbZIWdbcPs2S"}
{"name":"(TA)Dismount/Drop Target","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.aPzz32JjvyQD0dBW"}},"scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't follow more then one token!\");\n\t\tawait tokenAttacher.detachElementsFromToken(targets, token, true);\n\t\tfor (let i = 0; i < targets.length; i++) {\n\t\t\tconst targ = targets[i];\n\t\t\tui.chat.processMessage(`Get off ${targ.name}!`);\n                }\n\t}\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/target.svg","actorIds":[],"_id":"8XmWcnGdttjbLMAm"}
{"name":"(TA)Follow Target!","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.cdqKK2v5kFOKxeO5"}},"scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't follow more then one token!\");\n\t\tui.chat.processMessage(`I follow ${targets[0].name}`);\n\t\tawait tokenAttacher.attachElementToToken(token, targets[0], true);\n                await tokenAttacher.setElementsLockStatus(token, false, true);\n\t}\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/anchor.svg","actorIds":[],"_id":"EEEmfwXesBWX7v2O"}
{"name":"(TA)Dismount/Drop all","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.X52GcPUPuT9HfjcR"}},"scope":"global","command":"(() => {\n tokenAttacher.detachAllElementsFromToken(token, true);\n ui.chat.processMessage(`Everyone and everything get off!`);\t\t\t\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/falling.svg","actorIds":[],"_id":"IyCqa2HL5x07ybzf"}
{"name":"(TA)Toggle Quick Edit Mode","permission":{"default":0,"El5JYRyNAovcZ1JK":3},"type":"script","flags":{"core":{"sourceId":"Macro.B0KxxJfRpqWy7UiO"}},"scope":"global","command":"tokenAttacher.toggleQuickEditMode()","author":"El5JYRyNAovcZ1JK","img":"modules/token-attacher/templates/images/quill-ink.svg","actorIds":[],"_id":"MVqhetyeMXuBCBOB"}
{"name":"(TA)Stop Follow!","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.Pa4D6xwfuxJS0nYR"}},"scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't unfollow more then one token!\");\n\t\tawait tokenAttacher.detachElementsFromToken([token], targets[0], true);\n\t\tui.chat.processMessage(`I walk my own path again.`);\n\t}\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/wall-direction.svg","actorIds":[],"_id":"cgasM031hufbmXJ8"}
{"name":"(TA)Delete Missing Links","permission":{"default":0,"El5JYRyNAovcZ1JK":3},"type":"script","flags":{"core":{"sourceId":"Macro.B0KxxJfRpqWy7UiO"}},"scope":"global","command":"tokenAttacher.deleteMissingLinks()","author":"El5JYRyNAovcZ1JK","img":"icons/svg/bones.svg","actorIds":[],"_id":"gOSSlKyh8DU6sQba"}
{"name":"(TA)Toggle Token Animation","type":"script","author":"UMK8ApDowSTMXShS","img":"icons/skills/movement/figure-running-gray.webp","scope":"global","command":"tokenAttacher.toggleAnimateStatus(canvas.activeLayer.controlled);","folder":null,"sort":0,"permission":{"default":0,"UMK8ApDowSTMXShS":3},"flags":{"core":{"sourceId":"Macro.45pTXg1PosLVuvF8"}},"_id":"hY1Qvx6TSXYicKZJ"}
{"name":"(TA)Enable Token Animation","type":"script","author":"UMK8ApDowSTMXShS","img":"icons/skills/movement/figure-running-gray.webp","scope":"global","command":"tokenAttacher.setAnimateStatus(canvas.activeLayer.controlled, true);","folder":null,"sort":0,"permission":{"default":0,"UMK8ApDowSTMXShS":3},"flags":{"core":{"sourceId":"Macro.0HRPExO0ogMMIvOW"}},"_id":"mNF69LCY4AcM3RHu"}
{"name":"(TA)Mount Up!","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.zsfgPtRL0r8sLXaP"}},"scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't mount more then one token!\");\n\t\tlet mount = targets[0];\n\t\tlet newCoords = {x:token.x, y:token.y};\n\t\tif(mount.x+mount.w-token.w < token.x) newCoords.x = mount.x+mount.w-token.w;\n\t\telse if(mount.x > token.x) newCoords.x = mount.x;\n\n\t\tif(mount.y+mount.h-token.h < token.y) newCoords.y = mount.y+mount.h-token.h;\n\t\telse if(mount.y > token.y) newCoords.y = mount.y;\n\t\tawait token.update({x: newCoords.x, y: newCoords.y});\n\t\tui.chat.processMessage(`I mount this ${targets[0].name}`);\n\t\tawait tokenAttacher.attachElementToToken(token, targets[0], true);\n\t\tawait tokenAttacher.setElementsLockStatus(token, false, true);\n\t}\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/up.svg","actorIds":[],"_id":"nLhUfc5QrylHAOXB"}
{"name":"(TA)Pick Up","permission":{"default":0,"S9MNnXvNKVz78Wm1":3},"type":"script","flags":{"core":{"sourceId":"Macro.5nYOmSZfXbhOmAwr"}},"scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tfor (let i = 0; i < targets.length; i++) {\n\t\t\tconst targ = targets[i];\n\t\t\tui.chat.processMessage(`I pick up this ${targ.name}`);\n\t\t}\n\t\tawait tokenAttacher.attachElementsToToken(targets, token, true);\n                await tokenAttacher.setElementsLockStatus(targets, false, true);\n\t}\n})();","author":"S9MNnXvNKVz78Wm1","img":"icons/svg/sword.svg","actorIds":[],"_id":"vQZfGeU9mL8pwg1i"}
{"name":"(TA) migrateRoofsToBetterRoofs","type":"script","author":"UMK8ApDowSTMXShS","img":"icons/svg/dice-target.svg","scope":"global","command":"let migrateRoofs = (elem, type) => {\n\tlet roofMode = 3;\n\tif(getProperty(elem, `flags.roofs.isRoof`) \n\t|| (getProperty(elem, `overhead`) \n\t&& getProperty(elem, `occlusion.mode`) == 2)){\n\t\tsetProperty(elem, `flags.betterRoofs.brMode`, roofMode);\n\t\tsetProperty(elem, `occlusion.mode`, 1);\n\t}\n}\n\ntokenAttacher.migrateElementsInCompendiums(migrateRoofs, [\"Tile\"], false);","folder":null,"sort":0,"permission":{"default":0,"UMK8ApDowSTMXShS":3},"flags":{"core":{"sourceId":"Macro.fU2LkegSt3vo7dp8"}},"_id":"vZVaAvGxegN7jw1b"}
