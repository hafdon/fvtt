const _0x5382=['1PILOoG','data.resources.primary.label','7ykKzvj','system','title','1pxrPHl','importItem','actor','default','Unhandled\x20effect\x20mode,\x20was\x20neither\x20an\x20item\x20effect\x20nor\x20an\x20actor\x20effect!','Item','map','split','161635atDIPe','\x22\x20conflicts\x20with\x20','getCustomKey','array','!\x20Some\x20','600335ADmDkE','isDisplayActiveEffectAttributeKeyHelper','type','dae','isActorEffect','data.','data','warn','characterFlags','Actor','isDaeActive','path','slice','_doCheckHandleDynamicActiveEffectsModule','isItemEffect','data.resources.secondary.label','ACTIVE_EFFECT_MODES','getAvailableEffectsLookup','120831yhNEoH','DND5E','join','MODULE_NAME_FAKE','102633MotuRe','data.attributes.prof','copy','isUseExtendedActiveEffectsParser','entries','getItemEffect','MODULE_TITLE','isAddActiveEffects','getAvailableEffects','model','forEach','flags.dnd5e.','MODULE_TITLE_FAKE','1038360AcoUiA','mode','icons/svg/aura.svg','995495xACJHy','OVERRIDE','init','get','bind','_AVAIL_EFFECTS_ACTOR_DND5E','filter','placeholder','1762083ehuQRL','setTemp','push','The\x20module\x20\x22','notifications','undefined','getKeyFromCustomKey'];const _0x2722=function(_0x1ab81b,_0x17dbf6){_0x1ab81b=_0x1ab81b-0x9a;let _0x538294=_0x5382[_0x1ab81b];return _0x538294;};const _0x14a35c=_0x2722;(function(_0x2a815f,_0x82fc90){const _0x22e24f=_0x2722;while(!![]){try{const _0x5f1553=-parseInt(_0x22e24f(0xb3))*-parseInt(_0x22e24f(0xc2))+-parseInt(_0x22e24f(0xb0))+parseInt(_0x22e24f(0xc4))*-parseInt(_0x22e24f(0x9f))+-parseInt(_0x22e24f(0xd4))+parseInt(_0x22e24f(0xa3))+parseInt(_0x22e24f(0xcf))+-parseInt(_0x22e24f(0xc7))*-parseInt(_0x22e24f(0xbb));if(_0x5f1553===_0x82fc90)break;else _0x2a815f['push'](_0x2a815f['shift']());}catch(_0x1313fa){_0x2a815f['push'](_0x2a815f['shift']());}}}(_0x5382,0x832f6));import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{LGT}from'./Util.js';import{UtilCompat}from'./UtilCompat.js';class ActiveEffectMeta{constructor(_0x59c3e4,_0x2a49a4,_0x50155a){const _0x52b232=_0x2722;this[_0x52b232(0xdf)]=_0x59c3e4,this[_0x52b232(0xb1)]=_0x2a49a4,this[_0x52b232(0xca)]=_0x50155a;}get['dataType'](){return typeof this['default'];}}class UtilActiveEffects{static[_0x14a35c(0xb5)](){const _0x515456=_0x14a35c;UtilActiveEffects['_AVAIL_EFFECTS_ACTOR_DND5E'][_0x515456(0xbd)](new ActiveEffectMeta(_0x515456(0xa4),CONST['ACTIVE_EFFECT_MODES']['OVERRIDE'],0x1),new ActiveEffectMeta(_0x515456(0xc3),CONST['ACTIVE_EFFECT_MODES'][_0x515456(0xb4)],''),new ActiveEffectMeta(_0x515456(0x9c),CONST[_0x515456(0x9d)][_0x515456(0xb4)],''),new ActiveEffectMeta('data.resources.tertiary.label',CONST[_0x515456(0x9d)][_0x515456(0xb4)],''),...Object['entries'](CONFIG?.[_0x515456(0xa0)]?.[_0x515456(0xdc)]||{})[_0x515456(0xcd)](([_0x40679d,_0x2b826a])=>new ActiveEffectMeta(_0x515456(0xae)+_0x40679d,CONST[_0x515456(0x9d)][_0x515456(0xb4)],_0x2b826a[_0x515456(0xba)]!=null?MiscUtil[_0x515456(0xa5)](_0x2b826a[_0x515456(0xba)]):_0x2b826a[_0x515456(0xd6)]()))),this[_0x515456(0x9a)]();}static[_0x14a35c(0x9a)](){const _0x5da779=_0x14a35c;if(!UtilCompat[_0x5da779(0xde)]())return;let _0xdab540=![];Config[_0x5da779(0xb6)]('ui',_0x5da779(0xd5))&&(_0xdab540=!![],Config[_0x5da779(0xbc)]('ui',_0x5da779(0xd5),![]));Config[_0x5da779(0xb6)](_0x5da779(0xc8),'isAddActiveEffects')&&(_0xdab540=!![],Config[_0x5da779(0xbc)]('importItem',_0x5da779(0xaa),![]));Config[_0x5da779(0xb6)](_0x5da779(0xc9),_0x5da779(0xa6))&&(_0xdab540=!![],Config['setTemp'](_0x5da779(0xc9),_0x5da779(0xa6),![]));if(_0xdab540){const _0x46b44e=Config[_0x5da779(0xb6)]('ui','isStreamerMode')?SharedConsts[_0x5da779(0xaf)]:SharedConsts[_0x5da779(0xa9)],_0x71741c=_0x5da779(0xbe)+game['modules'][_0x5da779(0xb6)](_0x5da779(0xd7))['data'][_0x5da779(0xc6)]+_0x5da779(0xd0)+_0x46b44e+_0x5da779(0xd3)+_0x46b44e+'\x20features\x20have\x20been\x20temporarily\x20disabled.';ui[_0x5da779(0xbf)][_0x5da779(0xdb)](_0x71741c),console[_0x5da779(0xdb)](...LGT,_0x71741c);}}static[_0x14a35c(0xab)](_0x1a9493,_0x145f5f){const _0x5eb118=_0x14a35c;_0x145f5f=_0x145f5f||{};let _0x470ae7;if(_0x145f5f['isItemEffect'])_0x470ae7=game[_0x5eb118(0xc5)][_0x5eb118(0xac)][_0x5eb118(0xcc)];else{if(_0x145f5f[_0x5eb118(0xd8)])_0x470ae7=game[_0x5eb118(0xc5)][_0x5eb118(0xac)][_0x5eb118(0xdd)];else throw new Error(_0x5eb118(0xcb));}const _0x47f94a=_0x470ae7[_0x1a9493[_0x5eb118(0xda)]['type']],_0x3aa6d3=Object[_0x5eb118(0xa7)](flattenObject(_0x47f94a))[_0x5eb118(0xcd)](([_0x290db6,_0xcdfa9e])=>new ActiveEffectMeta(_0x5eb118(0xd9)+_0x290db6,CONST[_0x5eb118(0x9d)][_0x5eb118(0xb4)],_0xcdfa9e));if(_0x145f5f[_0x5eb118(0x9b)])return _0x3aa6d3;return[..._0x3aa6d3,...UtilActiveEffects[_0x5eb118(0xb8)]]['sort'](SortUtil['ascSortLowerProp'][_0x5eb118(0xb7)](null,_0x5eb118(0xdf)));}static[_0x14a35c(0x9e)](_0x138303,_0x4199ad){const _0x4fdb5f=_0x14a35c,_0x54143f=this['getAvailableEffects'](_0x138303,_0x4199ad),_0x5bacb7={};return _0x54143f[_0x4fdb5f(0xad)](_0x472fd8=>_0x5bacb7[_0x472fd8[_0x4fdb5f(0xdf)]]=_0x472fd8),_0x5bacb7;}static['getActiveEffectType'](_0x46be7c,_0x4bc7be){const _0x48e60d=_0x14a35c;if(!_0x4bc7be)return undefined;_0x4bc7be=this[_0x48e60d(0xc1)](_0x4bc7be);if(!_0x46be7c[_0x4bc7be])return undefined;const _0x240fb7=_0x46be7c[_0x4bc7be];if(_0x240fb7[_0x48e60d(0xca)]===undefined)return _0x48e60d(0xc0);if(_0x240fb7[_0x48e60d(0xca)]===null)return'null';if(_0x240fb7[_0x48e60d(0xca)]instanceof Array)return _0x48e60d(0xd2);return typeof _0x240fb7[_0x48e60d(0xca)];}static[_0x14a35c(0xa8)]({key:key='',value:value='',mode:mode=CONST[_0x14a35c(0x9d)][_0x14a35c(0xb4)],label:label='',icon:icon=_0x14a35c(0xb2),disabled:disabled=![]}={}){const _0x345014=_0x14a35c,_0x6536fc=key||value?{'key':key,'mode':mode,'value':value}:null;return{'changes':[_0x6536fc][_0x345014(0xb9)](Boolean),'disabled':disabled,'duration':{'startTime':null,'seconds':null,'rounds':null,'turns':null,'startRound':null,'startTurn':null},'icon':icon,'label':label,'tint':'','transfer':!![],'flags':{}};}static[_0x14a35c(0xd1)](_0x3d8435){const _0x301948=_0x14a35c;return SharedConsts[_0x301948(0xa2)]+'.'+_0x3d8435;}static[_0x14a35c(0xc1)](_0x7ff281){const _0x42ab18=_0x14a35c;return _0x7ff281[_0x42ab18(0xce)]('.')[_0x42ab18(0xe0)](0x1)[_0x42ab18(0xa1)]('.');}}UtilActiveEffects[_0x14a35c(0xb8)]=[];export{UtilActiveEffects};