const _0xe449=['_pLoad_doActivateTab','importer','_registerImportableTag','notifications','_fnGetUrl','log','pCacheAndGet','has','get','/template/ImportListAdventureBook.handlebars','File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22','importedId','pImportEntry','fnGetInlineData','ImportableTag','Task','_pHandleRunButtonClick_pDoPreImport','_title','tag','each','checked','startsWith','1xkoJPk','journal','getAdventureBookTables','...','_activateListeners_initRunButton','_pLoadGenericHash','_importer','sourceLong','_contentMetadata','_pImportEntry_pDoUpdateExistingDirectoryEntity','TASK_EXIT_SKIPPED_DUPLICATE','folder','page','slice','map','SOURCE_TYP_OFFICIAL_SINGLE','_getData','Failed\x20to\x20import\x20','[].contents\x22\x20and\x20\x22','extractTag','splitByTags','_getExtractedGenericTag','Importing\x20','Creatures','_availableEntities','create','body','_pHandleRunButtonClick_pDoMainImport','_getJournalDatas','_fnGetInlineHash','hover','walk','pHandleEditFolderPathClick','name','_fnGetInlineData','_tag','_page','fnGetUrl','source','tableGroup','push','Spells','ascSortDate','click','data','sources','toLowerCase','getMaxWindowHeight','entries','activateSidebarTab','displayName','change','pRunTasks','pGetHomebrewSources','PG_SPELLS','@item','filter','find','5347MCCYIg','prop','URL_TO_HASH_BUILDER','dataProp','SOURCE_TYP_BREW','@spell','split','input[data-source]','_dataProp','count','_IMPORTABLE_TAGS','705973EqCgky','_HOMEBREW_OTHER_DATA','SOURCE_TYP_CUSTOM','__prop','hash','_displayName','splitFirstSpace','keys','Unimplemented!','_defaultSource','sourceJsonToFull','displayText','[name=\x22btn-run\x22]','_postLoadVetools','MODULE_LOCATION','1389965oyDSAU','_pubDate','error','_tagCbMetas','_pImportEntry_pGetFolderId','1523800zJdmyB','sourceJsonToColor','table','_fnGetIndex','STR_SEE_CONSOLE','pGetSources','toTitleCase','_pPostLoadOther','166NdhKfa','DataSourceUrl','sourceJsonToAbv','pInit','_brewDataProp','type','1073426uXefcy','_content','contents','bind','isSkip','PG_ITEMS','\x22\x20and\x20\x22','@table','fnGetInlineHash','folderType','fnGetIndex','sort','_activateListeners_initConfigButtons','ascSortLower','Custom\x20URL','copy','length','_pHandleRunButtonClick','size','_activateListeners_initCheckboxes','pLoadHash','Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!','Failed\x20to\x20pre-process\x20data!\x20','head','File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22','_TAG_WALKER_BLACKLIST','forEach','$cb','Import\x20Complete','brewDataProp','Failed\x20to\x20build\x20journal\x20data!\x20','Importing...','_availableInlineData','[].data\x22\x20was\x20missing!','_isActivatedTab','1600579zfFjpb','getData','1694344WfCRkI','defaultSource','add','Imported\x20','PG_TABLES','button[data-type=\x22configure\x22]','Items','isOverwrite','pLoadInline','style'];const _0x1433=function(_0x469b73,_0x37b124){_0x469b73=_0x469b73-0x122;let _0xe4498b=_0xe449[_0x469b73];return _0xe4498b;};const _0x32019a=_0x1433;(function(_0x7844dd,_0x3ae5c9){const _0x5840c1=_0x1433;while(!![]){try{const _0x5e7c3f=parseInt(_0x5840c1(0x129))+parseInt(_0x5840c1(0x1a8))*parseInt(_0x5840c1(0x123))+-parseInt(_0x5840c1(0x16e))*-parseInt(_0x5840c1(0x1c2))+-parseInt(_0x5840c1(0x14c))+parseInt(_0x5840c1(0x1c7))+-parseInt(_0x5840c1(0x14e))+-parseInt(_0x5840c1(0x1b3));if(_0x5e7c3f===_0x3ae5c9)break;else _0x7844dd['push'](_0x7844dd['shift']());}catch(_0xe97072){_0x7844dd['push'](_0x7844dd['shift']());}}}(_0xe449,0xd55a9));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';import{DataConverter}from'./DataConverter.js';import{UtilDataSource}from'./UtilDataSource.js';class ImportListAdventureBook extends ImportList{constructor(_0x2c0ac8,_0x536b79,_0x4cfdf7,_0x3f730f){const _0x1f8a69=_0x1433;super({'title':_0x2c0ac8['title'],'template':SharedConsts[_0x1f8a69(0x1c1)]+_0x1f8a69(0x161),'width':0x1e0,'height':Util[_0x1f8a69(0x19d)](0x280),'resizable':!![]},_0x536b79,{..._0x4cfdf7,'sidebarTab':_0x1f8a69(0x16f),'gameProp':_0x1f8a69(0x16f),'folderType':'JournalEntry','isNonCacheableInstance':!![]}),this[_0x1f8a69(0x1ca)]=_0x3f730f[_0x1f8a69(0x133)],this[_0x1f8a69(0x15c)]=_0x3f730f[_0x1f8a69(0x193)],this[_0x1f8a69(0x1b0)]=_0x3f730f[_0x1f8a69(0x1ab)],this[_0x1f8a69(0x127)]=_0x3f730f[_0x1f8a69(0x146)],this[_0x1f8a69(0x169)]=_0x3f730f['title'],this[_0x1f8a69(0x186)]=null,this[_0x1f8a69(0x149)]=null,this[_0x1f8a69(0x1c5)]=null;}get['isRadio'](){return!![];}async[_0x32019a(0x1cc)](){const _0x209681=_0x32019a,_0xad7783=await this['_fnGetIndex'](),_0x50a2ad=_0xad7783[this[_0x209681(0x1b0)]][_0x209681(0x134)]((_0xf67c44,_0x4965cf)=>SortUtil[_0x209681(0x198)](_0x4965cf[_0x209681(0x1c3)],_0xf67c44[_0x209681(0x1c3)])||SortUtil[_0x209681(0x136)](_0xf67c44[_0x209681(0x18f)],_0x4965cf[_0x209681(0x18f)]));return[..._0x50a2ad[_0x209681(0x17c)](_0x55a7d9=>new UtilDataSource[(_0x209681(0x124))](_0x55a7d9[_0x209681(0x18f)],this[_0x209681(0x15c)](_0x55a7d9['id']),{'pPostLoad':this[_0x209681(0x1c0)][_0x209681(0x12c)](this),'userData':_0x55a7d9,'filterTypes':[UtilDataSource[_0x209681(0x17d)]]})),new UtilDataSource[(_0x209681(0x124))](_0x209681(0x137),'',{'pPostLoad':this[_0x209681(0x122)][_0x209681(0x12c)](this),'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),new UtilDataSource['DataSourceFile']('Upload\x20File',{'pPostLoad':this[_0x209681(0x122)][_0x209681(0x12c)](this),'filterTypes':[UtilDataSource[_0x209681(0x1b5)]]}),...(await Vetools[_0x209681(0x1a3)](this[_0x209681(0x1b0)]))[_0x209681(0x17c)](({name:_0x500fc1,url:_0x46ca28})=>new UtilDataSource[(_0x209681(0x124))](_0x500fc1,_0x46ca28,{'pPostLoad':this['_pPostLoadOther'][_0x209681(0x12c)](this),'filterTypes':[UtilDataSource[_0x209681(0x1ac)]]}))];}['_postLoadVetools'](_0x39431e,_0x221d0c,_0x5d3ba2){const _0xf8e512=_0x32019a;return _0x39431e=MiscUtil[_0xf8e512(0x138)](_0x39431e),_0x39431e['_contentMetadata']=MiscUtil[_0xf8e512(0x138)](_0x5d3ba2),_0x39431e;}async[_0x32019a(0x122)](_0x41fcdd){const _0x88b7ee=_0x32019a;if(!_0x41fcdd[this['_dataProp']]||!_0x41fcdd[this[_0x88b7ee(0x127)]])return ui[_0x88b7ee(0x15b)][_0x88b7ee(0x1c4)](_0x88b7ee(0x141)+this[_0x88b7ee(0x1b0)]+_0x88b7ee(0x12f)+this[_0x88b7ee(0x127)]+'\x22\x20was\x20missing!'),null;_0x41fcdd=MiscUtil[_0x88b7ee(0x138)](_0x41fcdd);const _0x108a00=_0x41fcdd[this[_0x88b7ee(0x1b0)]]['map'](_0x2bf3ab=>{const _0x48c04d=_0x88b7ee,_0x572df5=_0x41fcdd[this[_0x48c04d(0x127)]][_0x48c04d(0x1a7)](_0x1451f9=>_0x1451f9['id']===_0x2bf3ab['id']);if(!_0x572df5)return null;return{'head':_0x2bf3ab,'body':_0x572df5['data']};})[_0x88b7ee(0x1a6)](Boolean);if(!_0x108a00[_0x88b7ee(0x139)])return ui[_0x88b7ee(0x15b)][_0x88b7ee(0x1c4)](_0x88b7ee(0x162)+this['_dataProp']+_0x88b7ee(0x12f)+this[_0x88b7ee(0x127)]+'\x22\x20items\x20together!'),null;let _0x27b6a7;if(_0x108a00[_0x88b7ee(0x139)]===0x1)_0x27b6a7=_0x108a00[0x0];else{const _0x51eaab=await InputUiUtil['pGetUserEnum']({'values':_0x108a00[_0x88b7ee(0x17c)](_0x31fc4b=>_0x31fc4b[_0x88b7ee(0x140)]['id']),'fnDisplay':_0x2a278e=>{const _0x2c0bd8=_0x88b7ee,_0x3fa6d8=_0x108a00['find'](_0x5aacc4=>_0x5aacc4[_0x2c0bd8(0x140)]['id']===_0x2a278e);return _0x3fa6d8['head'][_0x2c0bd8(0x18f)]+'\x20('+Parser[_0x2c0bd8(0x125)](_0x3fa6d8[_0x2c0bd8(0x140)][_0x2c0bd8(0x194)])+')';},'title':'Choose\x20'+this[_0x88b7ee(0x169)],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x51eaab==null)return null;_0x27b6a7=_0x108a00[_0x88b7ee(0x1a7)](_0x5dd8fe=>_0x5dd8fe[_0x88b7ee(0x140)]['id']===_0x51eaab);}const _0x589c53=MiscUtil[_0x88b7ee(0x160)](_0x27b6a7,_0x88b7ee(0x140),_0x88b7ee(0x12b)),_0x5c35ef=MiscUtil['get'](_0x27b6a7,_0x88b7ee(0x188));if(!_0x589c53||!_0x5c35ef)return ui[_0x88b7ee(0x15b)][_0x88b7ee(0x1c4)]('Could\x20not\x20import—one\x20of\x20\x22'+this['_dataProp']+_0x88b7ee(0x180)+this[_0x88b7ee(0x127)]+_0x88b7ee(0x14a)),null;if(_0x589c53[_0x88b7ee(0x139)]!==_0x5c35ef[_0x88b7ee(0x139)])return ui[_0x88b7ee(0x15b)][_0x88b7ee(0x1c4)](_0x88b7ee(0x13e)),null;return{'_contentMetadata':_0x27b6a7[_0x88b7ee(0x140)],'data':_0x27b6a7[_0x88b7ee(0x188)]};}[_0x32019a(0x14d)](){const _0x3d4a15=_0x32019a;try{return this['_getData']();}catch(_0x38b3df){ui[_0x3d4a15(0x15b)][_0x3d4a15(0x1c4)](_0x3d4a15(0x13f)+VeCt[_0x3d4a15(0x1cb)]);throw _0x38b3df;}}[_0x32019a(0x17e)](){const _0x5dd9bf=_0x32019a;this[_0x5dd9bf(0x12a)]=MiscUtil[_0x5dd9bf(0x138)](this[_0x5dd9bf(0x12a)]),this['_availableEntities']={},this[_0x5dd9bf(0x149)]={};const _0x44d569=MiscUtil['getWalker']({'keyBlacklist':ImportListAdventureBook[_0x5dd9bf(0x142)]}),_0x2ba3b8={},_0x1b4f8d=this['_content']['_contentMetadata']['source']||this[_0x5dd9bf(0x12a)][_0x5dd9bf(0x176)]['id'];Object['values'](ImportListAdventureBook[_0x5dd9bf(0x1b2)])[_0x5dd9bf(0x1a6)](_0xf605db=>_0xf605db['fnGetInlineData'])[_0x5dd9bf(0x143)](_0x346585=>{const _0x4acaa2=_0x5dd9bf,_0x111739={[this[_0x4acaa2(0x1b0)]]:this[_0x4acaa2(0x12a)]['_contentMetadata'],[this[_0x4acaa2(0x127)]]:{'data':this[_0x4acaa2(0x12a)][_0x4acaa2(0x19a)]}},_0x51ecfd={'headProp':this['_dataProp'],'bodyProp':this[_0x4acaa2(0x127)]};this[_0x4acaa2(0x149)][_0x346585[_0x4acaa2(0x16a)]]=_0x346585[_0x4acaa2(0x165)](_0x111739,_0x51ecfd)['sort']((_0x383d6b,_0x4d7a1d)=>{const _0x3b2e62=_0x4acaa2;return SortUtil['ascSortLower'](_0x383d6b[_0x3b2e62(0x18f)],_0x4d7a1d[_0x3b2e62(0x18f)])||SortUtil[_0x3b2e62(0x136)](Parser[_0x3b2e62(0x1bd)](_0x383d6b['source']||_0x1b4f8d),Parser[_0x3b2e62(0x1bd)](_0x4d7a1d[_0x3b2e62(0x194)]||_0x1b4f8d));}),this[_0x4acaa2(0x149)][_0x346585[_0x4acaa2(0x16a)]][_0x4acaa2(0x143)](_0x59394=>{const _0x1d6e16=_0x4acaa2,_0x2ae7c1=_0x346585['fnGetInlineHash'](_0x59394);(_0x2ba3b8[_0x346585['tag']]=_0x2ba3b8[_0x346585['tag']]||new Set())[_0x1d6e16(0x150)](_0x2ae7c1);});}),this[_0x5dd9bf(0x12a)]['data'][_0x5dd9bf(0x143)](_0x482a2b=>{const _0x489ac8=_0x5dd9bf,_0x247c34={'string':_0x259231=>{const _0x112776=_0x1433,_0x30831c=Renderer[_0x112776(0x182)](_0x259231),_0x2a7e95=_0x30831c[_0x112776(0x139)];for(let _0x33bfd0=0x0;_0x33bfd0<_0x2a7e95;++_0x33bfd0){const _0x944380=_0x30831c[_0x33bfd0];if(!_0x944380)continue;if(!_0x944380[_0x112776(0x16d)]('{@'))continue;const [_0x177985,_0x1b15c7]=Renderer[_0x112776(0x1b9)](_0x944380['slice'](0x1,-0x1)),_0x518ec4=ImportListAdventureBook[_0x112776(0x1b2)][_0x177985];if(!_0x518ec4)continue;const _0x13a82e=_0x518ec4[_0x112776(0x181)](_0x1b15c7);if(_0x2ba3b8[_0x177985]&&_0x2ba3b8[_0x177985][_0x112776(0x15f)](_0x13a82e[_0x112776(0x1b7)]))continue;(this[_0x112776(0x186)][_0x177985]=this[_0x112776(0x186)][_0x177985]||{})[_0x13a82e[_0x112776(0x194)]]=this[_0x112776(0x186)][_0x177985][_0x13a82e[_0x112776(0x194)]]||new Set(),this['_availableEntities'][_0x177985][_0x13a82e[_0x112776(0x194)]]['add'](_0x13a82e['hash']);}return _0x259231;}};_0x44d569[_0x489ac8(0x18d)](_0x482a2b,_0x247c34);});const _0x43e116=Object[_0x5dd9bf(0x1ba)](ImportListAdventureBook[_0x5dd9bf(0x1b2)])['map'](_0x43a743=>{const _0x3a1a37=_0x5dd9bf,_0x12d7bc=ImportListAdventureBook[_0x3a1a37(0x1b2)][_0x43a743],_0x213815=this['_availableEntities'][_0x43a743],_0x156047=this[_0x3a1a37(0x149)][_0x43a743],_0x49e5e2={'displayName':_0x12d7bc['displayName'],'tag':_0x43a743,'sources':[]};_0x213815&&_0x49e5e2[_0x3a1a37(0x19b)][_0x3a1a37(0x196)](...Object[_0x3a1a37(0x19e)](_0x213815)[_0x3a1a37(0x17c)](([_0xf3f65b,_0x8f7f24])=>{const _0xa195cd=_0x3a1a37;return{'sourceLong':Parser[_0xa195cd(0x1bd)](_0xf3f65b),'sourceShort':Parser['sourceJsonToAbv'](_0xf3f65b),'sourceClassName':Parser[_0xa195cd(0x1c8)](_0xf3f65b),'source':_0xf3f65b,'count':_0x8f7f24[_0xa195cd(0x13b)]};}));if(_0x156047&&_0x156047['length']){const _0x28b817=_0x49e5e2[_0x3a1a37(0x19b)]['find'](_0x37ecbe=>_0x37ecbe[_0x3a1a37(0x194)][_0x3a1a37(0x19c)]()===_0x1b4f8d[_0x3a1a37(0x19c)]());if(_0x28b817)_0x28b817[_0x3a1a37(0x1b1)]+=_0x156047[_0x3a1a37(0x139)];else _0x49e5e2[_0x3a1a37(0x19b)][_0x3a1a37(0x196)]({'sourceLong':Parser[_0x3a1a37(0x1bd)](_0x1b4f8d),'sourceShort':Parser[_0x3a1a37(0x125)](_0x1b4f8d),'sourceClassName':Parser[_0x3a1a37(0x1c8)](_0x1b4f8d),'source':_0x1b4f8d,'count':_0x156047['length']});}return _0x49e5e2[_0x3a1a37(0x19b)]['sort']((_0x2bafcf,_0xf779f8)=>SortUtil[_0x3a1a37(0x136)](_0x2bafcf[_0x3a1a37(0x175)],_0xf779f8[_0x3a1a37(0x175)])),_0x49e5e2;})['filter'](_0x488e51=>_0x488e51['sources']['length']);return{'name':this[_0x5dd9bf(0x12a)]['_contentMetadata']['name'],'titleSearch':this['_titleSearch'],'tagSections':_0x43e116};}['activateListeners'](_0x4f8816){const _0x311a12=_0x32019a;this[_0x311a12(0x13c)](_0x4f8816),this[_0x311a12(0x135)](_0x4f8816),this[_0x311a12(0x172)](_0x4f8816);}[_0x32019a(0x13c)](_0x25c1d3){const _0x354e94=_0x32019a;this[_0x354e94(0x1c5)]={},_0x25c1d3['find'](_0x354e94(0x1af))[_0x354e94(0x16b)]((_0x144363,_0x4ea80d)=>{const _0x352bf1=_0x354e94,_0x326689=$(_0x4ea80d),_0x2a9f0c=_0x326689[_0x352bf1(0x19a)](_0x352bf1(0x16a)),_0x3dee34=_0x326689['data'](_0x352bf1(0x194));(this[_0x352bf1(0x1c5)][_0x2a9f0c]=this['_tagCbMetas'][_0x2a9f0c]||[])['push']({'source':_0x3dee34,'$cb':_0x326689});});const _0x47b5ae=_0x25c1d3[_0x354e94(0x1a7)]('input[data-type=\x22all\x22]')[_0x354e94(0x17c)]((_0x4c7afd,_0x37978f)=>{const _0x6a5b30=_0x354e94,_0x3582c3=$(_0x37978f),_0x24f53a=_0x3582c3[_0x6a5b30(0x19a)](_0x6a5b30(0x16a));return _0x3582c3[_0x6a5b30(0x1a1)](()=>{const _0x402d4f=_0x6a5b30,_0x23f3d1=_0x3582c3[_0x402d4f(0x1a9)](_0x402d4f(0x16c));this['_tagCbMetas'][_0x24f53a]['forEach'](_0x17f661=>_0x17f661['$cb'][_0x402d4f(0x1a9)](_0x402d4f(0x16c),_0x23f3d1));}),_0x3582c3;})['get'](),_0x4aba24=_0x25c1d3[_0x354e94(0x1a7)]('input[data-type=\x22god\x22]');_0x4aba24['change'](()=>{const _0x190055=_0x354e94,_0x481192=_0x4aba24[_0x190055(0x1a9)](_0x190055(0x16c));_0x47b5ae[_0x190055(0x143)](_0x3891cd=>_0x3891cd[_0x190055(0x1a9)](_0x190055(0x16c),_0x481192)[_0x190055(0x1a1)]());});}[_0x32019a(0x135)](_0x19afac){const _0x3efef1=_0x32019a;_0x19afac[_0x3efef1(0x1a7)](_0x3efef1(0x153))[_0x3efef1(0x16b)]((_0x128b2a,_0x4319fd)=>{const _0x4dc300=_0x3efef1,_0x3209a4=$(_0x4319fd),_0x384a8e=_0x3209a4[_0x4dc300(0x19a)]('tag'),_0x4c0bf9=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x384a8e];_0x3209a4[_0x4dc300(0x199)](async()=>{const _0xc77514=_0x4dc300;await _0x4c0bf9[_0xc77514(0x159)][_0xc77514(0x126)](),await _0x4c0bf9[_0xc77514(0x159)][_0xc77514(0x18e)]();});});}[_0x32019a(0x172)](_0x151139){const _0x3a681c=_0x32019a;_0x151139[_0x3a681c(0x1a7)](_0x3a681c(0x1bf))['click'](async()=>this[_0x3a681c(0x13a)]());}async[_0x32019a(0x13a)](){const _0x26b2f3=_0x32019a;this['close'](),console[_0x26b2f3(0x15d)](...LGT,'Importing\x20'+this[_0x26b2f3(0x1b0)]+'\x20\x22'+this[_0x26b2f3(0x12a)][_0x26b2f3(0x176)][_0x26b2f3(0x18f)]+'\x22');const _0x287157=await this[_0x26b2f3(0x168)]();await this[_0x26b2f3(0x189)](_0x287157);}async['_pHandleRunButtonClick_pDoPreImport'](){const _0x2fa45e=_0x32019a,_0x2820e6={};Object['entries'](this[_0x2fa45e(0x1c5)])[_0x2fa45e(0x143)](([_0x24fb24,_0x3e7039])=>{const _0x9e20f=_0x2fa45e,_0x27aca7=_0x3e7039[_0x9e20f(0x1a6)](_0x48b81a=>_0x48b81a[_0x9e20f(0x144)][_0x9e20f(0x1a9)]('checked'))['map'](_0x5738f5=>_0x5738f5[_0x9e20f(0x194)]);if(!_0x27aca7[_0x9e20f(0x139)])return;_0x2820e6[_0x24fb24]=_0x27aca7;});const _0x13b3d0={};if(!Object[_0x2fa45e(0x1ba)](_0x2820e6)[_0x2fa45e(0x139)])return _0x13b3d0;const _0x4766b5=[];for(const [_0x5806bb,_0x4291cb]of Object[_0x2fa45e(0x19e)](_0x2820e6)){const _0x2868d1=_0x13b3d0[_0x5806bb]={},_0x2b226b=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x5806bb];for(const _0x55eff1 of _0x4291cb){const _0x170a65=[...MiscUtil['get'](this[_0x2fa45e(0x186)],_0x5806bb,_0x55eff1)||[]];for(const _0x206b59 of _0x170a65){const [_0x3ea6c2,_0xe3e954]=_0x206b59['split'](HASH_LIST_SEP),_0x4ba94c=decodeURIComponent(_0x3ea6c2)[_0x2fa45e(0x1cd)](),_0x39721f=Parser[_0x2fa45e(0x125)](_0xe3e954);_0x4766b5[_0x2fa45e(0x196)](new Util['Task'](_0x2b226b[_0x2fa45e(0x1a0)]+':\x20'+_0x4ba94c+'\x20('+_0x39721f+')',()=>(async()=>{const _0x95cd4b=_0x2fa45e,{folderType:_0x23ffce,id:_0x407f04}=await _0x2b226b[_0x95cd4b(0x13d)](_0x206b59);(_0x2868d1[_0x5806bb]=_0x2868d1[_0x5806bb]||{})[_0x206b59]={'folderType':_0x23ffce,'importedId':_0x407f04};})()));}const _0x63e2c1=[...MiscUtil[_0x2fa45e(0x160)](this[_0x2fa45e(0x149)],_0x5806bb)||[]];for(const _0x3e8018 of _0x63e2c1){_0x4766b5[_0x2fa45e(0x196)](new Util[(_0x2fa45e(0x167))](_0x2b226b[_0x2fa45e(0x1a0)]+':\x20'+_0x3e8018[_0x2fa45e(0x18f)]+'\x20('+_0x3e8018[_0x2fa45e(0x194)]+')',()=>(async()=>{const _0x14f62f=_0x2fa45e;await _0x2b226b[_0x14f62f(0x156)](_0x3e8018);})()));}}}return await UtilApplications['pRunTasks'](_0x4766b5,{'titleInitial':_0x2fa45e(0x148),'titleComplete':_0x2fa45e(0x145),'fnGetRowRunningText':_0xf41041=>'Importing\x20'+_0xf41041+_0x2fa45e(0x171),'fnGetRowSuccessText':_0x5eef6c=>_0x2fa45e(0x151)+_0x5eef6c+'.','fnGetRowErrorText':_0x5de2fe=>_0x2fa45e(0x17f)+_0x5de2fe+'!\x20'+VeCt['STR_SEE_CONSOLE'],'isForceClose':!![]}),_0x13b3d0;}async[_0x32019a(0x189)](_0x50f22a){const _0x56ec76=_0x32019a,_0x2473d4=MiscUtil['getWalker']({'keyBlacklist':ImportListAdventureBook[_0x56ec76(0x142)]}),_0x426b68={'string':_0x22351d=>{const _0x34984a=_0x56ec76,_0x5dfea0=Renderer[_0x34984a(0x182)](_0x22351d),_0x2b9d0d=_0x5dfea0[_0x34984a(0x139)];let _0x316044='';for(let _0x5a5ace=0x0;_0x5a5ace<_0x2b9d0d;++_0x5a5ace){const _0x1450f9=_0x5dfea0[_0x5a5ace];if(!_0x1450f9)continue;if(!_0x1450f9[_0x34984a(0x16d)]('{@')){_0x316044+=_0x1450f9;continue;}const [_0x4f74dd,_0x22fb79]=Renderer[_0x34984a(0x1b9)](_0x1450f9[_0x34984a(0x17b)](0x1,-0x1)),_0x5cdd5c=ImportListAdventureBook[_0x34984a(0x1b2)][_0x4f74dd],_0x264850=_0x50f22a[_0x4f74dd];if(!_0x5cdd5c||!_0x264850){_0x316044+=_0x1450f9;continue;}const _0x3c2035=_0x5cdd5c[_0x34984a(0x181)](_0x22fb79),_0x5d9925=MiscUtil[_0x34984a(0x160)](_0x264850,_0x4f74dd,_0x3c2035[_0x34984a(0x1b7)]);if(!_0x5d9925){_0x316044+=_0x1450f9;continue;}_0x316044+=''+DataConverter['SYM_AT']+_0x5d9925[_0x34984a(0x132)]+'['+_0x5d9925[_0x34984a(0x163)]+']{'+_0x3c2035[_0x34984a(0x1be)]+'}';}return _0x316044;}};this[_0x56ec76(0x12a)]['data']=_0x2473d4[_0x56ec76(0x18d)](this[_0x56ec76(0x12a)]['data'],_0x426b68);let _0x4bdbe3;try{_0x4bdbe3=this[_0x56ec76(0x18a)]();}catch(_0x37e259){ui[_0x56ec76(0x15b)]['error'](_0x56ec76(0x147)+VeCt[_0x56ec76(0x1cb)]);throw _0x37e259;}const _0x93b91a=[],_0x3a471d=await this[_0x56ec76(0x1c6)]({'name':this['_content']['_contentMetadata'][_0x56ec76(0x18f)],'source':this[_0x56ec76(0x12a)][_0x56ec76(0x176)]['source']});for(const _0xa73465 of _0x4bdbe3){_0x93b91a[_0x56ec76(0x196)](new Util[(_0x56ec76(0x167))](_0xa73465['name'],()=>{const _0x43552d=_0x56ec76,_0x525d30=this['_getDuplicateMeta']({'name':_0xa73465[_0x43552d(0x18f)]});if(_0x525d30[_0x43552d(0x12d)])return UtilApplications[_0x43552d(0x178)];if(_0x525d30[_0x43552d(0x155)])return this[_0x43552d(0x177)](_0x525d30,_0xa73465);if(_0x3a471d)_0xa73465[_0x43552d(0x179)]=_0x3a471d;return JournalEntry[_0x43552d(0x187)](_0xa73465,{'renderSheet':![],'temporary':![]});}));}ui['sidebar']['activateTab'](_0x56ec76(0x16f)),await UtilApplications[_0x56ec76(0x1a2)](_0x93b91a,{'titleInitial':_0x56ec76(0x148),'titleComplete':_0x56ec76(0x145),'fnGetRowRunningText':_0x11b629=>_0x56ec76(0x184)+_0x11b629+'...','fnGetRowSuccessText':_0x2ec6fd=>_0x56ec76(0x151)+_0x2ec6fd+'.','fnGetRowErrorText':_0x2ff08a=>_0x56ec76(0x17f)+_0x2ff08a+'!\x20'+VeCt[_0x56ec76(0x1cb)]});}['_getJournalDatas'](){const _0x5907e8=_0x32019a;throw new Error(_0x5907e8(0x1bb));}static[_0x32019a(0x15a)](_0x241caa){const _0xf74998=_0x32019a;this['_IMPORTABLE_TAGS'][_0x241caa[_0xf74998(0x16a)]]=_0x241caa;}}ImportListAdventureBook[_0x32019a(0x1b2)]={},ImportListAdventureBook[_0x32019a(0x1b4)]={},ImportListAdventureBook['ImportableTag']=class{constructor(_0x3b60c2){const _0x1c4e08=_0x32019a;this[_0x1c4e08(0x1b8)]=_0x3b60c2[_0x1c4e08(0x1a0)],this[_0x1c4e08(0x191)]=_0x3b60c2[_0x1c4e08(0x16a)],this['_page']=_0x3b60c2[_0x1c4e08(0x17a)],this[_0x1c4e08(0x1bc)]=_0x3b60c2[_0x1c4e08(0x14f)],this[_0x1c4e08(0x174)]=_0x3b60c2[_0x1c4e08(0x159)],this[_0x1c4e08(0x190)]=_0x3b60c2[_0x1c4e08(0x165)],this[_0x1c4e08(0x18b)]=_0x3b60c2[_0x1c4e08(0x131)],this[_0x1c4e08(0x14b)]=![];}get[_0x32019a(0x1a0)](){const _0x3e8f21=_0x32019a;return this[_0x3e8f21(0x1b8)];}get[_0x32019a(0x16a)](){const _0xcecc22=_0x32019a;return this[_0xcecc22(0x191)];}get[_0x32019a(0x17a)](){const _0x2ebe4a=_0x32019a;return this[_0x2ebe4a(0x192)];}get[_0x32019a(0x159)](){const _0x14eb11=_0x32019a;return this[_0x14eb11(0x174)];}get['fnGetInlineData'](){const _0x1b4056=_0x32019a;return this[_0x1b4056(0x190)];}get[_0x32019a(0x131)](){const _0xc07544=_0x32019a;return this[_0xc07544(0x18b)];}[_0x32019a(0x13d)](_0x72310d){const _0x317e6e=_0x32019a;return this[_0x317e6e(0x158)](),this['_pLoadGenericHash'](_0x72310d);}[_0x32019a(0x158)](){const _0x477e9a=_0x32019a;!this[_0x477e9a(0x14b)]&&(this[_0x477e9a(0x174)][_0x477e9a(0x19f)](),this[_0x477e9a(0x14b)]=!![]);}async[_0x32019a(0x173)](_0x183b4e){const _0x74bc04=_0x32019a,[_0x14b5cd,_0x81cea0]=_0x183b4e[_0x74bc04(0x1ae)](HASH_LIST_SEP),_0xa33d36=await Renderer[_0x74bc04(0x18c)][_0x74bc04(0x15e)](this[_0x74bc04(0x192)],_0x81cea0,_0x183b4e);await this[_0x74bc04(0x174)]['pInit']();const _0x2a2f52=await this['_importer'][_0x74bc04(0x164)](_0xa33d36,{});return{'folderType':this[_0x74bc04(0x174)][_0x74bc04(0x132)],'id':_0x2a2f52['imported']?.['id'],'hash':_0x183b4e};}static['_getExtractedGenericTag'](_0x50d109,_0x48c4d7,_0x50a12d){const _0x532d98=_0x32019a,[_0x417ff9,_0x59b0be,_0x3c7148]=Renderer['splitTagByPipe'](_0x50a12d),_0x380831=(_0x59b0be||_0x48c4d7)[_0x532d98(0x19c)](),_0x104557={'name':_0x417ff9,'source':_0x380831};return{'source':_0x380831,'displayText':_0x3c7148||_0x417ff9,'hash':UrlUtil[_0x532d98(0x1aa)][_0x50d109](_0x104557)};}['extractTag'](_0x4e97fa){const _0x272551=_0x32019a;return ImportListAdventureBook[_0x272551(0x166)][_0x272551(0x183)](this[_0x272551(0x192)],this[_0x272551(0x1bc)],_0x4e97fa);}async[_0x32019a(0x156)](_0x2d43be){const _0x3ec632=_0x32019a;this['_pLoad_doActivateTab'](),await this[_0x3ec632(0x174)][_0x3ec632(0x126)](),await this[_0x3ec632(0x174)]['pImportEntry'](_0x2d43be,{});}},ImportListAdventureBook[_0x32019a(0x142)]=new Set([_0x32019a(0x18f),'caption','colLabels',_0x32019a(0x157),_0x32019a(0x128),'href','page']),ImportListAdventureBook[_0x32019a(0x15a)](new ImportListAdventureBook['ImportableTag']({'displayName':_0x32019a(0x185),'tag':'@creature','page':UrlUtil['PG_BESTIARY'],'defaultSource':SRC_MM,'importer':new ImportListCreature()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook['ImportableTag']({'displayName':_0x32019a(0x197),'tag':_0x32019a(0x1ad),'page':UrlUtil[_0x32019a(0x1a4)],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x32019a(0x166))]({'displayName':_0x32019a(0x154),'tag':_0x32019a(0x1a5),'page':UrlUtil[_0x32019a(0x12e)],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook[_0x32019a(0x15a)](new ImportListAdventureBook[(_0x32019a(0x166))]({'displayName':'Tables','tag':_0x32019a(0x130),'page':UrlUtil[_0x32019a(0x152)],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x39d023,_0x507fc0)=>{const _0x2087eb=_0x32019a,{table:_0x4e581c,tableGroup:_0x50f71b}=UtilGenTables[_0x2087eb(0x170)](_0x39d023,_0x507fc0);return _0x4e581c['forEach'](_0xb85a82=>_0xb85a82[_0x2087eb(0x1b6)]=_0x2087eb(0x1c9)),_0x50f71b[_0x2087eb(0x143)](_0x2977c0=>_0x2977c0[_0x2087eb(0x1b6)]=_0x2087eb(0x195)),[..._0x4e581c,..._0x50f71b];},'fnGetInlineHash':_0x2ef8ad=>{const _0x5e555f=_0x32019a;return UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x5e555f(0x152)]](_0x2ef8ad)[_0x5e555f(0x19c)]();}}));export{ImportListAdventureBook};