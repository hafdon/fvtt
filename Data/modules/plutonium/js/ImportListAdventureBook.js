'use strict';const _0x54dd=['sourceLong','1580990bvvRvB','ascSortDate','ascSortLower','bind','title','_page','_pPostLoadOther','$cb','toTitleCase','toLowerCase','ImportableTag','4519laULeA','journal','Creatures','create','fnGetInlineData','...','_pubDate','getAdventureBookTables','find','sourceJsonToAbv','get','_displayName','input[data-type=\x22god\x22]','2sqWZmi','close','_title','pGetUserEnum','_defaultSource','tag','Spells','Items','_registerImportableTag','__prop','95677aMhrpQ','entries','1qxsJBI','splitFirstSpace','input[data-source]','colLabels','each','[name=\x22btn-run\x22]','1582247oeNgof','checked','_getJournalDatas','pCacheAndGet','add','_pLoad_doActivateTab','_tag','pLoadHash','Tables','data','map','_postLoadVetools','_brewDataProp','_getExtractedGenericTag','_HOMEBREW_OTHER_DATA','File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22','_activateListeners_initCheckboxes','displayName','_fnGetUrl','folderType','SYM_AT','Importing\x20','_availableInlineData','Could\x20not\x20import—one\x20of\x20\x22','_fnGetIndex','has','activateSidebarTab','values','page','_fnGetInlineHash','copy','extractTag','splitByTags','href','Importing...','_pHandleRunButtonClick','\x22\x20and\x20\x22','Custom\x20URL','Failed\x20to\x20pre-process\x20data!\x20','_pImportEntry_pGetFolderId','_activateListeners_initConfigButtons','pRunTasks','1450120aDVlPG','JournalEntry','slice','push','MODULE_LOCATION','PG_ITEMS','pGetSources','29177kRYmiV','Task','imported','contents','Upload\x20File','_fnGetInlineData','_getDuplicateMeta','pGetHomebrewSources','@spell','dataProp','notifications','_importer','pLoadInline','importedId','filter','227767DycsJC','PG_TABLES','click','size','_pImportEntry_pDoUpdateExistingDirectoryEntity','error','head','importer','_content','sort','sourceJsonToFull','[].contents\x22\x20and\x20\x22','PG_BESTIARY','36UjBFcr','_getData','caption','[].data\x22\x20was\x20missing!','Imported\x20','@creature','source','sidebar','_dataProp','_availableEntities','13QLgwdj','hover','SOURCE_TYP_CUSTOM','defaultSource','SOURCE_TYP_OFFICIAL_SINGLE','_isActivatedTab','_TAG_WALKER_BLACKLIST','sources','DataSourceUrl','@table','fnGetUrl','PG_SPELLS','URL_TO_HASH_BUILDER','splitTagByPipe','startsWith','_activateListeners_initRunButton','Choose\x20','activateListeners','length','pInit','_tagCbMetas','Unimplemented!','style','_IMPORTABLE_TAGS','233QeSUtP','forEach','tableGroup','fnGetInlineHash','prop','STR_SEE_CONSOLE','body','getWalker','isSkip','pImportEntry','_pHandleRunButtonClick_pDoMainImport','displayText','pHandleEditFolderPathClick','_pLoadGenericHash','Import\x20Complete','sourceJsonToColor','change','_titleSearch','button[data-type=\x22configure\x22]','_contentMetadata','walk','split','hash','isRadio','@item','type','SOURCE_TYP_BREW','fnGetIndex','keys','name'];const _0x2e30=function(_0x321973,_0x5b5fb3){_0x321973=_0x321973-0xf4;let _0x54ddac=_0x54dd[_0x321973];return _0x54ddac;};const _0x1c52da=_0x2e30;(function(_0x4cd4d5,_0x41b8f0){const _0x4fee5d=_0x2e30;while(!![]){try{const _0x4069d5=-parseInt(_0x4fee5d(0x109))*parseInt(_0x4fee5d(0x16f))+-parseInt(_0x4fee5d(0x116))*parseInt(_0x4fee5d(0xfa))+parseInt(_0x4fee5d(0x181))*parseInt(_0x4fee5d(0x17b))+parseInt(_0x4fee5d(0x157))+parseInt(_0x4fee5d(0x1ab))+parseInt(_0x4fee5d(0x179))*-parseInt(_0x4fee5d(0x120))+parseInt(_0x4fee5d(0x138))*-parseInt(_0x4fee5d(0x162));if(_0x4069d5===_0x41b8f0)break;else _0x4cd4d5['push'](_0x4cd4d5['shift']());}catch(_0x3cdd82){_0x4cd4d5['push'](_0x4cd4d5['shift']());}}}(_0x54dd,0xc5ee3));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';import{DataConverter}from'./DataConverter.js';class ImportListAdventureBook extends ImportList{constructor(_0xd2ccf7,_0x20d89d,_0x56d5c9,_0x511774){const _0x38f765=_0x2e30;super({'title':_0xd2ccf7[_0x38f765(0x15b)],'template':SharedConsts[_0x38f765(0xf7)]+'/template/ImportListAdventureBook.handlebars','width':0x1e0,'height':Util['getMaxWindowHeight'](0x280),'resizable':!![]},_0x20d89d,{..._0x56d5c9,'sidebarTab':_0x38f765(0x163),'gameProp':_0x38f765(0x163),'folderType':_0x38f765(0xf4),'isNonCacheableInstance':!![]}),this[_0x38f765(0x199)]=_0x511774[_0x38f765(0x153)],this[_0x38f765(0x193)]=_0x511774[_0x38f765(0x12a)],this[_0x38f765(0x11e)]=_0x511774[_0x38f765(0x103)],this['_brewDataProp']=_0x511774['brewDataProp'],this[_0x38f765(0x171)]=_0x511774['title'],this[_0x38f765(0x11f)]=null,this[_0x38f765(0x197)]=null,this['_tagCbMetas']=null;}get[_0x1c52da(0x14f)](){return!![];}async[_0x1c52da(0xf9)](){const _0x26ac3c=_0x1c52da,_0xfb4fca=await this[_0x26ac3c(0x199)](),_0x11d23d=_0xfb4fca[this['_dataProp']]['sort']((_0x59b9e1,_0x1b2413)=>SortUtil[_0x26ac3c(0x158)](_0x1b2413['_pubDate'],_0x59b9e1[_0x26ac3c(0x168)])||SortUtil[_0x26ac3c(0x159)](_0x59b9e1[_0x26ac3c(0x155)],_0x1b2413['name']));return[..._0x11d23d['map'](_0x59093b=>new ImportList[(_0x26ac3c(0x128))](_0x59093b[_0x26ac3c(0x155)],this[_0x26ac3c(0x193)](_0x59093b['id']),{'pPostLoad':this[_0x26ac3c(0x18c)][_0x26ac3c(0x15a)](this),'userData':_0x59093b,'filterTypes':[ImportList[_0x26ac3c(0x124)]]})),new ImportList[(_0x26ac3c(0x128))](_0x26ac3c(0x1a6),'',{'pPostLoad':this[_0x26ac3c(0x15d)][_0x26ac3c(0x15a)](this),'filterTypes':[ImportList[_0x26ac3c(0x122)]]}),new ImportList['DataSourceFile'](_0x26ac3c(0xfe),{'pPostLoad':this[_0x26ac3c(0x15d)][_0x26ac3c(0x15a)](this),'filterTypes':[ImportList[_0x26ac3c(0x122)]]}),...(await Vetools[_0x26ac3c(0x101)](this[_0x26ac3c(0x11e)]))[_0x26ac3c(0x18b)](({name:_0x5542ea,url:_0x2f5d2d})=>new ImportList[(_0x26ac3c(0x128))](_0x5542ea,_0x2f5d2d,{'pPostLoad':this[_0x26ac3c(0x15d)][_0x26ac3c(0x15a)](this),'filterTypes':[ImportList[_0x26ac3c(0x152)]]}))];}[_0x1c52da(0x18c)](_0x50634e,_0x423f72,_0x2c4783){const _0x5f24d2=_0x1c52da;return _0x50634e=MiscUtil[_0x5f24d2(0x19f)](_0x50634e),_0x50634e[_0x5f24d2(0x14b)]=MiscUtil['copy'](_0x2c4783),_0x50634e;}async[_0x1c52da(0x15d)](_0x29f802){const _0x2f51ef=_0x1c52da;if(!_0x29f802[this[_0x2f51ef(0x11e)]]||!_0x29f802[this[_0x2f51ef(0x18d)]])return ui[_0x2f51ef(0x104)][_0x2f51ef(0x10e)]('File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22'+this['_dataProp']+_0x2f51ef(0x1a5)+this[_0x2f51ef(0x18d)]+'\x22\x20was\x20missing!'),null;_0x29f802=MiscUtil[_0x2f51ef(0x19f)](_0x29f802);const _0x19febd=_0x29f802[this['_dataProp']][_0x2f51ef(0x18b)](_0x51f479=>{const _0xa5a741=_0x2f51ef,_0x1e9ae0=_0x29f802[this[_0xa5a741(0x18d)]][_0xa5a741(0x16a)](_0x5309ea=>_0x5309ea['id']===_0x51f479['id']);if(!_0x1e9ae0)return null;return{'head':_0x51f479,'body':_0x1e9ae0['data']};})[_0x2f51ef(0x108)](Boolean);if(!_0x19febd['length'])return ui[_0x2f51ef(0x104)][_0x2f51ef(0x10e)](_0x2f51ef(0x190)+this['_dataProp']+_0x2f51ef(0x1a5)+this[_0x2f51ef(0x18d)]+'\x22\x20items\x20together!'),null;let _0xdaec91;if(_0x19febd[_0x2f51ef(0x132)]===0x1)_0xdaec91=_0x19febd[0x0];else{const _0x513fe6=await InputUiUtil[_0x2f51ef(0x172)]({'values':_0x19febd['map'](_0x786498=>_0x786498[_0x2f51ef(0x10f)]['id']),'fnDisplay':_0x2e1c8e=>{const _0xa950b0=_0x2f51ef,_0x435339=_0x19febd['find'](_0x453a5a=>_0x453a5a[_0xa950b0(0x10f)]['id']===_0x2e1c8e);return _0x435339[_0xa950b0(0x10f)][_0xa950b0(0x155)]+'\x20('+Parser[_0xa950b0(0x16b)](_0x435339[_0xa950b0(0x10f)][_0xa950b0(0x11c)])+')';},'title':_0x2f51ef(0x130)+this['_title'],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x513fe6==null)return null;_0xdaec91=_0x19febd[_0x2f51ef(0x16a)](_0xd5b1f4=>_0xd5b1f4['head']['id']===_0x513fe6);}const _0x1e50c6=MiscUtil['get'](_0xdaec91,_0x2f51ef(0x10f),_0x2f51ef(0xfd)),_0x15755c=MiscUtil[_0x2f51ef(0x16c)](_0xdaec91,_0x2f51ef(0x13e));if(!_0x1e50c6||!_0x15755c)return ui[_0x2f51ef(0x104)]['error'](_0x2f51ef(0x198)+this['_dataProp']+_0x2f51ef(0x114)+this['_brewDataProp']+_0x2f51ef(0x119)),null;if(_0x1e50c6[_0x2f51ef(0x132)]!==_0x15755c[_0x2f51ef(0x132)])return ui[_0x2f51ef(0x104)][_0x2f51ef(0x10e)]('Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!'),null;return{'_contentMetadata':_0xdaec91[_0x2f51ef(0x10f)],'data':_0xdaec91[_0x2f51ef(0x13e)]};}['getData'](){const _0x13da72=_0x1c52da;try{return this[_0x13da72(0x117)]();}catch(_0x1481c8){ui[_0x13da72(0x104)][_0x13da72(0x10e)](_0x13da72(0x1a7)+VeCt[_0x13da72(0x13d)]);throw _0x1481c8;}}[_0x1c52da(0x117)](){const _0x581cf2=_0x1c52da;this['_content']=MiscUtil[_0x581cf2(0x19f)](this[_0x581cf2(0x111)]),this[_0x581cf2(0x11f)]={},this[_0x581cf2(0x197)]={};const _0x5e7a5f=MiscUtil['getWalker']({'keyBlacklist':ImportListAdventureBook['_TAG_WALKER_BLACKLIST']}),_0x431e19={},_0x622233=this[_0x581cf2(0x111)][_0x581cf2(0x14b)][_0x581cf2(0x11c)]||this[_0x581cf2(0x111)][_0x581cf2(0x14b)]['id'];Object[_0x581cf2(0x19c)](ImportListAdventureBook['_IMPORTABLE_TAGS'])[_0x581cf2(0x108)](_0x53c5ca=>_0x53c5ca[_0x581cf2(0x166)])[_0x581cf2(0x139)](_0x469223=>{const _0x299c33=_0x581cf2,_0x1c7617={[this['_dataProp']]:this['_content']['_contentMetadata'],[this[_0x299c33(0x18d)]]:{'data':this[_0x299c33(0x111)][_0x299c33(0x18a)]}},_0x55ba85={'headProp':this[_0x299c33(0x11e)],'bodyProp':this[_0x299c33(0x18d)]};this[_0x299c33(0x197)][_0x469223[_0x299c33(0x174)]]=_0x469223[_0x299c33(0x166)](_0x1c7617,_0x55ba85)[_0x299c33(0x112)]((_0x414430,_0x370ef6)=>{const _0x5befeb=_0x299c33;return SortUtil['ascSortLower'](_0x414430[_0x5befeb(0x155)],_0x370ef6[_0x5befeb(0x155)])||SortUtil[_0x5befeb(0x159)](Parser[_0x5befeb(0x113)](_0x414430[_0x5befeb(0x11c)]||_0x622233),Parser[_0x5befeb(0x113)](_0x370ef6[_0x5befeb(0x11c)]||_0x622233));}),this[_0x299c33(0x197)][_0x469223[_0x299c33(0x174)]]['forEach'](_0x56ba09=>{const _0x23a893=_0x299c33,_0x33e4d7=_0x469223[_0x23a893(0x13b)](_0x56ba09);(_0x431e19[_0x469223['tag']]=_0x431e19[_0x469223[_0x23a893(0x174)]]||new Set())[_0x23a893(0x185)](_0x33e4d7);});}),this['_content'][_0x581cf2(0x18a)][_0x581cf2(0x139)](_0x2bbe98=>{const _0x36169a={'string':_0x266c8f=>{const _0x2eeb15=_0x2e30,_0x269903=Renderer[_0x2eeb15(0x1a1)](_0x266c8f),_0x524f2b=_0x269903[_0x2eeb15(0x132)];for(let _0x4e5d6e=0x0;_0x4e5d6e<_0x524f2b;++_0x4e5d6e){const _0x5d7607=_0x269903[_0x4e5d6e];if(!_0x5d7607)continue;if(!_0x5d7607['startsWith']('{@'))continue;const [_0x238092,_0x5b240e]=Renderer[_0x2eeb15(0x17c)](_0x5d7607[_0x2eeb15(0xf5)](0x1,-0x1)),_0x162521=ImportListAdventureBook[_0x2eeb15(0x137)][_0x238092];if(!_0x162521)continue;const _0x9c3fa8=_0x162521[_0x2eeb15(0x1a0)](_0x5b240e);if(_0x431e19[_0x238092]&&_0x431e19[_0x238092][_0x2eeb15(0x19a)](_0x9c3fa8['hash']))continue;(this[_0x2eeb15(0x11f)][_0x238092]=this[_0x2eeb15(0x11f)][_0x238092]||{})[_0x9c3fa8[_0x2eeb15(0x11c)]]=this[_0x2eeb15(0x11f)][_0x238092][_0x9c3fa8[_0x2eeb15(0x11c)]]||new Set(),this[_0x2eeb15(0x11f)][_0x238092][_0x9c3fa8[_0x2eeb15(0x11c)]][_0x2eeb15(0x185)](_0x9c3fa8[_0x2eeb15(0x14e)]);}return _0x266c8f;}};_0x5e7a5f['walk'](_0x2bbe98,_0x36169a);});const _0x304f00=Object[_0x581cf2(0x154)](ImportListAdventureBook['_IMPORTABLE_TAGS'])[_0x581cf2(0x18b)](_0x18f8d3=>{const _0x19b963=_0x581cf2,_0x402879=ImportListAdventureBook[_0x19b963(0x137)][_0x18f8d3],_0x11f265=this[_0x19b963(0x11f)][_0x18f8d3],_0x586c1e=this['_availableInlineData'][_0x18f8d3],_0x60edc5={'displayName':_0x402879['displayName'],'tag':_0x18f8d3,'sources':[]};_0x11f265&&_0x60edc5['sources']['push'](...Object[_0x19b963(0x17a)](_0x11f265)[_0x19b963(0x18b)](([_0x20c93d,_0x5b710e])=>{const _0x2e8871=_0x19b963;return{'sourceLong':Parser['sourceJsonToFull'](_0x20c93d),'sourceShort':Parser[_0x2e8871(0x16b)](_0x20c93d),'sourceClassName':Parser[_0x2e8871(0x147)](_0x20c93d),'source':_0x20c93d,'count':_0x5b710e[_0x2e8871(0x10c)]};}));if(_0x586c1e&&_0x586c1e['length']){const _0x2ef668=_0x60edc5[_0x19b963(0x127)][_0x19b963(0x16a)](_0x33ab0a=>_0x33ab0a[_0x19b963(0x11c)]['toLowerCase']()===_0x622233[_0x19b963(0x160)]());if(_0x2ef668)_0x2ef668['count']+=_0x586c1e['length'];else _0x60edc5[_0x19b963(0x127)][_0x19b963(0xf6)]({'sourceLong':Parser['sourceJsonToFull'](_0x622233),'sourceShort':Parser[_0x19b963(0x16b)](_0x622233),'sourceClassName':Parser[_0x19b963(0x147)](_0x622233),'source':_0x622233,'count':_0x586c1e['length']});}return _0x60edc5[_0x19b963(0x127)]['sort']((_0x4c992f,_0x279365)=>SortUtil['ascSortLower'](_0x4c992f[_0x19b963(0x156)],_0x279365[_0x19b963(0x156)])),_0x60edc5;})[_0x581cf2(0x108)](_0x1d21bc=>_0x1d21bc[_0x581cf2(0x127)][_0x581cf2(0x132)]);return{'name':this['_content']['_contentMetadata'][_0x581cf2(0x155)],'titleSearch':this[_0x581cf2(0x149)],'tagSections':_0x304f00};}[_0x1c52da(0x131)](_0x449d62){const _0x1c0eb1=_0x1c52da;this[_0x1c0eb1(0x191)](_0x449d62),this[_0x1c0eb1(0x1a9)](_0x449d62),this[_0x1c0eb1(0x12f)](_0x449d62);}[_0x1c52da(0x191)](_0xc6ff6b){const _0x52c0f3=_0x1c52da;this[_0x52c0f3(0x134)]={},_0xc6ff6b[_0x52c0f3(0x16a)](_0x52c0f3(0x17d))['each']((_0x1a8fe9,_0x379a3b)=>{const _0x1a6ea6=_0x52c0f3,_0x764913=$(_0x379a3b),_0x1256e1=_0x764913[_0x1a6ea6(0x18a)](_0x1a6ea6(0x174)),_0x4fe4c2=_0x764913[_0x1a6ea6(0x18a)](_0x1a6ea6(0x11c));(this['_tagCbMetas'][_0x1256e1]=this[_0x1a6ea6(0x134)][_0x1256e1]||[])[_0x1a6ea6(0xf6)]({'source':_0x4fe4c2,'$cb':_0x764913});});const _0x278001=_0xc6ff6b[_0x52c0f3(0x16a)]('input[data-type=\x22all\x22]')[_0x52c0f3(0x18b)]((_0x2bd498,_0x2eb7f4)=>{const _0x203855=_0x52c0f3,_0x68e590=$(_0x2eb7f4),_0x5a3ed9=_0x68e590[_0x203855(0x18a)]('tag');return _0x68e590['change'](()=>{const _0x38265d=_0x203855,_0x42ef42=_0x68e590[_0x38265d(0x13c)](_0x38265d(0x182));this[_0x38265d(0x134)][_0x5a3ed9][_0x38265d(0x139)](_0x2697ee=>_0x2697ee[_0x38265d(0x15e)][_0x38265d(0x13c)]('checked',_0x42ef42));}),_0x68e590;})[_0x52c0f3(0x16c)](),_0x140aff=_0xc6ff6b[_0x52c0f3(0x16a)](_0x52c0f3(0x16e));_0x140aff[_0x52c0f3(0x148)](()=>{const _0x24caa5=_0x52c0f3,_0xcffad8=_0x140aff[_0x24caa5(0x13c)](_0x24caa5(0x182));_0x278001['forEach'](_0x2eed8e=>_0x2eed8e[_0x24caa5(0x13c)]('checked',_0xcffad8)[_0x24caa5(0x148)]());});}['_activateListeners_initConfigButtons'](_0x39435f){const _0x5b2673=_0x1c52da;_0x39435f[_0x5b2673(0x16a)](_0x5b2673(0x14a))[_0x5b2673(0x17f)]((_0x2c6dce,_0x1b034d)=>{const _0x334c75=_0x5b2673,_0x1fd6d7=$(_0x1b034d),_0x164843=_0x1fd6d7[_0x334c75(0x18a)](_0x334c75(0x174)),_0x14197c=ImportListAdventureBook['_IMPORTABLE_TAGS'][_0x164843];_0x1fd6d7['click'](async()=>{const _0x9ec2de=_0x334c75;await _0x14197c[_0x9ec2de(0x110)][_0x9ec2de(0x133)](),await _0x14197c[_0x9ec2de(0x110)][_0x9ec2de(0x144)]();});});}[_0x1c52da(0x12f)](_0xc280fc){const _0x5641f3=_0x1c52da;_0xc280fc[_0x5641f3(0x16a)](_0x5641f3(0x180))[_0x5641f3(0x10b)](async()=>this[_0x5641f3(0x1a4)]());}async[_0x1c52da(0x1a4)](){const _0x408446=_0x1c52da;this[_0x408446(0x170)](),console['log'](...LGT,'Importing\x20'+this['_dataProp']+'\x20\x22'+this[_0x408446(0x111)][_0x408446(0x14b)][_0x408446(0x155)]+'\x22');const _0x3be3fc=await this['_pHandleRunButtonClick_pDoPreImport']();await this[_0x408446(0x142)](_0x3be3fc);}async['_pHandleRunButtonClick_pDoPreImport'](){const _0x59e524=_0x1c52da,_0xb9116f={};Object['entries'](this[_0x59e524(0x134)])[_0x59e524(0x139)](([_0x43d645,_0x321eea])=>{const _0x72946f=_0x59e524,_0x29ab19=_0x321eea[_0x72946f(0x108)](_0x26970b=>_0x26970b[_0x72946f(0x15e)][_0x72946f(0x13c)](_0x72946f(0x182)))[_0x72946f(0x18b)](_0x514404=>_0x514404['source']);if(!_0x29ab19[_0x72946f(0x132)])return;_0xb9116f[_0x43d645]=_0x29ab19;});const _0x73df25={};if(!Object[_0x59e524(0x154)](_0xb9116f)[_0x59e524(0x132)])return _0x73df25;const _0x428c26=[];for(const [_0x179112,_0x4e28a3]of Object[_0x59e524(0x17a)](_0xb9116f)){const _0x2fa582=_0x73df25[_0x179112]={},_0x1c4039=ImportListAdventureBook[_0x59e524(0x137)][_0x179112];for(const _0x642011 of _0x4e28a3){const _0x20a557=[...MiscUtil[_0x59e524(0x16c)](this[_0x59e524(0x11f)],_0x179112,_0x642011)||[]];for(const _0x1b458a of _0x20a557){const [_0x462c73,_0x511c7c]=_0x1b458a[_0x59e524(0x14d)](HASH_LIST_SEP),_0x2216b1=decodeURIComponent(_0x462c73)[_0x59e524(0x15f)](),_0x173b5c=Parser[_0x59e524(0x16b)](_0x511c7c);_0x428c26[_0x59e524(0xf6)](new Util['Task'](_0x1c4039[_0x59e524(0x192)]+':\x20'+_0x2216b1+'\x20('+_0x173b5c+')',()=>(async()=>{const _0x443ce6=_0x59e524,{folderType:_0x1e8426,id:_0x46af2b}=await _0x1c4039[_0x443ce6(0x188)](_0x1b458a);(_0x2fa582[_0x179112]=_0x2fa582[_0x179112]||{})[_0x1b458a]={'folderType':_0x1e8426,'importedId':_0x46af2b};})()));}const _0x5025ab=[...MiscUtil['get'](this[_0x59e524(0x197)],_0x179112)||[]];for(const _0x13b34b of _0x5025ab){_0x428c26[_0x59e524(0xf6)](new Util[(_0x59e524(0xfb))](_0x1c4039[_0x59e524(0x192)]+':\x20'+_0x13b34b['name']+'\x20('+_0x13b34b[_0x59e524(0x11c)]+')',()=>(async()=>{const _0x4f6d8a=_0x59e524;await _0x1c4039[_0x4f6d8a(0x106)](_0x13b34b);})()));}}}return await UtilApplications[_0x59e524(0x1aa)](_0x428c26,{'titleInitial':_0x59e524(0x1a3),'titleComplete':_0x59e524(0x146),'fnGetRowRunningText':_0x3812cd=>_0x59e524(0x196)+_0x3812cd+'...','fnGetRowSuccessText':_0x19f026=>_0x59e524(0x11a)+_0x19f026+'.','fnGetRowErrorText':_0x36ee25=>'Failed\x20to\x20import\x20'+_0x36ee25+'!\x20'+VeCt['STR_SEE_CONSOLE'],'isForceClose':!![]}),_0x73df25;}async[_0x1c52da(0x142)](_0x350ec1){const _0x5b7305=_0x1c52da,_0x5c394a=MiscUtil[_0x5b7305(0x13f)]({'keyBlacklist':ImportListAdventureBook[_0x5b7305(0x126)]}),_0x144c8d={'string':_0xa597b7=>{const _0xb03bf5=_0x5b7305,_0x184739=Renderer[_0xb03bf5(0x1a1)](_0xa597b7),_0x2142ef=_0x184739[_0xb03bf5(0x132)];let _0x860daa='';for(let _0x2e91fa=0x0;_0x2e91fa<_0x2142ef;++_0x2e91fa){const _0x2a407c=_0x184739[_0x2e91fa];if(!_0x2a407c)continue;if(!_0x2a407c[_0xb03bf5(0x12e)]('{@')){_0x860daa+=_0x2a407c;continue;}const [_0x593ea4,_0x15fc87]=Renderer[_0xb03bf5(0x17c)](_0x2a407c['slice'](0x1,-0x1)),_0x5eaaf5=ImportListAdventureBook[_0xb03bf5(0x137)][_0x593ea4],_0x4b9a6c=_0x350ec1[_0x593ea4];if(!_0x5eaaf5||!_0x4b9a6c){_0x860daa+=_0x2a407c;continue;}const _0x2292c6=_0x5eaaf5[_0xb03bf5(0x1a0)](_0x15fc87),_0x283191=MiscUtil[_0xb03bf5(0x16c)](_0x4b9a6c,_0x593ea4,_0x2292c6['hash']);if(!_0x283191){_0x860daa+=_0x2a407c;continue;}_0x860daa+=''+DataConverter[_0xb03bf5(0x195)]+_0x283191[_0xb03bf5(0x194)]+'['+_0x283191[_0xb03bf5(0x107)]+']{'+_0x2292c6[_0xb03bf5(0x143)]+'}';}return _0x860daa;}};this[_0x5b7305(0x111)][_0x5b7305(0x18a)]=_0x5c394a[_0x5b7305(0x14c)](this[_0x5b7305(0x111)][_0x5b7305(0x18a)],_0x144c8d);let _0x46e96c;try{_0x46e96c=this['_getJournalDatas']();}catch(_0x2143b2){ui[_0x5b7305(0x104)][_0x5b7305(0x10e)]('Failed\x20to\x20build\x20journal\x20data!\x20'+VeCt[_0x5b7305(0x13d)]);throw _0x2143b2;}const _0x32c1cb=[],_0x48caf2=await this[_0x5b7305(0x1a8)]({'name':this[_0x5b7305(0x111)]['_contentMetadata'][_0x5b7305(0x155)],'source':this[_0x5b7305(0x111)]['_contentMetadata']['source']});for(const _0x442a6a of _0x46e96c){_0x32c1cb[_0x5b7305(0xf6)](new Util[(_0x5b7305(0xfb))](_0x442a6a[_0x5b7305(0x155)],()=>{const _0xe4f103=_0x5b7305,_0x150063=this[_0xe4f103(0x100)]({'name':_0x442a6a[_0xe4f103(0x155)]});if(_0x150063[_0xe4f103(0x140)])return UtilApplications['TASK_EXIT_SKIPPED_DUPLICATE'];if(_0x150063['isOverwrite'])return this[_0xe4f103(0x10d)](_0x150063,_0x442a6a);if(_0x48caf2)_0x442a6a['folder']=_0x48caf2;return JournalEntry[_0xe4f103(0x165)](_0x442a6a,{'renderSheet':![],'temporary':![]});}));}ui[_0x5b7305(0x11d)]['activateTab'](_0x5b7305(0x163)),await UtilApplications[_0x5b7305(0x1aa)](_0x32c1cb,{'titleInitial':_0x5b7305(0x1a3),'titleComplete':_0x5b7305(0x146),'fnGetRowRunningText':_0x474d46=>_0x5b7305(0x196)+_0x474d46+_0x5b7305(0x167),'fnGetRowSuccessText':_0x5b8250=>_0x5b7305(0x11a)+_0x5b8250+'.','fnGetRowErrorText':_0x3e7efb=>'Failed\x20to\x20import\x20'+_0x3e7efb+'!\x20'+VeCt['STR_SEE_CONSOLE']});}[_0x1c52da(0x183)](){const _0x3a4308=_0x1c52da;throw new Error(_0x3a4308(0x135));}static[_0x1c52da(0x177)](_0x160900){const _0x19e3b6=_0x1c52da;this['_IMPORTABLE_TAGS'][_0x160900[_0x19e3b6(0x174)]]=_0x160900;}}ImportListAdventureBook[_0x1c52da(0x137)]={},ImportListAdventureBook[_0x1c52da(0x18f)]={},ImportListAdventureBook[_0x1c52da(0x161)]=class{constructor(_0x5749d6){const _0x2bb73b=_0x1c52da;this[_0x2bb73b(0x16d)]=_0x5749d6[_0x2bb73b(0x192)],this[_0x2bb73b(0x187)]=_0x5749d6[_0x2bb73b(0x174)],this[_0x2bb73b(0x15c)]=_0x5749d6[_0x2bb73b(0x19d)],this[_0x2bb73b(0x173)]=_0x5749d6[_0x2bb73b(0x123)],this['_importer']=_0x5749d6[_0x2bb73b(0x110)],this['_fnGetInlineData']=_0x5749d6['fnGetInlineData'],this[_0x2bb73b(0x19e)]=_0x5749d6[_0x2bb73b(0x13b)],this[_0x2bb73b(0x125)]=![];}get['displayName'](){return this['_displayName'];}get['tag'](){return this['_tag'];}get[_0x1c52da(0x19d)](){const _0x5f2c60=_0x1c52da;return this[_0x5f2c60(0x15c)];}get['importer'](){return this['_importer'];}get[_0x1c52da(0x166)](){const _0x1074bd=_0x1c52da;return this[_0x1074bd(0xff)];}get[_0x1c52da(0x13b)](){return this['_fnGetInlineHash'];}[_0x1c52da(0x188)](_0x5f5722){const _0x2c61fa=_0x1c52da;return this[_0x2c61fa(0x186)](),this['_pLoadGenericHash'](_0x5f5722);}['_pLoad_doActivateTab'](){const _0x1ead6f=_0x1c52da;!this['_isActivatedTab']&&(this[_0x1ead6f(0x105)][_0x1ead6f(0x19b)](),this[_0x1ead6f(0x125)]=!![]);}async[_0x1c52da(0x145)](_0x45ab20){const _0x5ce553=_0x1c52da,[_0x34b8b4,_0x390b10]=_0x45ab20[_0x5ce553(0x14d)](HASH_LIST_SEP),_0x5892b8=await Renderer[_0x5ce553(0x121)][_0x5ce553(0x184)](this[_0x5ce553(0x15c)],_0x390b10,_0x45ab20);await this[_0x5ce553(0x105)][_0x5ce553(0x133)]();const _0x6df39=await this['_importer']['pImportEntry'](_0x5892b8,{});return{'folderType':this[_0x5ce553(0x105)][_0x5ce553(0x194)],'id':_0x6df39[_0x5ce553(0xfc)]?.['id'],'hash':_0x45ab20};}static[_0x1c52da(0x18e)](_0x45341a,_0x55af22,_0x270570){const _0x3d3f4a=_0x1c52da,[_0x31dff2,_0x196434,_0x3f5d6c]=Renderer[_0x3d3f4a(0x12d)](_0x270570),_0xb4ac2d=(_0x196434||_0x55af22)[_0x3d3f4a(0x160)](),_0x40b72c={'name':_0x31dff2,'source':_0xb4ac2d};return{'source':_0xb4ac2d,'displayText':_0x3f5d6c||_0x31dff2,'hash':UrlUtil[_0x3d3f4a(0x12c)][_0x45341a](_0x40b72c)};}[_0x1c52da(0x1a0)](_0x41a29f){const _0x49078a=_0x1c52da;return ImportListAdventureBook[_0x49078a(0x161)][_0x49078a(0x18e)](this['_page'],this[_0x49078a(0x173)],_0x41a29f);}async[_0x1c52da(0x106)](_0x193ded){const _0xa241a1=_0x1c52da;this[_0xa241a1(0x186)](),await this['_importer'][_0xa241a1(0x133)](),await this['_importer'][_0xa241a1(0x141)](_0x193ded,{});}},ImportListAdventureBook[_0x1c52da(0x126)]=new Set([_0x1c52da(0x155),_0x1c52da(0x118),_0x1c52da(0x17e),_0x1c52da(0x136),_0x1c52da(0x151),_0x1c52da(0x1a2),'page']),ImportListAdventureBook[_0x1c52da(0x177)](new ImportListAdventureBook[(_0x1c52da(0x161))]({'displayName':_0x1c52da(0x164),'tag':_0x1c52da(0x11b),'page':UrlUtil[_0x1c52da(0x115)],'defaultSource':SRC_MM,'importer':new ImportListCreature()})),ImportListAdventureBook[_0x1c52da(0x177)](new ImportListAdventureBook[(_0x1c52da(0x161))]({'displayName':_0x1c52da(0x175),'tag':_0x1c52da(0x102),'page':UrlUtil[_0x1c52da(0x12b)],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook[_0x1c52da(0x177)](new ImportListAdventureBook[(_0x1c52da(0x161))]({'displayName':_0x1c52da(0x176),'tag':_0x1c52da(0x150),'page':UrlUtil[_0x1c52da(0xf8)],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x1c52da(0x161))]({'displayName':_0x1c52da(0x189),'tag':_0x1c52da(0x129),'page':UrlUtil[_0x1c52da(0x10a)],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x1d5373,_0x38b556)=>{const _0x53e9cb=_0x1c52da,{table:_0x5804ff,tableGroup:_0x4fd075}=UtilGenTables[_0x53e9cb(0x169)](_0x1d5373,_0x38b556);return _0x5804ff['forEach'](_0x56f6e5=>_0x56f6e5[_0x53e9cb(0x178)]='table'),_0x4fd075[_0x53e9cb(0x139)](_0x505b25=>_0x505b25[_0x53e9cb(0x178)]=_0x53e9cb(0x13a)),[..._0x5804ff,..._0x4fd075];},'fnGetInlineHash':_0x15484d=>{const _0x4ab0af=_0x1c52da;return UrlUtil[_0x4ab0af(0x12c)][UrlUtil[_0x4ab0af(0x10a)]](_0x15484d)[_0x4ab0af(0x160)]();}}));export{ImportListAdventureBook};