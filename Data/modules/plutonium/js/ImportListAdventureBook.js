const _0x44f8=['IMPORTABLE_TAG_CREATURE','getData','_HOMEBREW_OTHER_DATA','sidebar','Choose\x20','SOURCE_TYP_OFFICIAL_SINGLE','sourceJsonToColor','sources','SOURCE_TYP_CUSTOM','[].contents\x22\x20and\x20\x22','1606216QhZuQC','pGetUserEnum','@creature','get','dataProp','Items','change','_getExtractedGenericTag','close','9VFOywC','_getData','splitFirstSpace','_pubDate','_pImportEntry_pDoUpdateExistingDirectoryEntity','Importing...','error','title','tableGroup','Importing\x20','toLowerCase','Task','JournalEntry','Vehicle\x20Upgrades','data','_fnGetInlineData','562952rFjZkU','pRunTasks','_getJournalDatas','__prop','ascSortLower','pGetSources','_pPostLoadOther','Could\x20not\x20import—header\x20and\x20chapter\x20counts\x20differed!','STR_SEE_CONSOLE','log','entries','slice','SOURCE_TYP_BREW','Import\x20Complete','length','colLabels','_pLoad_doActivateTab','name','29710wZFWxV','_pLoadGenericHash','Upload\x20File','Spells','activateSidebarTab','pInit','_extractTag','folderType','Could\x20not\x20import—one\x20of\x20\x22','PG_SPELLS','input[data-source]','activateListeners','_contentMetadata','pCacheAndGet','pGetHomebrewSources','create','SYM_AT','button[data-type=\x22configure\x22]','_fnGetUrl','defaultSource','TASK_EXIT_SKIPPED_DUPLICATE','fnGetInlineHash','each','has','map','tag','26DbEtiv','_isActivatedTab','PG_ITEMS','walk','File\x20did\x20not\x20contain\x20importable\x20data—could\x20not\x20link\x20any\x20\x22','prop','splitTagByPipe','add','sourceJsonToFull','checked','Failed\x20to\x20pre-process\x20data!\x20','\x22\x20and\x20\x22','_availableInlineData','_pHandleRunButtonClick_pDoPreImport','hover','@variantrule','page','Tables','_pImportEntry_pGetFolderId','body','_pLoadInline','PG_VEHICLES','Imported\x20','values','href','_activateListeners_initCheckboxes','Custom\x20URL','@vehupgrade','displayName','_TAG_WALKER_BLACKLIST','isOverwrite','6847SPQFKF','_displayName','displayText','PG_TABLES','split','394771HpuGPD','importedId','isSkip','ascSortDate','startsWith','Variant\x20Rules','push','imported','activateTab','17MiKaCd','_page','\x22\x20items\x20together!','_brewDataProp','DataSourceUrl','_tag','_defaultSource','input[data-type=\x22all\x22]','count','sourceLong','find','hash','pHandleEditFolderPathClick','_importer','_activateListeners_initConfigButtons','type','233606rZsdjb','click','_dataProp','getAdventureBookTables','sourceJsonToAbv','$cb','_getDuplicateMeta','importer','fnGetInlineData','_pHandleRunButtonClick_pDoMainImport','contents','keys','pImportEntry','head','_fnGetInlineHash','PG_BESTIARY','size','forEach','File\x20did\x20not\x20contain\x20importable\x20data—one\x20of\x20\x22','caption','toTitleCase','copy','filter','ImportableTag','_activateListeners_initRunButton','_tagCbMetas','68491NmYWlD','getOrSet','_fnGetIndex','_content','_titleSearch','_getAdditionalContentForTag','sort','Unimplemented!','_registerImportableTag','_availableEntities','source','getMaxWindowHeight','pLoadHash','notifications','_title','Failed\x20to\x20import\x20','_IMPORTABLE_TAGS','Failed\x20to\x20build\x20journal\x20data!\x20','journal','bind','fnGetIndex','URL_TO_HASH_BUILDER','table','_pHandleRunButtonClick','getWalker'];const _0x1f6e=function(_0x306c42,_0x28d7ee){_0x306c42=_0x306c42-0xaa;let _0x44f89d=_0x44f8[_0x306c42];return _0x44f89d;};const _0x343102=_0x1f6e;(function(_0x2563f9,_0x42ace7){const _0x90c46=_0x1f6e;while(!![]){try{const _0x5c4ba9=-parseInt(_0x90c46(0xe4))+parseInt(_0x90c46(0x117))*-parseInt(_0x90c46(0x143))+parseInt(_0x90c46(0x13a))+parseInt(_0x90c46(0xc0))*parseInt(_0x90c46(0xdf))+parseInt(_0x90c46(0xfd))+parseInt(_0x90c46(0xed))*parseInt(_0x90c46(0x165))+-parseInt(_0x90c46(0x153));if(_0x5c4ba9===_0x42ace7)break;else _0x2563f9['push'](_0x2563f9['shift']());}catch(_0x42f767){_0x2563f9['push'](_0x2563f9['shift']());}}}(_0x44f8,0xe7a24));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Util,LGT}from'./Util.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{UtilApplications}from'./UtilApplications.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';import{DataConverter}from'./DataConverter.js';import{UtilDataSource}from'./UtilDataSource.js';import{ImportListVariantRule}from'./ImportListVariantRule.js';import{ImportListVehicleUpgrade}from'./ImportListVehicleUpgrade.js';class ImportListAdventureBook extends ImportList{constructor(_0x543fd8,_0x3adcd5,_0xcf45a6,_0x3bd315){const _0x343fac=_0x1f6e;super({'title':_0x543fd8[_0x343fac(0x14a)],'template':SharedConsts['MODULE_LOCATION']+'/template/ImportListAdventureBook.hbs','width':0x1e0,'height':Util[_0x343fac(0x122)](0x280),'resizable':!![]},_0x3adcd5,{..._0xcf45a6,'sidebarTab':'journal','gameProp':_0x343fac(0x129),'folderType':_0x343fac(0x14f),'isNonCacheableInstance':!![]}),this[_0x343fac(0x119)]=_0x3bd315[_0x343fac(0x12b)],this[_0x343fac(0xb8)]=_0x3bd315['fnGetUrl'],this[_0x343fac(0xff)]=_0x3bd315[_0x343fac(0x13e)],this[_0x343fac(0xf0)]=_0x3bd315['brewDataProp'],this[_0x343fac(0x125)]=_0x3bd315['title'],this[_0x343fac(0x120)]=null,this[_0x343fac(0xcc)]=null,this[_0x343fac(0x116)]=null;}get['isRadio'](){return!![];}async[_0x343102(0x158)](){const _0x1ec8c6=_0x343102,_0x52e211=await this['_fnGetIndex'](),_0x23a664=_0x52e211[this[_0x1ec8c6(0xff)]][_0x1ec8c6(0x11d)]((_0xb238fb,_0x5887f8)=>SortUtil[_0x1ec8c6(0xe7)](_0x5887f8[_0x1ec8c6(0x146)],_0xb238fb[_0x1ec8c6(0x146)])||SortUtil['ascSortLower'](_0xb238fb[_0x1ec8c6(0x164)],_0x5887f8[_0x1ec8c6(0x164)]));return[..._0x23a664['map'](_0x1dcdda=>new UtilDataSource[(_0x1ec8c6(0xf1))](_0x1dcdda[_0x1ec8c6(0x164)],this['_fnGetUrl'](_0x1dcdda['id']),{'pPostLoad':this['_postLoadVetools'][_0x1ec8c6(0x12a)](this),'userData':_0x1dcdda,'filterTypes':[UtilDataSource[_0x1ec8c6(0x135)]]})),new UtilDataSource['DataSourceUrl'](_0x1ec8c6(0xda),'',{'pPostLoad':this[_0x1ec8c6(0x159)][_0x1ec8c6(0x12a)](this),'filterTypes':[UtilDataSource[_0x1ec8c6(0x138)]]}),new UtilDataSource['DataSourceFile'](_0x1ec8c6(0x167),{'pPostLoad':this[_0x1ec8c6(0x159)][_0x1ec8c6(0x12a)](this),'filterTypes':[UtilDataSource[_0x1ec8c6(0x138)]]}),...(await Vetools[_0x1ec8c6(0xb4)](this[_0x1ec8c6(0xff)]))[_0x1ec8c6(0xbe)](({name:_0x3b12a7,url:_0xe789fa})=>new UtilDataSource[(_0x1ec8c6(0xf1))](_0x3b12a7,_0xe789fa,{'pPostLoad':this[_0x1ec8c6(0x159)][_0x1ec8c6(0x12a)](this),'filterTypes':[UtilDataSource[_0x1ec8c6(0x15f)]]}))];}['_postLoadVetools'](_0x524fb1,_0x326f26,_0x4e3ebf){const _0x372a03=_0x343102;return _0x524fb1=MiscUtil[_0x372a03(0x112)](_0x524fb1),_0x524fb1[_0x372a03(0xb2)]=MiscUtil[_0x372a03(0x112)](_0x4e3ebf),_0x524fb1;}async[_0x343102(0x159)](_0x8f51b9){const _0x1d1d3c=_0x343102;if(!_0x8f51b9[this[_0x1d1d3c(0xff)]]||!_0x8f51b9[this['_brewDataProp']])return ui[_0x1d1d3c(0x124)][_0x1d1d3c(0x149)](_0x1d1d3c(0x10f)+this[_0x1d1d3c(0xff)]+_0x1d1d3c(0xcb)+this[_0x1d1d3c(0xf0)]+'\x22\x20was\x20missing!'),null;_0x8f51b9=MiscUtil[_0x1d1d3c(0x112)](_0x8f51b9);const _0x394122=_0x8f51b9[this[_0x1d1d3c(0xff)]]['map'](_0x2e6bc7=>{const _0x4f55b2=_0x1d1d3c,_0x34e341=_0x8f51b9[this[_0x4f55b2(0xf0)]][_0x4f55b2(0xf7)](_0x266eeb=>_0x266eeb['id']===_0x2e6bc7['id']);if(!_0x34e341)return null;return{'head':_0x2e6bc7,'body':_0x34e341[_0x4f55b2(0x151)]};})[_0x1d1d3c(0x113)](Boolean);if(!_0x394122[_0x1d1d3c(0x161)])return ui[_0x1d1d3c(0x124)]['error'](_0x1d1d3c(0xc4)+this[_0x1d1d3c(0xff)]+_0x1d1d3c(0xcb)+this[_0x1d1d3c(0xf0)]+_0x1d1d3c(0xef)),null;let _0x79685b;if(_0x394122[_0x1d1d3c(0x161)]===0x1)_0x79685b=_0x394122[0x0];else{const _0x4c5732=await InputUiUtil[_0x1d1d3c(0x13b)]({'values':_0x394122[_0x1d1d3c(0xbe)](_0x4d650a=>_0x4d650a[_0x1d1d3c(0x10a)]['id']),'fnDisplay':_0x9f3133=>{const _0x382fd3=_0x1d1d3c,_0x2b0495=_0x394122[_0x382fd3(0xf7)](_0x2c2541=>_0x2c2541[_0x382fd3(0x10a)]['id']===_0x9f3133);return _0x2b0495[_0x382fd3(0x10a)]['name']+'\x20('+Parser['sourceJsonToAbv'](_0x2b0495['head'][_0x382fd3(0x121)])+')';},'title':_0x1d1d3c(0x134)+this[_0x1d1d3c(0x125)],'default':0x0,'isAllowNull':![],'isResolveItem':!![]});if(_0x4c5732==null)return null;_0x79685b=_0x394122[_0x1d1d3c(0xf7)](_0x414d2f=>_0x414d2f['head']['id']===_0x4c5732);}const _0x2ccc26=MiscUtil[_0x1d1d3c(0x13d)](_0x79685b,_0x1d1d3c(0x10a),_0x1d1d3c(0x107)),_0x491e87=MiscUtil['get'](_0x79685b,_0x1d1d3c(0xd3));if(!_0x2ccc26||!_0x491e87)return ui['notifications']['error'](_0x1d1d3c(0xae)+this[_0x1d1d3c(0xff)]+_0x1d1d3c(0x139)+this[_0x1d1d3c(0xf0)]+'[].data\x22\x20was\x20missing!'),null;if(_0x2ccc26[_0x1d1d3c(0x161)]!==_0x491e87[_0x1d1d3c(0x161)])return ui[_0x1d1d3c(0x124)][_0x1d1d3c(0x149)](_0x1d1d3c(0x15a)),null;return{'_contentMetadata':_0x79685b[_0x1d1d3c(0x10a)],'data':_0x79685b[_0x1d1d3c(0xd3)]};}[_0x343102(0x131)](){const _0x5304f9=_0x343102;try{return this['_getData']();}catch(_0x1b03cd){ui[_0x5304f9(0x124)]['error'](_0x5304f9(0xca)+VeCt['STR_SEE_CONSOLE']);throw _0x1b03cd;}}[_0x343102(0x144)](){const _0x9c2db8=_0x343102;this['_content']=MiscUtil[_0x9c2db8(0x112)](this[_0x9c2db8(0x11a)]),this[_0x9c2db8(0x120)]={},this['_availableInlineData']={};const _0x35c8a1=MiscUtil['getWalker']({'keyBlacklist':ImportListAdventureBook['_TAG_WALKER_BLACKLIST']}),_0x53dd07={},_0x213fb3=this[_0x9c2db8(0x11a)][_0x9c2db8(0xb2)]['source']||this['_content'][_0x9c2db8(0xb2)]['id'];Object[_0x9c2db8(0xd7)](ImportListAdventureBook[_0x9c2db8(0x127)])[_0x9c2db8(0x113)](_0x406dc1=>_0x406dc1[_0x9c2db8(0x105)])[_0x9c2db8(0x10e)](_0x2b704e=>{const _0x89d9a0=_0x9c2db8,_0x23968c={[this[_0x89d9a0(0xff)]]:this[_0x89d9a0(0x11a)][_0x89d9a0(0xb2)],[this[_0x89d9a0(0xf0)]]:{'data':this[_0x89d9a0(0x11a)]['data']}},_0x5da651={'headProp':this[_0x89d9a0(0xff)],'bodyProp':this[_0x89d9a0(0xf0)]};this[_0x89d9a0(0xcc)][_0x2b704e['tag']]=_0x2b704e[_0x89d9a0(0x105)](_0x23968c,_0x5da651)[_0x89d9a0(0x11d)]((_0x161126,_0x410b53)=>{const _0x3f4112=_0x89d9a0;return SortUtil['ascSortLower'](_0x161126[_0x3f4112(0x164)],_0x410b53[_0x3f4112(0x164)])||SortUtil[_0x3f4112(0x157)](Parser[_0x3f4112(0xc8)](_0x161126[_0x3f4112(0x121)]||_0x213fb3),Parser[_0x3f4112(0xc8)](_0x410b53[_0x3f4112(0x121)]||_0x213fb3));}),this['_availableInlineData'][_0x2b704e[_0x89d9a0(0xbf)]]['forEach'](_0x5e9674=>{const _0x326214=_0x89d9a0,_0x1a3d9b=_0x2b704e[_0x326214(0xbb)](_0x5e9674);(_0x53dd07[_0x2b704e['tag']]=_0x53dd07[_0x2b704e['tag']]||new Set())[_0x326214(0xc7)](_0x1a3d9b);});}),this[_0x9c2db8(0x11a)][_0x9c2db8(0x151)][_0x9c2db8(0x10e)](_0x176125=>{const _0x29d86a=_0x9c2db8,_0x408e0d={'string':_0x4caa27=>{const _0x729471=_0x1f6e,_0x253c14=Renderer['splitByTags'](_0x4caa27),_0x9c3ada=_0x253c14[_0x729471(0x161)];for(let _0x73c01f=0x0;_0x73c01f<_0x9c3ada;++_0x73c01f){const _0x8ff19f=_0x253c14[_0x73c01f];if(!_0x8ff19f)continue;if(!_0x8ff19f[_0x729471(0xe8)]('{@'))continue;const [_0x77daec,_0x50e645]=Renderer[_0x729471(0x145)](_0x8ff19f[_0x729471(0x15e)](0x1,-0x1)),_0x218a8a=ImportListAdventureBook[_0x729471(0x127)][_0x77daec];if(!_0x218a8a)continue;const _0x1b09bd=_0x218a8a[_0x729471(0xac)](_0x50e645);if(_0x53dd07[_0x77daec]&&_0x53dd07[_0x77daec][_0x729471(0xbd)](_0x1b09bd[_0x729471(0xf8)]))continue;(this['_availableEntities'][_0x77daec]=this[_0x729471(0x120)][_0x77daec]||{})[_0x1b09bd[_0x729471(0x121)]]=this['_availableEntities'][_0x77daec][_0x1b09bd['source']]||new Set(),this[_0x729471(0x120)][_0x77daec][_0x1b09bd[_0x729471(0x121)]]['add'](_0x1b09bd[_0x729471(0xf8)]);}return _0x4caa27;}};_0x35c8a1[_0x29d86a(0xc3)](_0x176125,_0x408e0d);}),Object[_0x9c2db8(0xd7)](ImportListAdventureBook[_0x9c2db8(0x127)])['forEach'](_0x4d6df3=>{const _0x468d77=_0x9c2db8,_0x386855=this[_0x468d77(0x11c)](_0x4d6df3[_0x468d77(0xbf)]);if(!_0x386855?.[_0x468d77(0x161)])return;_0x386855[_0x468d77(0x10e)](({source:_0x297e57,hash:_0x260d2f})=>{const _0x1001ca=_0x468d77;_0x297e57=_0x297e57[_0x1001ca(0x14d)]();const _0x20152f=MiscUtil[_0x1001ca(0x118)](this[_0x1001ca(0x120)],_0x4d6df3[_0x1001ca(0xbf)],_0x297e57,new Set());_0x20152f[_0x1001ca(0xc7)](_0x260d2f);});});const _0x53df14=Object[_0x9c2db8(0x108)](ImportListAdventureBook[_0x9c2db8(0x127)])['map'](_0x4aaa04=>{const _0x153bff=_0x9c2db8,_0x40f8e9=ImportListAdventureBook[_0x153bff(0x127)][_0x4aaa04],_0x25b6b3=this[_0x153bff(0x120)][_0x4aaa04],_0x359746=this[_0x153bff(0xcc)][_0x4aaa04],_0x44ea05={'displayName':_0x40f8e9[_0x153bff(0xdc)],'tag':_0x4aaa04,'sources':[]};_0x25b6b3&&_0x44ea05[_0x153bff(0x137)]['push'](...Object[_0x153bff(0x15d)](_0x25b6b3)[_0x153bff(0xbe)](([_0x3cb1a6,_0xb2d847])=>{const _0x172b15=_0x153bff;return{'sourceLong':Parser[_0x172b15(0xc8)](_0x3cb1a6),'sourceShort':Parser['sourceJsonToAbv'](_0x3cb1a6),'sourceClassName':Parser[_0x172b15(0x136)](_0x3cb1a6),'source':_0x3cb1a6,'count':_0xb2d847[_0x172b15(0x10d)]};}));if(_0x359746&&_0x359746[_0x153bff(0x161)]){const _0xdc57d3=_0x44ea05[_0x153bff(0x137)][_0x153bff(0xf7)](_0x3de2a3=>_0x3de2a3[_0x153bff(0x121)][_0x153bff(0x14d)]()===_0x213fb3[_0x153bff(0x14d)]());if(_0xdc57d3)_0xdc57d3[_0x153bff(0xf5)]+=_0x359746['length'];else _0x44ea05[_0x153bff(0x137)]['push']({'sourceLong':Parser[_0x153bff(0xc8)](_0x213fb3),'sourceShort':Parser[_0x153bff(0x101)](_0x213fb3),'sourceClassName':Parser[_0x153bff(0x136)](_0x213fb3),'source':_0x213fb3,'count':_0x359746[_0x153bff(0x161)]});}return _0x44ea05['sources'][_0x153bff(0x11d)]((_0x5698ec,_0x43d421)=>SortUtil[_0x153bff(0x157)](_0x5698ec[_0x153bff(0xf6)],_0x43d421[_0x153bff(0xf6)])),_0x44ea05;})[_0x9c2db8(0x113)](_0x150bb3=>_0x150bb3['sources'][_0x9c2db8(0x161)]);return{'name':this['_content'][_0x9c2db8(0xb2)]['name'],'titleSearch':this[_0x9c2db8(0x11b)],'tagSections':_0x53df14};}[_0x343102(0xb1)](_0x282e7f){const _0x509781=_0x343102;this['_activateListeners_initCheckboxes'](_0x282e7f),this[_0x509781(0xfb)](_0x282e7f),this[_0x509781(0x115)](_0x282e7f);}[_0x343102(0xd9)](_0x26eb75){const _0x127479=_0x343102;this['_tagCbMetas']={},_0x26eb75[_0x127479(0xf7)](_0x127479(0xb0))[_0x127479(0xbc)]((_0x13c112,_0x3ba62f)=>{const _0x346734=_0x127479,_0x2ee2b3=$(_0x3ba62f),_0x58624f=_0x2ee2b3[_0x346734(0x151)](_0x346734(0xbf)),_0x3736a2=_0x2ee2b3[_0x346734(0x151)](_0x346734(0x121));(this[_0x346734(0x116)][_0x58624f]=this[_0x346734(0x116)][_0x58624f]||[])[_0x346734(0xea)]({'source':_0x3736a2,'$cb':_0x2ee2b3});});const _0x1aa0cd=_0x26eb75['find'](_0x127479(0xf4))[_0x127479(0xbe)]((_0x28ad82,_0x4e98d5)=>{const _0x1231f2=_0x127479,_0xc01bad=$(_0x4e98d5),_0x48e2b5=_0xc01bad['data'](_0x1231f2(0xbf));return _0xc01bad['change'](()=>{const _0x55f427=_0x1231f2,_0x273e6b=_0xc01bad['prop'](_0x55f427(0xc9));this['_tagCbMetas'][_0x48e2b5]['forEach'](_0xf7dc62=>_0xf7dc62[_0x55f427(0x102)][_0x55f427(0xc5)](_0x55f427(0xc9),_0x273e6b));}),_0xc01bad;})['get'](),_0x875f75=_0x26eb75[_0x127479(0xf7)]('input[data-type=\x22god\x22]');_0x875f75[_0x127479(0x140)](()=>{const _0x2c8b05=_0x127479,_0x206402=_0x875f75[_0x2c8b05(0xc5)](_0x2c8b05(0xc9));_0x1aa0cd['forEach'](_0x398304=>_0x398304['prop'](_0x2c8b05(0xc9),_0x206402)[_0x2c8b05(0x140)]());});}['_activateListeners_initConfigButtons'](_0x48c3be){const _0x349f66=_0x343102;_0x48c3be[_0x349f66(0xf7)](_0x349f66(0xb7))[_0x349f66(0xbc)]((_0x45cd0c,_0x4e6c93)=>{const _0x1cbe93=_0x349f66,_0xaadaa3=$(_0x4e6c93),_0x2b9cf9=_0xaadaa3[_0x1cbe93(0x151)](_0x1cbe93(0xbf)),_0x1d3085=ImportListAdventureBook[_0x1cbe93(0x127)][_0x2b9cf9];_0xaadaa3[_0x1cbe93(0xfe)](async()=>{const _0x2a9769=_0x1cbe93;await _0x1d3085[_0x2a9769(0x104)]['pInit'](),await _0x1d3085[_0x2a9769(0x104)][_0x2a9769(0xf9)]();});});}[_0x343102(0x115)](_0x491f0a){const _0x49eb13=_0x343102;_0x491f0a[_0x49eb13(0xf7)]('[name=\x22btn-run\x22]')[_0x49eb13(0xfe)](async()=>this[_0x49eb13(0x12e)]());}async[_0x343102(0x12e)](){const _0x37341e=_0x343102;this[_0x37341e(0x142)](),console[_0x37341e(0x15c)](...LGT,_0x37341e(0x14c)+this['_dataProp']+'\x20\x22'+this[_0x37341e(0x11a)][_0x37341e(0xb2)][_0x37341e(0x164)]+'\x22');const _0x4fd503=await this[_0x37341e(0xcd)]();await this[_0x37341e(0x106)](_0x4fd503);}async[_0x343102(0xcd)](){const _0x3e9183=_0x343102,_0x296ba2={};Object[_0x3e9183(0x15d)](this['_tagCbMetas'])[_0x3e9183(0x10e)](([_0x2c12bd,_0x297116])=>{const _0x4f4768=_0x3e9183,_0x4932b7=_0x297116[_0x4f4768(0x113)](_0x3320cc=>_0x3320cc[_0x4f4768(0x102)][_0x4f4768(0xc5)]('checked'))[_0x4f4768(0xbe)](_0x48b157=>_0x48b157[_0x4f4768(0x121)]);if(!_0x4932b7['length'])return;_0x296ba2[_0x2c12bd]=_0x4932b7;});const _0x31d3ff={};if(!Object['keys'](_0x296ba2)[_0x3e9183(0x161)])return _0x31d3ff;const _0x2f0c1a=[];for(const [_0x13fbf6,_0x7cd2c4]of Object[_0x3e9183(0x15d)](_0x296ba2)){const _0x5a66a9=_0x31d3ff[_0x13fbf6]={},_0x359f6f=ImportListAdventureBook[_0x3e9183(0x127)][_0x13fbf6];for(const _0x2c8d7e of _0x7cd2c4){const _0x172b58=[...MiscUtil[_0x3e9183(0x13d)](this['_availableEntities'],_0x13fbf6,_0x2c8d7e)||[]];for(const _0x4c8d71 of _0x172b58){const [_0x31b0c4,_0x5c2c02]=_0x4c8d71[_0x3e9183(0xe3)](HASH_LIST_SEP),_0xc5554d=decodeURIComponent(_0x31b0c4)[_0x3e9183(0x111)](),_0x2a5f8c=Parser[_0x3e9183(0x101)](_0x5c2c02);_0x2f0c1a[_0x3e9183(0xea)](new Util[(_0x3e9183(0x14e))](_0x359f6f[_0x3e9183(0xdc)]+':\x20'+_0xc5554d+'\x20('+_0x2a5f8c+')',()=>(async()=>{const _0x2b62ec=_0x3e9183,{folderType:_0x2edeaf,id:_0x192f32}=await _0x359f6f[_0x2b62ec(0x123)](_0x4c8d71);(_0x5a66a9[_0x13fbf6]=_0x5a66a9[_0x13fbf6]||{})[_0x4c8d71]={'folderType':_0x2edeaf,'importedId':_0x192f32};})()));}const _0x4f9d92=[...MiscUtil['get'](this['_availableInlineData'],_0x13fbf6)||[]];for(const _0x1848da of _0x4f9d92){_0x2f0c1a[_0x3e9183(0xea)](new Util[(_0x3e9183(0x14e))](_0x359f6f['displayName']+':\x20'+_0x1848da[_0x3e9183(0x164)]+'\x20('+_0x1848da['source']+')',()=>(async()=>{const _0x4eda3e=_0x3e9183;await _0x359f6f[_0x4eda3e(0xd4)](_0x1848da);})()));}}}return await UtilApplications['pRunTasks'](_0x2f0c1a,{'titleInitial':_0x3e9183(0x148),'titleComplete':'Import\x20Complete','fnGetRowRunningText':_0x17e296=>_0x3e9183(0x14c)+_0x17e296+'...','fnGetRowSuccessText':_0x4307e2=>_0x3e9183(0xd6)+_0x4307e2+'.','fnGetRowErrorText':_0x1e85df=>_0x3e9183(0x126)+_0x1e85df+'!\x20'+VeCt['STR_SEE_CONSOLE'],'isForceClose':!![]}),_0x31d3ff;}async[_0x343102(0x106)](_0x6538fe){const _0x1eb7c3=_0x343102,_0x436e2c=MiscUtil[_0x1eb7c3(0x12f)]({'keyBlacklist':ImportListAdventureBook[_0x1eb7c3(0xdd)]}),_0x5e09cf={'string':_0x3463e0=>{const _0x16a9c6=_0x1eb7c3,_0x2febfb=Renderer['splitByTags'](_0x3463e0),_0x1463b0=_0x2febfb[_0x16a9c6(0x161)];let _0x4ea832='';for(let _0x27ca3b=0x0;_0x27ca3b<_0x1463b0;++_0x27ca3b){const _0x432886=_0x2febfb[_0x27ca3b];if(!_0x432886)continue;if(!_0x432886[_0x16a9c6(0xe8)]('{@')){_0x4ea832+=_0x432886;continue;}const [_0x33a794,_0x4be655]=Renderer[_0x16a9c6(0x145)](_0x432886[_0x16a9c6(0x15e)](0x1,-0x1)),_0x35c137=ImportListAdventureBook[_0x16a9c6(0x127)][_0x33a794],_0x3d062b=_0x6538fe[_0x33a794];if(!_0x35c137||!_0x3d062b){_0x4ea832+=_0x432886;continue;}const _0x4e3194=_0x35c137['_extractTag'](_0x4be655),_0x46315d=MiscUtil[_0x16a9c6(0x13d)](_0x3d062b,_0x33a794,_0x4e3194[_0x16a9c6(0xf8)]);if(!_0x46315d){_0x4ea832+=_0x432886;continue;}_0x4ea832+=''+DataConverter[_0x16a9c6(0xb6)]+_0x46315d[_0x16a9c6(0xad)]+'['+_0x46315d[_0x16a9c6(0xe5)]+']{'+_0x4e3194[_0x16a9c6(0xe1)]+'}';}return _0x4ea832;}};this[_0x1eb7c3(0x11a)][_0x1eb7c3(0x151)]=_0x436e2c[_0x1eb7c3(0xc3)](this[_0x1eb7c3(0x11a)]['data'],_0x5e09cf);let _0x29b7a4;try{_0x29b7a4=this[_0x1eb7c3(0x155)]();}catch(_0x53f67d){ui['notifications'][_0x1eb7c3(0x149)](_0x1eb7c3(0x128)+VeCt['STR_SEE_CONSOLE']);throw _0x53f67d;}const _0x205b87=[],_0x2fba85=await this[_0x1eb7c3(0xd2)]({'name':this['_content'][_0x1eb7c3(0xb2)][_0x1eb7c3(0x164)],'source':this[_0x1eb7c3(0x11a)][_0x1eb7c3(0xb2)][_0x1eb7c3(0x121)]},{'sorting':'m'});for(const _0x4ff928 of _0x29b7a4){_0x205b87[_0x1eb7c3(0xea)](new Util[(_0x1eb7c3(0x14e))](_0x4ff928[_0x1eb7c3(0x164)],()=>{const _0x3819bd=_0x1eb7c3,_0x19d59c=this[_0x3819bd(0x103)]({'name':_0x4ff928[_0x3819bd(0x164)]});if(_0x19d59c[_0x3819bd(0xe6)])return UtilApplications[_0x3819bd(0xba)];if(_0x19d59c[_0x3819bd(0xde)])return this[_0x3819bd(0x147)](_0x19d59c,_0x4ff928);if(_0x2fba85)_0x4ff928['folder']=_0x2fba85;return JournalEntry[_0x3819bd(0xb5)](_0x4ff928,{'renderSheet':![],'temporary':![]});}));}ui[_0x1eb7c3(0x133)][_0x1eb7c3(0xec)](_0x1eb7c3(0x129)),await UtilApplications[_0x1eb7c3(0x154)](_0x205b87,{'titleInitial':'Importing...','titleComplete':_0x1eb7c3(0x160),'fnGetRowRunningText':_0x2ca2af=>'Importing\x20'+_0x2ca2af+'...','fnGetRowSuccessText':_0x18254a=>_0x1eb7c3(0xd6)+_0x18254a+'.','fnGetRowErrorText':_0x512c24=>'Failed\x20to\x20import\x20'+_0x512c24+'!\x20'+VeCt[_0x1eb7c3(0x15b)]});}['_getJournalDatas'](){const _0x48cf4d=_0x343102;throw new Error(_0x48cf4d(0x11e));}[_0x343102(0x11c)](){return null;}static[_0x343102(0x11f)](_0x2d18a0){const _0x455dfc=_0x343102;this[_0x455dfc(0x127)][_0x2d18a0[_0x455dfc(0xbf)]]=_0x2d18a0;}}ImportListAdventureBook[_0x343102(0x127)]={},ImportListAdventureBook[_0x343102(0x132)]={},ImportListAdventureBook['ImportableTag']=class{constructor(_0x2d1ce9){const _0x56bfd5=_0x343102;this[_0x56bfd5(0xe0)]=_0x2d1ce9[_0x56bfd5(0xdc)],this['_tag']=_0x2d1ce9['tag'],this[_0x56bfd5(0xee)]=_0x2d1ce9[_0x56bfd5(0xd0)],this['_defaultSource']=_0x2d1ce9[_0x56bfd5(0xb9)],this[_0x56bfd5(0xfa)]=_0x2d1ce9[_0x56bfd5(0x104)],this[_0x56bfd5(0x152)]=_0x2d1ce9['fnGetInlineData'],this[_0x56bfd5(0x10b)]=_0x2d1ce9[_0x56bfd5(0xbb)],this['_isActivatedTab']=![];}get[_0x343102(0xdc)](){const _0x48114b=_0x343102;return this[_0x48114b(0xe0)];}get[_0x343102(0xbf)](){const _0x140a67=_0x343102;return this[_0x140a67(0xf2)];}get['page'](){const _0x6907e8=_0x343102;return this[_0x6907e8(0xee)];}get[_0x343102(0x104)](){return this['_importer'];}get[_0x343102(0x105)](){const _0x53b4e2=_0x343102;return this[_0x53b4e2(0x152)];}get['fnGetInlineHash'](){const _0x7b255=_0x343102;return this[_0x7b255(0x10b)];}[_0x343102(0x123)](_0xd9c919){const _0x115f35=_0x343102;return this[_0x115f35(0x163)](),this[_0x115f35(0x166)](_0xd9c919);}[_0x343102(0x163)](){const _0x25b2e1=_0x343102;!this[_0x25b2e1(0xc1)]&&(this['_importer'][_0x25b2e1(0xaa)](),this['_isActivatedTab']=!![]);}async['_pLoadGenericHash'](_0x19b491){const _0x570179=_0x343102,[_0x90b61d,_0x438cc2]=_0x19b491['split'](HASH_LIST_SEP),_0x21a477=await Renderer[_0x570179(0xce)][_0x570179(0xb3)](this[_0x570179(0xee)],_0x438cc2,_0x19b491);await this['_importer'][_0x570179(0xab)]();const _0x6d0262=await this['_importer'][_0x570179(0x109)](_0x21a477,{});return{'folderType':this[_0x570179(0xfa)][_0x570179(0xad)],'id':_0x6d0262[_0x570179(0xeb)]?.[0x0]?.['id'],'hash':_0x19b491};}static[_0x343102(0x141)](_0x2ac8c7,_0x55dff5,_0x3cf5e4){const _0x2832e3=_0x343102,[_0x1afa0c,_0x44cd96,_0x27234f]=Renderer[_0x2832e3(0xc6)](_0x3cf5e4),_0x3b57c0=(_0x44cd96||_0x55dff5)[_0x2832e3(0x14d)](),_0x5468af={'name':_0x1afa0c,'source':_0x3b57c0};return{'source':_0x3b57c0,'displayText':_0x27234f||_0x1afa0c,'hash':UrlUtil[_0x2832e3(0x12c)][_0x2ac8c7](_0x5468af)};}['_extractTag'](_0x54d563){const _0x1f435b=_0x343102;return ImportListAdventureBook[_0x1f435b(0x114)][_0x1f435b(0x141)](this[_0x1f435b(0xee)],this[_0x1f435b(0xf3)],_0x54d563);}async['_pLoadInline'](_0x112f92){const _0x5a57cd=_0x343102;this[_0x5a57cd(0x163)](),await this[_0x5a57cd(0xfa)][_0x5a57cd(0xab)](),await this[_0x5a57cd(0xfa)][_0x5a57cd(0x109)](_0x112f92,{});}},ImportListAdventureBook[_0x343102(0xdd)]=new Set([_0x343102(0x164),_0x343102(0x110),_0x343102(0x162),'style',_0x343102(0xfc),_0x343102(0xd8),_0x343102(0xd0)]),ImportListAdventureBook[_0x343102(0x130)]={'displayName':'Creatures','tag':_0x343102(0x13c),'page':UrlUtil[_0x343102(0x10c)],'defaultSource':SRC_MM,'importer':new ImportListCreature()},ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x343102(0x114))](ImportListAdventureBook[_0x343102(0x130)])),ImportListAdventureBook[_0x343102(0x11f)](new ImportListAdventureBook[(_0x343102(0x114))]({'displayName':_0x343102(0x168),'tag':'@spell','page':UrlUtil[_0x343102(0xaf)],'defaultSource':SRC_PHB,'importer':new ImportListSpell()})),ImportListAdventureBook['_registerImportableTag'](new ImportListAdventureBook[(_0x343102(0x114))]({'displayName':_0x343102(0x13f),'tag':'@item','page':UrlUtil[_0x343102(0xc2)],'defaultSource':SRC_DMG,'importer':new ImportListItem()})),ImportListAdventureBook[_0x343102(0x11f)](new ImportListAdventureBook[(_0x343102(0x114))]({'displayName':_0x343102(0xe9),'tag':_0x343102(0xcf),'page':UrlUtil['PG_VARIANTRULES'],'defaultSource':SRC_DMG,'importer':new ImportListVariantRule()})),ImportListAdventureBook[_0x343102(0x11f)](new ImportListAdventureBook[(_0x343102(0x114))]({'displayName':_0x343102(0x150),'tag':_0x343102(0xdb),'page':UrlUtil[_0x343102(0xd5)],'defaultSource':SRC_GoS,'importer':new ImportListVehicleUpgrade()})),ImportListAdventureBook[_0x343102(0x11f)](new ImportListAdventureBook[(_0x343102(0x114))]({'displayName':_0x343102(0xd1),'tag':'@table','page':UrlUtil[_0x343102(0xe2)],'defaultSource':SRC_DMG,'importer':new ImportListRollableTable(),'fnGetInlineData':(_0x130bfb,_0x293920)=>{const _0x53429e=_0x343102,{table:_0x5ec41a,tableGroup:_0x226a29}=UtilGenTables[_0x53429e(0x100)](_0x130bfb,_0x293920);return _0x5ec41a[_0x53429e(0x10e)](_0x203642=>_0x203642['__prop']=_0x53429e(0x12d)),_0x226a29['forEach'](_0x4d624a=>_0x4d624a[_0x53429e(0x156)]=_0x53429e(0x14b)),[..._0x5ec41a,..._0x226a29];},'fnGetInlineHash':_0x36084e=>{const _0x71a165=_0x343102;return UrlUtil[_0x71a165(0x12c)][UrlUtil['PG_TABLES']](_0x36084e)[_0x71a165(0x14d)]();}}));export{ImportListAdventureBook};