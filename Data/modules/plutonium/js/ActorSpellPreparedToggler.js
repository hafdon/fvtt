const _0x1a76=['close','_miscFilter','setNextState','actor','pInitFilterBox','tool-actor-spell-prepared-toggler','material','.veapp__list','ve-hidden','1vtOaMN','1218736uGnlEs','push','MODULE_LOCATION','_list','toggleClass','[data-name=\x22wrp-btns-sort\x22]','EVNT_VALCHANGE','AppFilter','_pPopulateBoxOptions','then','input','Verbal','_$btnReset','get','_$iptSearch','change','[name=btn-filter]','initBtnSortHandlers','_activateListeners_pInitListAndFilters','level','1686060jTXVaE','_levelFilter','531726EXyXIF','checked','Somatic','addToFilters','getMaxWindowHeight','2xYYhtL','_activateListeners_initBtnReset','items','Components\x20&\x20Miscellaneous','prop','doAbsorbItems','cbSel','components','prepared','.search','filterBox','Material','pCommitState','handleSelectClick','vocal','type','resetNextState','Unknown','data','_pageFilter','addItem','click','1307757aGXJxH','Ritual','getData','activateListeners','filters','init','mode','ele','330646emCKRP','name','toDisplay','spell','getValues','.act-sp-prep__disp-modified','[name=\x22cb-select-all\x22]','render','_fMisc','_filterBox','concentration','somatic','[name=\x22btn-reset\x22]','find','1000632DEPWlb','415202YMoFBv','Spell\x20Prepared\x20Toggler','_actorItems','reset','visibleItems','Concentration','forEach','preparation','teardown','ritual','_handleFilterChange','_rows','filter','_actor','_activateListeners_initBtnRun','getFltrSpellLevelStr'];const _0x8e25=function(_0x4af75c,_0x19c74c){_0x4af75c=_0x4af75c-0xd7;let _0x1a7679=_0x1a76[_0x4af75c];return _0x1a7679;};const _0x28bf95=_0x8e25;(function(_0x21a10f,_0xee3dcf){const _0x32933e=_0x8e25;while(!![]){try{const _0x1ee92b=parseInt(_0x32933e(0x129))+-parseInt(_0x32933e(0xec))+-parseInt(_0x32933e(0x12b))*parseInt(_0x32933e(0x114))+-parseInt(_0x32933e(0xe4))+parseInt(_0x32933e(0xfa))+parseInt(_0x32933e(0x130))*-parseInt(_0x32933e(0xfb))+parseInt(_0x32933e(0x115));if(_0x1ee92b===_0xee3dcf)break;else _0x21a10f['push'](_0x21a10f['shift']());}catch(_0x232041){_0x21a10f['push'](_0x21a10f['shift']());}}}(_0x1a76,0xdcebf));import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';import{AppFilter}from'./FilterApplications.js';class ActorSpellPreparedToggler extends Application{static['pHandleButtonClick'](_0x109dbc,_0x2db507,_0x303da9,_0x3e9ccd){const _0x450e8f=_0x8e25,_0x59a968=new ActorSpellPreparedToggler(_0x2db507[_0x450e8f(0x10e)]);_0x59a968[_0x450e8f(0xf3)](!![]);}constructor(_0x402bff){const _0x569bae=_0x8e25;super({'title':_0x569bae(0xfc),'template':SharedConsts[_0x569bae(0x117)]+'/template/ActorSpellPreparedToggler.handlebars','width':0x1e0,'height':Util[_0x569bae(0x12f)](),'resizable':!![]}),this[_0x569bae(0x108)]=_0x402bff,this[_0x569bae(0xfd)]=this['_actor'][_0x569bae(0x132)][_0x569bae(0x107)](_0x15793a=>_0x15793a[_0x569bae(0xdd)]===_0x569bae(0xef)&&_0x15793a[_0x569bae(0xe0)][_0x569bae(0xe0)][_0x569bae(0x128)]!==0x0&&_0x15793a[_0x569bae(0xe0)][_0x569bae(0xe0)][_0x569bae(0x102)]&&_0x15793a['data']['data'][_0x569bae(0x102)][_0x569bae(0xea)]===_0x569bae(0x138)),this[_0x569bae(0xe1)]=new ActorSpellPreparedToggler['AppFilter'](),this['_list']=null,this[_0x569bae(0x121)]=null,this[_0x569bae(0x123)]=null;}['_handleFilterChange'](){const _0x4ec729=_0x8e25,_0x31798c=this['_pageFilter'][_0x4ec729(0xd8)][_0x4ec729(0xf0)]();this[_0x4ec729(0x118)][_0x4ec729(0x107)](_0x5b09b7=>this[_0x4ec729(0xe1)][_0x4ec729(0xee)](_0x31798c,this[_0x4ec729(0x106)][_0x5b09b7['ix']]));}[_0x28bf95(0xe7)](_0x1740a6){const _0x5e95ca=_0x28bf95;super[_0x5e95ca(0xe7)](_0x1740a6),this[_0x5e95ca(0x109)](_0x1740a6),this['_activateListeners_initBtnReset'](_0x1740a6),this['_activateListeners_pInitListAndFilters'](_0x1740a6);}[_0x28bf95(0x109)](_0x49f366){const _0x30e3a3=_0x28bf95;_0x49f366[_0x30e3a3(0xf9)]('[name=\x22btn-run\x22]')['click'](async()=>{const _0x4311b3=_0x30e3a3;for(const _0x1a9001 of this[_0x4311b3(0x118)][_0x4311b3(0x132)]){await _0x1a9001[_0x4311b3(0xe0)][_0x4311b3(0xda)]();}});}[_0x28bf95(0x131)](_0x1507f1){const _0x3b5bdf=_0x28bf95;this[_0x3b5bdf(0x121)]=_0x1507f1[_0x3b5bdf(0xf9)](_0x3b5bdf(0xf8))[_0x3b5bdf(0xe3)](()=>{const _0x177660=_0x3b5bdf;_0x1507f1[_0x177660(0xf9)](_0x177660(0xd7))['val']('');if(!this[_0x177660(0x118)])return;this[_0x177660(0x118)][_0x177660(0xfe)](),this[_0x177660(0x118)][_0x177660(0x132)]['forEach'](_0x56470e=>_0x56470e[_0x177660(0xe0)][_0x177660(0xde)]());});}[_0x28bf95(0x127)](_0x332521){const _0x1ffa4e=_0x28bf95;this[_0x1ffa4e(0x123)]=_0x332521[_0x1ffa4e(0xf9)](_0x1ffa4e(0xd7)),this['_list']=new List({'$iptSearch':this[_0x1ffa4e(0x123)],'$wrpList':_0x332521[_0x1ffa4e(0xf9)](_0x1ffa4e(0x112)),'isUseJquery':!![],'fnSort':PageFilterSpells['sortSpells']}),SortUtil[_0x1ffa4e(0x126)](_0x332521[_0x1ffa4e(0xf9)](_0x1ffa4e(0x11a)),this[_0x1ffa4e(0x118)]);const _0x268fb3=_0x332521[_0x1ffa4e(0xf9)](_0x1ffa4e(0xf2))[_0x1ffa4e(0x124)](()=>{const _0x50039f=_0x1ffa4e,_0x34c24f=_0x268fb3[_0x50039f(0x134)]('checked');this[_0x50039f(0x118)][_0x50039f(0xff)][_0x50039f(0x101)](_0x37c102=>_0x37c102[_0x50039f(0xe0)][_0x50039f(0x10d)](_0x34c24f));});return this['_pageFilter'][_0x1ffa4e(0x10f)]({'$iptSearch':this[_0x1ffa4e(0x123)],'$btnReset':this[_0x1ffa4e(0x121)],'$btnOpen':_0x332521['find'](_0x1ffa4e(0x125)),'$btnToggleSummaryHidden':_0x332521[_0x1ffa4e(0xf9)]('[name=btn-toggle-summary]'),'$wrpMiniPills':_0x332521[_0x1ffa4e(0xf9)]('.fltr__mini-view'),'namespace':_0x1ffa4e(0x110)})[_0x1ffa4e(0x11e)](()=>{const _0xf6254=_0x1ffa4e;this[_0xf6254(0x106)][_0xf6254(0x101)](_0x18b33b=>this[_0xf6254(0xe1)][_0xf6254(0x12e)](_0x18b33b)),this[_0xf6254(0x118)][_0xf6254(0x135)](this[_0xf6254(0xfd)],{'fnGetName':_0x702393=>_0x702393[_0xf6254(0xed)],'fnGetValues':_0x308dd0=>({'level':MiscUtil['get'](_0x308dd0,_0xf6254(0xe0),_0xf6254(0xe0),_0xf6254(0x128))||-0x1}),'fnGetData':_0x32c711=>{const _0x373487=_0xf6254,_0x4de687=$(_0x32c711[_0x373487(0xeb)]);return{'cbSel':_0x4de687[_0x373487(0xf9)](_0x373487(0x11f))[0x0],'$dispModified':_0x4de687[_0x373487(0xf9)](_0x373487(0xf1))};},'fnBindListeners':(_0x5305df,_0x157418)=>{const _0x2fc1a4=_0xf6254,_0x53dabe={'prepared':_0x157418[_0x2fc1a4(0xe0)][_0x2fc1a4(0xe0)][_0x2fc1a4(0x102)][_0x2fc1a4(0x138)]},_0x536604=()=>{const _0x3a1e9d=_0x2fc1a4;_0x5305df[_0x3a1e9d(0xe0)][_0x3a1e9d(0x136)][_0x3a1e9d(0x12c)]=_0x53dabe[_0x3a1e9d(0x138)],_0x5305df[_0x3a1e9d(0xe0)]['$dispModified'][_0x3a1e9d(0x119)](_0x3a1e9d(0x113),_0x157418[_0x3a1e9d(0xe0)]['data'][_0x3a1e9d(0x102)][_0x3a1e9d(0x138)]===_0x53dabe[_0x3a1e9d(0x138)]);},_0x5ab3db=_0x4a565f=>{const _0x20a3fc=_0x2fc1a4;_0x53dabe[_0x20a3fc(0x138)]=_0x4a565f,_0x536604();},_0x3ed119=()=>{const _0xab59fa=_0x2fc1a4;_0x53dabe[_0xab59fa(0x138)]=_0x157418[_0xab59fa(0xe0)][_0xab59fa(0xe0)]['preparation'][_0xab59fa(0x138)],_0x536604();},_0x38cf43=async()=>{const _0x3da704=_0x2fc1a4;await _0x157418['update']({'data':{'preparation':{'prepared':_0x53dabe[_0x3da704(0x138)]}}}),_0x536604();};_0x5305df['data']['setNextState']=_0x5ab3db,_0x5305df[_0x2fc1a4(0xe0)]['resetNextState']=_0x3ed119,_0x5305df['data'][_0x2fc1a4(0xda)]=_0x38cf43,_0x5305df['ele']['addEventListener'](_0x2fc1a4(0xe3),_0x83a869=>{const _0x4b752c=_0x2fc1a4;ListUiUtil[_0x4b752c(0xdb)](this[_0x4b752c(0x118)],_0x5305df,_0x83a869,{'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x98582a,_0x1359a4)=>_0x98582a[_0x4b752c(0xe0)][_0x4b752c(0x10d)](_0x1359a4)});});}}),this[_0xf6254(0x118)][_0xf6254(0xe9)](),this[_0xf6254(0xe1)][_0xf6254(0xd8)][_0xf6254(0xf3)](),this[_0xf6254(0xe1)][_0xf6254(0xd8)]['on'](FilterBox[_0xf6254(0x11b)],this[_0xf6254(0x105)]['bind'](this)),this[_0xf6254(0x105)]();});}[_0x28bf95(0xe6)](){const _0x376cfb=_0x28bf95;return this['_rows']=this[_0x376cfb(0xfd)]['map']((_0x2d3d57,_0x16933c)=>({'name':_0x2d3d57['name'],'isPrepared':_0x2d3d57['data'][_0x376cfb(0xe0)][_0x376cfb(0x102)][_0x376cfb(0x138)],'level':MiscUtil[_0x376cfb(0x122)](_0x2d3d57,_0x376cfb(0xe0),_0x376cfb(0xe0),_0x376cfb(0x128))||-0x1,'concentration':!!MiscUtil['get'](_0x2d3d57,_0x376cfb(0xe0),'data',_0x376cfb(0x137),'concentration'),'v':!!MiscUtil['get'](_0x2d3d57,'data',_0x376cfb(0xe0),_0x376cfb(0x137),_0x376cfb(0xdc)),'s':!!MiscUtil[_0x376cfb(0x122)](_0x2d3d57,_0x376cfb(0xe0),_0x376cfb(0xe0),'components',_0x376cfb(0xf7)),'m':!!MiscUtil['get'](_0x2d3d57,_0x376cfb(0xe0),_0x376cfb(0xe0),_0x376cfb(0x137),_0x376cfb(0x111)),'ritual':!!MiscUtil['get'](_0x2d3d57,_0x376cfb(0xe0),_0x376cfb(0xe0),_0x376cfb(0x137),_0x376cfb(0x104)),'ix':_0x16933c})),{...super['getData'](),'rows':this[_0x376cfb(0x106)]};}[_0x28bf95(0x10b)](..._0x1b0ca4){const _0x62b877=_0x28bf95;return this[_0x62b877(0xe1)][_0x62b877(0x103)](),super['close'](..._0x1b0ca4);}}ActorSpellPreparedToggler[_0x28bf95(0x11c)]=class extends AppFilter{constructor(){const _0x40cb92=_0x28bf95;super(),this[_0x40cb92(0x12a)]=new Filter({'header':'Level','items':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9],'displayFn':_0x1586c8=>~_0x1586c8?PageFilterSpells[_0x40cb92(0x10a)](_0x1586c8):_0x40cb92(0xdf)}),this[_0x40cb92(0x10c)]=new Filter({'header':_0x40cb92(0x133),'items':[_0x40cb92(0x100),_0x40cb92(0x120),_0x40cb92(0x12d),'Material',_0x40cb92(0xe5)],'itemSortFn':PageFilterSpells['sortMetaFilter']});}['addToFilters'](_0x422543,_0x1f88b4){const _0x382fd8=_0x28bf95;if(_0x1f88b4)return;this['_levelFilter'][_0x382fd8(0xe2)](_0x422543[_0x382fd8(0x128)]),_0x422543['_fMisc']=[];if(_0x422543[_0x382fd8(0xf6)])_0x422543['_fMisc'][_0x382fd8(0x116)](_0x382fd8(0x100));if(_0x422543['v'])_0x422543['_fMisc'][_0x382fd8(0x116)](_0x382fd8(0x120));if(_0x422543['s'])_0x422543[_0x382fd8(0xf4)][_0x382fd8(0x116)](_0x382fd8(0x12d));if(_0x422543['m'])_0x422543[_0x382fd8(0xf4)][_0x382fd8(0x116)](_0x382fd8(0xd9));if(_0x422543[_0x382fd8(0x104)])_0x422543[_0x382fd8(0xf4)][_0x382fd8(0x116)](_0x382fd8(0xe5));}async[_0x28bf95(0x11d)](_0x1f6670){const _0x37a6a8=_0x28bf95;_0x1f6670[_0x37a6a8(0xe8)]=[this[_0x37a6a8(0x12a)],this[_0x37a6a8(0x10c)]];}[_0x28bf95(0xee)](_0x22350,_0x234af8){const _0xe879e7=_0x28bf95;return this[_0xe879e7(0xf5)][_0xe879e7(0xee)](_0x22350,_0x234af8[_0xe879e7(0x128)],_0x234af8[_0xe879e7(0xf4)]);}};export{ActorSpellPreparedToggler};