const _0x5158=['exec','walk','_$wrpHeaderControls','$wrpHeaderControls','table','replace','stripTags','rows','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Show/Hide\x20Table\x22>View\x20Table</button>','appendTo','map','_tables','_getProps','copy','_addHookBase','_proxyAssignSimple','getTableRollMode','replaceWith','Show\x20Tables','Personality\x20Trait','getMaxWindowHeight','filter','No\x20cell\x20found\x20for\x20row\x20','empty','6199HUoFRH','click','entries','STR_SEE_CONSOLE','515rVPYln','Ideal','mergeMap','roll','8ACfObb','every','1uElDeu','pGetFormData','<button\x20class=\x22btn\x20btn-xs\x20btn-default\x22>Roll</button>','trim','Characteristics','_getCharacteristicTables','data','find','length','each','getMaxWindowWidth','ideal','55431flhmRS','html','pGetUserInput','values','WALKER_READONLY_GENERIC','getEntriesAsText','forEach','text','toggleVe','notifications','_PROPS','291341QXvcVl','258049uGXida','bond','Bond','No\x20result\x20found\x20for\x20roll\x20of\x20','custom','Mode','</div>','_PROP_TO_ACTOR_DETAILS_PROP','keys','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22>Hide\x20Tables</button>','Hide\x20Tables','colLabels','7PqFBfU','pGetImportCompApplicationFormData','toggleClass','getOrSet','204518qHELVj','toLowerCase','type','_state','trait','assign','Flaw','<div\x20class=\x22render-roller\x22>','personalitytrait','_PROP_TO_FULL','<span\x20data-plut-temp-dice=\x22true\x22></span>','details','constructor','render','propMode','__state','[data-plut-temp-dice]','SYM_UI_SKIP','standard','[data-roll-min]','ROLL_COL_STANDARD','71998sbCEFE','error'];const _0x306c=function(_0x105b4a,_0x23ff47){_0x105b4a=_0x105b4a-0x104;let _0x515802=_0x5158[_0x105b4a];return _0x515802;};const _0xbe96d0=_0x306c;(function(_0x1eb8e6,_0x38e3db){const _0x123b7d=_0x306c;while(!![]){try{const _0x429f08=parseInt(_0x123b7d(0x106))+-parseInt(_0x123b7d(0x12c))+-parseInt(_0x123b7d(0x15c))*parseInt(_0x123b7d(0x150))+-parseInt(_0x123b7d(0x107))+parseInt(_0x123b7d(0x117))+parseInt(_0x123b7d(0x14e))*-parseInt(_0x123b7d(0x14a))+parseInt(_0x123b7d(0x146))*parseInt(_0x123b7d(0x113));if(_0x429f08===_0x38e3db)break;else _0x1eb8e6['push'](_0x1eb8e6['shift']());}catch(_0x21afad){_0x1eb8e6['push'](_0x1eb8e6['shift']());}}}(_0x5158,0x24896));import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{Util}from'./Util.js';class Charactermancer_Background_Characteristics extends BaseComponent{static async[_0xbe96d0(0x15e)]({entries:_0x205d72}={}){const _0x4e40f9=_0xbe96d0;if(!_0x205d72||!_0x205d72[_0x4e40f9(0x158)])return{'isFormComplete':!![],'data':{}};const _0x5a842b=new this({'entries':_0x205d72});return Charactermancer_Util[_0x4e40f9(0x114)]({'comp':_0x5a842b,'width':Util[_0x4e40f9(0x15a)](0x280),'height':Util[_0x4e40f9(0x142)]()});}static async['pFillActorCharacteristicsData'](_0x351f97,_0x51c8d7,_0x3b12a9){const _0x17ea6d=_0xbe96d0;if(!_0x351f97||!_0x351f97[_0x17ea6d(0x158)])return;const _0x229f61=await this[_0x17ea6d(0x15e)]({'entries':_0x351f97});if(!_0x229f61)return _0x3b12a9['isCancelled']=!![];if(_0x229f61===VeCt[_0x17ea6d(0x128)])return;this['applyFormDataToActorUpdate'](_0x51c8d7,_0x229f61);}static['applyFormDataToActorUpdate'](_0x9814c3,_0x2fd8d1){const _0x42b215=_0xbe96d0;MiscUtil[_0x42b215(0x116)](_0x9814c3,_0x42b215(0x156),_0x42b215(0x122),{}),Charactermancer_Background_Characteristics[_0x42b215(0x105)][_0x42b215(0x162)](_0x2a2533=>{const _0x2f07cf=_0x42b215;if(!_0x2fd8d1[_0x2f07cf(0x156)][_0x2a2533])return;_0x9814c3[_0x2f07cf(0x156)]['details'][Charactermancer_Background_Characteristics[_0x2f07cf(0x10e)][_0x2a2533]]=_0x2fd8d1['data'][_0x2a2533];});}constructor(_0x3980cf){const _0x1639ce=_0xbe96d0;_0x3980cf=_0x3980cf||{},super(),this['_tables']=Charactermancer_Background_Characteristics['_getCharacteristicTables'](_0x3980cf[_0x1639ce(0x148)]),this[_0x1639ce(0x130)]=_0x3980cf[_0x1639ce(0x131)],Object[_0x1639ce(0x11c)](this[_0x1639ce(0x126)],Charactermancer_Background_Characteristics[_0x1639ce(0x105)]['mergeMap'](_0x2d71de=>({[Charactermancer_Background_Characteristics[_0x1639ce(0x13a)](_0x2d71de)[_0x1639ce(0x125)]]:this['_tables'][_0x2d71de]!=null?_0x1639ce(0x129):_0x1639ce(0x10b)})));}static[_0xbe96d0(0x13a)](_0x56b62b){const _0x407be3=_0xbe96d0;return{'propMode':_0x56b62b+_0x407be3(0x10c)};}get['modalTitle'](){const _0xd4c0ee=_0xbe96d0;return _0xd4c0ee(0x154);}['render'](_0x1f8bfb){const _0x38086d=_0xbe96d0,_0x5cd1f4=Charactermancer_Background_Characteristics[_0x38086d(0x105)][_0x38086d(0x138)]((_0x1c4670,_0x15da50)=>{const _0x34aee6=_0x38086d,{propMode:_0x296d11}=this[_0x34aee6(0x123)]['_getProps'](_0x1c4670);let _0xe63d9e,_0x302847;if(this['_tables'][_0x1c4670]){const _0x5e32e9=!this[_0x34aee6(0x139)][_0x1c4670]?null:$(_0x34aee6(0x136))[_0x34aee6(0x147)](()=>this[_0x34aee6(0x11a)][_0x296d11]=this[_0x34aee6(0x11a)][_0x296d11]===_0x34aee6(0x10b)?_0x34aee6(0x129):_0x34aee6(0x10b));_0xe63d9e=$$`<div class="flex-v-center">
					${_0x5e32e9}
				</div>`;const _0x35bed5=this[_0x34aee6(0x139)][_0x1c4670],_0x1912d7=Vetools['withCustomDiceRenderingPatch'](()=>{const _0x234766=_0x34aee6,_0x3f4d3a=$(''+Renderer['get']()[_0x234766(0x124)](_0x35bed5));return _0x3f4d3a['find'](_0x234766(0x127))[_0x234766(0x159)]((_0x2b6232,_0x2db033)=>{const _0x5abbcb=_0x234766,_0x3bc0e1=$(_0x2db033),_0x7eaa1=$(_0x5abbcb(0x152))[_0x5abbcb(0x147)](()=>{const _0x5e7f01=_0x5abbcb;let _0x8fcbb3;try{_0x8fcbb3=new Roll(Renderer[_0x5e7f01(0x134)](_0x35bed5[_0x5e7f01(0x112)][0x0])),_0x8fcbb3[_0x5e7f01(0x14d)](),_0x8fcbb3['toMessage']();}catch(_0x1f8cc){return ui[_0x5e7f01(0x104)]['error']('Failed\x20to\x20roll\x20dice!\x20'+VeCt[_0x5e7f01(0x149)]);}const _0x2d236a=_0x35bed5[_0x5e7f01(0x135)][_0x8fcbb3['total']]?.[0x1];if(!_0x2d236a)return ui[_0x5e7f01(0x104)][_0x5e7f01(0x12d)](_0x5e7f01(0x10a)+_0x8fcbb3['total']+'!');this[_0x5e7f01(0x11a)][_0x1c4670]=MiscUtil[_0x5e7f01(0x13b)](_0x2d236a);});_0x3bc0e1[_0x5abbcb(0x13f)](_0x7eaa1);}),_0x3f4d3a[_0x234766(0x157)](_0x234766(0x12a))[_0x234766(0x159)]((_0x5afb64,_0x262fc5)=>{const _0x155683=_0x234766,_0x13b9fc=$(_0x262fc5),_0x258e10=_0x13b9fc[_0x155683(0x15d)]();$(_0x155683(0x11e)+_0x258e10+_0x155683(0x10d))[_0x155683(0x147)](()=>{const _0xcfac2e=_0x155683,_0x4abb02=_0x35bed5['rows'][_0x5afb64]?.[0x1];if(!_0x4abb02)return ui[_0xcfac2e(0x104)]['error'](_0xcfac2e(0x144)+_0x5afb64+'!');this[_0xcfac2e(0x11a)][_0x1c4670]=MiscUtil[_0xcfac2e(0x13b)](_0x4abb02);})[_0x155683(0x137)](_0x13b9fc[_0x155683(0x145)]());}),_0x3f4d3a;},()=>{const _0x50c799=_0x34aee6;return _0x50c799(0x121);});_0x302847=$$`<div class="flex-col w-100 mb-2 ve-small">
					${_0x1912d7}
				</div>`;const _0x19e834=()=>{const _0x52f693=_0x34aee6;_0x5e32e9[_0x52f693(0x115)]('active',this[_0x52f693(0x11a)][_0x296d11]===_0x52f693(0x129)),_0x302847[_0x52f693(0x164)](this[_0x52f693(0x11a)][_0x296d11]===_0x52f693(0x129));};this[_0x34aee6(0x13c)](_0x296d11,_0x19e834),_0x19e834();}const _0x1b9473=ComponentUiUtil['$getIptEntries'](this,_0x1c4670);return $$`<div class="flex-col ${_0x15da50<Charactermancer_Background_Characteristics[_0x34aee6(0x105)][_0x34aee6(0x158)]-0x1?'mb-2':''}">
				<div class="split-v-center mb-2">
					<div>${Charactermancer_Background_Characteristics[_0x34aee6(0x120)][_0x1c4670]}:</div>
					${_0xe63d9e}
				</div>

				${_0x302847}

				${_0x1b9473}
			</div>`;}),_0x39276c=!!Object[_0x38086d(0x10f)](this[_0x38086d(0x139)])[_0x38086d(0x158)];let _0x28c929;if(_0x39276c){_0x28c929=$(_0x38086d(0x110))[_0x38086d(0x147)](()=>{const _0x5502b8=_0x38086d,_0x4cbc30=_0x28c929[_0x5502b8(0x163)]()===_0x5502b8(0x111);this[_0x5502b8(0x13d)]('state',Charactermancer_Background_Characteristics['_PROPS'][_0x5502b8(0x14c)](_0x580253=>({[Charactermancer_Background_Characteristics[_0x5502b8(0x13a)](_0x580253)['propMode']]:this['_tables'][_0x580253]!=null&&!_0x4cbc30?'standard':'custom'}))),_0x28c929[_0x5502b8(0x163)](_0x4cbc30?_0x5502b8(0x140):'Hide\x20Tables');});const _0x245407=()=>{const _0x538671=_0x38086d,_0x2740c5=Charactermancer_Background_Characteristics['_PROPS'][_0x538671(0x143)](_0x5105fe=>this[_0x538671(0x139)][_0x5105fe])[_0x538671(0x138)](_0x3140af=>this[_0x538671(0x11a)][Charactermancer_Background_Characteristics[_0x538671(0x13a)](_0x3140af)[_0x538671(0x125)]]===_0x538671(0x10b));if(_0x2740c5[_0x538671(0x14f)](Boolean))_0x28c929[_0x538671(0x163)](_0x538671(0x140));else{if(_0x2740c5[_0x538671(0x14f)](_0x2933d6=>!_0x2933d6))_0x28c929[_0x538671(0x163)](_0x538671(0x111));}};Charactermancer_Background_Characteristics['_PROPS'][_0x38086d(0x138)](_0x225483=>Charactermancer_Background_Characteristics[_0x38086d(0x13a)](_0x225483)[_0x38086d(0x125)])[_0x38086d(0x162)](_0x129415=>this['_addHookBase'](_0x129415,_0x245407)),_0x245407();}let _0x2d8899;if(!this[_0x38086d(0x130)]&&_0x39276c)_0x2d8899=$$`<div class="mb-2 flex-h-right">${_0x28c929}</div>`;else this['_$wrpHeaderControls']&&_0x39276c&&this['_$wrpHeaderControls']['append'](_0x28c929);$$(_0x1f8bfb)`
			${_0x2d8899}
			${_0x5cd1f4}
		`;}[_0xbe96d0(0x151)](){const _0x3026e8=_0xbe96d0,_0x141551=Charactermancer_Background_Characteristics['_PROPS'][_0x3026e8(0x14c)](_0x27e300=>({[_0x27e300]:UiUtil[_0x3026e8(0x161)](this[_0x3026e8(0x11a)][_0x27e300])}));return{'isFormComplete':Object[_0x3026e8(0x15f)](_0x141551)[_0x3026e8(0x14f)](_0x2a9da7=>_0x2a9da7[_0x3026e8(0x153)]()),'data':_0x141551};}['_getDefaultState'](){const _0xfbf1e7=_0xbe96d0;return Charactermancer_Background_Characteristics['_PROPS'][_0xfbf1e7(0x14c)](_0x24a80d=>({[_0x24a80d]:''}));}static[_0xbe96d0(0x155)](_0x8819c5){const _0x2d5f23=_0xbe96d0;if(!_0x8819c5)return{};const _0x3b2ac0={};return DataConverter[_0x2d5f23(0x160)][_0x2d5f23(0x12f)](_0x8819c5,{'object':_0x1ea420=>{const _0x28c856=_0x2d5f23;if(_0x1ea420[_0x28c856(0x119)]!==_0x28c856(0x132)||_0x1ea420?.['colLabels']?.[_0x28c856(0x158)]!==0x2||Renderer[_0x28c856(0x13e)](_0x1ea420)!==RollerUtil[_0x28c856(0x12b)])return;const _0x3afd1e=_0x1ea420[_0x28c856(0x112)][0x1][_0x28c856(0x118)]()[_0x28c856(0x133)](/\s+/g,''),_0x4de9d7=/^(personalitytrait|ideal|bond|flaw)$/i[_0x28c856(0x12e)](_0x3afd1e);if(!_0x4de9d7)return;_0x3b2ac0[_0x3afd1e]=MiscUtil[_0x28c856(0x13b)](_0x1ea420);}}),_0x3b2ac0;}}Charactermancer_Background_Characteristics[_0xbe96d0(0x105)]=[_0xbe96d0(0x11f),_0xbe96d0(0x15b),_0xbe96d0(0x108),'flaw'],Charactermancer_Background_Characteristics['_PROP_TO_FULL']={'personalitytrait':_0xbe96d0(0x141),'ideal':_0xbe96d0(0x14b),'bond':_0xbe96d0(0x109),'flaw':_0xbe96d0(0x11d)},Charactermancer_Background_Characteristics['_PROP_TO_ACTOR_DETAILS_PROP']={'personalitytrait':_0xbe96d0(0x11b),'ideal':'ideal','bond':'bond','flaw':'flaw'};export{Charactermancer_Background_Characteristics};