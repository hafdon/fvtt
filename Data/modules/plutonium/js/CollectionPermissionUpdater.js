'use strict';const _0x408b=['.veapp__list','allPlayerPermissions','_collectionName','967443QxqZvZ','_setMassCheckboxValues','select[name=\x22permu__sel-each-player-all-entities\x22]','getValues','29CSTPQV','select[data-permu-type=\x22sel-entity-all-players\x22]','type','value','Failed\x20to\x20update\x20','select[data-permu-type=\x22sel-entity\x22]','192443kmdYEO','target','.permu__row-ent','_$cbAll','1292419denOqO','activateListeners','selAllPlayers','children','get','click','forEach','visibleItems','input[data-permu-player-id]','path','_sortEntities','select[data-permu-type=\x22sel-player-all-entities\x22]','getFolderPath','[name=\x22btn-reset\x22]','change','render','_pUpdateItemPermissions','unknown','/template/CollectionPermissionUpdater.handlebars','tagName','metasPlayerUpdates','data','label[data-permu-type=\x22lbl-entity-all-players\x22]','filter','Updating...','text','_$iptSearch','select[name=\x22permu__sel-all-players-all-entities\x22]','ele','map','895420ouigZb','style','close','checked','input','select[data-permu-type=\x22sel-entity-each-player\x22]','mergeMap','permission','.search','[name=btn-filter]','data-permu-value','bind','allPlayerUpdate','items','_handleFilterChange','val','scroll','_pHandleBtnClick_reset','_pHandleBtnClick_run','.fltr__mini-view','values','_$btnReset','closest','_list','tool-permissions_','filterBox','1LFCmev','entityMeta','_$btnRun','Fvtt','cbEachPlayer','cbAllPlayers','getData','1207505OvGznh','prop','_$rowMass','SELECT','_$cbEach','folder','label[data-permu-type=\x22lbl-entity-player\x22]','handleSelectClick','length','data-permu-player-id','name','_setMassAllPlayerCheckboxValues','selsPlayers','input[name=\x22permu__cb-each-player-all-entities\x22]','warn','update','cbsPlayers','label[data-permu-type=\x22lbl-player-all-entities\x22]','Update\x20Complete','slice','doAbsorbItems','attr','Save','pRunTasks','ascSortLower','Please\x20make\x20some\x20changes\x20first!','find','findIndex','setAttribute','_collection','disabled','1059441PpLibR','then','4qEqIOQ','default','40263bBknUt','getPermissionsEnum','push','_players','_pageFilter','.permu__cell-ent-name','EVNT_VALCHANGE','scrollLeft','pInitFilterBox','playerPermissions','STR_SEE_CONSOLE','entities','addToFilters','[name=btn-toggle-summary]','MODULE_LOCATION','getMaxWindowHeight','_entities','toDisplay','teardown','data-permu-entity-id'];const _0x5d59=function(_0x1b1c2f,_0x596fdf){_0x1b1c2f=_0x1b1c2f-0x130;let _0x408bcc=_0x408b[_0x1b1c2f];return _0x408bcc;};const _0x58feb0=_0x5d59;(function(_0x50ecef,_0x5dba10){const _0x5ef1fb=_0x5d59;while(!![]){try{const _0x1811ee=-parseInt(_0x5ef1fb(0x18b))*-parseInt(_0x5ef1fb(0x170))+parseInt(_0x5ef1fb(0x16c))+parseInt(_0x5ef1fb(0x187))+parseInt(_0x5ef1fb(0x1b3))+-parseInt(_0x5ef1fb(0x16e))*parseInt(_0x5ef1fb(0x191))+parseInt(_0x5ef1fb(0x146))*-parseInt(_0x5ef1fb(0x195))+-parseInt(_0x5ef1fb(0x14d));if(_0x1811ee===_0x5dba10)break;else _0x50ecef['push'](_0x50ecef['shift']());}catch(_0x4f5692){_0x50ecef['push'](_0x50ecef['shift']());}}}(_0x408b,0xc840b));import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';import{BaseCollectionTool}from'./BaseCollectionTool.js';import{UtilApplications}from'./UtilApplications.js';import{AppFilterBasic}from'./FilterApplications.js';class CollectionPermissionUpdater extends BaseCollectionTool{constructor(_0x3fba6c){const _0x3c2d46=_0x5d59;super({'title':'Bulk\x20Permission\x20Editor','template':SharedConsts[_0x3c2d46(0x17e)]+_0x3c2d46(0x1a7),'width':0x3c0,'height':Util[_0x3c2d46(0x17f)](),'resizable':!![]},_0x3fba6c),this[_0x3c2d46(0x174)]=new AppFilterBasic(),this[_0x3c2d46(0x143)]=null,this['_$cbAll']=null,this['_$rowMass']=null,this['_$cbEach']=null,this[_0x3c2d46(0x148)]=null,this[_0x3c2d46(0x1af)]=null,this[_0x3c2d46(0x141)]=null,this[_0x3c2d46(0x173)]=null,this[_0x3c2d46(0x180)]=null;}[_0x58feb0(0x196)](_0x57f106){const _0xc27af0=_0x58feb0;super[_0xc27af0(0x196)](_0x57f106);const _0x3bee5c='-2',_0x18e74f=_0x57f106[0x0][_0xc27af0(0x198)][0x2],_0x30094b=$(_0x18e74f)[_0xc27af0(0x167)](_0xc27af0(0x175))[_0xc27af0(0x1b2)]((_0x15e662,_0xa35c80)=>_0xa35c80)[_0xc27af0(0x199)]();_0x18e74f['addEventListener'](_0xc27af0(0x13c),()=>{const _0x2e9277=_0xc27af0,_0x453501=_0x18e74f[_0x2e9277(0x177)];_0x30094b['forEach'](_0x16bff8=>_0x16bff8[_0x2e9277(0x1b4)]['left']=_0x453501+'px');});const _0x393a87=_0x18e74f['children'][0x1];this[_0xc27af0(0x14f)]=$(_0x393a87);const _0x478694=this['_$rowMass'][_0xc27af0(0x167)](_0xc27af0(0x1b0))[_0xc27af0(0x1a3)](()=>{const _0x7ec71b=_0xc27af0,_0x3c51be=_0x478694[_0x7ec71b(0x13b)]();this[_0x7ec71b(0x143)][_0x7ec71b(0x19c)][_0x7ec71b(0x19b)](_0x576b7e=>{const _0x50a10c=_0x7ec71b;if(!_0x576b7e[_0x50a10c(0x1aa)][_0x50a10c(0x14b)][_0x50a10c(0x1b6)])return;_0x576b7e[_0x50a10c(0x1aa)][_0x50a10c(0x197)]['value']=_0x3c51be,_0x576b7e[_0x50a10c(0x1aa)][_0x50a10c(0x197)]['setAttribute'](_0x50a10c(0x136),_0x3c51be);}),_0x478694['val'](_0x3bee5c);});this[_0xc27af0(0x194)]=this['_$rowMass'][_0xc27af0(0x167)]('input[name=\x22permu__cb-all-players-all-entities\x22]')[_0xc27af0(0x1a3)](()=>{const _0x158e48=_0xc27af0,_0x2fca14=this[_0x158e48(0x194)]['prop'](_0x158e48(0x1b6));this[_0x158e48(0x158)](_0x2fca14),this[_0x158e48(0x143)]['visibleItems'][_0x158e48(0x19b)](_0x3d3519=>{const _0x47616c=_0x158e48;_0x3d3519[_0x47616c(0x1aa)][_0x47616c(0x14b)][_0x47616c(0x1b6)]=_0x2fca14;});});const _0x5aff12=this[_0xc27af0(0x14f)][_0xc27af0(0x167)](_0xc27af0(0x189))[_0xc27af0(0x1a3)](()=>{const _0x14b9f1=_0xc27af0,_0x1c8685=_0x5aff12[_0x14b9f1(0x13b)](),_0x111b0e=this[_0x14b9f1(0x143)][_0x14b9f1(0x139)][0x0]?this['_list'][_0x14b9f1(0x139)][0x0][_0x14b9f1(0x1aa)]['cbsPlayers'][_0x14b9f1(0x155)]:0x0;for(let _0x7d50cf=0x0;_0x7d50cf<_0x111b0e;++_0x7d50cf){this[_0x14b9f1(0x143)][_0x14b9f1(0x19c)]['forEach'](_0x35b1e8=>{const _0x1fd603=_0x14b9f1;if(!_0x35b1e8['data'][_0x1fd603(0x15d)][_0x7d50cf][_0x1fd603(0x1b6)])return;_0x35b1e8[_0x1fd603(0x1aa)]['selsPlayers'][_0x7d50cf]['value']=_0x1c8685,_0x35b1e8[_0x1fd603(0x1aa)][_0x1fd603(0x159)][_0x7d50cf][_0x1fd603(0x169)](_0x1fd603(0x136),_0x1c8685);});}_0x5aff12[_0x14b9f1(0x13b)](_0x3bee5c);});this[_0xc27af0(0x151)]=this[_0xc27af0(0x14f)][_0xc27af0(0x167)](_0xc27af0(0x15a))[_0xc27af0(0x1a3)](()=>{const _0x59db53=_0xc27af0,_0x38a78f=this[_0x59db53(0x151)][_0x59db53(0x14e)](_0x59db53(0x1b6));this[_0x59db53(0x188)](_0x38a78f),this['_list'][_0x59db53(0x19c)][_0x59db53(0x19b)](_0x232c14=>{const _0xfd680d=_0x59db53;_0x232c14[_0xfd680d(0x1aa)][_0xfd680d(0x14a)][_0xfd680d(0x1b6)]=_0x38a78f,_0x232c14[_0xfd680d(0x1aa)][_0xfd680d(0x15d)]['forEach'](_0x31f182=>_0x31f182[_0xfd680d(0x1b6)]=_0x38a78f);});}),this[_0xc27af0(0x14f)]['on'](_0xc27af0(0x1a3),_0xc27af0(0x1a0),_0x4257e4=>{const _0x5c0997=_0xc27af0,_0x4bfdf4=$(_0x4257e4['target']),_0x16bc47=_0x4bfdf4['val'](),_0x569a91=_0x4bfdf4[_0x5c0997(0x162)](_0x5c0997(0x156)),_0x4a1fbd=this['_players'][_0x5c0997(0x168)](_0x53482e=>_0x53482e['id']===_0x569a91);this['_list']['visibleItems']['forEach'](_0x521113=>{const _0x46c542=_0x5c0997;if(!_0x521113['data'][_0x46c542(0x15d)][_0x4a1fbd][_0x46c542(0x1b6)])return;_0x521113[_0x46c542(0x1aa)][_0x46c542(0x159)][_0x4a1fbd][_0x46c542(0x18e)]=_0x16bc47,_0x521113['data']['selsPlayers'][_0x4a1fbd][_0x46c542(0x169)](_0x46c542(0x136),_0x16bc47);}),_0x4bfdf4[_0x5c0997(0x13b)](_0x3bee5c);}),this[_0xc27af0(0x14f)]['on']('click',_0xc27af0(0x15e),_0x91aba9=>{const _0x10a2f4=_0xc27af0;if(_0x91aba9[_0x10a2f4(0x192)][_0x10a2f4(0x1a8)]==='SELECT')return;const _0x4bacf8=$(_0x91aba9[_0x10a2f4(0x192)])[_0x10a2f4(0x142)]('.permu__cell-player'),_0x47c45a=_0x4bacf8[_0x10a2f4(0x167)](_0x10a2f4(0x130)),_0x1d3579=_0x47c45a[_0x10a2f4(0x14e)]('checked'),_0x36884a=_0x47c45a[_0x10a2f4(0x162)](_0x10a2f4(0x156)),_0x5afaff=this['_players'][_0x10a2f4(0x168)](_0xcfa0e8=>_0xcfa0e8['id']===_0x36884a);this[_0x10a2f4(0x143)][_0x10a2f4(0x19c)]['forEach'](_0x53b208=>{const _0x2bd42c=_0x10a2f4;_0x53b208[_0x2bd42c(0x1aa)]['cbsPlayers'][_0x5afaff][_0x2bd42c(0x1b6)]=_0x1d3579;});}),_0x57f106['on'](_0xc27af0(0x1a3),_0xc27af0(0x18c),_0x2790e4=>{const _0x148fe7=_0xc27af0,_0x476b21=$(_0x2790e4[_0x148fe7(0x192)]);_0x476b21[_0x148fe7(0x162)](_0x148fe7(0x136),_0x476b21[_0x148fe7(0x13b)]());}),_0x57f106['on'](_0xc27af0(0x19a),_0xc27af0(0x1ab),_0x4be0f2=>{const _0x15dd1f=_0xc27af0;if(_0x4be0f2[_0x15dd1f(0x192)][_0x15dd1f(0x1a8)]==='SELECT')return;const _0x41c7b6=$(_0x4be0f2[_0x15dd1f(0x192)])[_0x15dd1f(0x142)](_0x15dd1f(0x193)),_0x51cf71=_0x41c7b6[_0x15dd1f(0x162)](_0x15dd1f(0x183)),_0x3eebba=this[_0x15dd1f(0x143)][_0x15dd1f(0x139)]['find'](_0xd0abe0=>_0xd0abe0[_0x15dd1f(0x140)]['id']===_0x51cf71);ListUiUtil['handleSelectClick'](this['_list'],_0x3eebba,_0x4be0f2,{'fnGetCb':_0x183878=>_0x183878[_0x15dd1f(0x1aa)][_0x15dd1f(0x14b)],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x254abe,_0x246515)=>{const _0xb508b8=_0x15dd1f;_0x254abe[_0xb508b8(0x1aa)][_0xb508b8(0x14b)][_0xb508b8(0x1b6)]=_0x246515;}});}),_0x57f106['on'](_0xc27af0(0x1a3),_0xc27af0(0x131),_0xfa42e=>{const _0x24c9a=_0xc27af0,_0x561671=$(_0xfa42e[_0x24c9a(0x192)]),_0x262b1d=_0x561671['val'](),_0x4e8509=_0x561671[_0x24c9a(0x142)]('.permu__row-ent'),_0x2e5def=_0x4e8509[_0x24c9a(0x162)]('data-permu-entity-id'),_0x1dbcb7=this[_0x24c9a(0x143)][_0x24c9a(0x139)][_0x24c9a(0x167)](_0x14a5b1=>_0x14a5b1[_0x24c9a(0x140)]['id']===_0x2e5def),_0x1b00e3=_0x1dbcb7[_0x24c9a(0x1aa)][_0x24c9a(0x15d)][_0x24c9a(0x155)];for(let _0xe10378=0x0;_0xe10378<_0x1b00e3;++_0xe10378){if(!_0x1dbcb7['data'][_0x24c9a(0x15d)][_0xe10378][_0x24c9a(0x1b6)])continue;_0x1dbcb7[_0x24c9a(0x1aa)]['selsPlayers'][_0xe10378][_0x24c9a(0x18e)]=_0x262b1d,_0x1dbcb7['data']['selsPlayers'][_0xe10378][_0x24c9a(0x169)]('data-permu-value',_0x262b1d);}_0x561671['val'](_0x3bee5c);}),_0x57f106['on'](_0xc27af0(0x19a),'label[data-permu-type=\x22lbl-entity-each-player\x22]',_0x4cccea=>{const _0x286386=_0xc27af0;if(_0x4cccea[_0x286386(0x192)][_0x286386(0x1a8)]===_0x286386(0x150))return;const _0xdedc31=$(_0x4cccea[_0x286386(0x192)])[_0x286386(0x142)](_0x286386(0x193)),_0x276c4b=_0xdedc31[_0x286386(0x162)](_0x286386(0x183)),_0x2bb48a=this[_0x286386(0x143)][_0x286386(0x139)]['find'](_0x19c1fc=>_0x19c1fc[_0x286386(0x140)]['id']===_0x276c4b);ListUiUtil[_0x286386(0x154)](this[_0x286386(0x143)],_0x2bb48a,_0x4cccea,{'fnGetCb':_0x380b9d=>_0x380b9d[_0x286386(0x1aa)][_0x286386(0x14a)],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x146eb6,_0x260213)=>{const _0x41832f=_0x286386;_0x146eb6[_0x41832f(0x1aa)][_0x41832f(0x15d)][_0x41832f(0x19b)](_0x526961=>_0x526961[_0x41832f(0x1b6)]=_0x260213);}});}),_0x57f106['on']('change',_0xc27af0(0x190),_0x229e21=>{const _0x2fb1c9=_0xc27af0,_0x4ac222=$(_0x229e21['target']);_0x4ac222[_0x2fb1c9(0x162)](_0x2fb1c9(0x136),_0x4ac222['val']());}),_0x57f106['on']('click',_0xc27af0(0x153),_0x3e5247=>{const _0x4141ab=_0xc27af0;if(_0x3e5247[_0x4141ab(0x192)][_0x4141ab(0x1a8)]===_0x4141ab(0x150))return;const _0x32660a=$(_0x3e5247['target'])[_0x4141ab(0x142)]('.permu__row-ent'),_0x25cfe4=$(_0x3e5247['target'])[_0x4141ab(0x142)]('.permu__cell-player')[_0x4141ab(0x167)]('input[data-permu-player-id]'),_0x31f96b=_0x32660a[_0x4141ab(0x162)](_0x4141ab(0x183)),_0x461103=_0x25cfe4['attr']('data-permu-player-id'),_0x54210a=this[_0x4141ab(0x173)][_0x4141ab(0x168)](_0x2f7655=>_0x2f7655['id']===_0x461103),_0x14a067=this[_0x4141ab(0x143)][_0x4141ab(0x139)][_0x4141ab(0x167)](_0x5811c2=>_0x5811c2[_0x4141ab(0x140)]['id']===_0x31f96b);ListUiUtil[_0x4141ab(0x154)](this[_0x4141ab(0x143)],_0x14a067,_0x3e5247,{'fnGetCb':_0x7bf634=>_0x7bf634['data'][_0x4141ab(0x15d)][_0x54210a],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x44d8cc,_0x5f3d8b)=>{const _0x4b3cd5=_0x4141ab;_0x44d8cc[_0x4b3cd5(0x1aa)][_0x4b3cd5(0x15d)][_0x54210a][_0x4b3cd5(0x1b6)]=_0x5f3d8b;}});}),this['_$btnRun']=_0x57f106[_0xc27af0(0x167)]('[name=\x22btn-save\x22]')[_0xc27af0(0x19a)](async()=>this[_0xc27af0(0x13e)]()),this['_$iptSearch']=_0x57f106['find'](_0xc27af0(0x134)),this[_0xc27af0(0x141)]=_0x57f106[_0xc27af0(0x167)](_0xc27af0(0x1a2))[_0xc27af0(0x19a)](()=>this[_0xc27af0(0x13d)]()),this[_0xc27af0(0x143)]=new List({'$iptSearch':_0x57f106[_0xc27af0(0x167)](_0xc27af0(0x134)),'$wrpList':_0x57f106[_0xc27af0(0x167)](_0xc27af0(0x184)),'fnSort':CollectionPermissionUpdater['_sortEntities']}),this['_pageFilter'][_0xc27af0(0x178)]({'$iptSearch':this[_0xc27af0(0x1af)],'$btnReset':this[_0xc27af0(0x141)],'$btnOpen':_0x57f106[_0xc27af0(0x167)](_0xc27af0(0x135)),'$btnToggleSummaryHidden':_0x57f106[_0xc27af0(0x167)](_0xc27af0(0x17d)),'$wrpMiniPills':_0x57f106['find'](_0xc27af0(0x13f)),'namespace':_0xc27af0(0x144)+this[_0xc27af0(0x186)]})[_0xc27af0(0x16d)](()=>{const _0x13a379=_0xc27af0;this[_0x13a379(0x180)][_0x13a379(0x19b)](_0x5aa40f=>this['_pageFilter'][_0x13a379(0x17c)](_0x5aa40f)),this['_list'][_0x13a379(0x161)](this[_0x13a379(0x180)],{'fnGetName':_0x3f797b=>_0x3f797b['name'],'fnGetValues':_0x23a2cc=>({'id':_0x23a2cc['id'],'path':_0x23a2cc['path']}),'fnGetData':CollectionPermissionUpdater['_absorbFnGetData']}),this[_0x13a379(0x143)]['init'](),this[_0x13a379(0x174)]['filterBox'][_0x13a379(0x1a4)](),this[_0x13a379(0x174)][_0x13a379(0x145)]['on'](FilterBox[_0x13a379(0x176)],this['_handleFilterChange'][_0x13a379(0x137)](this)),this[_0x13a379(0x13a)]();});}async[_0x58feb0(0x13e)](){const _0x17b3cb=_0x58feb0;if(!this[_0x17b3cb(0x143)])return;const _0x46eb16=[];this['_entities'][_0x17b3cb(0x19b)](_0xc9369d=>{const _0x4f0aa3=_0x17b3cb,_0x39710a=this[_0x4f0aa3(0x143)][_0x4f0aa3(0x139)][_0x4f0aa3(0x167)](_0x3e82e6=>_0x3e82e6[_0x4f0aa3(0x140)]['id']===_0xc9369d['id']);let _0x5b5360=null;const _0x54f296=[],_0x5c11ec=''+_0xc9369d[_0x4f0aa3(0x185)];if(_0x39710a['data']['selAllPlayers']['value']!==_0x5c11ec)_0x5b5360=_0x39710a['data'][_0x4f0aa3(0x197)][_0x4f0aa3(0x18e)];_0x39710a[_0x4f0aa3(0x1aa)][_0x4f0aa3(0x159)][_0x4f0aa3(0x19b)]((_0x3484e7,_0x122dcd)=>{const _0x487006=_0x4f0aa3,_0x29e6a2=this[_0x487006(0x173)][_0x122dcd]['id'],_0x4bead7=''+_0xc9369d[_0x487006(0x179)][_0x29e6a2];if(_0x3484e7[_0x487006(0x18e)]!==_0x4bead7)_0x54f296[_0x487006(0x172)]({'value':_0x3484e7[_0x487006(0x18e)],'playerId':_0x29e6a2});});if(_0x5b5360!=null||_0x54f296['length'])_0x46eb16['push']({'entityMeta':_0xc9369d,'metasPlayerUpdates':_0x54f296,'allPlayerUpdate':_0x5b5360});});if(!_0x46eb16)return ui['notifications'][_0x17b3cb(0x15b)](_0x17b3cb(0x166));this[_0x17b3cb(0x148)][_0x17b3cb(0x162)](_0x17b3cb(0x16b),!![])[_0x17b3cb(0x1ae)]('Saving...');const _0x28af31=_0x46eb16[_0x17b3cb(0x1b2)](_0x639949=>new Util['Task'](''+_0x639949[_0x17b3cb(0x147)][_0x17b3cb(0x19e)]+_0x639949['entityMeta']['name'],()=>this[_0x17b3cb(0x1a5)](_0x639949)));await UtilApplications[_0x17b3cb(0x164)](_0x28af31,{'titleInitial':_0x17b3cb(0x1ad),'titleComplete':_0x17b3cb(0x15f),'fnGetRowRunningText':_0x25d36b=>'Updating\x20'+_0x25d36b+'...','fnGetRowSuccessText':_0x159d4c=>'Updated\x20'+_0x159d4c+'.','fnGetRowErrorText':_0x526846=>_0x17b3cb(0x18f)+_0x526846+'!\x20'+VeCt[_0x17b3cb(0x17a)]}),this['_$btnRun'][_0x17b3cb(0x162)](_0x17b3cb(0x16b),![])[_0x17b3cb(0x1ae)]('Saved!'),setTimeout(()=>this['_$btnRun'][_0x17b3cb(0x1ae)](_0x17b3cb(0x163)),VeCt['DUR_INLINE_NOTIFY']);}async['_pUpdateItemPermissions'](_0x36036b){const _0x415d80=_0x58feb0,_0x3f3a6a=this['_collection'][_0x415d80(0x199)](_0x36036b[_0x415d80(0x147)]['id']),_0x47f986={..._0x3f3a6a['data'][_0x415d80(0x133)]};_0x36036b[_0x415d80(0x138)]!=null&&(_0x47f986[_0x415d80(0x16f)]=Number(_0x36036b['allPlayerUpdate'])),(_0x36036b[_0x415d80(0x1a9)]||[])[_0x415d80(0x19b)](_0xe1c120=>{const {playerId:_0x2fe2eb,value:_0x11f9a2}=_0xe1c120;_0x47f986[_0x2fe2eb]=Number(_0x11f9a2);}),await _0x3f3a6a[_0x415d80(0x15c)]({'permission':{}}),await _0x3f3a6a[_0x415d80(0x15c)]({'permission':_0x47f986}),_0x36036b[_0x415d80(0x138)]!=null&&(_0x36036b[_0x415d80(0x147)]['allPlayerPermissions']=''+_0x36036b[_0x415d80(0x138)]),(_0x36036b[_0x415d80(0x1a9)]||[])[_0x415d80(0x19b)](_0x2520fb=>{const _0x11829d=_0x415d80,{playerId:_0x7124c9,value:_0x5d04f9}=_0x2520fb;_0x36036b[_0x11829d(0x147)][_0x11829d(0x179)][_0x7124c9]=''+_0x5d04f9;});}async[_0x58feb0(0x13d)](){const _0x2159ca=_0x58feb0;this[_0x2159ca(0x1af)][_0x2159ca(0x13b)](''),this[_0x2159ca(0x194)][_0x2159ca(0x14e)](_0x2159ca(0x1b6),![]),this[_0x2159ca(0x158)](![]),this[_0x2159ca(0x151)][_0x2159ca(0x14e)](_0x2159ca(0x1b6),![]),this['_setMassCheckboxValues'](![]),this[_0x2159ca(0x180)][_0x2159ca(0x19b)](_0x5b7d52=>{const _0x43967e=_0x2159ca,_0x288764=this[_0x43967e(0x143)][_0x43967e(0x139)][_0x43967e(0x167)](_0x4a4ab4=>_0x4a4ab4[_0x43967e(0x140)]['id']===_0x5b7d52['id']);_0x288764[_0x43967e(0x1aa)][_0x43967e(0x14a)][_0x43967e(0x1b6)]=![],_0x288764[_0x43967e(0x1aa)][_0x43967e(0x15d)]['forEach'](_0x1cca1b=>_0x1cca1b[_0x43967e(0x1b6)]=![]),_0x288764['data'][_0x43967e(0x159)]['forEach']((_0x40fd7b,_0xa7deff)=>{const _0x335225=_0x43967e,_0x7b3249=this[_0x335225(0x173)][_0xa7deff]['id'],_0x5123d=''+_0x5b7d52['playerPermissions'][_0x7b3249];_0x40fd7b[_0x335225(0x18e)]=_0x5123d,_0x40fd7b[_0x335225(0x169)]('data-permu-value',_0x5123d);});});}[_0x58feb0(0x158)](_0x529502){const _0x306229=_0x58feb0;this[_0x306229(0x143)][_0x306229(0x19c)][_0x306229(0x19b)](_0x251190=>_0x251190[_0x306229(0x1aa)][_0x306229(0x14b)][_0x306229(0x1b6)]=_0x529502);}['_setMassCheckboxValues'](_0x424bb2){const _0x3fe69b=_0x58feb0;this[_0x3fe69b(0x14f)]['find'](_0x3fe69b(0x19d))['get']()[_0x3fe69b(0x19b)](_0x49f2ce=>_0x49f2ce[_0x3fe69b(0x1b6)]=_0x424bb2);}[_0x58feb0(0x13a)](){const _0x5ab2b4=_0x58feb0,_0x1ba3b1=this[_0x5ab2b4(0x174)][_0x5ab2b4(0x145)][_0x5ab2b4(0x18a)]();this[_0x5ab2b4(0x143)][_0x5ab2b4(0x1ac)](_0x2343df=>this[_0x5ab2b4(0x174)][_0x5ab2b4(0x181)](_0x1ba3b1,this[_0x5ab2b4(0x180)][_0x2343df['ix']]));}static['_absorbFnGetData'](_0x234302){const _0x73b2d4=_0x58feb0,_0x21a330=_0x234302['ele'][_0x73b2d4(0x198)][0x2],_0x868757=_0x234302[_0x73b2d4(0x1b1)][_0x73b2d4(0x198)][0x3],_0x591bc5=[..._0x234302['ele'][_0x73b2d4(0x198)]][_0x73b2d4(0x160)](0x4);return{'cbAllPlayers':_0x21a330[_0x73b2d4(0x198)][0x0],'selAllPlayers':_0x21a330['children'][0x1],'cbEachPlayer':_0x868757[_0x73b2d4(0x198)][0x0],'selEachPlayer':_0x868757[_0x73b2d4(0x198)][0x1],'cbsPlayers':_0x591bc5[_0x73b2d4(0x1b2)](_0x21caf0=>_0x21caf0[_0x73b2d4(0x198)][0x0]),'selsPlayers':_0x591bc5['map'](_0x147956=>_0x147956['children'][0x1])};}static[_0x58feb0(0x19f)](_0x1cbf84,_0x22ae7b){const _0x1838f8=_0x58feb0,_0x32b1cf=_0x1cbf84[_0x1838f8(0x140)]?_0x1cbf84[_0x1838f8(0x140)][_0x1838f8(0x19e)]:_0x1cbf84[_0x1838f8(0x19e)],_0x51ba79=_0x22ae7b[_0x1838f8(0x140)]?_0x22ae7b[_0x1838f8(0x140)][_0x1838f8(0x19e)]:_0x22ae7b[_0x1838f8(0x19e)];if(_0x32b1cf&&!_0x51ba79)return-0x1;if(!_0x32b1cf&&_0x51ba79)return 0x1;return SortUtil[_0x1838f8(0x165)](_0x32b1cf,_0x51ba79)||SortUtil[_0x1838f8(0x165)](_0x1cbf84['name'],_0x22ae7b[_0x1838f8(0x157)]);}['getData'](){const _0x201fb0=_0x58feb0;return this[_0x201fb0(0x173)]=game['users'][_0x201fb0(0x17b)]['map'](_0xdc4b3c=>({'id':_0xdc4b3c['id'],'name':_0xdc4b3c['name']})),this[_0x201fb0(0x180)]=this[_0x201fb0(0x16a)][_0x201fb0(0x17b)][_0x201fb0(0x1b2)]((_0x1e5c84,_0x44a494)=>{const _0x389bc4=_0x201fb0,_0x438e16=UtilApplications[_0x389bc4(0x1a1)](_0x1e5c84,{'isAddTrailingSlash':!![]}),_0x264a81=(_0x1e5c84[_0x389bc4(0x1aa)]||{})['permission']||{},_0x2628c5=_0x264a81[_0x389bc4(0x16f)]!=null?_0x264a81['default']:-0x1;return{'id':_0x1e5c84['id'],'name':_0x1e5c84[_0x389bc4(0x157)],'allPlayerPermissions':_0x2628c5,'playerPermissions':this[_0x389bc4(0x173)][_0x389bc4(0x1b2)](_0x5053f4=>_0x5053f4['id'])[_0x389bc4(0x132)](_0x6db9a1=>{const _0x252e51=_0x264a81[_0x6db9a1]!=null?_0x264a81[_0x6db9a1]:-0x1;return{[_0x6db9a1]:_0x252e51};}),'type':MiscUtil[_0x389bc4(0x199)](_0x1e5c84,'data',_0x389bc4(0x18d))||_0x389bc4(0x1a6),'folderId':_0x1e5c84[_0x389bc4(0x152)]?_0x1e5c84['folder']['id']:null,'path':_0x438e16||'','ix':_0x44a494};}),this['_entities']['sort'](CollectionPermissionUpdater[_0x201fb0(0x19f)]),{...super[_0x201fb0(0x14c)](),'titleSearch':this[_0x201fb0(0x186)]+'s','players':this['_players'],'entities':this[_0x201fb0(0x180)],'permissions':Util[_0x201fb0(0x149)][_0x201fb0(0x171)]()};}[_0x58feb0(0x1b5)](..._0x307dcd){const _0x32ef5d=_0x58feb0;return this[_0x32ef5d(0x174)][_0x32ef5d(0x182)](),super[_0x32ef5d(0x1b5)](..._0x307dcd);}}export{CollectionPermissionUpdater};