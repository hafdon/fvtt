const _0x9bec=['find','Fvtt','val','Updating...','handleSelectClick','visibleItems','_pageFilter','forEach','default','change','tool-permissions_','_$rowMass','_collectionName','close','getMaxWindowHeight','notifications','select[data-permu-type=\x22sel-player-all-entities\x22]','select[data-permu-type=\x22sel-entity\x22]','pInitFilterBox','entityMeta','SELECT','_$cbAll','Task','data','.permu__cell-player','EVNT_VALCHANGE','length','_$cbEach','scrollLeft','Save','.fltr__mini-view','data-permu-entity-id','_$btnRun','_players','select[data-permu-type=\x22sel-entity-each-player\x22]','[name=\x22btn-save\x22]','update','playerPermissions','_absorbFnGetData','_$btnReset','label[data-permu-type=\x22lbl-entity-player\x22]','closest','Saving...','select[data-permu-type=\x22sel-entity-all-players\x22]','prop','teardown','push','.search','values','[name=btn-toggle-summary]','_pHandleBtnClick_reset','input[name=\x22permu__cb-all-players-all-entities\x22]','ele','selAllPlayers','metasPlayerUpdates','then','getPermissionsEnum','children','getFolderPath','cbEachPlayer','click','_collection','_pHandleBtnClick_run','_setMassAllPlayerCheckboxValues','filter','path','_sortEntities','Updated\x20','input[data-permu-player-id]','text','scroll','Please\x20make\x20some\x20changes\x20first!','sort','doAbsorbItems','slice','Update\x20Complete','/template/CollectionPermissionUpdater.handlebars','addToFilters','Saved!','label[data-permu-type=\x22lbl-entity-all-players\x22]','addEventListener','select[name=\x22permu__sel-all-players-all-entities\x22]','_list','allPlayerPermissions','allPlayerUpdate','getValues','users','filterBox','label[data-permu-type=\x22lbl-entity-each-player\x22]','data-permu-player-id','checked','render','ascSortLower','MODULE_LOCATION','_pUpdateItemPermissions','.permu__row-ent','[name=\x22btn-reset\x22]','.veapp__list','selsPlayers','Failed\x20to\x20update\x20','value','target','getData','bind','activateListeners','folder','permission','_$iptSearch','cbAllPlayers','entities','name','select[name=\x22permu__sel-each-player-all-entities\x22]','setAttribute','map','get','unknown','init','warn','findIndex','mergeMap','.permu__cell-ent-name','_setMassCheckboxValues','type','tagName','_handleFilterChange','input[name=\x22permu__cb-each-player-all-entities\x22]','attr','cbsPlayers','data-permu-value','style','_entities','items'];(function(_0x51017b,_0x9bece1){const _0x586fc7=function(_0x74e5c0){while(--_0x74e5c0){_0x51017b['push'](_0x51017b['shift']());}};_0x586fc7(++_0x9bece1);}(_0x9bec,0x1dd));const _0x586f=function(_0x51017b,_0x9bece1){_0x51017b=_0x51017b-0x0;let _0x586fc7=_0x9bec[_0x51017b];return _0x586fc7;};const _0x9cb9c2=_0x586f;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{Util}from'./Util.js';import{BaseCollectionTool}from'./BaseCollectionTool.js';import{UtilApplications}from'./UtilApplications.js';import{AppFilterBasic}from'./FilterApplications.js';class CollectionPermissionUpdater extends BaseCollectionTool{constructor(_0x74e5c0){const _0x33b01b=_0x586f;super({'title':'Bulk\x20Permission\x20Editor','template':SharedConsts[_0x33b01b('0xc')]+_0x33b01b('0x7f'),'width':0x3c0,'height':Util[_0x33b01b('0x41')](),'resizable':!![]},_0x74e5c0),this['_pageFilter']=new AppFilterBasic(),this[_0x33b01b('0x1')]=null,this[_0x33b01b('0x48')]=null,this[_0x33b01b('0x3e')]=null,this['_$cbEach']=null,this[_0x33b01b('0x53')]=null,this[_0x33b01b('0x1a')]=null,this[_0x33b01b('0x5a')]=null,this[_0x33b01b('0x54')]=null,this[_0x33b01b('0x31')]=null;}[_0x9cb9c2('0x17')](_0x5aeeec){const _0x528c61=_0x9cb9c2;super['activateListeners'](_0x5aeeec);const _0x2ae4eb='-2',_0x204e7f=_0x5aeeec[0x0][_0x528c61('0x6c')][0x2],_0x457c5a=$(_0x204e7f)[_0x528c61('0x33')](_0x528c61('0x27'))[_0x528c61('0x20')]((_0x1853e1,_0x2699f6)=>_0x2699f6)[_0x528c61('0x21')]();_0x204e7f[_0x528c61('0x83')](_0x528c61('0x79'),()=>{const _0x3b3a00=_0x528c61,_0x48eeef=_0x204e7f[_0x3b3a00('0x4f')];_0x457c5a[_0x3b3a00('0x3a')](_0x1daffa=>_0x1daffa[_0x3b3a00('0x30')]['left']=_0x48eeef+'px');});const _0x34db79=_0x204e7f[_0x528c61('0x6c')][0x1];this[_0x528c61('0x3e')]=$(_0x34db79);const _0x181d4c=this[_0x528c61('0x3e')][_0x528c61('0x33')](_0x528c61('0x0'))[_0x528c61('0x3c')](()=>{const _0x1b8626=_0x528c61,_0x40b13b=_0x181d4c[_0x1b8626('0x35')]();this[_0x1b8626('0x1')][_0x1b8626('0x38')][_0x1b8626('0x3a')](_0x471596=>{const _0x45be62=_0x1b8626;if(!_0x471596[_0x45be62('0x4a')][_0x45be62('0x1b')]['checked'])return;_0x471596[_0x45be62('0x4a')]['selAllPlayers'][_0x45be62('0x13')]=_0x40b13b,_0x471596[_0x45be62('0x4a')][_0x45be62('0x68')][_0x45be62('0x1f')]('data-permu-value',_0x40b13b);}),_0x181d4c[_0x1b8626('0x35')](_0x2ae4eb);});this[_0x528c61('0x48')]=this[_0x528c61('0x3e')][_0x528c61('0x33')](_0x528c61('0x66'))['change'](()=>{const _0x55ca14=_0x528c61,_0x3c7a04=this[_0x55ca14('0x48')][_0x55ca14('0x5f')](_0x55ca14('0x9'));this[_0x55ca14('0x72')](_0x3c7a04),this[_0x55ca14('0x1')][_0x55ca14('0x38')][_0x55ca14('0x3a')](_0x28083f=>{const _0x3fcd92=_0x55ca14;_0x28083f[_0x3fcd92('0x4a')][_0x3fcd92('0x1b')][_0x3fcd92('0x9')]=_0x3c7a04;});});const _0x5951e0=this[_0x528c61('0x3e')][_0x528c61('0x33')](_0x528c61('0x1e'))[_0x528c61('0x3c')](()=>{const _0x1a3dca=_0x528c61,_0x1b96ff=_0x5951e0[_0x1a3dca('0x35')](),_0xcc09cd=this['_list'][_0x1a3dca('0x32')][0x0]?this[_0x1a3dca('0x1')]['items'][0x0]['data']['cbsPlayers'][_0x1a3dca('0x4d')]:0x0;for(let _0x588554=0x0;_0x588554<_0xcc09cd;++_0x588554){this[_0x1a3dca('0x1')]['visibleItems'][_0x1a3dca('0x3a')](_0x398f15=>{const _0x7686cc=_0x1a3dca;if(!_0x398f15['data'][_0x7686cc('0x2e')][_0x588554]['checked'])return;_0x398f15[_0x7686cc('0x4a')][_0x7686cc('0x11')][_0x588554][_0x7686cc('0x13')]=_0x1b96ff,_0x398f15[_0x7686cc('0x4a')][_0x7686cc('0x11')][_0x588554][_0x7686cc('0x1f')](_0x7686cc('0x2f'),_0x1b96ff);});}_0x5951e0[_0x1a3dca('0x35')](_0x2ae4eb);});this[_0x528c61('0x4e')]=this[_0x528c61('0x3e')][_0x528c61('0x33')](_0x528c61('0x2c'))[_0x528c61('0x3c')](()=>{const _0x3f5b13=_0x528c61,_0x1a8153=this[_0x3f5b13('0x4e')][_0x3f5b13('0x5f')](_0x3f5b13('0x9'));this[_0x3f5b13('0x28')](_0x1a8153),this[_0x3f5b13('0x1')][_0x3f5b13('0x38')][_0x3f5b13('0x3a')](_0x2f7407=>{const _0x110555=_0x3f5b13;_0x2f7407['data']['cbEachPlayer'][_0x110555('0x9')]=_0x1a8153,_0x2f7407[_0x110555('0x4a')][_0x110555('0x2e')][_0x110555('0x3a')](_0x324544=>_0x324544['checked']=_0x1a8153);});}),this[_0x528c61('0x3e')]['on']('change',_0x528c61('0x43'),_0x4c6129=>{const _0x3ffe0e=_0x528c61,_0x1f051d=$(_0x4c6129['target']),_0x10309e=_0x1f051d[_0x3ffe0e('0x35')](),_0x2a82f8=_0x1f051d['attr'](_0x3ffe0e('0x8')),_0x4431f1=this[_0x3ffe0e('0x54')][_0x3ffe0e('0x25')](_0xc65b08=>_0xc65b08['id']===_0x2a82f8);this[_0x3ffe0e('0x1')]['visibleItems'][_0x3ffe0e('0x3a')](_0x3465eb=>{const _0x297b51=_0x3ffe0e;if(!_0x3465eb['data'][_0x297b51('0x2e')][_0x4431f1]['checked'])return;_0x3465eb[_0x297b51('0x4a')][_0x297b51('0x11')][_0x4431f1][_0x297b51('0x13')]=_0x10309e,_0x3465eb[_0x297b51('0x4a')][_0x297b51('0x11')][_0x4431f1][_0x297b51('0x1f')]('data-permu-value',_0x10309e);}),_0x1f051d[_0x3ffe0e('0x35')](_0x2ae4eb);}),this[_0x528c61('0x3e')]['on']('click','label[data-permu-type=\x22lbl-player-all-entities\x22]',_0x34026d=>{const _0x351a5a=_0x528c61;if(_0x34026d[_0x351a5a('0x14')]['tagName']===_0x351a5a('0x47'))return;const _0x9941b4=$(_0x34026d[_0x351a5a('0x14')])[_0x351a5a('0x5c')](_0x351a5a('0x4b')),_0xa427ff=_0x9941b4[_0x351a5a('0x33')]('input'),_0x4628e1=_0xa427ff[_0x351a5a('0x5f')](_0x351a5a('0x9')),_0x5c514c=_0xa427ff[_0x351a5a('0x2d')](_0x351a5a('0x8')),_0x40c5cb=this[_0x351a5a('0x54')][_0x351a5a('0x25')](_0x13db10=>_0x13db10['id']===_0x5c514c);this[_0x351a5a('0x1')]['visibleItems'][_0x351a5a('0x3a')](_0x521166=>{const _0x5f1fe4=_0x351a5a;_0x521166[_0x5f1fe4('0x4a')][_0x5f1fe4('0x2e')][_0x40c5cb][_0x5f1fe4('0x9')]=_0x4628e1;});}),_0x5aeeec['on'](_0x528c61('0x3c'),_0x528c61('0x5e'),_0x32d21f=>{const _0x5afcea=_0x528c61,_0x2eddc6=$(_0x32d21f['target']);_0x2eddc6[_0x5afcea('0x2d')](_0x5afcea('0x2f'),_0x2eddc6['val']());}),_0x5aeeec['on'](_0x528c61('0x6f'),_0x528c61('0x82'),_0x1afbed=>{const _0x19e659=_0x528c61;if(_0x1afbed[_0x19e659('0x14')][_0x19e659('0x2a')]===_0x19e659('0x47'))return;const _0x385e9f=$(_0x1afbed[_0x19e659('0x14')])[_0x19e659('0x5c')](_0x19e659('0xe')),_0x4d6dad=_0x385e9f[_0x19e659('0x2d')](_0x19e659('0x52')),_0x384451=this[_0x19e659('0x1')][_0x19e659('0x32')][_0x19e659('0x33')](_0x5be4df=>_0x5be4df[_0x19e659('0x63')]['id']===_0x4d6dad);ListUiUtil[_0x19e659('0x37')](this[_0x19e659('0x1')],_0x384451,_0x1afbed,{'fnGetCb':_0x944bdf=>_0x944bdf[_0x19e659('0x4a')][_0x19e659('0x1b')],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x2d4e82,_0x36002d)=>{const _0x596713=_0x19e659;_0x2d4e82[_0x596713('0x4a')][_0x596713('0x1b')][_0x596713('0x9')]=_0x36002d;}});}),_0x5aeeec['on'](_0x528c61('0x3c'),_0x528c61('0x55'),_0x1af9ce=>{const _0x3a5b24=_0x528c61,_0x8b8dd9=$(_0x1af9ce[_0x3a5b24('0x14')]),_0x459960=_0x8b8dd9[_0x3a5b24('0x35')](),_0x29bc48=_0x8b8dd9['closest'](_0x3a5b24('0xe')),_0x3864f3=_0x29bc48[_0x3a5b24('0x2d')](_0x3a5b24('0x52')),_0x1f68c1=this['_list'][_0x3a5b24('0x32')][_0x3a5b24('0x33')](_0x73a86c=>_0x73a86c[_0x3a5b24('0x63')]['id']===_0x3864f3),_0x2a9bd0=_0x1f68c1[_0x3a5b24('0x4a')][_0x3a5b24('0x2e')][_0x3a5b24('0x4d')];for(let _0x1e3908=0x0;_0x1e3908<_0x2a9bd0;++_0x1e3908){if(!_0x1f68c1['data']['cbsPlayers'][_0x1e3908][_0x3a5b24('0x9')])continue;_0x1f68c1['data']['selsPlayers'][_0x1e3908][_0x3a5b24('0x13')]=_0x459960,_0x1f68c1[_0x3a5b24('0x4a')][_0x3a5b24('0x11')][_0x1e3908][_0x3a5b24('0x1f')](_0x3a5b24('0x2f'),_0x459960);}_0x8b8dd9['val'](_0x2ae4eb);}),_0x5aeeec['on'](_0x528c61('0x6f'),_0x528c61('0x7'),_0x3045b4=>{const _0x5489a7=_0x528c61;if(_0x3045b4[_0x5489a7('0x14')][_0x5489a7('0x2a')]===_0x5489a7('0x47'))return;const _0x4ece50=$(_0x3045b4[_0x5489a7('0x14')])[_0x5489a7('0x5c')](_0x5489a7('0xe')),_0x50905f=_0x4ece50[_0x5489a7('0x2d')](_0x5489a7('0x52')),_0x8a60=this[_0x5489a7('0x1')][_0x5489a7('0x32')][_0x5489a7('0x33')](_0x151ee9=>_0x151ee9[_0x5489a7('0x63')]['id']===_0x50905f);ListUiUtil['handleSelectClick'](this[_0x5489a7('0x1')],_0x8a60,_0x3045b4,{'fnGetCb':_0x2d1b40=>_0x2d1b40[_0x5489a7('0x4a')][_0x5489a7('0x6e')],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x26b816,_0x1d3eaa)=>{const _0x4b64a7=_0x5489a7;_0x26b816[_0x4b64a7('0x4a')]['cbsPlayers'][_0x4b64a7('0x3a')](_0x406586=>_0x406586[_0x4b64a7('0x9')]=_0x1d3eaa);}});}),_0x5aeeec['on'](_0x528c61('0x3c'),_0x528c61('0x44'),_0x4270fa=>{const _0x3674b4=_0x528c61,_0x20fb98=$(_0x4270fa['target']);_0x20fb98[_0x3674b4('0x2d')](_0x3674b4('0x2f'),_0x20fb98['val']());}),_0x5aeeec['on'](_0x528c61('0x6f'),_0x528c61('0x5b'),_0x24cc63=>{const _0x5acff4=_0x528c61;if(_0x24cc63[_0x5acff4('0x14')]['tagName']===_0x5acff4('0x47'))return;const _0x1a50c3=$(_0x24cc63[_0x5acff4('0x14')])[_0x5acff4('0x5c')](_0x5acff4('0xe')),_0x5538d4=$(_0x24cc63[_0x5acff4('0x14')])[_0x5acff4('0x5c')](_0x5acff4('0x4b'))[_0x5acff4('0x33')](_0x5acff4('0x77')),_0x37c666=_0x1a50c3[_0x5acff4('0x2d')]('data-permu-entity-id'),_0x40f1e7=_0x5538d4[_0x5acff4('0x2d')](_0x5acff4('0x8')),_0x5c19cd=this[_0x5acff4('0x54')][_0x5acff4('0x25')](_0x2ff85b=>_0x2ff85b['id']===_0x40f1e7),_0x268832=this[_0x5acff4('0x1')][_0x5acff4('0x32')]['find'](_0x428260=>_0x428260['values']['id']===_0x37c666);ListUiUtil[_0x5acff4('0x37')](this[_0x5acff4('0x1')],_0x268832,_0x24cc63,{'fnGetCb':_0x32bd7f=>_0x32bd7f[_0x5acff4('0x4a')][_0x5acff4('0x2e')][_0x5c19cd],'isNoHighlightSelection':!![],'fnOnSelectionChange':(_0x479cb9,_0x551836)=>{const _0x4ff28b=_0x5acff4;_0x479cb9[_0x4ff28b('0x4a')][_0x4ff28b('0x2e')][_0x5c19cd][_0x4ff28b('0x9')]=_0x551836;}});}),this['_$btnRun']=_0x5aeeec[_0x528c61('0x33')](_0x528c61('0x56'))[_0x528c61('0x6f')](async()=>this[_0x528c61('0x71')]()),this[_0x528c61('0x1a')]=_0x5aeeec[_0x528c61('0x33')](_0x528c61('0x62')),this['_$btnReset']=_0x5aeeec[_0x528c61('0x33')](_0x528c61('0xf'))[_0x528c61('0x6f')](()=>this[_0x528c61('0x65')]()),this['_list']=new List({'$iptSearch':_0x5aeeec['find']('.search'),'$wrpList':_0x5aeeec[_0x528c61('0x33')](_0x528c61('0x10')),'fnSort':CollectionPermissionUpdater[_0x528c61('0x75')]}),this[_0x528c61('0x39')][_0x528c61('0x45')]({'$iptSearch':this[_0x528c61('0x1a')],'$btnReset':this[_0x528c61('0x5a')],'$btnOpen':_0x5aeeec['find']('[name=btn-filter]'),'$btnToggleSummaryHidden':_0x5aeeec[_0x528c61('0x33')](_0x528c61('0x64')),'$wrpMiniPills':_0x5aeeec[_0x528c61('0x33')](_0x528c61('0x51')),'namespace':_0x528c61('0x3d')+this[_0x528c61('0x3f')]})[_0x528c61('0x6a')](()=>{const _0x52e9c1=_0x528c61;this[_0x52e9c1('0x31')][_0x52e9c1('0x3a')](_0x59e6cd=>this[_0x52e9c1('0x39')][_0x52e9c1('0x80')](_0x59e6cd)),this[_0x52e9c1('0x1')][_0x52e9c1('0x7c')](this[_0x52e9c1('0x31')],{'fnGetName':_0xd1b9b3=>_0xd1b9b3[_0x52e9c1('0x1d')],'fnGetValues':_0x2f0f0d=>({'id':_0x2f0f0d['id'],'path':_0x2f0f0d['path']}),'fnGetData':CollectionPermissionUpdater[_0x52e9c1('0x59')]}),this[_0x52e9c1('0x1')][_0x52e9c1('0x23')](),this[_0x52e9c1('0x39')][_0x52e9c1('0x6')][_0x52e9c1('0xa')](),$(this['_pageFilter'][_0x52e9c1('0x6')])['on'](FilterBox[_0x52e9c1('0x4c')],this['_handleFilterChange'][_0x52e9c1('0x16')](this)),this[_0x52e9c1('0x2b')]();});}async[_0x9cb9c2('0x71')](){const _0x3a1f86=_0x9cb9c2;if(!this[_0x3a1f86('0x1')])return;const _0x53cc11=[];this[_0x3a1f86('0x31')][_0x3a1f86('0x3a')](_0x1d1233=>{const _0x49b536=_0x3a1f86,_0x2eed7b=this[_0x49b536('0x1')][_0x49b536('0x32')][_0x49b536('0x33')](_0x374be6=>_0x374be6['values']['id']===_0x1d1233['id']);let _0x5d43bc=null;const _0x31cc8f=[],_0x4b745a=''+_0x1d1233['allPlayerPermissions'];if(_0x2eed7b[_0x49b536('0x4a')]['selAllPlayers']['value']!==_0x4b745a)_0x5d43bc=_0x2eed7b[_0x49b536('0x4a')][_0x49b536('0x68')][_0x49b536('0x13')];_0x2eed7b['data']['selsPlayers'][_0x49b536('0x3a')]((_0x35eb2b,_0x149d44)=>{const _0x23d9f7=_0x49b536,_0x2da49f=this['_players'][_0x149d44]['id'],_0x1726f2=''+_0x1d1233[_0x23d9f7('0x58')][_0x2da49f];if(_0x35eb2b[_0x23d9f7('0x13')]!==_0x1726f2)_0x31cc8f[_0x23d9f7('0x61')]({'value':_0x35eb2b['value'],'playerId':_0x2da49f});});if(_0x5d43bc!=null||_0x31cc8f[_0x49b536('0x4d')])_0x53cc11[_0x49b536('0x61')]({'entityMeta':_0x1d1233,'metasPlayerUpdates':_0x31cc8f,'allPlayerUpdate':_0x5d43bc});});if(!_0x53cc11)return ui[_0x3a1f86('0x42')][_0x3a1f86('0x24')](_0x3a1f86('0x7a'));this[_0x3a1f86('0x53')]['attr']('disabled',!![])[_0x3a1f86('0x78')](_0x3a1f86('0x5d'));const _0x22c0ba=_0x53cc11['map'](_0xd987be=>new Util[(_0x3a1f86('0x49'))](''+_0xd987be[_0x3a1f86('0x46')][_0x3a1f86('0x74')]+_0xd987be[_0x3a1f86('0x46')][_0x3a1f86('0x1d')],()=>this[_0x3a1f86('0xd')](_0xd987be)));await UtilApplications['pRunTasks'](_0x22c0ba,{'titleInitial':_0x3a1f86('0x36'),'titleComplete':_0x3a1f86('0x7e'),'fnGetRowRunningText':_0x46862b=>'Updating\x20'+_0x46862b+'...','fnGetRowSuccessText':_0x5d2759=>_0x3a1f86('0x76')+_0x5d2759+'.','fnGetRowErrorText':_0xce1db3=>_0x3a1f86('0x12')+_0xce1db3+'!\x20'+VeCt['STR_SEE_CONSOLE']}),this[_0x3a1f86('0x53')][_0x3a1f86('0x2d')]('disabled',![])[_0x3a1f86('0x78')](_0x3a1f86('0x81')),setTimeout(()=>this[_0x3a1f86('0x53')]['text'](_0x3a1f86('0x50')),VeCt['DUR_INLINE_NOTIFY']);}async[_0x9cb9c2('0xd')](_0x407c69){const _0x43a7e6=_0x9cb9c2,_0x190f75=this[_0x43a7e6('0x70')]['get'](_0x407c69[_0x43a7e6('0x46')]['id']),_0x42b822={..._0x190f75[_0x43a7e6('0x4a')][_0x43a7e6('0x19')]};_0x407c69[_0x43a7e6('0x3')]!=null&&(_0x42b822[_0x43a7e6('0x3b')]=Number(_0x407c69[_0x43a7e6('0x3')])),(_0x407c69[_0x43a7e6('0x69')]||[])[_0x43a7e6('0x3a')](_0x47219c=>{const {playerId:_0x59dd1a,value:_0x36dbe8}=_0x47219c;_0x42b822[_0x59dd1a]=Number(_0x36dbe8);}),await _0x190f75[_0x43a7e6('0x57')]({'permission':{}}),await _0x190f75['update']({'permission':_0x42b822}),_0x407c69[_0x43a7e6('0x3')]!=null&&(_0x407c69['entityMeta'][_0x43a7e6('0x2')]=''+_0x407c69[_0x43a7e6('0x3')]),(_0x407c69[_0x43a7e6('0x69')]||[])[_0x43a7e6('0x3a')](_0x499885=>{const {playerId:_0x4df785,value:_0x34424e}=_0x499885;_0x407c69['entityMeta']['playerPermissions'][_0x4df785]=''+_0x34424e;});}async[_0x9cb9c2('0x65')](){const _0x5e168c=_0x9cb9c2;this[_0x5e168c('0x1a')][_0x5e168c('0x35')](''),this['_$cbAll'][_0x5e168c('0x5f')]('checked',![]),this[_0x5e168c('0x72')](![]),this[_0x5e168c('0x4e')]['prop'](_0x5e168c('0x9'),![]),this[_0x5e168c('0x28')](![]),this[_0x5e168c('0x31')][_0x5e168c('0x3a')](_0x4a7e9b=>{const _0x316173=_0x5e168c,_0x21fc4e=this[_0x316173('0x1')][_0x316173('0x32')]['find'](_0x87e44=>_0x87e44[_0x316173('0x63')]['id']===_0x4a7e9b['id']);_0x21fc4e[_0x316173('0x4a')][_0x316173('0x6e')]['checked']=![],_0x21fc4e['data'][_0x316173('0x2e')][_0x316173('0x3a')](_0x2d46c8=>_0x2d46c8['checked']=![]),_0x21fc4e[_0x316173('0x4a')]['selsPlayers']['forEach']((_0x41f555,_0x478972)=>{const _0x44c2fc=_0x316173,_0x39915a=this[_0x44c2fc('0x54')][_0x478972]['id'],_0x16ecf4=''+_0x4a7e9b[_0x44c2fc('0x58')][_0x39915a];_0x41f555['value']=_0x16ecf4,_0x41f555[_0x44c2fc('0x1f')](_0x44c2fc('0x2f'),_0x16ecf4);});});}[_0x9cb9c2('0x72')](_0x34e720){const _0x3e00de=_0x9cb9c2;this[_0x3e00de('0x1')]['visibleItems'][_0x3e00de('0x3a')](_0x18edfc=>_0x18edfc['data']['cbAllPlayers'][_0x3e00de('0x9')]=_0x34e720);}['_setMassCheckboxValues'](_0x2279b9){const _0x1c2878=_0x9cb9c2;this[_0x1c2878('0x3e')][_0x1c2878('0x33')](_0x1c2878('0x77'))[_0x1c2878('0x21')]()[_0x1c2878('0x3a')](_0x46ceec=>_0x46ceec[_0x1c2878('0x9')]=_0x2279b9);}[_0x9cb9c2('0x2b')](){const _0x110a7a=_0x9cb9c2,_0x11351e=this[_0x110a7a('0x39')][_0x110a7a('0x6')][_0x110a7a('0x4')]();this[_0x110a7a('0x1')][_0x110a7a('0x73')](_0x3ccb45=>this[_0x110a7a('0x39')]['toDisplay'](_0x11351e,this['_entities'][_0x3ccb45['ix']]));}static[_0x9cb9c2('0x59')](_0x4716d3){const _0x4d4380=_0x9cb9c2,_0x22018d=_0x4716d3[_0x4d4380('0x67')][_0x4d4380('0x6c')][0x2],_0x2f1c33=_0x4716d3['ele'][_0x4d4380('0x6c')][0x3],_0x396e97=[..._0x4716d3[_0x4d4380('0x67')]['children']][_0x4d4380('0x7d')](0x4);return{'cbAllPlayers':_0x22018d[_0x4d4380('0x6c')][0x0],'selAllPlayers':_0x22018d['children'][0x1],'cbEachPlayer':_0x2f1c33[_0x4d4380('0x6c')][0x0],'selEachPlayer':_0x2f1c33['children'][0x1],'cbsPlayers':_0x396e97[_0x4d4380('0x20')](_0x462d71=>_0x462d71[_0x4d4380('0x6c')][0x0]),'selsPlayers':_0x396e97['map'](_0x2b260f=>_0x2b260f['children'][0x1])};}static['_sortEntities'](_0x2fba00,_0x14ebcb){const _0x5ef07e=_0x9cb9c2,_0x536efb=_0x2fba00[_0x5ef07e('0x63')]?_0x2fba00[_0x5ef07e('0x63')][_0x5ef07e('0x74')]:_0x2fba00[_0x5ef07e('0x74')],_0x5c7a95=_0x14ebcb[_0x5ef07e('0x63')]?_0x14ebcb[_0x5ef07e('0x63')][_0x5ef07e('0x74')]:_0x14ebcb[_0x5ef07e('0x74')];if(_0x536efb&&!_0x5c7a95)return-0x1;if(!_0x536efb&&_0x5c7a95)return 0x1;return SortUtil[_0x5ef07e('0xb')](_0x536efb,_0x5c7a95)||SortUtil[_0x5ef07e('0xb')](_0x2fba00['name'],_0x14ebcb[_0x5ef07e('0x1d')]);}[_0x9cb9c2('0x15')](){const _0x197b7e=_0x9cb9c2;return this[_0x197b7e('0x54')]=game[_0x197b7e('0x5')]['entities'][_0x197b7e('0x20')](_0x3aebe1=>({'id':_0x3aebe1['id'],'name':_0x3aebe1[_0x197b7e('0x1d')]})),this[_0x197b7e('0x31')]=this[_0x197b7e('0x70')][_0x197b7e('0x1c')][_0x197b7e('0x20')]((_0xe8bbf1,_0x408d83)=>{const _0x4133ca=_0x197b7e,_0x15b673=UtilApplications[_0x4133ca('0x6d')](_0xe8bbf1,{'isAddTrailingSlash':!![]}),_0x3abbf3=(_0xe8bbf1[_0x4133ca('0x4a')]||{})[_0x4133ca('0x19')]||{},_0x39a5b3=_0x3abbf3[_0x4133ca('0x3b')]!=null?_0x3abbf3[_0x4133ca('0x3b')]:-0x1;return{'id':_0xe8bbf1['id'],'name':_0xe8bbf1[_0x4133ca('0x1d')],'allPlayerPermissions':_0x39a5b3,'playerPermissions':this[_0x4133ca('0x54')]['map'](_0xd464ca=>_0xd464ca['id'])[_0x4133ca('0x26')](_0x3494aa=>{const _0x4d19c4=_0x3abbf3[_0x3494aa]!=null?_0x3abbf3[_0x3494aa]:-0x1;return{[_0x3494aa]:_0x4d19c4};}),'type':MiscUtil[_0x4133ca('0x21')](_0xe8bbf1,_0x4133ca('0x4a'),_0x4133ca('0x29'))||_0x4133ca('0x22'),'folderId':_0xe8bbf1[_0x4133ca('0x18')]?_0xe8bbf1[_0x4133ca('0x18')]['id']:null,'path':_0x15b673||'','ix':_0x408d83};}),this[_0x197b7e('0x31')][_0x197b7e('0x7b')](CollectionPermissionUpdater['_sortEntities']),{...super[_0x197b7e('0x15')](),'titleSearch':this[_0x197b7e('0x3f')]+'s','players':this['_players'],'entities':this['_entities'],'permissions':Util[_0x197b7e('0x34')][_0x197b7e('0x6b')]()};}[_0x9cb9c2('0x40')](..._0x54d2e5){const _0x3e83f9=_0x9cb9c2;super[_0x3e83f9('0x40')](..._0x54d2e5),this[_0x3e83f9('0x39')][_0x3e83f9('0x60')]();}}export{CollectionPermissionUpdater};