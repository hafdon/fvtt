const _0x3d49=['pImportEntry','tables','name','_page','_pImportEntry_pDoUpdateExistingDirectoryEntity','_pImportEntry_pGetFolderId','TASK_EXIT_SKIPPED_DUPLICATE','text-center','_activateListeners_absorbListItems','doAbsorbItems','_pImportEntry_pImportToDirectoryGeneric','Importing\x20table\x20\x22','_pImportEntry_getTablesFromGroup','3189TfTXVe','_list','SOURCE_TYP_CUSTOM','bind','constructor','create','get','_isPreviewable','source','absorbFnBindListenersRadio','Importing\x20table\x20group\x20\x22','getData','sourceJsonToColor','pGetTableRollableTable','TASK_EXIT_COMPLETE','URL_TO_HASH_BUILDER','isSkip','26GRtssK','_pageFilter','Source','imported','map','tableGroup','3987NCtYut','forEach','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','_pImportTableGroup',',\x20Table\x20','DataSourceFile','DataSourceSpecial','getTableGroupJournal','1qAxYVV','isTemp','Tables','\x22\x20(from\x20\x22','length','isOverwrite','120514IDNPvE','_titleSearch','5etools-rollable-tables','SRD','__prop','DataSourceUrl','caption','61gSKNNW','sourceClassName','journal','log','Import\x20Rollable\x20Tables','52632SpbUnM','Cannot\x20import\x20table\x20to\x20actor!','_getDuplicateMeta','16bcUUag','72865dzMSsZ','pGetSources','sourceShort','absorbFnBindListeners','Upload\x20File','sourceJsonToFull','mutateForFilters','_pack','1522gNGhiz','_content','sourceLong','set','table','1Tjyjlk','sourceJsonToAbv','_actor','push','SOURCE_TYP_BREW','47009LFCJFT','existing','folder'];const _0x3eea=function(_0x25c95d,_0x304842){_0x25c95d=_0x25c95d-0x74;let _0x3d4904=_0x3d49[_0x25c95d];return _0x3d4904;};const _0x8f8692=_0x3eea;(function(_0x1e6e1a,_0x4f94ec){const _0x1cf84a=_0x3eea;while(!![]){try{const _0x5e2702=parseInt(_0x1cf84a(0x7e))+-parseInt(_0x1cf84a(0x8a))+parseInt(_0x1cf84a(0xc1))*-parseInt(_0x1cf84a(0xc7))+parseInt(_0x1cf84a(0x8e))*-parseInt(_0x1cf84a(0x9b))+parseInt(_0x1cf84a(0x96))*-parseInt(_0x1cf84a(0x8d))+parseInt(_0x1cf84a(0xa0))*parseInt(_0x1cf84a(0x78))+parseInt(_0x1cf84a(0xb0))*parseInt(_0x1cf84a(0x85));if(_0x5e2702===_0x4f94ec)break;else _0x1e6e1a['push'](_0x1e6e1a['shift']());}catch(_0x53b527){_0x1e6e1a['push'](_0x1e6e1a['shift']());}}}(_0x3d49,0x1a7fd));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterTable}from'./DataConverterTable.js';import{UtilApplications}from'./UtilApplications.js';import{UtilDataSource}from'./UtilDataSource.js';class ImportListRollableTable extends ImportList{constructor(_0x49a338){const _0xd9bb78=_0x3eea;_0x49a338=_0x49a338||{},super({'title':_0xd9bb78(0x89)},_0x49a338,{'props':[_0xd9bb78(0x9a),_0xd9bb78(0xc6)],'titleSearch':_0xd9bb78(0x9a),'sidebarTab':_0xd9bb78(0xa4),'gameProp':_0xd9bb78(0xa4),'defaultFolderPath':[_0xd9bb78(0x7a)],'folderType':'RollTable','pageFilter':new PageFilterTables(),'page':UrlUtil['PG_TABLES'],'isPreviewable':!![],'isDedupable':!![]});}async[_0x8f8692(0x8f)](){const _0x1b26b8=_0x8f8692;return[new UtilDataSource[(_0x1b26b8(0x76))](Config[_0x1b26b8(0xb6)]('ui','isStreamerMode')?_0x1b26b8(0x81):'5etools',Vetools['pGetRollableTables'][_0x1b26b8(0xb3)](Vetools),{'cacheKey':_0x1b26b8(0x80),'isUseProps':!![],'filterTypes':[UtilDataSource['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]}),new UtilDataSource[(_0x1b26b8(0x83))]('Custom\x20URL','',{'filterTypes':[UtilDataSource[_0x1b26b8(0xb2)]]}),new UtilDataSource[(_0x1b26b8(0x75))](_0x1b26b8(0x92),{'filterTypes':[UtilDataSource[_0x1b26b8(0xb2)]]}),...(await Vetools['pGetHomebrewSources'](_0x1b26b8(0x9a)))[_0x1b26b8(0xc5)](({name:_0x410088,url:_0x3b59b1})=>new UtilDataSource[(_0x1b26b8(0x83))](_0x410088,_0x3b59b1,{'filterTypes':[UtilDataSource[_0x1b26b8(0x9f)]]}))];}[_0x8f8692(0xbb)](){const _0xe28e83=_0x8f8692;return{'isPreviewable':this[_0xe28e83(0xb7)],'titleButtonRun':this['_titleButtonRun'],'titleSearch':this[_0xe28e83(0x7f)],'cols':[{'name':'Name','width':0x9,'field':'name'},{'name':_0xe28e83(0xc3),'width':0x2,'field':_0xe28e83(0xb8),'titleProp':_0xe28e83(0x98),'displayProp':_0xe28e83(0x90),'classNameProp':_0xe28e83(0x86),'rowClassName':_0xe28e83(0xaa)}],'rows':this['_content'][_0xe28e83(0xc5)]((_0x465fc8,_0x2f4216)=>{const _0x2ec9c3=_0xe28e83;return this[_0x2ec9c3(0xc2)][_0x2ec9c3(0xb4)][_0x2ec9c3(0x94)](_0x465fc8),{'name':_0x465fc8[_0x2ec9c3(0xa5)],'source':_0x465fc8[_0x2ec9c3(0xb8)],'sourceShort':Parser['sourceJsonToAbv'](_0x465fc8[_0x2ec9c3(0xb8)]),'sourceLong':Parser[_0x2ec9c3(0x93)](_0x465fc8[_0x2ec9c3(0xb8)]),'sourceClassName':Parser[_0x2ec9c3(0xbc)](_0x465fc8[_0x2ec9c3(0xb8)]),'ix':_0x2f4216};})};}[_0x8f8692(0xab)](){const _0x46144a=_0x8f8692;this[_0x46144a(0xb1)][_0x46144a(0xac)](this[_0x46144a(0x97)],{'fnGetName':_0x270ec3=>_0x270ec3[_0x46144a(0xa5)],'fnGetValues':_0x25cbcd=>({'source':_0x25cbcd['source'],'hash':UrlUtil[_0x46144a(0xbf)][this[_0x46144a(0xa6)]](_0x25cbcd)}),'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0x3c0833=>this['_isRadio']?UtilList2[_0x46144a(0xb9)](this[_0x46144a(0xb1)],_0x3c0833):UtilList2[_0x46144a(0x91)](this[_0x46144a(0xb1)],_0x3c0833)});}[_0x8f8692(0xaf)](_0x59049d){const _0x27a950=_0x8f8692,_0x352c79=MiscUtil['copy'](_0x59049d);return _0x352c79[_0x27a950(0xa4)][_0x27a950(0xc8)]((_0x174f72,_0x5f2692)=>{const _0x24ead6=_0x27a950;if(_0x352c79[_0x24ead6(0xa5)])_0x174f72[_0x24ead6(0xa5)]=_0x174f72[_0x24ead6(0xa5)]||_0x352c79['name']+_0x24ead6(0x74)+(_0x5f2692+0x1);_0x174f72[_0x24ead6(0xb8)]=_0x174f72[_0x24ead6(0xb8)]||_0x352c79[_0x24ead6(0xb8)];}),_0x352c79['tables'];}async[_0x8f8692(0xca)](_0x5aadf5,_0x5db3ea){const _0x592d44=_0x8f8692;if(_0x5aadf5[_0x592d44(0x82)]!==_0x592d44(0xc6))return null;console[_0x592d44(0x88)](...LGT,_0x592d44(0xba)+(_0x5aadf5[_0x592d44(0xa5)]||_0x5aadf5['caption'])+'\x22\x20(from\x20\x22'+Parser[_0x592d44(0x9c)](_0x5aadf5['source'])+'\x22)');const _0x4b4e5f=this[_0x592d44(0xaf)](_0x5aadf5),_0x390abe=[];let _0x509046=0x0;for(const _0x3fe0b3 of _0x4b4e5f){const _0x2ba24c=await this[_0x592d44(0xa3)](_0x3fe0b3,_0x5db3ea);if(_0x2ba24c[_0x592d44(0xc4)])_0x390abe[_0x592d44(0x9e)](..._0x2ba24c[_0x592d44(0xc4)]);else{if(_0x2ba24c[_0x592d44(0xa1)])_0x509046++;}}if(!_0x390abe[_0x592d44(0x7c)]&&_0x509046)return{'status':UtilApplications[_0x592d44(0xa9)]};const _0x121d87=DataConverterTable[_0x592d44(0x77)](_0x5aadf5,_0x390abe,{'isAddPermission':!![]}),_0x56ddfa=this[_0x592d44(0x8c)]({'name':_0x121d87[_0x592d44(0xa5)],'gameProp':'journal'});if(_0x56ddfa[_0x592d44(0xc0)])return{'status':UtilApplications[_0x592d44(0xa9)]};const _0x309b51=_0x5db3ea[_0x592d44(0x79)]||!!this[_0x592d44(0x95)];if(_0x309b51){const _0x1407b4=await JournalEntry[_0x592d44(0xb5)](_0x121d87,{'renderSheet':!![],'temporary':!![]});return{'imported':[_0x1407b4],'status':UtilApplications[_0x592d44(0xbe)]};}if(_0x56ddfa[_0x592d44(0x7d)])return this[_0x592d44(0xa7)](_0x56ddfa,_0x121d87);const _0x135370=await this[_0x592d44(0xa8)](_0x5aadf5);if(_0x135370)_0x121d87[_0x592d44(0xa2)]=_0x135370;const _0x49e017=await JournalEntry[_0x592d44(0xb5)](_0x121d87,{'renderSheet':![],'temporary':![]});return await game[_0x592d44(0x87)][_0x592d44(0x99)](_0x49e017['id'],_0x49e017),{'imported':[_0x49e017],'status':UtilApplications[_0x592d44(0xbe)]};}async[_0x8f8692(0xa3)](_0x1cb61f,_0x34df42){const _0x120bd5=_0x8f8692;_0x34df42=_0x34df42||{};const _0x154487=await this['_pImportTableGroup'](_0x1cb61f,_0x34df42);if(_0x154487!=null)return _0x154487;console[_0x120bd5(0x88)](...LGT,_0x120bd5(0xae)+(_0x1cb61f[_0x120bd5(0xa5)]||_0x1cb61f[_0x120bd5(0x84)])+_0x120bd5(0x7b)+Parser[_0x120bd5(0x9c)](_0x1cb61f['source'])+'\x22)');if(this[_0x120bd5(0x9d)])throw new Error(_0x120bd5(0x8b));return this[_0x120bd5(0xad)](_0x1cb61f,_0x34df42);}[_0x8f8692(0xc9)](_0x2461fa,_0x4703c1){const _0x4599cb=_0x8f8692;return DataConverterTable[_0x4599cb(0xbd)](_0x2461fa,_0x4703c1);}}export{ImportListRollableTable};