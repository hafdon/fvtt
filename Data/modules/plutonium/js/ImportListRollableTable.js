'use strict';const _0x2168=['getTableGroupJournal','_titleSearch','Importing\x20table\x20\x22','_isPreviewable','DataSourceSpecial','sourceJsonToFull','getTableRollableTable','140624LeAokP','Tables','sourceJsonToAbv','613963VtKEdg','log','tableGroup','sourceLong','isOverwrite','5etools','isSkip','SOURCE_TYP_BREW','get','forEach','SOURCE_TYP_CUSTOM','isStreamerMode','Import\x20Rollable\x20Tables','TASK_EXIT_SKIPPED_DUPLICATE','push','bind','_content','SRD','_pageFilter','_pImportEntry_pDoUpdateExistingDirectoryEntity','15773TWUMFk','journal','1TdKPeE','pGetSources','pGetHomebrewSources','49UfmZix','SOURCE_TYP_OFFICIAL_ALL','tables','sourceJsonToColor','pGetRollableTables','name','_titleButtonRun','folder','map','_pack','imported','create','sourceClassName','_pImportTableGroup','5etools-rollable-tables','isTemp','copy','954183ukwkxD','_activateListeners_absorbListItems','_list','1iHWZgE','22200BZwsKj','doAbsorbItems','1507849oihhzj','caption','Source','insert','PG_TABLES','62633tnGTtk','constructor','\x22\x20(from\x20\x22','source','16klmnOh','DataSourceUrl','TASK_EXIT_COMPLETE','_getDuplicateMeta','table','_pImportEntry_getTablesFromGroup','RollTable','URL_TO_HASH_BUILDER','73cmUQxL','_page','absorbFnGetData'];const _0x984d=function(_0xdba421,_0x41609f){_0xdba421=_0xdba421-0x153;let _0x216882=_0x2168[_0xdba421];return _0x216882;};const _0xcfe875=_0x984d;(function(_0x1a612f,_0x2ce3aa){const _0x8166d6=_0x984d;while(!![]){try{const _0x286a90=parseInt(_0x8166d6(0x197))*parseInt(_0x8166d6(0x176))+-parseInt(_0x8166d6(0x16a))*parseInt(_0x8166d6(0x16e))+parseInt(_0x8166d6(0x15f))+-parseInt(_0x8166d6(0x180))+-parseInt(_0x8166d6(0x163))*parseInt(_0x8166d6(0x19c))+-parseInt(_0x8166d6(0x165))*-parseInt(_0x8166d6(0x162))+parseInt(_0x8166d6(0x183))*-parseInt(_0x8166d6(0x199));if(_0x286a90===_0x2ce3aa)break;else _0x1a612f['push'](_0x1a612f['shift']());}catch(_0x2eb3a5){_0x1a612f['push'](_0x1a612f['shift']());}}}(_0x2168,0xbbbb2));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterTable}from'./DataConverterTable.js';import{UtilApplications}from'./UtilApplications.js';class ImportListRollableTable extends ImportList{constructor(_0x316de7){const _0x522986=_0x984d;_0x316de7=_0x316de7||{},super({'title':_0x522986(0x18f)},_0x316de7,{'props':[_0x522986(0x172),_0x522986(0x185)],'titleSearch':_0x522986(0x172),'sidebarTab':_0x522986(0x19e),'gameProp':'tables','defaultFolderPath':[_0x522986(0x181)],'folderType':_0x522986(0x174),'pageFilter':new PageFilterTables(),'page':UrlUtil[_0x522986(0x169)],'isPreviewable':!![],'isDedupable':!![]});}async[_0xcfe875(0x19a)](){const _0x306618=_0xcfe875;return[new ImportList[(_0x306618(0x17d))](Config[_0x306618(0x18b)]('ui',_0x306618(0x18e))?_0x306618(0x194):_0x306618(0x188),Vetools[_0x306618(0x1a0)][_0x306618(0x192)](Vetools),{'cacheKey':_0x306618(0x15c),'isUseProps':!![],'filterTypes':[ImportList[_0x306618(0x19d)]],'isDefault':!![]}),new ImportList[(_0x306618(0x16f))]('Custom\x20URL','',{'filterTypes':[ImportList[_0x306618(0x18d)]]}),new ImportList['DataSourceFile']('Upload\x20File',{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x306618(0x19b)]('table'))[_0x306618(0x156)](({name:_0x263222,url:_0x315a9f})=>new ImportList[(_0x306618(0x16f))](_0x263222,_0x315a9f,{'filterTypes':[ImportList[_0x306618(0x18a)]]}))];}['getData'](){const _0x37994b=_0xcfe875;return{'isPreviewable':this[_0x37994b(0x17c)],'titleButtonRun':this[_0x37994b(0x154)],'titleSearch':this[_0x37994b(0x17a)],'cols':[{'name':'Name','width':0x9,'field':_0x37994b(0x153)},{'name':_0x37994b(0x167),'width':0x2,'field':_0x37994b(0x16d),'titleProp':_0x37994b(0x186),'displayProp':'sourceShort','classNameProp':_0x37994b(0x15a),'rowClassName':'text-center'}],'rows':this[_0x37994b(0x193)]['map']((_0x244dfe,_0x3dec8a)=>{const _0xbe3a63=_0x37994b;return this[_0xbe3a63(0x195)][_0xbe3a63(0x16b)]['mutateForFilters'](_0x244dfe),{'name':_0x244dfe[_0xbe3a63(0x153)],'source':_0x244dfe['source'],'sourceShort':Parser[_0xbe3a63(0x182)](_0x244dfe[_0xbe3a63(0x16d)]),'sourceLong':Parser[_0xbe3a63(0x17e)](_0x244dfe[_0xbe3a63(0x16d)]),'sourceClassName':Parser[_0xbe3a63(0x19f)](_0x244dfe['source']),'ix':_0x3dec8a};})};}[_0xcfe875(0x160)](){const _0x41f855=_0xcfe875;this[_0x41f855(0x161)][_0x41f855(0x164)](this['_content'],{'fnGetName':_0x28a679=>_0x28a679[_0x41f855(0x153)],'fnGetValues':_0x6bf39c=>({'source':_0x6bf39c[_0x41f855(0x16d)],'hash':UrlUtil[_0x41f855(0x175)][this[_0x41f855(0x177)]](_0x6bf39c)}),'fnGetData':UtilList2[_0x41f855(0x178)],'fnBindListeners':_0x4e9501=>UtilList2['absorbFnBindListeners'](this[_0x41f855(0x161)],_0x4e9501)});}[_0xcfe875(0x173)](_0x8bdd82){const _0x53f60a=_0xcfe875,_0x18e803=MiscUtil[_0x53f60a(0x15e)](_0x8bdd82);return _0x18e803[_0x53f60a(0x19e)][_0x53f60a(0x18c)]((_0x4b271e,_0x21d5d2)=>{const _0x7ba0c0=_0x53f60a;if(_0x18e803['name'])_0x4b271e[_0x7ba0c0(0x153)]=_0x4b271e[_0x7ba0c0(0x153)]||_0x18e803[_0x7ba0c0(0x153)]+',\x20Table\x20'+(_0x21d5d2+0x1);_0x4b271e[_0x7ba0c0(0x16d)]=_0x4b271e[_0x7ba0c0(0x16d)]||_0x18e803[_0x7ba0c0(0x16d)];}),_0x18e803[_0x53f60a(0x19e)];}async['_pImportTableGroup'](_0x2c5f3e,_0x2d57b9){const _0x2e15ca=_0xcfe875;if(_0x2c5f3e['__prop']!=='tableGroup')return null;console['log'](...LGT,'Importing\x20table\x20group\x20\x22'+(_0x2c5f3e[_0x2e15ca(0x153)]||_0x2c5f3e[_0x2e15ca(0x166)])+_0x2e15ca(0x16c)+Parser[_0x2e15ca(0x182)](_0x2c5f3e[_0x2e15ca(0x16d)])+'\x22)');const _0x233f8d=this['_pImportEntry_getTablesFromGroup'](_0x2c5f3e),_0x32e39e=[];for(const _0x52ecd3 of _0x233f8d){const _0x37ca04=await this['pImportEntry'](_0x52ecd3,_0x2d57b9);_0x32e39e[_0x2e15ca(0x191)](_0x37ca04[_0x2e15ca(0x158)]);}const _0x556e91=DataConverterTable[_0x2e15ca(0x179)](_0x2c5f3e,_0x32e39e,{'isAddPermission':!![]}),_0x517de0=this[_0x2e15ca(0x171)]({'name':_0x556e91[_0x2e15ca(0x153)],'gameProp':_0x2e15ca(0x198)});if(_0x517de0[_0x2e15ca(0x189)])return{'status':UtilApplications[_0x2e15ca(0x190)]};const _0x15b7a8=_0x2d57b9[_0x2e15ca(0x15d)]||!!this[_0x2e15ca(0x157)];if(_0x15b7a8){const _0x16dc5a=await JournalEntry[_0x2e15ca(0x159)](_0x556e91,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x16dc5a,'status':UtilApplications[_0x2e15ca(0x170)]};}if(_0x517de0[_0x2e15ca(0x187)])return this[_0x2e15ca(0x196)](_0x517de0,_0x556e91);const _0x4a38d4=await this['_pImportEntry_pGetFolderId'](_0x2c5f3e);if(_0x4a38d4)_0x556e91[_0x2e15ca(0x155)]=_0x4a38d4;const _0x597177=await JournalEntry[_0x2e15ca(0x159)](_0x556e91,{'renderSheet':![],'temporary':![]});return await game[_0x2e15ca(0x198)][_0x2e15ca(0x168)](_0x597177),{'imported':_0x597177,'status':UtilApplications[_0x2e15ca(0x170)]};}async['pImportEntry'](_0x547b94,_0x59641f){const _0x20afaf=_0xcfe875;_0x59641f=_0x59641f||{};const _0x2d00cb=await this[_0x20afaf(0x15b)](_0x547b94,_0x59641f);if(_0x2d00cb!=null)return _0x2d00cb;console[_0x20afaf(0x184)](...LGT,_0x20afaf(0x17b)+(_0x547b94[_0x20afaf(0x153)]||_0x547b94[_0x20afaf(0x166)])+_0x20afaf(0x16c)+Parser[_0x20afaf(0x182)](_0x547b94[_0x20afaf(0x16d)])+'\x22)');if(this['_actor'])throw new Error('Cannot\x20import\x20table\x20to\x20actor!');return this['_pImportEntry_pImportToDirectoryGeneric'](_0x547b94,_0x59641f);}['_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'](_0x198f2f,_0x4e38eb){const _0x7f7a21=_0xcfe875;return DataConverterTable[_0x7f7a21(0x17f)](_0x198f2f,_0x4e38eb);}}export{ImportListRollableTable};