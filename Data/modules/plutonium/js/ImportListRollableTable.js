const _0x2457=['imported','tableGroup','table','_actor','bind','absorbFnGetData','Tables','_getDuplicateMeta','absorbFnBindListenersRadio','Upload\x20File','Source','__prop','sourceJsonToAbv','absorbFnBindListeners','4EGtmxU','_list','_activateListeners_absorbListItems','push','folder','Import\x20Rollable\x20Tables','caption','name','journal','1gLSinr','_pack','3mLgrKG','forEach','83463EoLMFP','DataSourceUrl','pImportEntry','430626gKbiNP','isOverwrite','sourceClassName','get','TASK_EXIT_COMPLETE','source','_pImportTableGroup','sourceJsonToFull','insert','create','562580vUtbKX','Importing\x20table\x20\x22','pGetRollableTables','663350bxosPy','isSkip','_isRadio','pGetSources','_pImportEntry_pDoUpdateExistingDirectoryEntity','131447klWyzu','_content','160072EntytB','log','_pImportEntry_pImportToDirectoryGeneric','Importing\x20table\x20group\x20\x22','_pImportEntry_getTablesFromGroup','map','mutateForFilters','tables','copy','SOURCE_TYP_BREW','\x22\x20(from\x20\x22','DataSourceFile','_pImportEntry_pGetFolderId','_isPreviewable','getData','Name','_titleButtonRun','SRD','SOURCE_TYP_OFFICIAL_ALL','_titleSearch','sourceJsonToColor','22690rARQWh','SOURCE_TYP_CUSTOM'];const _0x4c79=function(_0x332f29,_0x413105){_0x332f29=_0x332f29-0xff;let _0x245708=_0x2457[_0x332f29];return _0x245708;};const _0x3d6a23=_0x4c79;(function(_0x33484b,_0x55da16){const _0x389b27=_0x4c79;while(!![]){try{const _0x7be1f2=parseInt(_0x389b27(0x112))*parseInt(_0x389b27(0x144))+-parseInt(_0x389b27(0x10a))+parseInt(_0x389b27(0x10d))+-parseInt(_0x389b27(0x100))+parseInt(_0x389b27(0x146))*parseInt(_0x389b27(0x142))+parseInt(_0x389b27(0x129))*parseInt(_0x389b27(0x139))+parseInt(_0x389b27(0x114));if(_0x7be1f2===_0x55da16)break;else _0x33484b['push'](_0x33484b['shift']());}catch(_0x5b9071){_0x33484b['push'](_0x33484b['shift']());}}}(_0x2457,0x615bc));import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterTable}from'./DataConverterTable.js';import{UtilApplications}from'./UtilApplications.js';import{UtilDataSource}from'./UtilDataSource.js';class ImportListRollableTable extends ImportList{constructor(_0x46f7f2){const _0xdc8b19=_0x4c79;_0x46f7f2=_0x46f7f2||{},super({'title':_0xdc8b19(0x13e)},_0x46f7f2,{'props':[_0xdc8b19(0x12d),_0xdc8b19(0x12c)],'titleSearch':_0xdc8b19(0x12d),'sidebarTab':_0xdc8b19(0x11b),'gameProp':'tables','defaultFolderPath':[_0xdc8b19(0x131)],'folderType':'RollTable','pageFilter':new PageFilterTables(),'page':UrlUtil['PG_TABLES'],'isPreviewable':!![],'isDedupable':!![]});}async[_0x3d6a23(0x110)](){const _0x1b386c=_0x3d6a23;return[new UtilDataSource['DataSourceSpecial'](Config[_0x1b386c(0x103)]('ui','isStreamerMode')?_0x1b386c(0x125):'5etools',Vetools[_0x1b386c(0x10c)][_0x1b386c(0x12f)](Vetools),{'cacheKey':'5etools-rollable-tables','isUseProps':!![],'filterTypes':[UtilDataSource[_0x1b386c(0x126)]],'isDefault':!![]}),new UtilDataSource[(_0x1b386c(0x147))]('Custom\x20URL','',{'filterTypes':[UtilDataSource[_0x1b386c(0x12a)]]}),new UtilDataSource[(_0x1b386c(0x11f))](_0x1b386c(0x134),{'filterTypes':[UtilDataSource[_0x1b386c(0x12a)]]}),...(await Vetools['pGetHomebrewSources']('table'))[_0x1b386c(0x119)](({name:_0x1dd94d,url:_0x1c8044})=>new UtilDataSource['DataSourceUrl'](_0x1dd94d,_0x1c8044,{'filterTypes':[UtilDataSource[_0x1b386c(0x11d)]]}))];}[_0x3d6a23(0x122)](){const _0x101f71=_0x3d6a23;return{'isPreviewable':this[_0x101f71(0x121)],'titleButtonRun':this[_0x101f71(0x124)],'titleSearch':this[_0x101f71(0x127)],'cols':[{'name':_0x101f71(0x123),'width':0x9,'field':_0x101f71(0x140)},{'name':_0x101f71(0x135),'width':0x2,'field':_0x101f71(0x105),'titleProp':'sourceLong','displayProp':'sourceShort','classNameProp':_0x101f71(0x102),'rowClassName':'text-center'}],'rows':this['_content'][_0x101f71(0x119)]((_0x68b524,_0xd561f9)=>{const _0xe90dd7=_0x101f71;return this['_pageFilter']['constructor'][_0xe90dd7(0x11a)](_0x68b524),{'name':_0x68b524[_0xe90dd7(0x140)],'source':_0x68b524[_0xe90dd7(0x105)],'sourceShort':Parser['sourceJsonToAbv'](_0x68b524[_0xe90dd7(0x105)]),'sourceLong':Parser[_0xe90dd7(0x107)](_0x68b524[_0xe90dd7(0x105)]),'sourceClassName':Parser[_0xe90dd7(0x128)](_0x68b524['source']),'ix':_0xd561f9};})};}[_0x3d6a23(0x13b)](){const _0x25c309=_0x3d6a23;this[_0x25c309(0x13a)]['doAbsorbItems'](this[_0x25c309(0x113)],{'fnGetName':_0xc751e2=>_0xc751e2['name'],'fnGetValues':_0x20e2cd=>({'source':_0x20e2cd['source'],'hash':UrlUtil['URL_TO_HASH_BUILDER'][this['_page']](_0x20e2cd)}),'fnGetData':UtilList2[_0x25c309(0x130)],'fnBindListeners':_0x30a2f0=>this[_0x25c309(0x10f)]?UtilList2[_0x25c309(0x133)](this[_0x25c309(0x13a)],_0x30a2f0):UtilList2[_0x25c309(0x138)](this[_0x25c309(0x13a)],_0x30a2f0)});}[_0x3d6a23(0x118)](_0x226b24){const _0x3460ab=_0x3d6a23,_0x202a0c=MiscUtil[_0x3460ab(0x11c)](_0x226b24);return _0x202a0c['tables'][_0x3460ab(0x145)]((_0x4b6193,_0x16a654)=>{const _0x3219ca=_0x3460ab;if(_0x202a0c['name'])_0x4b6193[_0x3219ca(0x140)]=_0x4b6193['name']||_0x202a0c[_0x3219ca(0x140)]+',\x20Table\x20'+(_0x16a654+0x1);_0x4b6193[_0x3219ca(0x105)]=_0x4b6193[_0x3219ca(0x105)]||_0x202a0c[_0x3219ca(0x105)];}),_0x202a0c['tables'];}async[_0x3d6a23(0x106)](_0x8b01ad,_0x573e8d){const _0x52cfea=_0x3d6a23;if(_0x8b01ad[_0x52cfea(0x136)]!=='tableGroup')return null;console[_0x52cfea(0x115)](...LGT,_0x52cfea(0x117)+(_0x8b01ad[_0x52cfea(0x140)]||_0x8b01ad['caption'])+_0x52cfea(0x11e)+Parser[_0x52cfea(0x137)](_0x8b01ad['source'])+'\x22)');const _0x5b35fc=this[_0x52cfea(0x118)](_0x8b01ad),_0x541750=[];for(const _0x1b372b of _0x5b35fc){const _0x3a09e4=await this['pImportEntry'](_0x1b372b,_0x573e8d);_0x541750[_0x52cfea(0x13c)](_0x3a09e4[_0x52cfea(0x12b)]);}const _0x2e3be6=DataConverterTable['getTableGroupJournal'](_0x8b01ad,_0x541750,{'isAddPermission':!![]}),_0xb152ce=this[_0x52cfea(0x132)]({'name':_0x2e3be6[_0x52cfea(0x140)],'gameProp':_0x52cfea(0x141)});if(_0xb152ce[_0x52cfea(0x10e)])return{'status':UtilApplications['TASK_EXIT_SKIPPED_DUPLICATE']};const _0x5592c4=_0x573e8d['isTemp']||!!this[_0x52cfea(0x143)];if(_0x5592c4){const _0x516fa2=await JournalEntry['create'](_0x2e3be6,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x516fa2,'status':UtilApplications[_0x52cfea(0x104)]};}if(_0xb152ce[_0x52cfea(0x101)])return this[_0x52cfea(0x111)](_0xb152ce,_0x2e3be6);const _0x4649c3=await this[_0x52cfea(0x120)](_0x8b01ad);if(_0x4649c3)_0x2e3be6[_0x52cfea(0x13d)]=_0x4649c3;const _0x14f02b=await JournalEntry[_0x52cfea(0x109)](_0x2e3be6,{'renderSheet':![],'temporary':![]});return await game[_0x52cfea(0x141)][_0x52cfea(0x108)](_0x14f02b),{'imported':_0x14f02b,'status':UtilApplications[_0x52cfea(0x104)]};}async[_0x3d6a23(0xff)](_0x43cd64,_0x439ef8){const _0xf9bc2e=_0x3d6a23;_0x439ef8=_0x439ef8||{};const _0x48735f=await this[_0xf9bc2e(0x106)](_0x43cd64,_0x439ef8);if(_0x48735f!=null)return _0x48735f;console[_0xf9bc2e(0x115)](...LGT,_0xf9bc2e(0x10b)+(_0x43cd64[_0xf9bc2e(0x140)]||_0x43cd64[_0xf9bc2e(0x13f)])+_0xf9bc2e(0x11e)+Parser[_0xf9bc2e(0x137)](_0x43cd64[_0xf9bc2e(0x105)])+'\x22)');if(this[_0xf9bc2e(0x12e)])throw new Error('Cannot\x20import\x20table\x20to\x20actor!');return this[_0xf9bc2e(0x116)](_0x43cd64,_0x439ef8);}['_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'](_0x135b37,_0x187db1){return DataConverterTable['getTableRollableTable'](_0x135b37,_0x187db1);}}export{ImportListRollableTable};