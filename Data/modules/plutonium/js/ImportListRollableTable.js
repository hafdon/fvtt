const _0x399b=['table','text-center','DataSourceSpecial','tables','_activateListeners_absorbListItems','__prop','SOURCE_TYP_BREW','pGetSources','Custom\x20URL','isStreamerMode','log','source','_titleSearch','isSkip','create','Tables','folder','_pImportEntry_getTablesFromGroup','sourceJsonToColor','absorbFnBindListeners','\x22\x20(from\x20\x22','get','forEach','_getDuplicateMeta','name','bind','5etools','Import\x20Rollable\x20Tables','_pImportEntry_pGetFolderId','sourceClassName','getData','sourceJsonToAbv','_page','_list','tableGroup','sourceJsonToFull','Importing\x20table\x20\x22','URL_TO_HASH_BUILDER','map','pImportEntry',',\x20Table\x20','5etools-rollable-tables','pGetRollableTables','copy','Source','SOURCE_TYP_OFFICIAL_ALL','_pack','SRD','isTemp','_pImportEntry_pImportToDirectoryGeneric','absorbFnGetData','Importing\x20table\x20group\x20\x22','_isPreviewable','RollTable','_pageFilter','getTableGroupJournal','Name','isOverwrite','_titleButtonRun','_pImportTableGroup','_pImportEntry_pDoUpdateExistingDirectoryEntity','doAbsorbItems','Cannot\x20import\x20table\x20to\x20actor!','DataSourceFile','TASK_EXIT_COMPLETE','insert','TASK_EXIT_SKIPPED_DUPLICATE','DataSourceUrl','Upload\x20File','_content','sourceShort','push','caption','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'];(function(_0x386088,_0x399bb6){const _0x4894a3=function(_0x449ff9){while(--_0x449ff9){_0x386088['push'](_0x386088['shift']());}};_0x4894a3(++_0x399bb6);}(_0x399b,0xb1));const _0x4894=function(_0x386088,_0x399bb6){_0x386088=_0x386088-0x0;let _0x4894a3=_0x399b[_0x386088];return _0x4894a3;};const _0x4f4238=_0x4894;'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterTable}from'./DataConverterTable.js';import{UtilApplications}from'./UtilApplications.js';class ImportListRollableTable extends ImportList{constructor(_0x449ff9){const _0x24c77f=_0x4894;_0x449ff9=_0x449ff9||{},super({'title':_0x24c77f('0x48')},_0x449ff9,{'props':[_0x24c77f('0x2d'),'tableGroup'],'titleSearch':_0x24c77f('0x2d'),'sidebarTab':_0x24c77f('0x30'),'gameProp':_0x24c77f('0x30'),'defaultFolderPath':[_0x24c77f('0x3c')],'folderType':_0x24c77f('0x18'),'pageFilter':new PageFilterTables(),'page':UrlUtil['PG_TABLES'],'isPreviewable':!![]});}async[_0x4f4238('0x34')](){const _0x5d1875=_0x4f4238;return[new ImportList[(_0x5d1875('0x2f'))](Config[_0x5d1875('0x42')]('ui',_0x5d1875('0x36'))?_0x5d1875('0x12'):_0x5d1875('0x47'),Vetools[_0x5d1875('0xd')][_0x5d1875('0x46')](Vetools),{'cacheKey':_0x5d1875('0xc'),'isUseProps':!![],'filterTypes':[ImportList[_0x5d1875('0x10')]],'isDefault':!![]}),new ImportList[(_0x5d1875('0x26'))](_0x5d1875('0x35'),'',{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),new ImportList[(_0x5d1875('0x22'))](_0x5d1875('0x27'),{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...(await Vetools['pGetHomebrewSources'](_0x5d1875('0x2d')))[_0x5d1875('0x9')](({name:_0x3547bd,url:_0x388c68})=>new ImportList[(_0x5d1875('0x26'))](_0x3547bd,_0x388c68,{'filterTypes':[ImportList[_0x5d1875('0x33')]]}))];}[_0x4f4238('0x1')](){const _0x5ab2e1=_0x4f4238;return{'isPreviewable':this[_0x5ab2e1('0x17')],'titleButtonRun':this[_0x5ab2e1('0x1d')],'titleSearch':this[_0x5ab2e1('0x39')],'cols':[{'name':_0x5ab2e1('0x1b'),'width':0x9,'field':_0x5ab2e1('0x45')},{'name':_0x5ab2e1('0xf'),'width':0x2,'field':_0x5ab2e1('0x38'),'titleProp':'sourceLong','displayProp':_0x5ab2e1('0x29'),'classNameProp':_0x5ab2e1('0x0'),'rowClassName':_0x5ab2e1('0x2e')}],'rows':this[_0x5ab2e1('0x28')][_0x5ab2e1('0x9')]((_0x1e3a29,_0x24b465)=>{const _0x18ae3b=_0x5ab2e1;return this[_0x18ae3b('0x19')]['mutateForFilters'](_0x1e3a29),{'name':_0x1e3a29[_0x18ae3b('0x45')],'source':_0x1e3a29[_0x18ae3b('0x38')],'sourceShort':Parser['sourceJsonToAbv'](_0x1e3a29[_0x18ae3b('0x38')]),'sourceLong':Parser[_0x18ae3b('0x6')](_0x1e3a29['source']),'sourceClassName':Parser[_0x18ae3b('0x3f')](_0x1e3a29[_0x18ae3b('0x38')]),'ix':_0x24b465};})};}[_0x4f4238('0x31')](){const _0x3fab67=_0x4f4238;this[_0x3fab67('0x4')][_0x3fab67('0x20')](this[_0x3fab67('0x28')],{'fnGetName':_0x84c9bc=>_0x84c9bc[_0x3fab67('0x45')],'fnGetValues':_0x4c21ad=>({'source':_0x4c21ad['source'],'hash':UrlUtil[_0x3fab67('0x8')][this[_0x3fab67('0x3')]](_0x4c21ad)}),'fnGetData':UtilList2[_0x3fab67('0x15')],'fnBindListeners':_0x5f415e=>UtilList2[_0x3fab67('0x40')](this[_0x3fab67('0x4')],_0x5f415e)});}['_pImportEntry_getTablesFromGroup'](_0x4e02d7){const _0x3915a5=_0x4f4238,_0x413e09=MiscUtil[_0x3915a5('0xe')](_0x4e02d7);return _0x413e09['tables'][_0x3915a5('0x43')]((_0x8ce04e,_0x1adff4)=>{const _0x458437=_0x3915a5;if(_0x413e09[_0x458437('0x45')])_0x8ce04e[_0x458437('0x45')]=_0x8ce04e[_0x458437('0x45')]||_0x413e09[_0x458437('0x45')]+_0x458437('0xb')+(_0x1adff4+0x1);_0x8ce04e['source']=_0x8ce04e[_0x458437('0x38')]||_0x413e09['source'];}),_0x413e09[_0x3915a5('0x30')];}async[_0x4f4238('0x1e')](_0x3b60ac,_0x3b2173){const _0x1e2e8c=_0x4f4238;if(_0x3b60ac[_0x1e2e8c('0x32')]!==_0x1e2e8c('0x5'))return null;console[_0x1e2e8c('0x37')](...LGT,_0x1e2e8c('0x16')+(_0x3b60ac['name']||_0x3b60ac[_0x1e2e8c('0x2b')])+'\x22\x20(from\x20\x22'+Parser[_0x1e2e8c('0x2')](_0x3b60ac[_0x1e2e8c('0x38')])+'\x22)');const _0x1e3143=this[_0x1e2e8c('0x3e')](_0x3b60ac),_0x3e6c90=[];for(const _0x272a0b of _0x1e3143){const _0x2cd435=await this[_0x1e2e8c('0xa')](_0x272a0b,_0x3b2173);_0x3e6c90[_0x1e2e8c('0x2a')](_0x2cd435['imported']);}const _0x19b31c=DataConverterTable[_0x1e2e8c('0x1a')](_0x3b60ac,_0x3e6c90,{'isAddPermission':!![]}),_0x8cd0cf=this[_0x1e2e8c('0x44')]({'name':_0x19b31c[_0x1e2e8c('0x45')],'gameProp':'journal'});if(_0x8cd0cf[_0x1e2e8c('0x3a')])return{'status':UtilApplications[_0x1e2e8c('0x25')]};const _0x332af9=_0x3b2173[_0x1e2e8c('0x13')]||!!this[_0x1e2e8c('0x11')];if(_0x332af9){const _0x8d5c0f=await JournalEntry['create'](_0x19b31c,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x8d5c0f,'status':UtilApplications[_0x1e2e8c('0x23')]};}if(_0x8cd0cf[_0x1e2e8c('0x1c')])return this[_0x1e2e8c('0x1f')](_0x8cd0cf,_0x19b31c);const _0x58cbad=await this[_0x1e2e8c('0x49')](_0x3b60ac);if(_0x58cbad)_0x19b31c[_0x1e2e8c('0x3d')]=_0x58cbad;const _0x5564f1=await JournalEntry[_0x1e2e8c('0x3b')](_0x19b31c,{'renderSheet':![],'temporary':![]});return await game['journal'][_0x1e2e8c('0x24')](_0x5564f1),{'imported':_0x5564f1,'status':UtilApplications[_0x1e2e8c('0x23')]};}async[_0x4f4238('0xa')](_0x121449,_0xf35f8c){const _0x58bbbb=_0x4f4238;_0xf35f8c=_0xf35f8c||{};const _0x5daf0c=await this['_pImportTableGroup'](_0x121449,_0xf35f8c);if(_0x5daf0c!=null)return _0x5daf0c;console[_0x58bbbb('0x37')](...LGT,_0x58bbbb('0x7')+(_0x121449[_0x58bbbb('0x45')]||_0x121449[_0x58bbbb('0x2b')])+_0x58bbbb('0x41')+Parser[_0x58bbbb('0x2')](_0x121449['source'])+'\x22)');if(this['_actor'])throw new Error(_0x58bbbb('0x21'));return this[_0x58bbbb('0x14')](_0x121449,_0xf35f8c);}[_0x4f4238('0x2c')](_0x31f76b,_0x58fcac){return DataConverterTable['getTableRollableTable'](_0x31f76b,_0x58fcac);}}export{ImportListRollableTable};