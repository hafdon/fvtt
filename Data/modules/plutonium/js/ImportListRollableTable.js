const _0x2fd0=['doAbsorbItems','map','5etools','DataSourceSpecial','RollTable','push','_page','URL_TO_HASH_BUILDER','Tables','Name','log','insert','copy','name','_actor','_isPreviewable','table','source','caption','pGetRollableTables','journal','_content','SOURCE_TYP_CUSTOM','sourceShort','DataSourceFile','PG_TABLES','create','_titleSearch','DataSourceUrl','_pageFilter','\x22\x20(from\x20\x22','sourceJsonToAbv','pGetHomebrewSources','_pack','Source','isTemp','folder','Importing\x20table\x20\x22','bind','Upload\x20File','sourceLong','mutateForFilters','_pImportEntry_getTablesFromGroup','5etools-rollable-tables','Importing\x20table\x20group\x20\x22','_pImportTableGroup','SOURCE_TYP_OFFICIAL_ALL','__prop','absorbFnGetData','getData','_titleButtonRun','Cannot\x20import\x20table\x20to\x20actor!','tables','absorbFnBindListeners','isStreamerMode','getTableGroupJournal','_list','pImportEntry','_pImportEntry_pGetFolderId','SRD','tableGroup','importEntity'];(function(_0x3e8983,_0x2fd06d){const _0x4b7d28=function(_0x292106){while(--_0x292106){_0x3e8983['push'](_0x3e8983['shift']());}};_0x4b7d28(++_0x2fd06d);}(_0x2fd0,0x16a));const _0x4b7d=function(_0x3e8983,_0x2fd06d){_0x3e8983=_0x3e8983-0x0;let _0x4b7d28=_0x2fd0[_0x3e8983];return _0x4b7d28;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';class ImportListRollableTable extends ImportList{constructor(_0x9457fd){_0x9457fd=_0x9457fd||{},super({'title':'Import\x20Rollable\x20Tables'},_0x9457fd,{'props':[_0x4b7d('0x1a'),'tableGroup'],'titleSearch':_0x4b7d('0x1a'),'sidebarTab':'tables','gameProp':_0x4b7d('0x0'),'defaultFolderPath':[_0x4b7d('0x12')],'folderType':_0x4b7d('0xe'),'pageFilter':new PageFilterTables(),'page':UrlUtil[_0x4b7d('0x23')],'isPreviewable':!![]});}async['pGetSources'](){return[new ImportList[(_0x4b7d('0xd'))](Config['get']('ui',_0x4b7d('0x2'))?_0x4b7d('0x7'):_0x4b7d('0xc'),Vetools[_0x4b7d('0x1d')][_0x4b7d('0x30')](Vetools),{'cacheKey':_0x4b7d('0x35'),'isUseProps':!![],'filterTypes':[ImportList[_0x4b7d('0x38')]],'isDefault':!![]}),new ImportList[(_0x4b7d('0x26'))]('Custom\x20URL','',{'filterTypes':[ImportList[_0x4b7d('0x20')]]}),new ImportList[(_0x4b7d('0x22'))](_0x4b7d('0x31'),{'filterTypes':[ImportList[_0x4b7d('0x20')]]}),...(await Vetools[_0x4b7d('0x2a')](_0x4b7d('0x1a')))[_0x4b7d('0xb')](({name,url})=>new ImportList[(_0x4b7d('0x26'))](name,url,{'filterTypes':[ImportList['SOURCE_TYP_BREW']]}))];}[_0x4b7d('0x3b')](){return{'isPreviewable':this[_0x4b7d('0x19')],'titleButtonRun':this[_0x4b7d('0x3c')],'titleSearch':this[_0x4b7d('0x25')],'cols':[{'name':_0x4b7d('0x13'),'width':0x9,'field':'name'},{'name':_0x4b7d('0x2c'),'width':0x2,'field':_0x4b7d('0x1b'),'titleProp':_0x4b7d('0x32'),'displayProp':_0x4b7d('0x21'),'rowClassName':'text-center'}],'rows':this['_content']['map']((_0x144487,_0x495255)=>{return this[_0x4b7d('0x27')][_0x4b7d('0x33')](_0x144487),{'name':_0x144487[_0x4b7d('0x17')],'source':_0x144487[_0x4b7d('0x1b')],'sourceShort':Parser[_0x4b7d('0x29')](_0x144487[_0x4b7d('0x1b')]),'sourceLong':Parser['sourceJsonToFull'](_0x144487[_0x4b7d('0x1b')]),'ix':_0x495255};})};}['_activateListeners_absorbListItems'](){this[_0x4b7d('0x4')][_0x4b7d('0xa')](this[_0x4b7d('0x1f')],{'fnGetName':_0x364861=>_0x364861[_0x4b7d('0x17')],'fnGetValues':_0x57c98f=>({'source':_0x57c98f[_0x4b7d('0x1b')],'hash':UrlUtil[_0x4b7d('0x11')][this[_0x4b7d('0x10')]](_0x57c98f)}),'fnGetData':UtilList2[_0x4b7d('0x3a')],'fnBindListeners':_0x1c5932=>UtilList2[_0x4b7d('0x1')](this[_0x4b7d('0x4')],_0x1c5932)});}['_pImportEntry_getTablesFromGroup'](_0x1e0e34){const _0x301b78=MiscUtil[_0x4b7d('0x16')](_0x1e0e34);return _0x301b78['tables']['forEach']((_0x3c76d1,_0x49a0d0)=>{if(_0x301b78[_0x4b7d('0x17')])_0x3c76d1['name']=_0x3c76d1['name']||_0x301b78['name']+',\x20Table\x20'+(_0x49a0d0+0x1);_0x3c76d1['source']=_0x3c76d1[_0x4b7d('0x1b')]||_0x301b78[_0x4b7d('0x1b')];}),_0x301b78[_0x4b7d('0x0')];}async[_0x4b7d('0x37')](_0x1bce6a,_0x717575){if(_0x1bce6a[_0x4b7d('0x39')]!==_0x4b7d('0x8'))return null;console['log'](...LGT,_0x4b7d('0x36')+(_0x1bce6a['name']||_0x1bce6a[_0x4b7d('0x1c')])+_0x4b7d('0x28')+Parser[_0x4b7d('0x29')](_0x1bce6a['source'])+'\x22)');const _0x1852c1=this[_0x4b7d('0x34')](_0x1bce6a),_0x4a9e01=[];for(const _0x41aea7 of _0x1852c1){const _0x177402=await this[_0x4b7d('0x5')](_0x41aea7,_0x717575);_0x4a9e01[_0x4b7d('0xf')](_0x177402);}const _0x1c2a07=DataConverter[_0x4b7d('0x3')](_0x1bce6a,_0x4a9e01,{'isAddPermission':!![]}),_0x572b04=_0x717575[_0x4b7d('0x2d')]||!!this[_0x4b7d('0x2b')];if(!_0x572b04){const _0x47a0f8=await this['_pImportEntry_pGetFolderId'](_0x1bce6a);if(_0x47a0f8)_0x1c2a07[_0x4b7d('0x2e')]=_0x47a0f8;}const _0x212389=await JournalEntry[_0x4b7d('0x24')](_0x1c2a07,{'renderSheet':!!_0x572b04,'temporary':!!_0x572b04});if(!_0x572b04)await game[_0x4b7d('0x1e')][_0x4b7d('0x15')](_0x212389);return _0x212389;}async[_0x4b7d('0x5')](_0x15615c,_0x523ba1){_0x523ba1=_0x523ba1||{};const _0xdc8625=await this[_0x4b7d('0x37')](_0x15615c,_0x523ba1);if(_0xdc8625!=null)return _0xdc8625;console[_0x4b7d('0x14')](...LGT,_0x4b7d('0x2f')+(_0x15615c['name']||_0x15615c[_0x4b7d('0x1c')])+_0x4b7d('0x28')+Parser[_0x4b7d('0x29')](_0x15615c[_0x4b7d('0x1b')])+'\x22)');if(this[_0x4b7d('0x18')])throw new Error(_0x4b7d('0x3d'));const _0x2eca16=DataConverter['getTableRollableTable'](_0x15615c,{'isAddPermission':!![]});if(_0x523ba1[_0x4b7d('0x2d')]||!this['_pack']){if(!_0x523ba1[_0x4b7d('0x2d')]){const _0x5a2493=await this[_0x4b7d('0x6')](_0x15615c);if(_0x5a2493)_0x2eca16[_0x4b7d('0x2e')]=_0x5a2493;}const _0x234c9b=await RollTable[_0x4b7d('0x24')](_0x2eca16,{'renderSheet':!!_0x523ba1[_0x4b7d('0x2d')],'temporary':!!_0x523ba1[_0x4b7d('0x2d')]});if(!_0x523ba1[_0x4b7d('0x2d')])await game[_0x4b7d('0x0')][_0x4b7d('0x15')](_0x234c9b);return _0x234c9b;}else{const _0x4b8171=new RollTable(_0x2eca16);return await this['_pack'][_0x4b7d('0x9')](_0x4b8171),_0x4b8171;}}}export{ImportListRollableTable};