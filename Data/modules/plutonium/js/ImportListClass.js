const _0x256c=['pGetClassSubclassFeatureItem','targetLevel','refOptionalfeature','sourceFilter','ability','fromClassList','isTemp','_reject','link','classes','_pGetUserClassItem','music','med','_render_feat','pop','error','con','lgt','warn','Add\x20multiclass\x20proficiencies\x20(this\x20is\x20my\x20second+\x20class)','reduce','(Unnamed\x20subclass)','Task','pFillItemArrayAdditionalSpells','_pValidateUserLevelIndices','sourceJsonToAbv','\x20SOURCE\x20','_$iptSearch','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x22>Choose\x20Feat</button>','martial','pGetSideData','Class','_pPostLoad','active','_featureArr','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','levels','_pAddLoadedFeature','_fnClose','itemsToUpdate','wisBonus','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>','activateSidebarTab','entry','getWalker','/template/ImportListClassAbilityScoreIncrease.handlebars','\x20SUBCLASS\x20','_cachedData','<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x22>Selected:\x20','forgery\x20kit','folder','full',')?</p>','last','1/2','MODULE_LOCATION','poisoner\x27s\x20kit','custom','createEmbeddedEntity','sourceJsonToFull','existingClassItem','then','click','importEntity','toolProf','str','[name=\x22btn-run\x22]','Choose\x20','proficiencyImportMode','classFeatures','addHook','chosenProficiencies','Select\x20Existing\x20Feature...','title','\x20too?','max','Select','heavy','hash','_pImportSubclass_pImportToItems','entries','5etools-classes','_pImportEntry_pFillItemArrayAdditionalSpells','SOURCE_TYP_OFFICIAL_ALL','1/3','(Create\x20New\x20Feature)','isStrictMatching','unpackUid','Remaining:\x20','optionsMeta','entity','proficienciesGained','ixSub','EVNT_VALCHANGE','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','abilities','_pUserInput','intBonus','remarkableAthlete','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','isDataEntered','pGetCompendiumImage','spellcasting','pGetHomebrewSources','isClassImport','_pImportEntry_setFlags','Herbalism\x20kit','getAbilityModifier','subclassShortName','shields','<div\x20class=\x22col-2\x20text-center\x22></div>','spell','Fighter','_importOpts','_$wrpMiniPills','attributes','ceil','/template/ImportListClassLevelSelect.handlebars','armorProf','(Unnamed\x20class)','content','ascSortLower','unpackUidClassFeature','select','Do\x20not\x20add\x20proficiencies','text','flat','spellcastingAbility','_displayNamePrefix','forg','_displayName','removeHook','bind','multiclassing','class','_pageFilter','proficiency','source','pImportSubclass','CASTER_TYPE_TO_PROGRESSION','getCompactRenderedString','level','feats-classAbilityScoreIncrease','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>','5etools','_$wrpBtnsSort','Import\x20Classes','Ability\x20Score\x20Improvementâ€”Level\x20','$getIptNumber','Bonus','_$wrpList','Failed\x20to\x20load\x20\x22classFeature\x22\x20reference\x20\x22','addToFilters','getMappedCasterType','page','sourceLong','pGetConfirmation','items','classAbilityScoreIncrease','skills','You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20','optionalfeature','optfeature','setId','mode','Import\x20Lower\x20Levels?','\x0a\x09\x09\x09\x09\x09\x09</tbody>\x0a\x09\x09\x09\x09\x09\x09</table>\x0a\x09\x09\x09\x09\x09','setFirstSection','name','SOURCE_TYP_CUSTOM','pMutActorUpdateOptionalFeature','pGetSpellItem','includes','ticker','getNameWithSourcePart','_addHookBase','traits','ImportListFeat','mar','Failed\x20to\x20load\x20\x22optfeature\x22\x20reference\x20\x22','Please\x20select\x20a\x20feat!','strBonus','DataSourceSpecial','trim','getCleanEntityName','initBtnSortHandlers','withUnpatchedDiceRendering','close','Add\x20base\x20class\x20proficiencies\x20(this\x20is\x20my\x20first\x20class)','medium','cha','stripTags','AbilityScoreIncrease','loadeds','featData','classSource','_pImportSubclass_pImportToActor','spells','updateEmbeddedEntity','render','\x20(Level\x20','filter','_activateListeners_initRunButton','isCancelled','sort','_pImportEntry_pGetCurLevelFillClassData','copy','_pImportClass_pImportToItems','half','doAbsorbItems','$iptBonus','notifications','_pImportClass_pImportToActor','subclass','_titleSearch','__state','toggleVe','Feat','feat','import','unpackUidSubclassFeature','getItemSource','pGetUserBoolean','getActorSpell','change','DataSourceFile','_pImportEntry_pFillItemArrayFeaturesAndFinalise','artisan\x27s\x20tools','init','Failed\x20to\x20load\x20\x22subclassFeature\x22\x20reference\x20\x22','proficient','length','sortName','<hr\x20class=\x22hr-1\x22>\x0a\x09\x09\x09\x09\x09\x09<table\x20class=\x22stats\x22>\x0a\x09\x09\x09\x09\x09\x09<tbody>','slice','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficiencies','checked','\x22\x20(from\x20\x22','{@optfeature\x20','assign','form-control--error','_getFilterNamespace','_state','class_subclass','_pImportEntry_pDoUpdateCharacter','type','pInitFilterBox','sim','data','details','pGetClasses','$row','_activateListeners_pInitFilteredList','navigator\x27s\x20tools','push','_getFeatData','Please\x20select\x20something\x20to\x20import!','_id','hvy','isRequiredOption','pois','Bard','_render_ability','startingProficiencies','sourceJsonToColor','DataSourceUrl','getValues','.veapp__list','Select\x20Source','gainSubclassFeature','art','curLevel','_sourceFilter','addItem','pGetAllSpells','ability\x20score\x20improvement','Import\x20Levels\x201-','weapons','floor','URL_TO_HASH_BUILDER','Unhandled\x20type\x20\x22','wis','pGetSubclassItem','all','Importing\x20class\x20\x22','Component','<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Confirm</button>','cls','MODULE_NAME','mutateForFilters','refSubclassFeature','keys','int','pGetUserEnum','LEVEL_XP_REQUIRED','map','filterBox','_actor','third','toLowerCase','armor','_PREPARED_SPELL_CASTERS','thieves\x27\x20tools','chaBonus','prof','split','Upload\x20File','Feats','pGetUserSelection','disg','_titleButtonRun','create','isIgnored','_handleFilterChange','_$bntFilter','simple','subRows','dexBonus','update','_getDefaultState','OwnedItem','walk','dex','Import\x20Class\x20and\x20Subclass','{@subclassFeature\x20','actorUpdate','getData','Select\x20','Option','[name=\x22cb-select-all\x22]','_getActorUpdate','SRD','toggleClass','isIncludesLevelOne','isToken','join','_resolve','choose','_getFilteredFeatures','absorbFnGetData','_pLoadSubEntries','_pDoResolve','html','pGetSources','subclasses','sheet','value','PG_OPT_FEATURES','object','gaming\x20set','insert','Custom\x20URL','vehicle','thief','_pPopulateBoxOptions','shl','Select\x20Existing\x20Feature\x20to\x20Import\x20','Item','navg','raw_classFeature','count','_optionsMeta','Subclass','game','_getLevelGroupedFeatures','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','data-index','Import\x20Only\x20Subclass','log','toDisplay','attr','_pImportClass_pGetProficiencyImportMode','/media/icon/laurels.svg','_addEntrySourcesToFilter','rows','Classes','pGetOptionalFeatureItem','_getFilteredEntries','You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.','reliableTalent','Importing\x20subclass\x20\x22','PG_SPELLS','dnd5e','get','_getRowText','Select\x20Feat','_isDataEntered','conBonus','</h3>','forEach','Select\x20Class\x20Proficiency\x20Import\x20Mode','find','pPreloadSideData','string','Disguise\x20Kit','casterProgression','min','pImportClass','fluff','section','_$cbAll','jackOfAllTrades','_pGetIgnoredAndApplySideData','refClassFeature',').\x20Would\x20you\x20like\x20to\x20import\x20level','<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>','activateListeners','LevelSelect','imp__msg-error','subclassFeatures','_$btnReset','_$btnRun','_pHandleAbilityScoreIncrease','hover','pRunTasks','isStreamerMode','_list','_pack','_content','_comp','pct','classFeature','subclassFeature','description','spellHashToItemIdMap','pGetUserChoice','absorbFnBindListeners','pCacheAndGet','values','input:checked[data-index]','uid','className'];(function(_0x406551,_0x256cef){const _0x17a986=function(_0xa3f05c){while(--_0xa3f05c){_0x406551['push'](_0x406551['shift']());}};_0x17a986(++_0x256cef);}(_0x256c,0x172));const _0x17a9=function(_0x406551,_0x256cef){_0x406551=_0x406551-0x0;let _0x17a986=_0x256c[_0x406551];return _0x17a986;};'use strict';import{ImportList,MixinUserChooseImporter}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterOptionalfeature}from'./DataConverterOptionalfeature.js';import{ImportListFeat}from'./ImportListFeat.js';class PageFilterClasses_Importer extends PageFilterClasses{async['_pPopulateBoxOptions'](_0x484e22){await super[_0x17a9('0x1a0')](_0x484e22),_0x484e22['isCompact']=![];}['addToFilters'](_0x55b904,_0xde581c,_0x4fb41f){if(_0xde581c)return;_0x4fb41f=_0x4fb41f||{};const _0x505a71=_0x4fb41f['subclassExclusions']||{};this[_0x17a9('0x14e')][_0x17a9('0x14f')](_0x55b904[_0x17a9('0xc7')]);if(_0x55b904[_0x17a9('0x1c')])_0x55b904[_0x17a9('0x1c')][_0x17a9('0x13')](_0x36ae09=>this[_0x17a9('0x3')](_0x36ae09));_0x55b904[_0x17a9('0x83')]['forEach'](_0x2f5679=>_0x2f5679[_0x17a9('0xff')][_0x17a9('0x13')](_0x429e0c=>this[_0x17a9('0x3')](_0x429e0c['entity']))),_0x55b904[_0x17a9('0x196')]['forEach'](_0x313d61=>{const _0x2c4aa5=(_0x505a71[_0x313d61['source']]||{})[_0x313d61['name']]||![];!_0x2c4aa5&&(this[_0x17a9('0x14e')][_0x17a9('0x14f')](_0x313d61[_0x17a9('0xc7')]),_0x313d61[_0x17a9('0x27')][_0x17a9('0x13')](_0x1cc960=>_0x1cc960[_0x17a9('0xff')][_0x17a9('0x13')](_0x13fba9=>this[_0x17a9('0x3')](_0x13fba9[_0x17a9('0x98')]))));});}}class ImportListClass extends ImportList{constructor(_0x22836f){_0x22836f=_0x22836f||{},super({'title':_0x17a9('0xd0'),'template':SharedConsts[_0x17a9('0x75')]+'/template/ImportListClass.handlebars','height':Util['getMaxWindowHeight'](),'resizable':!![]},_0x22836f,{'namespace':_0x17a9('0x131'),'defaultFolderPath':[_0x17a9('0x5')],'folderType':_0x17a9('0x1a3'),'sidebarTab':_0x17a9('0xdb'),'gameProp':_0x17a9('0xdb'),'pageFilter':new PageFilterClasses_Importer()}),this[_0x17a9('0x6d')]=null;}set[_0x17a9('0xb6')](_0x152234){super[_0x17a9('0xb6')]=_0x152234,this[_0x17a9('0x6d')]=null;}static async[_0x17a9('0x5e')](_0xa18688){_0xa18688=MiscUtil[_0x17a9('0x10c')](_0xa18688);if(!_0xa18688['class'])_0xa18688[_0x17a9('0xc4')]=[];if(_0xa18688[_0x17a9('0x113')]){for(const _0x2c5100 of _0xa18688['subclass']){if(!_0x2c5100['className'])break;_0x2c5100[_0x17a9('0x101')]=_0x2c5100[_0x17a9('0x101')]||SRC_PHB;const _0x374fe8=_0xa18688['class'][_0x17a9('0x15')](_0x5b6d41=>(_0x5b6d41['name']||'')[_0x17a9('0x169')]()===_0x2c5100[_0x17a9('0x3d')][_0x17a9('0x169')]()&&(_0x5b6d41[_0x17a9('0xc7')]||SRC_PHB)[_0x17a9('0x169')]()===_0x2c5100[_0x17a9('0x101')]['toLowerCase']());if(!_0x374fe8){const _0x276f56=(await Vetools[_0x17a9('0x138')]())[_0x17a9('0xc4')]['find'](_0x505171=>_0x505171[_0x17a9('0xe6')][_0x17a9('0x169')]()===_0x2c5100[_0x17a9('0x3d')]['toLowerCase']()&&(_0x505171[_0x17a9('0xc7')][_0x17a9('0x169')]()||SRC_PHB)===_0x2c5100[_0x17a9('0x101')]['toLowerCase']());if(_0x276f56){const _0x340322=MiscUtil[_0x17a9('0x10c')](_0x276f56);_0x340322['subclasses']=[_0x2c5100],_0xa18688[_0x17a9('0xc4')][_0x17a9('0x13c')](_0x340322);}else _0xa18688[_0x17a9('0xc4')]['push']({'name':_0x2c5100[_0x17a9('0x3d')],'source':_0x2c5100[_0x17a9('0x101')],'subclasses':[_0x2c5100]});}else(_0x374fe8[_0x17a9('0x196')]=_0x374fe8['subclasses']||[])[_0x17a9('0x13c')](_0x2c5100);}delete _0xa18688[_0x17a9('0x113')];}_0xa18688[_0x17a9('0xc4')][_0x17a9('0x13')](_0x428a64=>{_0x428a64[_0x17a9('0xc7')]=_0x428a64['source']||SRC_PHB,_0x428a64[_0x17a9('0x196')]=_0x428a64['subclasses']||[],_0x428a64['subclasses'][_0x17a9('0x13')](_0x1a8880=>{_0x1a8880[_0x17a9('0xe6')]=_0x1a8880['name']||_0x17a9('0x53'),_0x1a8880['source']=_0x1a8880[_0x17a9('0xc7')]||_0x428a64[_0x17a9('0xc7')],_0x1a8880[_0x17a9('0x3d')]=_0x1a8880['className']||_0x428a64['name'],_0x1a8880['classSource']=_0x1a8880[_0x17a9('0x101')]||_0x428a64[_0x17a9('0xc7')]||SRC_PHB;}),_0x428a64[_0x17a9('0x196')][_0x17a9('0x10a')]((_0x9aab70,_0x261b15)=>SortUtil['ascSortLower'](_0x9aab70['name'],_0x261b15[_0x17a9('0xe6')])||SortUtil['ascSortLower'](_0x9aab70[_0x17a9('0xc7')]||_0x428a64[_0x17a9('0xc7')],_0x261b15[_0x17a9('0xc7')]||_0x428a64[_0x17a9('0xc7')]));}),_0xa18688[_0x17a9('0xc4')][_0x17a9('0x10a')]((_0x40a3e7,_0x2fad19)=>SortUtil['ascSortLower'](_0x40a3e7[_0x17a9('0xe6')],_0x2fad19[_0x17a9('0xe6')])||SortUtil[_0x17a9('0xb7')](_0x40a3e7['source'],_0x2fad19[_0x17a9('0xc7')]));const _0x4763ff=MiscUtil[_0x17a9('0x6a')]({'keyBlacklist':MiscUtil[_0x17a9('0x61')],'isDepthFirst':!![]});return await DataConverterClass[_0x17a9('0x16')](),await Promise[_0x17a9('0x159')](_0xa18688[_0x17a9('0xc4')][_0x17a9('0x165')](async _0x3cb300=>{_0x3cb300[_0x17a9('0x83')]=(_0x3cb300[_0x17a9('0x83')]||[])[_0x17a9('0x165')](_0x4990bb=>typeof _0x4990bb===_0x17a9('0x17')?{'classFeature':_0x4990bb}:_0x4990bb),await Promise[_0x17a9('0x159')]((_0x3cb300[_0x17a9('0x83')]||[])[_0x17a9('0x165')](async _0x27b3d3=>{const _0x5e8b8f=DataUtil[_0x17a9('0xc4')][_0x17a9('0xb8')](_0x27b3d3[_0x17a9('0x33')]);_0x27b3d3[_0x17a9('0x8c')]=UrlUtil['URL_TO_HASH_BUILDER'][_0x17a9('0x33')](_0x5e8b8f);const {name,level,source}=_0x5e8b8f;_0x27b3d3[_0x17a9('0xe6')]=name,_0x27b3d3[_0x17a9('0xcb')]=level,_0x27b3d3[_0x17a9('0xc7')]=source;const _0x3c4237=await Renderer[_0x17a9('0x2b')][_0x17a9('0x39')](_0x17a9('0x1a5'),_0x27b3d3[_0x17a9('0xc7')],_0x27b3d3[_0x17a9('0x8c')],{'isCopy':!![]}),_0x31e28a={'type':'classFeature','entity':_0x3c4237,'page':_0x17a9('0x33'),'source':_0x27b3d3[_0x17a9('0xc7')],'hash':_0x27b3d3[_0x17a9('0x8c')]},_0x4c2603=await this[_0x17a9('0x20')](_0x3c4237,_0x17a9('0x33'));if(_0x4c2603){_0x27b3d3[_0x17a9('0x176')]=!![];return;}const _0x2fc637=await this[_0x17a9('0x192')](_0x4763ff,_0x3c4237);_0x27b3d3['loadeds']=[_0x31e28a,..._0x2fc637];}));if(_0x3cb300[_0x17a9('0x83')])_0x3cb300['classFeatures']=_0x3cb300[_0x17a9('0x83')][_0x17a9('0x107')](_0x5e9a96=>!_0x5e9a96[_0x17a9('0x176')]);await Promise[_0x17a9('0x159')]((_0x3cb300['subclasses']||[])[_0x17a9('0x165')](async _0x5c40f2=>{_0x5c40f2['subclassFeatures']=(_0x5c40f2[_0x17a9('0x27')]||[])['map'](_0x26d16b=>typeof _0x26d16b===_0x17a9('0x17')?{'subclassFeature':_0x26d16b}:_0x26d16b),await Promise['all']((_0x5c40f2[_0x17a9('0x27')]||[])[_0x17a9('0x165')](async _0x3d16dd=>{const _0x333c44=DataUtil['class'][_0x17a9('0x11a')](_0x3d16dd['subclassFeature']);_0x3d16dd[_0x17a9('0x8c')]=UrlUtil['URL_TO_HASH_BUILDER'][_0x17a9('0x34')](_0x333c44);const {name,level,source}=_0x333c44;_0x3d16dd[_0x17a9('0xe6')]=name,_0x3d16dd['level']=level,_0x3d16dd[_0x17a9('0xc7')]=source;const _0x241c45=await Renderer[_0x17a9('0x2b')][_0x17a9('0x39')]('raw_subclassFeature',_0x3d16dd[_0x17a9('0xc7')],_0x3d16dd[_0x17a9('0x8c')],{'isCopy':!![]}),_0x4860e1={'type':_0x17a9('0x34'),'entity':_0x241c45,'page':_0x17a9('0x34'),'source':_0x3d16dd[_0x17a9('0xc7')],'hash':_0x3d16dd[_0x17a9('0x8c')]},_0x35d5c8=await this[_0x17a9('0x20')](_0x241c45,_0x17a9('0x34'));if(_0x35d5c8){_0x3d16dd['isIgnored']=!![];return;}const _0x8c5a6a=await this[_0x17a9('0x192')](_0x4763ff,_0x241c45);_0x3d16dd[_0x17a9('0xff')]=[_0x4860e1,..._0x8c5a6a];}));if(_0x5c40f2[_0x17a9('0x27')])_0x5c40f2[_0x17a9('0x27')]=_0x5c40f2[_0x17a9('0x27')]['filter'](_0x3e1e0b=>!_0x3e1e0b['isIgnored']);}));})),_0xa18688[_0x17a9('0xc4')];}static async[_0x17a9('0x20')](_0x5be05a,_0x377ea4){switch(_0x377ea4){case _0x17a9('0x33'):{const _0x5df520=await DataConverterClass[_0x17a9('0x5c')](_0x5be05a,_0x17a9('0x33'));if(_0x5df520&&_0x5df520['isIgnored'])return!![];if(_0x5df520&&_0x5df520[_0x17a9('0x8e')])_0x5be05a[_0x17a9('0x8e')]=MiscUtil['copy'](_0x5df520[_0x17a9('0x8e')]);break;}case _0x17a9('0x34'):{const _0x151ff5=await DataConverterClass[_0x17a9('0x5c')](_0x5be05a,_0x17a9('0x34'));if(_0x151ff5&&_0x151ff5[_0x17a9('0x176')])return!![];if(_0x151ff5&&_0x151ff5[_0x17a9('0x8e')])_0x5be05a[_0x17a9('0x8e')]=MiscUtil[_0x17a9('0x10c')](_0x151ff5[_0x17a9('0x8e')]);break;}default:throw new Error('Unhandled\x20type\x20\x22'+_0x377ea4+'\x22');}return![];}static async[_0x17a9('0x192')](_0x2291d1,_0x3f9cff){const _0x271c3f=[],_0x2bb017=async _0x4b5415=>{const _0xc4e6b2=[],_0xd4ef1=[];_0x2291d1[_0x17a9('0x17f')]('nestedFeatures',_0x4b5415,{'array':(_0x7e6a7f,_0x396888)=>{return _0x396888=_0x396888[_0x17a9('0x107')](_0x1364cc=>{if(_0x1364cc[_0x17a9('0x133')]!=='refClassFeature'&&_0x1364cc[_0x17a9('0x133')]!==_0x17a9('0x160')&&_0x1364cc[_0x17a9('0x133')]!=='refOptionalfeature')return!![];return _0x1364cc['parentName']=(_0xd4ef1[_0x17a9('0x73')]()||{})[_0x17a9('0xe6')],_0xc4e6b2[_0x17a9('0x13c')](_0x1364cc),![];}),_0x396888;},'preObject':(_0x43e8f9,_0x484832)=>{if(_0x484832['type']==='options'){if(_0x484832['count']!=null){const _0x5e88b9=CryptUtil[_0x17a9('0x3c')]();_0x484832[_0x17a9('0x8e')]['forEach'](_0x56b068=>{_0x56b068[_0x17a9('0x1a7')]={'setId':_0x5e88b9,'count':_0x484832['count'],'name':(_0xd4ef1[_0x17a9('0x73')]()||{})[_0x17a9('0xe6')]};});}const _0x4ea9ab=MiscUtil[_0x17a9('0xd')](_0xd4ef1['last'](),_0x17a9('0xe6'));if(_0x4ea9ab)_0x484832['entries'][_0x17a9('0x13')](_0x2aec74=>_0x2aec74[_0x17a9('0xbe')]=_0x4ea9ab+':\x20');}if(_0x484832['name'])_0xd4ef1['push'](_0x484832);},'postObject':(_0x4750e0,_0x1fdb5d)=>{if(_0x1fdb5d[_0x17a9('0xe6')])_0xd4ef1[_0x17a9('0x4c')]();}});for(const _0x139825 of _0xc4e6b2){const _0x201dc1=!!MiscUtil[_0x17a9('0xd')](_0x139825,_0x17a9('0x136'),_0x17a9('0x141'));switch(_0x139825['type']){case _0x17a9('0x21'):{const _0x568b25=DataUtil[_0x17a9('0xc4')][_0x17a9('0xb8')](_0x139825['classFeature']),{source}=_0x568b25,_0x380ba7=UrlUtil['URL_TO_HASH_BUILDER'][_0x17a9('0x33')](_0x568b25),_0x17373d=await Renderer[_0x17a9('0x2b')][_0x17a9('0x39')](_0x17a9('0x1a5'),source,_0x380ba7,{'isCopy':!![]});if(!_0x17373d){const _0x5bb436=_0x17a9('0xd5')+_0x139825[_0x17a9('0x33')]+'\x22';console[_0x17a9('0x4d')](...LGT,_0x5bb436),ui[_0x17a9('0x111')]['error'](_0x5bb436);continue;}const _0x3fbd1b=await this[_0x17a9('0x20')](_0x17373d,'classFeature');if(_0x3fbd1b)continue;if(_0x139825['_displayNamePrefix'])_0x17373d[_0x17a9('0xc0')]=''+_0x139825[_0x17a9('0xbe')]+_0x17373d[_0x17a9('0xe6')];_0x271c3f['push']({'type':'classFeature','entry':'{@classFeature\x20'+_0x139825['classFeature']+'}','entity':_0x17373d,'optionsMeta':_0x139825['_optionsMeta'],'page':'classFeature','source':source,'hash':_0x380ba7,'isRequiredOption':_0x201dc1}),await _0x2bb017(_0x17373d);break;}case _0x17a9('0x160'):{const _0x1b4be5=DataUtil[_0x17a9('0xc4')][_0x17a9('0x11a')](_0x139825['subclassFeature']),{source}=_0x1b4be5,_0x1798cd=UrlUtil[_0x17a9('0x155')][_0x17a9('0x34')](_0x1b4be5),_0x20f0fc=await Renderer[_0x17a9('0x2b')][_0x17a9('0x39')]('raw_subclassFeature',source,_0x1798cd,{'isCopy':!![]});if(!_0x20f0fc){const _0x33985b=_0x17a9('0x123')+_0x139825['subclassFeature']+'\x22';console[_0x17a9('0x4d')](...LGT,_0x33985b),ui[_0x17a9('0x111')][_0x17a9('0x4d')](_0x33985b);continue;}const _0x3b646c=await this['_pGetIgnoredAndApplySideData'](_0x20f0fc,_0x17a9('0x34'));if(_0x3b646c)continue;if(_0x139825['_displayNamePrefix'])_0x20f0fc[_0x17a9('0xc0')]=''+_0x139825[_0x17a9('0xbe')]+_0x20f0fc[_0x17a9('0xe6')];_0x271c3f[_0x17a9('0x13c')]({'type':'subclassFeature','entry':_0x17a9('0x182')+_0x139825[_0x17a9('0x34')]+'}','entity':_0x20f0fc,'optionsMeta':_0x139825['_optionsMeta'],'page':'subclassFeature','source':source,'hash':_0x1798cd,'isRequiredOption':_0x201dc1}),await _0x2bb017(_0x20f0fc);break;}case _0x17a9('0x40'):{const _0x12c556=DataUtil['generic'][_0x17a9('0x95')](_0x139825[_0x17a9('0xdf')],_0x17a9('0xe0')),_0x2cefe5=UrlUtil[_0x17a9('0x199')],{source}=_0x12c556,_0x4c0aa6=UrlUtil['URL_TO_HASH_BUILDER'][_0x2cefe5](_0x12c556),_0x4044ef=await Renderer[_0x17a9('0x2b')][_0x17a9('0x39')](_0x2cefe5,source,_0x4c0aa6,{'isCopy':!![]});if(!_0x4044ef){const _0x51da2c=_0x17a9('0xf1')+_0x139825[_0x17a9('0xdf')]+'\x22';console[_0x17a9('0x4d')](...LGT,_0x51da2c),ui[_0x17a9('0x111')]['error'](_0x51da2c);continue;}if(_0x139825[_0x17a9('0xbe')])_0x4044ef['_displayName']=''+_0x139825[_0x17a9('0xbe')]+_0x4044ef['name'];_0x4044ef['_foundryData']={'requirements':_0x3f9cff[_0x17a9('0x3d')]+'\x20'+_0x3f9cff[_0x17a9('0xcb')]+(_0x3f9cff[_0x17a9('0xaa')]?'\x20('+_0x3f9cff[_0x17a9('0xaa')]+')':'')},_0x271c3f[_0x17a9('0x13c')]({'type':_0x17a9('0xdf'),'entry':_0x17a9('0x12c')+_0x139825[_0x17a9('0xdf')]+'}','entity':_0x4044ef,'optionsMeta':_0x139825['_optionsMeta'],'page':_0x2cefe5,'source':source,'hash':_0x4c0aa6,'isRequiredOption':_0x201dc1});break;}default:throw new Error(_0x17a9('0x156')+_0x139825['type']+'\x22');}}};return await _0x2bb017(_0x3f9cff),_0x271c3f;}async[_0x17a9('0x195')](){return[new ImportList[(_0x17a9('0xf4'))](Config[_0x17a9('0xd')]('ui',_0x17a9('0x2d'))?_0x17a9('0x189'):_0x17a9('0xce'),Vetools[_0x17a9('0x138')],{'cacheKey':_0x17a9('0x8f'),'pPostLoad':ImportListClass[_0x17a9('0x5e')][_0x17a9('0xc2')](ImportListClass),'filterTypes':[ImportList[_0x17a9('0x91')]],'isDefault':!![]}),new ImportList[(_0x17a9('0x147'))](_0x17a9('0x19d'),'',{'pPostLoad':ImportListClass[_0x17a9('0x5e')][_0x17a9('0xc2')](ImportListClass),'filterTypes':[ImportList[_0x17a9('0xe7')]]}),new ImportList[(_0x17a9('0x11f'))](_0x17a9('0x170'),{'pPostLoad':ImportListClass['_pPostLoad'][_0x17a9('0xc2')](ImportListClass),'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x17a9('0xa5')](_0x17a9('0xc4'),_0x17a9('0x113')))[_0x17a9('0x165')](({name,url})=>new ImportList[(_0x17a9('0x147'))](name,url,{'pPostLoad':ImportListClass[_0x17a9('0x5e')][_0x17a9('0xc2')](ImportListClass),'filterTypes':[ImportList['SOURCE_TYP_BREW']]}))];}[_0x17a9('0x184')](){return this[_0x17a9('0x6d')]=this[_0x17a9('0x6d')]||{'titleButtonRun':this[_0x17a9('0x174')],'titleSearch':this[_0x17a9('0x114')],'rows':this[_0x17a9('0x30')][_0x17a9('0x10a')]((_0x2f5d96,_0x11836b)=>SortUtil['ascSortLower'](_0x2f5d96[_0x17a9('0xe6')],_0x11836b[_0x17a9('0xe6')])||SortUtil['ascSortLower'](Parser[_0x17a9('0x79')](_0x2f5d96[_0x17a9('0xc7')]||SRC_PHB),Parser['sourceJsonToFull'](_0x11836b[_0x17a9('0xc7')]||SRC_PHB)))[_0x17a9('0x165')]((_0x32cae7,_0x40d722)=>{return this[_0x17a9('0xc5')][_0x17a9('0x15f')](_0x32cae7),{'name':_0x32cae7[_0x17a9('0xe6')],'source':_0x32cae7[_0x17a9('0xc7')],'sourceShort':Parser[_0x17a9('0x57')](_0x32cae7[_0x17a9('0xc7')]),'sourceLong':Parser['sourceJsonToFull'](_0x32cae7[_0x17a9('0xc7')]),'ix':_0x40d722,'disabled':!_0x32cae7[_0x17a9('0x83')],'subRows':(_0x32cae7[_0x17a9('0x196')]||[])[_0x17a9('0x165')]((_0x42eaca,_0x4defbf)=>({'name':_0x42eaca['name'],'source':_0x42eaca[_0x17a9('0xc7')]||_0x32cae7[_0x17a9('0xc7')],'sourceShort':Parser[_0x17a9('0x57')](_0x42eaca[_0x17a9('0xc7')]||_0x32cae7[_0x17a9('0xc7')]),'sourceLong':Parser[_0x17a9('0x79')](_0x42eaca[_0x17a9('0xc7')]||_0x32cae7[_0x17a9('0xc7')]),'ixSub':_0x4defbf}))};})},this[_0x17a9('0x6d')];}[_0x17a9('0x108')](){this[_0x17a9('0x29')][_0x17a9('0x7c')](async()=>{if(!this[_0x17a9('0x2e')])return;const _0x2909c2=this[_0x17a9('0x2e')][_0x17a9('0xdb')]['filter'](_0x3cbc1c=>_0x3cbc1c[_0x17a9('0x136')]['cbSel'][_0x17a9('0x12a')])[_0x17a9('0x165')](_0x152510=>({'ix':_0x152510['values']['ix'],'ixSub':_0x152510['values']['ixSub']}));if(!_0x2909c2[_0x17a9('0x125')])return ui[_0x17a9('0x111')][_0x17a9('0x50')](_0x17a9('0x13e'));this['close'](),this[_0x17a9('0x68')]();const _0x54400a=_0x2909c2[_0x17a9('0x165')](({ix,ixSub})=>{const _0x6fdd6a=MiscUtil[_0x17a9('0x10c')](this[_0x17a9('0x30')][ix]);return{'ix':ix,'cls':_0x6fdd6a,'ixSub':ixSub,'sc':ixSub!=null?_0x6fdd6a['subclasses'][ixSub]:null};});_0x54400a[_0x17a9('0x107')](_0x5c7016=>!_0x5c7016['sc'])[_0x17a9('0x13')](_0x2d36f8=>_0x2d36f8[_0x17a9('0x15d')][_0x17a9('0x196')]=[]),_0x54400a[_0x17a9('0x10a')]((_0x600f7b,_0x4a28a4)=>!!_0x600f7b['sc']-!!_0x4a28a4['sc']);const _0x11299d=[],_0x2817e4=[];_0x54400a[_0x17a9('0x13')](_0x5d732f=>{if(_0x5d732f['sc']){const _0x52f3b3=_0x11299d[_0x17a9('0x15')](_0x2c4353=>_0x2c4353[_0x17a9('0xe6')][_0x17a9('0x169')]()===_0x5d732f['sc']['className'][_0x17a9('0x169')]()&&_0x2c4353['source'][_0x17a9('0x169')]()===_0x5d732f['sc'][_0x17a9('0x101')]['toLowerCase']());if(_0x52f3b3)_0x52f3b3[_0x17a9('0x196')][_0x17a9('0x13c')](_0x5d732f['sc']);else _0x2817e4[_0x17a9('0x13c')]({'cls':_0x5d732f[_0x17a9('0x15d')],'sc':_0x5d732f['sc']});}else _0x11299d['push'](_0x5d732f['cls']);});const _0x4d2603=[..._0x11299d[_0x17a9('0x165')](_0x33ebcb=>{return new Util[(_0x17a9('0x54'))](_0x33ebcb[_0x17a9('0xe6')]+'\x20('+Parser[_0x17a9('0x57')](_0x33ebcb['source'])+')',()=>this[_0x17a9('0x1b')](_0x33ebcb));}),..._0x2817e4['map'](({cls,sc})=>{return new Util[(_0x17a9('0x54'))](sc[_0x17a9('0xe6')]+'\x20('+Parser[_0x17a9('0x57')](sc[_0x17a9('0xc7')])+')',()=>this['pImportSubclass'](cls,sc));})];await UtilApplications[_0x17a9('0x2c')](_0x4d2603);if(!this['_actor'])game[this['_gameProp']][_0x17a9('0x105')]();this[_0x17a9('0x1e')]['prop']('checked',![])[_0x17a9('0x11e')]();});}[_0x17a9('0x13a')](){this[_0x17a9('0x2e')]=new List({'$iptSearch':this[_0x17a9('0x59')],'$wrpList':this[_0x17a9('0xd4')],'fnSort':(_0x3e702d,_0x3c55c7)=>SortUtil['ascSortLower'](_0x3e702d[_0x17a9('0x3a')][_0x17a9('0x126')],_0x3c55c7[_0x17a9('0x3a')][_0x17a9('0x126')])}),SortUtil[_0x17a9('0xf7')](this[_0x17a9('0xcf')],this[_0x17a9('0x2e')]);const _0x42592=this['_cachedData'][_0x17a9('0x4')][_0x17a9('0x165')](_0x4b6f7f=>{const _0x24e0f9={..._0x4b6f7f};delete _0x24e0f9[_0x17a9('0x17a')];const _0x4422c8=_0x4b6f7f[_0x17a9('0x17a')]['map'](_0x4d0f5b=>({..._0x4d0f5b,'ix':_0x4b6f7f['ix'],'className':_0x4b6f7f['name'],'classSourceLong':_0x4b6f7f[_0x17a9('0xd9')]}));return[_0x24e0f9,..._0x4422c8];})[_0x17a9('0xbc')]();return this['_pageFilter'][_0x17a9('0x134')]({'$iptSearch':this[_0x17a9('0x59')],'$btnReset':this[_0x17a9('0x28')],'$btnOpen':this[_0x17a9('0x178')],'$btnToggleSummaryHidden':this['_$btnToggleSummary'],'$wrpMiniPills':this[_0x17a9('0xb0')],'namespace':this[_0x17a9('0x12f')]()})[_0x17a9('0x7b')](()=>{this[_0x17a9('0x30')]['forEach'](_0x494dcd=>this[_0x17a9('0xc5')][_0x17a9('0xd6')](_0x494dcd)),this[_0x17a9('0x2e')][_0x17a9('0x10f')](_0x42592,{'fnGetName':_0x4fe035=>_0x4fe035[_0x17a9('0xe6')],'fnGetValues':_0x3305a8=>{return _0x3305a8[_0x17a9('0x9a')]!=null?{'ix':_0x3305a8['ix'],'ixSub':_0x3305a8[_0x17a9('0x9a')],'sortName':_0x3305a8[_0x17a9('0x3d')]+_0x17a9('0x58')+_0x3305a8['classSourceLong']+_0x17a9('0x6c')+_0x3305a8[_0x17a9('0xe6')]+_0x17a9('0x58')+_0x3305a8['sourceLong'],'source':_0x3305a8[_0x17a9('0xc7')]}:{'ix':_0x3305a8['ix'],'sortName':_0x3305a8[_0x17a9('0xe6')]+_0x17a9('0x58')+_0x3305a8['sourceLong']};},'fnGetData':UtilList2[_0x17a9('0x191')],'fnBindListeners':_0x2b1bbf=>UtilList2[_0x17a9('0x38')](this['_list'],_0x2b1bbf)}),this[_0x17a9('0x2e')][_0x17a9('0x122')](),this['_pageFilter'][_0x17a9('0x166')][_0x17a9('0x105')](),$(this[_0x17a9('0xc5')]['filterBox'])['on'](FilterBox[_0x17a9('0x9b')],this[_0x17a9('0x177')]['bind'](this)),this['_handleFilterChange']();});}[_0x17a9('0x177')](){const _0x4294e8=this[_0x17a9('0xc5')][_0x17a9('0x166')][_0x17a9('0x148')]();this['_list'][_0x17a9('0x107')](_0x2afa0d=>{const _0x45cb2e=this[_0x17a9('0x30')][_0x2afa0d[_0x17a9('0x3a')]['ix']];if(_0x2afa0d[_0x17a9('0x3a')]['ixSub']!=null){const _0x2cfdef=_0x45cb2e[_0x17a9('0x196')][_0x2afa0d['values']['ixSub']];return this['_pageFilter'][_0x17a9('0x1af')](_0x4294e8,_0x45cb2e)&&this[_0x17a9('0xc5')][_0x17a9('0x166')][_0x17a9('0x1af')](_0x4294e8,_0x2cfdef[_0x17a9('0xc7')],_0x2cfdef['_fMisc']);}else return this[_0x17a9('0xc5')][_0x17a9('0x1af')](_0x4294e8,_0x45cb2e);});}async[_0x17a9('0x1b')](_0x33f901,_0x4214de){_0x4214de=_0x4214de||{},console[_0x17a9('0x1ae')](...LGT,_0x17a9('0x15a')+_0x33f901[_0x17a9('0xe6')]+'\x22\x20(from\x20\x22'+Parser[_0x17a9('0x57')](_0x33f901[_0x17a9('0xc7')])+'\x22)');if(_0x4214de[_0x17a9('0x44')])return this[_0x17a9('0x10d')](_0x33f901,_0x4214de);else{if(this[_0x17a9('0x167')])return this['_pImportClass_pImportToActor'](_0x33f901,_0x4214de);else return this['_pImportClass_pImportToItems'](_0x33f901,_0x4214de);}}async[_0x17a9('0x112')](_0x505b36){const _0x5cad05={'items':[],'actorUpdate':{},'itemsToUpdate':[],'spellHashToItemIdMap':{}};let _0x2d2fdf=[];_0x505b36[_0x17a9('0x83')]['forEach'](_0x57489a=>{_0x2d2fdf[_0x17a9('0x13c')](_0x57489a),_0x57489a[_0x17a9('0x14b')]&&_0x505b36[_0x17a9('0x196')][_0x17a9('0x13')](_0x1135cb=>{_0x1135cb[_0x17a9('0x27')]['filter'](_0x194fd9=>_0x194fd9['level']===_0x57489a[_0x17a9('0xcb')])[_0x17a9('0x13')](_0x4f268c=>_0x2d2fdf['push'](_0x4f268c));});}),_0x2d2fdf=this[_0x17a9('0x190')](_0x2d2fdf);const _0x46c2a8=MiscUtil[_0x17a9('0xd')](ImportListClass[_0x17a9('0x16b')],_0x505b36[_0x17a9('0xc7')],_0x505b36[_0x17a9('0xe6')]),_0x22dca4=new ImportListClass[(_0x17a9('0x25'))](_0x2d2fdf,![]),_0x2b010f=await _0x22dca4[_0x17a9('0x172')]();if(_0x2b010f!=null){await this['_pValidateUserLevelIndices'](_0x2b010f,_0x5cad05);if(_0x5cad05[_0x17a9('0x109')])return;_0x5cad05[_0x17a9('0x3f')]=Math[_0x17a9('0x89')](..._0x2b010f)+0x1,_0x5cad05['isIncludesLevelOne']=_0x2b010f['includes'](0x0),_0x5cad05[_0x17a9('0xa6')]=!![],_0x5cad05['spellcastingAbility']=_0x505b36['spellcastingAbility'],_0x5cad05[_0x17a9('0x82')]=await this[_0x17a9('0x1')](_0x5cad05['isClassImport'],_0x5cad05[_0x17a9('0x18b')]);if(_0x5cad05[_0x17a9('0x82')]==null){_0x5cad05[_0x17a9('0x109')]=!![];return;}const _0x1abd49=_0x505b36['subclasses']?_0x505b36[_0x17a9('0x196')][0x0]:null,_0x151df4=(_0x505b36[_0x17a9('0x196')]||[])['filter'](_0x8c60d2=>_0x8c60d2[_0x17a9('0xbd')]||_0x8c60d2[_0x17a9('0x19')]),_0x3d3951=_0x151df4[0x0]||_0x1abd49,_0x499bc4={'data':{}},{curLevel,existingClassItem}=await this['_pImportEntry_pGetCurLevelFillClassData'](_0x499bc4,_0x505b36,_0x3d3951,_0x5cad05);this[_0x17a9('0xa7')](_0x499bc4,_0x505b36,_0x505b36[_0x17a9('0x196')],curLevel,_0x5cad05),await this[_0x17a9('0x132')](_0x499bc4,_0x505b36,_0x3d3951,existingClassItem,_0x5cad05);if(_0x5cad05[_0x17a9('0x109')])return;if(_0x46c2a8)await this['_pImportPreparedCasterSpells'](_0x505b36,curLevel,_0x5cad05);await this[_0x17a9('0x90')](_0x505b36[_0x17a9('0x196')],curLevel,_0x5cad05);if(_0x5cad05['isCancelled'])return;const _0x55e961=_0x2d2fdf[_0x17a9('0x107')](_0x5ccfda=>_0x2b010f[_0x17a9('0xea')](_0x5ccfda[_0x17a9('0xcb')]-0x1));await this[_0x17a9('0x120')](_0x55e961,_0x5cad05);if(_0x5cad05[_0x17a9('0x109')])return;if(this[_0x17a9('0x167')][_0x17a9('0x18c')])this[_0x17a9('0x167')][_0x17a9('0x197')][_0x17a9('0x105')]();}}[_0x17a9('0xa7')](_0x115b1a,_0x34e94f,_0x557e35,_0x2353db,_0x127626){const _0xa4526f={'dnd5e':{}};if(_0x127626[_0x17a9('0xa6')]&&_0x34e94f&&_0x34e94f[_0x17a9('0xe6')]===_0x17a9('0x143')&&_0x34e94f[_0x17a9('0xc7')]===SRC_PHB&&_0x2353db<0x2&&_0x127626[_0x17a9('0x3f')]>=0x2)_0xa4526f[_0x17a9('0xc')][_0x17a9('0x1f')]=!![];if(_0x34e94f&&_0x34e94f['name']===_0x17a9('0xae')&&_0x34e94f[_0x17a9('0xc7')]===SRC_PHB&&_0x557e35['some'](_0x4e698e=>_0x4e698e[_0x17a9('0xe6')]==='Champion')&&_0x2353db<0x7&&_0x127626[_0x17a9('0x3f')]>=0x7)_0xa4526f[_0x17a9('0xc')][_0x17a9('0xa0')]=!![];if(_0x34e94f&&_0x34e94f['name']==='Rogue'&&_0x34e94f['source']===SRC_PHB&&_0x2353db<0xb&&_0x127626[_0x17a9('0x3f')]>=0xb)_0xa4526f[_0x17a9('0xc')][_0x17a9('0x9')]=!![];if(Object[_0x17a9('0x161')](_0xa4526f[_0x17a9('0xc')])[_0x17a9('0x125')])_0x115b1a['flags']=_0xa4526f;}async['_pImportClass_pGetProficiencyImportMode'](_0x4d4326,_0x1a07f3){const _0x39a8df=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0xdb'))||[],_0x28ac36=_0x39a8df[_0x17a9('0x107')](_0xe08a96=>_0xe08a96[_0x17a9('0x133')]===_0x17a9('0xc4'));if(_0x4d4326&&_0x1a07f3&&_0x28ac36[_0x17a9('0x125')])return InputUiUtil[_0x17a9('0x163')]({'values':[_0x17a9('0x51'),_0x17a9('0xfa'),_0x17a9('0xba')],'title':_0x17a9('0x14')});return 0x1;}async[_0x17a9('0x10d')](_0x2c773d,_0x5d277c){const _0x14edad=await DataConverterClass['pGetClassItem'](_0x2c773d,{'isAddPermission':!![]});if(_0x5d277c[_0x17a9('0x44')]||!this['_pack']){let _0x53a123;if(!_0x5d277c['isTemp']){_0x53a123=await this['_pImportEntry_pGetFolderId'](_0x2c773d);if(_0x53a123)_0x14edad['folder']=_0x53a123;}const _0x3b4b89=await Item[_0x17a9('0x175')](_0x14edad,{'renderSheet':!!_0x5d277c[_0x17a9('0x44')],'temporary':!!_0x5d277c['isTemp']});if(!_0x5d277c[_0x17a9('0x44')])await game[_0x17a9('0xdb')][_0x17a9('0x19c')](_0x3b4b89);const _0x28d1dc=[];for(const _0x5b0b04 of _0x2c773d[_0x17a9('0x196')]||[]){const _0x3933a9=await DataConverterClass[_0x17a9('0x158')](_0x2c773d,_0x5b0b04,{'isAddPermission':!![]});if(!_0x5d277c[_0x17a9('0x44')]){if(_0x53a123)_0x3933a9[_0x17a9('0x70')]=_0x53a123;}const _0x3de362=await Item[_0x17a9('0x175')](_0x3933a9,{'renderSheet':!!_0x5d277c[_0x17a9('0x44')],'temporary':!!_0x5d277c[_0x17a9('0x44')]});if(!_0x5d277c[_0x17a9('0x44')])await game[_0x17a9('0xdb')][_0x17a9('0x19c')](_0x3de362);_0x28d1dc['push'](_0x3de362);}return[_0x3b4b89,..._0x28d1dc];}else{const _0x5477af=new Item(_0x14edad);await this[_0x17a9('0x2f')][_0x17a9('0x7d')](_0x5477af);const _0x17c8a4=[];for(const _0x4e7225 of _0x2c773d['subclasses']||[]){const _0x24c600=await DataConverterClass[_0x17a9('0x158')](_0x2c773d,_0x4e7225,{'isAddPermission':!![]}),_0x378956=new Item(_0x24c600);await this[_0x17a9('0x2f')][_0x17a9('0x7d')](_0x378956),_0x17c8a4[_0x17a9('0x13c')](_0x378956);}return[_0x5477af,..._0x17c8a4];}}async[_0x17a9('0xc8')](_0x329d06,_0x373f5d,_0x353934){_0x353934=_0x353934||{},console[_0x17a9('0x1ae')](...LGT,_0x17a9('0xa')+_0x373f5d['name']+_0x17a9('0x12b')+Parser[_0x17a9('0x57')](_0x373f5d[_0x17a9('0xc7')])+'\x22)');if(_0x353934[_0x17a9('0x44')])return this[_0x17a9('0x8d')](_0x329d06,_0x373f5d,_0x353934);else{if(this[_0x17a9('0x167')])return this[_0x17a9('0x102')](_0x329d06,_0x373f5d,_0x353934);else return this['_pImportSubclass_pImportToItems'](_0x329d06,_0x373f5d,_0x353934);}}async[_0x17a9('0x102')](_0xa70d34,_0x4c146f){const _0xa683ab={'items':[],'actorUpdate':{},'itemsToUpdate':[],'spellHashToItemIdMap':{}},_0xc6caee=(MiscUtil['get'](this[_0x17a9('0x167')],'data',_0x17a9('0xdb'))||[])[_0x17a9('0x107')](_0x35f256=>_0x35f256[_0x17a9('0x133')]===_0x17a9('0xc4'));if(!_0xc6caee[_0x17a9('0x125')]){const _0x19bd8f=await InputUiUtil[_0x17a9('0x11c')]({'title':'Import\x20Class?','htmlDescription':_0x17a9('0xa1'),'textYes':_0x17a9('0x181'),'textNo':_0x17a9('0x1ad')});if(_0x19bd8f==null){_0xa683ab[_0x17a9('0x109')]=!![];return;}if(_0x19bd8f===!![]){const _0x408738=MiscUtil[_0x17a9('0x10c')](_0xa70d34);return _0x408738['subclasses']=[_0x4c146f],this[_0x17a9('0x1b')](_0x408738);}}let _0x2258b2=MiscUtil[_0x17a9('0x10c')](_0x4c146f[_0x17a9('0x27')]);_0x2258b2=this[_0x17a9('0x190')](_0x2258b2);const _0x5f445f=MiscUtil[_0x17a9('0xd')](ImportListClass[_0x17a9('0x16b')],_0xa70d34[_0x17a9('0xc7')],_0xa70d34[_0x17a9('0xe6')]),_0xb5ea8b=new ImportListClass[(_0x17a9('0x25'))](_0x2258b2,!![],_0x5f445f),_0x5968d0=await _0xb5ea8b[_0x17a9('0x172')]();if(_0x5968d0!=null){await this['_pValidateUserLevelIndices'](_0x5968d0,_0xa683ab);if(_0xa683ab['isCancelled'])return;_0xa683ab['targetLevel']=Math[_0x17a9('0x89')](..._0x5968d0)+0x1,_0xa683ab[_0x17a9('0x18b')]=![],_0xa683ab[_0x17a9('0xa6')]=![],_0xa683ab['spellcastingAbility']=_0x4c146f['spellcastingAbility']||_0xa70d34[_0x17a9('0xbd')],_0xa683ab['proficiencyImportMode']=await this[_0x17a9('0x1')](_0xa683ab[_0x17a9('0xa6')],_0xa683ab[_0x17a9('0x18b')]);if(_0xa683ab[_0x17a9('0x82')]==null){_0xa683ab['isCancelled']=!![];return;}const _0x18ec0c={'data':{}},{curLevel,existingClassItem}=await this[_0x17a9('0x10b')](_0x18ec0c,_0xa70d34,_0x4c146f,_0xa683ab);this[_0x17a9('0xa7')](_0x18ec0c,_0xa70d34,[_0x4c146f],curLevel,_0xa683ab),await this[_0x17a9('0x132')](_0x18ec0c,_0xa70d34,_0x4c146f,existingClassItem,_0xa683ab);if(_0xa683ab[_0x17a9('0x109')])return;if(_0x5f445f)await this['_pImportPreparedCasterSpells'](_0xa70d34,curLevel,_0xa683ab);const _0x385b3d=_0x2258b2[_0x17a9('0x107')](_0x10098d=>_0x5968d0[_0x17a9('0xea')](_0x10098d[_0x17a9('0xcb')]-0x1));await this[_0x17a9('0x90')]([_0x4c146f],curLevel,_0xa683ab);if(_0xa683ab[_0x17a9('0x109')])return;await this[_0x17a9('0x120')](_0x385b3d,_0xa683ab);if(_0xa683ab[_0x17a9('0x109')])return;if(this[_0x17a9('0x167')][_0x17a9('0x18c')])this[_0x17a9('0x167')]['sheet'][_0x17a9('0x105')]();}}async[_0x17a9('0x8d')](_0x46a837,_0x29a018,_0x5d0647){const _0x539825=await DataConverterClass['pGetSubclassItem'](_0x46a837,_0x29a018,{'isAddPermission':!![]});if(_0x5d0647['isTemp']||!this[_0x17a9('0x2f')]){if(!_0x5d0647[_0x17a9('0x44')]){const _0x2e30e7=await this['_pImportEntry_pGetFolderId'](_0x29a018);if(_0x2e30e7)_0x539825[_0x17a9('0x70')]=_0x2e30e7;}const _0x4f6f8c=await Item[_0x17a9('0x175')](_0x539825,{'renderSheet':!!_0x5d0647[_0x17a9('0x44')],'temporary':!!_0x5d0647[_0x17a9('0x44')]});if(!_0x5d0647[_0x17a9('0x44')])await game[_0x17a9('0xdb')][_0x17a9('0x19c')](_0x4f6f8c);return _0x4f6f8c;}else{const _0x440810=new Item(_0x539825);return await this['_pack']['importEntity'](_0x440810),_0x440810;}}async['_pImportEntry_pDoUpdateCharacter'](_0x59e4ae,_0x21193d,_0x2087b2,_0x33bc05,_0x363076){const _0x4b9d84=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0xdb'))||[],_0x3ee920=_0x4b9d84[_0x17a9('0x107')](_0x152a78=>_0x152a78['type']==='class'),_0x990e1e=_0x3ee920[_0x17a9('0x107')](_0x39bb36=>_0x39bb36!==_0x33bc05),_0x1d65e7=_0x990e1e[_0x17a9('0x165')](_0x448b1f=>MiscUtil[_0x17a9('0xd')](_0x448b1f,_0x17a9('0x136'),'levels')||0x0)[_0x17a9('0x52')]((_0x2802b0,_0x284e34)=>_0x2802b0+_0x284e34,0x0)+(_0x363076[_0x17a9('0x3f')]||0x0);if(_0x1d65e7>0x0){const _0x4b2216=(_0x59e4ae[_0x17a9('0x136')][_0x17a9('0x137')]=_0x59e4ae['data']['details']||{})['xp']=_0x59e4ae[_0x17a9('0x136')][_0x17a9('0x137')]['xp']||{},_0xd2fa4e=MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x137'),'xp','value')||0x0,_0x272432=Parser[_0x17a9('0x164')][_0x1d65e7-0x1],_0x46a132=Parser[_0x17a9('0x164')][Math['min'](_0x1d65e7,0x13)];_0xd2fa4e<_0x272432?(_0x4b2216[_0x17a9('0x32')]=0x0,_0x4b2216[_0x17a9('0x198')]=_0x272432):_0x4b2216[_0x17a9('0x32')]=_0xd2fa4e/_0x46a132*0x64,_0x4b2216[_0x17a9('0x89')]=_0x46a132;}const _0x7c0b1c=MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0xb1'),'prof'),_0x1dd0cd=Math[_0x17a9('0x154')]((_0x363076[_0x17a9('0x3f')]-0x1)/0x4)+0x2;if(_0x7c0b1c<_0x1dd0cd)(_0x59e4ae[_0x17a9('0x136')][_0x17a9('0xb1')]=_0x59e4ae[_0x17a9('0x136')][_0x17a9('0xb1')]||{})[_0x17a9('0x16e')]=_0x1dd0cd;let _0x41d00c,_0x54833b,_0x23d74a=0x0,_0x475964=0x0;_0x990e1e[_0x17a9('0x125')]&&_0x990e1e['filter'](_0x315a48=>_0x315a48[_0x17a9('0x136')]&&_0x315a48[_0x17a9('0x136')][_0x17a9('0xa4')])[_0x17a9('0x13')](_0xa18229=>{_0x475964++;const _0x3642d0=MiscUtil[_0x17a9('0xd')](_0xa18229,_0x17a9('0x136'),_0x17a9('0x62'))||0x0;switch(_0xa18229[_0x17a9('0x136')]['spellcasting']){case _0x17a9('0x71'):_0x23d74a+=_0x3642d0;break;case _0x17a9('0x10e'):_0x23d74a+=Math[_0x17a9('0x154')](_0x3642d0/0x2);break;case _0x17a9('0x168'):_0x23d74a+=Math[_0x17a9('0x154')](_0x3642d0/0x3);break;}});const _0x25b8e2=_0x46670d=>{if(_0x4fe958===_0x46670d&&_0x5d5911===_0x46670d)return _0x41d00c=_0x46670d,!![];else{if(_0x4fe958===_0x46670d)return _0x41d00c=_0x46670d,_0x54833b=_0x21193d[_0x17a9('0xbd')],!![];else{if(_0x5d5911===_0x46670d)return _0x41d00c=_0x46670d,_0x54833b=_0x2087b2['spellcastingAbility'],!![];}}return![];},_0x4fe958=_0x21193d[_0x17a9('0x19')],_0x5d5911=_0x2087b2?_0x2087b2[_0x17a9('0x19')]:null;if(_0x4fe958&&_0x5d5911)_0x25b8e2('full')||_0x25b8e2(_0x17a9('0x74'))||_0x25b8e2('1/3');else{if(_0x4fe958&&!_0x5d5911)_0x41d00c=_0x4fe958,_0x54833b=_0x21193d['spellcastingAbility'];else!_0x4fe958&&_0x5d5911&&(_0x41d00c=_0x5d5911,_0x54833b=_0x2087b2[_0x17a9('0xbd')]);}if(!_0x54833b)_0x54833b=(_0x2087b2?_0x2087b2[_0x17a9('0xbd')]:null)||_0x21193d[_0x17a9('0xbd')];if(_0x41d00c){const _0x22cd50=_0x475964?Math[_0x17a9('0x154')]:Math[_0x17a9('0xb2')];switch(_0x41d00c){case _0x17a9('0x71'):_0x23d74a+=_0x363076[_0x17a9('0x3f')];break;case _0x17a9('0x74'):_0x23d74a+=_0x22cd50(_0x363076['targetLevel']/0x2);break;case _0x17a9('0x92'):_0x23d74a+=_0x22cd50(_0x363076['targetLevel']/0x3);break;}}if(_0x23d74a){let _0x1c2791=![];_0x59e4ae['data'][_0x17a9('0x103')]=_0x59e4ae[_0x17a9('0x136')][_0x17a9('0x103')]||{};const _0x5150c4=UtilActors[_0x17a9('0xc9')][_0x17a9('0x71')],_0xb961e0=_0x5150c4[_0x23d74a-0x1]||_0x5150c4[_0x17a9('0x73')]();_0xb961e0['forEach']((_0x5c4eb4,_0x27eeb4)=>{if(_0x5c4eb4===0x0)return;const _0x458f57=_0x17a9('0xad')+(_0x27eeb4+0x1),_0xfc355a=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x103'),_0x458f57,_0x17a9('0x89'));_0xfc355a!=null?_0xfc355a<_0x5c4eb4&&(_0x1c2791=!![],_0x59e4ae['data'][_0x17a9('0x103')][_0x458f57]={'max':_0x5c4eb4,'value':_0x5c4eb4}):(_0x1c2791=!![],_0x59e4ae[_0x17a9('0x136')][_0x17a9('0x103')][_0x458f57]={'max':_0x5c4eb4,'value':_0x5c4eb4});});if(!_0x1c2791)delete _0x59e4ae[_0x17a9('0x136')][_0x17a9('0x103')];}if(_0x54833b)(_0x59e4ae[_0x17a9('0x136')][_0x17a9('0xb1')]=_0x59e4ae[_0x17a9('0x136')][_0x17a9('0xb1')]||{})['spellcasting']=_0x54833b;if(Object[_0x17a9('0x161')](_0x59e4ae[_0x17a9('0x136')])[_0x17a9('0x125')])await this['_actor'][_0x17a9('0x17c')](_0x59e4ae);}async['_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficiencies'](_0x1b3e98,_0x2aa65d,_0x5adfe4,_0x510d0a){const _0x2f778d={'chosenProficiencies':{}};return _0x2aa65d[_0x17a9('0xc6')]&&_0x2aa65d[_0x17a9('0xc6')][_0x17a9('0x13')](_0x5e67ab=>{const _0x52fa79=MiscUtil[_0x17a9('0xd')](this['_actor'],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x9d'),_0x5e67ab,_0x17a9('0x124'));!_0x52fa79&&(((_0x1b3e98[_0x17a9('0x136')][_0x17a9('0x9d')]=_0x1b3e98['data'][_0x17a9('0x9d')]||{})[_0x5e67ab]=_0x1b3e98[_0x17a9('0x136')]['abilities'][_0x5e67ab]||{})[_0x17a9('0x124')]=0x1);}),_0x2aa65d[_0x17a9('0x145')]&&(_0x2f778d[_0x17a9('0x85')]=await this[_0x17a9('0x1ab')](_0x1b3e98,_0x2aa65d[_0x17a9('0x145')],_0x510d0a)),_0x2f778d;}async['_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom'](_0x52d815,_0x44b48b,_0x412af3){const _0x30024c={'skills':{}},_0x233a6e=(_0x3cd0ce,_0x2cbf57)=>{if(!_0x2cbf57['some'](_0x223fae=>_0x223fae[_0x17a9('0x169')]()[_0x17a9('0xf5')]()===_0x3cd0ce['toLowerCase']()[_0x17a9('0xf5')]()))_0x2cbf57[_0x17a9('0x13c')](_0x3cd0ce);},_0x317091=_0x5801fc=>{const _0x570dab=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],_0x17a9('0x136'),'data',_0x17a9('0xee'),_0x5801fc),_0x2e9d96=(_0x52d815[_0x17a9('0x136')][_0x17a9('0xee')]=_0x52d815[_0x17a9('0x136')]['traits']||{})[_0x5801fc]=MiscUtil[_0x17a9('0x10c')](_0x570dab||{});_0x2e9d96[_0x17a9('0x198')]=_0x2e9d96[_0x17a9('0x198')]||[];const _0x158d8c=(_0x2e9d96['custom']||'')[_0x17a9('0x16f')](';')['map'](_0x533323=>_0x533323['trim']())[_0x17a9('0x107')](Boolean);return{'profUpdate':_0x2e9d96,'customArr':_0x158d8c};};if(_0x44b48b[_0x17a9('0x16a')]){const {profUpdate,customArr}=_0x317091(_0x17a9('0xb4'));_0x44b48b[_0x17a9('0x16a')]['forEach'](_0x176256=>{const _0x46d610=(_0x176256[_0x17a9('0xc6')]||_0x176256)[_0x17a9('0x169')]()[_0x17a9('0xf5')]();switch(_0x46d610){case'light':_0x233a6e(_0x17a9('0x4f'),profUpdate['value']);break;case _0x17a9('0xfb'):_0x233a6e(_0x17a9('0x4a'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x8b'):_0x233a6e(_0x17a9('0x140'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0xab'):_0x233a6e(_0x17a9('0x1a1'),profUpdate[_0x17a9('0x198')]);break;default:(_0x176256[_0x17a9('0x71')]||_0x176256)[_0x17a9('0x16f')](';')[_0x17a9('0x165')](_0x3d542f=>_0x3d542f[_0x17a9('0xf5')]())[_0x17a9('0x107')](Boolean)['forEach'](_0x512eaf=>_0x233a6e(_0x512eaf,customArr));break;}}),profUpdate[_0x17a9('0x77')]=customArr[_0x17a9('0x18d')](';\x20');}if(_0x44b48b[_0x17a9('0x153')]){const {profUpdate,customArr}=_0x317091('weaponProf');_0x44b48b[_0x17a9('0x153')][_0x17a9('0x13')](_0x1903bf=>{const _0x56acf0=_0x1903bf['toLowerCase']()[_0x17a9('0xf5')]();switch(_0x56acf0){case _0x17a9('0x179'):_0x233a6e(_0x17a9('0x135'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x5b'):_0x233a6e(_0x17a9('0xf0'),profUpdate[_0x17a9('0x198')]);break;default:_0x1903bf[_0x17a9('0x16f')](';')[_0x17a9('0x165')](_0x4b437c=>_0x4b437c[_0x17a9('0xf5')]())[_0x17a9('0x107')](Boolean)[_0x17a9('0x13')](_0xe7d4b5=>_0x233a6e(_0xe7d4b5,customArr));break;}}),profUpdate['custom']=customArr[_0x17a9('0x18d')](';\x20');}if(_0x44b48b['tools']){const {profUpdate,customArr}=_0x317091(_0x17a9('0x7e'));_0x44b48b['tools'][_0x17a9('0x13')](_0x509561=>{_0x509561=Renderer[_0x17a9('0xfd')](_0x509561);const _0x12ed4c=_0x509561[_0x17a9('0x169')]()[_0x17a9('0xf5')]();switch(_0x12ed4c){case _0x17a9('0x121'):_0x233a6e(_0x17a9('0x14c'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x18'):_0x233a6e(_0x17a9('0x173'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x6f'):_0x233a6e(_0x17a9('0xbf'),profUpdate['value']);break;case _0x17a9('0x19b'):_0x233a6e(_0x17a9('0x1a9'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0xa8'):_0x233a6e('herb',profUpdate[_0x17a9('0x198')]);break;case'musical\x20instrument':_0x233a6e(_0x17a9('0x49'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x13b'):_0x233a6e(_0x17a9('0x1a4'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x76'):_0x233a6e(_0x17a9('0x142'),profUpdate[_0x17a9('0x198')]);break;case _0x17a9('0x16c'):_0x233a6e(_0x17a9('0x19f'),profUpdate['value']);break;case'vehicles\x20(land\x20or\x20water)':_0x233a6e(_0x17a9('0x19e'),profUpdate['value']);break;default:_0x509561[_0x17a9('0x16f')](';')[_0x17a9('0x165')](_0x31b7e6=>_0x31b7e6[_0x17a9('0xf5')]())[_0x17a9('0x107')](Boolean)[_0x17a9('0x13')](_0x3b51e1=>_0x233a6e(_0x3b51e1,customArr));break;}}),profUpdate[_0x17a9('0x77')]=customArr[_0x17a9('0x18d')](';\x20');}if(_0x44b48b['skills']){const _0x5ce286=await DataConverter['pFillActorSkillData'](MiscUtil[_0x17a9('0xd')](this['_actor'],'data','data',_0x17a9('0xdd')),_0x44b48b[_0x17a9('0xdd')],_0x52d815[_0x17a9('0x136')]);if(_0x5ce286[_0x17a9('0x109')])return _0x412af3[_0x17a9('0x109')]=!![],_0x30024c;_0x30024c[_0x17a9('0xdd')]=_0x5ce286[_0x17a9('0xdd')];}return _0x30024c;}async['_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies'](_0x1be00,_0x15b812,_0x33a810,_0x196982){const _0x4c58fb={'chosenProficiencies':{}};return _0x15b812['multiclassing']&&_0x15b812[_0x17a9('0xc3')][_0x17a9('0x99')]&&(_0x4c58fb[_0x17a9('0x85')]=await this[_0x17a9('0x1ab')](_0x1be00,_0x15b812['multiclassing'][_0x17a9('0x99')],_0x196982)),_0x4c58fb;}async[_0x17a9('0x10b')](_0x1fe5b6,_0x5f1301,_0xe4e01e,_0x45a6da){const _0x449262={'curLevel':0x0,'existingClassItem':null};let _0x12e201={};if(_0x45a6da[_0x17a9('0xa6')]&&_0x45a6da[_0x17a9('0x18b')])switch(_0x45a6da[_0x17a9('0x82')]){case 0x0:{_0x12e201=await this[_0x17a9('0x9c')](_0x1fe5b6,_0x5f1301,_0xe4e01e,_0x45a6da);break;}case 0x1:{_0x12e201=await this[_0x17a9('0x129')](_0x1fe5b6,_0x5f1301,_0xe4e01e,_0x45a6da);break;}case 0x2:{break;}default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0x45a6da[_0x17a9('0x82')]+'\x22');}let _0x73162e='';if(_0x5f1301[_0x17a9('0x1c')]&&_0x5f1301[_0x17a9('0x1c')]['length'])_0x73162e=Renderer[_0x17a9('0xd')]()[_0x17a9('0xe5')](!![])[_0x17a9('0x105')]({'type':_0x5f1301['fluff'][0x0]['type']||_0x17a9('0x1d'),'entries':_0x5f1301[_0x17a9('0x1c')][0x0][_0x17a9('0x8e')]||[]});const _0x54dcdc=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],'data','items')||[],_0x53555e=_0x54dcdc[_0x17a9('0x107')](_0x25b583=>_0x25b583['type']==='class'&&(_0x25b583[_0x17a9('0xe6')]||'')['toLowerCase']()[_0x17a9('0xf5')]()===_0x5f1301[_0x17a9('0xe6')][_0x17a9('0x169')]()[_0x17a9('0xf5')]()&&(!Config[_0x17a9('0xd')](_0x17a9('0x119'),_0x17a9('0x94'))||(DataConverter[_0x17a9('0x11b')](_0x25b583)||'')[_0x17a9('0x169')]()===Parser[_0x17a9('0x57')](_0x5f1301[_0x17a9('0xc7')])[_0x17a9('0x169')]())),_0x27216b=await(async()=>{if(!_0x53555e[_0x17a9('0x125')])return null;if(!_0xe4e01e&&_0x53555e[_0x17a9('0x125')]===0x1)return _0x53555e[0x0];if(!_0xe4e01e)return this['_pGetUserClassItem'](_0x5f1301,_0xe4e01e,_0x53555e);const _0x9ce4b0=_0x53555e['filter'](_0x7bfc20=>MiscUtil[_0x17a9('0xd')](_0x7bfc20,_0x17a9('0x136'),'subclass'));if(!_0x9ce4b0[_0x17a9('0x125')]&&_0x53555e[_0x17a9('0x125')]===0x1)return _0x53555e[0x0];if(!_0x9ce4b0[_0x17a9('0x125')])return this['_pGetUserClassItem'](_0x5f1301,_0xe4e01e,_0x53555e);const _0x26c1db=_0x53555e[_0x17a9('0x107')](_0x37877d=>(MiscUtil[_0x17a9('0xd')](_0x37877d,_0x17a9('0x136'),_0x17a9('0x113'))||'')===_0xe4e01e['name']);if(!_0x26c1db[_0x17a9('0x125')])return this[_0x17a9('0x48')](_0x5f1301,_0xe4e01e,_0x53555e);if(_0x26c1db[_0x17a9('0x125')]===0x1)return _0x26c1db[0x0];return this[_0x17a9('0x48')](_0x5f1301,_0xe4e01e,_0x26c1db);})();if(_0x27216b){let _0x5d44d7=![];const _0x330bfc={'_id':_0x27216b['_id']||_0x27216b[_0x17a9('0x136')][_0x17a9('0x13f')]};_0x73162e&&!(MiscUtil[_0x17a9('0xd')](_0x27216b,'data',_0x17a9('0x35'),_0x17a9('0x198'))||''[_0x17a9('0xf5')]())&&(_0x5d44d7=!![],((_0x330bfc[_0x17a9('0x136')]=_0x330bfc[_0x17a9('0x136')]||{})[_0x17a9('0x35')]=_0x330bfc['data'][_0x17a9('0x35')]||{})['value']=_0x73162e);let _0x180196=MiscUtil['get'](_0x27216b,'data',_0x17a9('0x62'));_0x180196&&(_0x45a6da[_0x17a9('0x3f')]>_0x180196&&(_0x5d44d7=!![],(_0x330bfc[_0x17a9('0x136')]=_0x330bfc[_0x17a9('0x136')]||{})[_0x17a9('0x62')]=_0x45a6da['targetLevel']));if(_0xe4e01e&&_0xe4e01e['name']){const _0x245ce8=MiscUtil[_0x17a9('0xd')](_0x27216b,'data',_0x17a9('0x113'));_0x245ce8!==_0xe4e01e[_0x17a9('0xe6')]&&(_0x5d44d7=!![],(_0x330bfc['data']=_0x330bfc[_0x17a9('0x136')]||{})[_0x17a9('0x113')]=_0xe4e01e[_0x17a9('0xe6')]);}if(_0x5d44d7)_0x45a6da[_0x17a9('0x65')][_0x17a9('0x13c')](_0x330bfc);_0x449262[_0x17a9('0x14d')]=_0x180196||0x0,_0x449262[_0x17a9('0x7a')]=_0x27216b;}else{const _0x1e6e8d=(_0xe4e01e||{})[_0x17a9('0x19')]||_0x5f1301[_0x17a9('0x19')],_0x4b05ed=await DataConverter[_0x17a9('0xa3')](_0x17a9('0xc4'),_0x5f1301)||'modules/'+SharedConsts[_0x17a9('0x15e')]+_0x17a9('0x2'),_0x3df8a1=_0x5f1301[_0x17a9('0x145')]&&_0x5f1301[_0x17a9('0x145')][_0x17a9('0xdd')]?_0x5f1301[_0x17a9('0x145')][_0x17a9('0xdd')][_0x17a9('0x165')](_0x46a23f=>{if(_0x46a23f['choose'])return _0x46a23f[_0x17a9('0x18f')][_0x17a9('0x1a6')]||0x1;return 0x0;})[_0x17a9('0x52')]((_0xa3880a,_0x1ba985)=>_0xa3880a+_0x1ba985,0x0):0x0,_0x468891=_0x12e201[_0x17a9('0x85')]&&_0x12e201[_0x17a9('0x85')][_0x17a9('0xdd')]?Object['keys'](_0x12e201[_0x17a9('0x85')][_0x17a9('0xdd')]):[];_0x45a6da[_0x17a9('0xdb')][_0x17a9('0x13c')]({'name':UtilApplications[_0x17a9('0xf6')](DataConverter[_0x17a9('0xec')](_0x5f1301)),'type':'class','data':{'description':{'value':_0x73162e,'chat':'','unidentified':''},'source':DataConverter['getSourceWithPagePart'](_0x5f1301),'levels':_0x45a6da[_0x17a9('0x3f')],'subclass':_0xe4e01e?_0xe4e01e[_0x17a9('0xe6')]:'','hitDice':DataConverterClass['getDataHitDice'](_0x5f1301),'hitDiceUsed':0x0,'spellcasting':UtilActors[_0x17a9('0xd7')](_0x1e6e8d)||_0x1e6e8d,'skills':{'number':_0x3df8a1,'value':_0x468891}},'img':_0x4b05ed});}return _0x449262;}async[_0x17a9('0x48')](_0x4f600f,_0x17f93a,_0x5c7697){const _0x3675c8=''+(_0x4f600f[_0x17a9('0xe6')]||_0x17a9('0xb5'))+(_0x17f93a?'\x20('+(_0x17f93a[_0x17a9('0xe6')]||_0x17a9('0x53'))+')':''),_0x53d156=await InputUiUtil[_0x17a9('0x163')]({'values':_0x5c7697,'placeholder':_0x17a9('0x86'),'title':_0x17a9('0x1a2')+_0x3675c8+'\x20Levels\x20To','fnDisplay':_0x587012=>{if(_0x587012==null)return _0x17a9('0x93');const _0x119e98=(MiscUtil[_0x17a9('0xd')](_0x587012,_0x17a9('0x136'),_0x17a9('0x113'))||'')[_0x17a9('0xf5')]();return''+(_0x587012[_0x17a9('0xe6')]||_0x17a9('0xb5'))+(_0x119e98?':\x20'+_0x119e98:'');},'isAllowNull':!![]});if(_0x53d156==null)return null;return _0x5c7697[_0x53d156];}async['_pImportPreparedCasterSpells'](_0x286cd8,_0x354296,_0x3aa3e1){const _0x40fcc5=UtilActors[_0x17a9('0xc9')][_0x286cd8[_0x17a9('0x19')]];if(!_0x40fcc5)return;const _0x47fcc6=[];let _0x2fffe5=0x0;_0x40fcc5[_0x17a9('0x13')](_0x5a706d=>{let _0x1cb831=![];for(let _0x30768d=0x0;_0x30768d<_0x5a706d['length'];++_0x30768d){const _0xbf515d=_0x30768d+0x1;if(_0x5a706d[_0x30768d]&&_0xbf515d>_0x2fffe5){_0x47fcc6[_0x17a9('0x13c')](_0xbf515d),_0x2fffe5=_0xbf515d,_0x1cb831=!![];break;}}if(!_0x1cb831)_0x47fcc6[_0x17a9('0x13c')](null);});const _0x2d6032=_0x47fcc6[_0x17a9('0x128')](_0x354296,_0x3aa3e1[_0x17a9('0x3f')])['filter'](Boolean);if(!_0x2d6032['length'])return;const _0x2a6c4c=Math[_0x17a9('0x1a')](..._0x2d6032)-0x1,_0x98dde8=Math[_0x17a9('0x89')](..._0x2d6032),_0x1788c9=_0x3aa3e1['targetLevel']-_0x354296,_0x597f1d=_0x98dde8-_0x2a6c4c;if(_0x597f1d>0x0){const _0x246547=await UtilApplications[_0x17a9('0xda')]({'title':'Populate\x20Spellbook','content':'<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level'+(_0x1788c9===0x1?'':'s')+'\x20'+(_0x1788c9===0x1?_0x3aa3e1[_0x17a9('0x3f')]:_0x354296+0x1+'-'+_0x3aa3e1['targetLevel'])+_0x17a9('0x72'),'confirmText':'Yes','dismissText':'No','faIcon':'fa-hat-wizard'});if(!_0x246547)return;const _0xb902d9=(await Vetools[_0x17a9('0x150')](!![]))[_0x17a9('0xad')],_0x1e3911=_0xb902d9[_0x17a9('0x107')](_0x567258=>_0x567258[_0x17a9('0xcb')]>0x0&&_0x567258[_0x17a9('0xcb')]>_0x2a6c4c&&_0x567258['level']<=_0x98dde8&&_0x567258[_0x17a9('0x47')]&&_0x567258['classes'][_0x17a9('0x43')]&&_0x567258[_0x17a9('0x47')][_0x17a9('0x43')]['some'](_0x19380e=>(_0x19380e[_0x17a9('0xe6')]||'')[_0x17a9('0x169')]()===_0x286cd8['name']['toLowerCase']()&&(_0x19380e[_0x17a9('0xc7')]||SRC_PHB)[_0x17a9('0x169')]()===_0x286cd8[_0x17a9('0xc7')][_0x17a9('0x169')]()));for(const _0x26e9a9 of _0x1e3911){const _0xec118c=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x17a9('0xb')]](_0x26e9a9),_0x1202f1=DataConverterSpell[_0x17a9('0x11d')](this['_actor'],_0x26e9a9[_0x17a9('0xe6')],_0x26e9a9['source']);if(_0x1202f1){_0x3aa3e1[_0x17a9('0x36')][_0xec118c]=_0x1202f1[_0x17a9('0x13f')]||_0x1202f1['data']['_id'];continue;}const _0x4fd7f7=await DataConverterSpell[_0x17a9('0xe9')](_0x26e9a9,{'casterLevel':_0x3aa3e1[_0x17a9('0x3f')],'abilityAbv':_0x286cd8[_0x17a9('0xbd')]}),_0x182f94=await this[_0x17a9('0x167')][_0x17a9('0x78')](_0x17a9('0x17e'),_0x4fd7f7,{});_0x3aa3e1[_0x17a9('0x36')][_0xec118c]=_0x182f94[_0x17a9('0x13f')]||_0x182f94[_0x17a9('0x136')]['_id'];}}}async[_0x17a9('0x90')](_0x502c71,_0x11def4,_0x5dd0cb){if(!_0x502c71||!_0x502c71['length'])return;const _0x2919a9=_0x11def4+0x1;for(const _0x2c257e of _0x502c71){const _0x586c08=await UtilActors[_0x17a9('0x55')](this[_0x17a9('0x167')],_0x2c257e['additionalSpells'],{'minLevel':_0x2919a9,'maxLevel':_0x5dd0cb[_0x17a9('0x3f')],'sourceHintText':_0x2c257e[_0x17a9('0xe6')],'casterLevel':_0x5dd0cb['targetLevel'],'abilityAbv':_0x5dd0cb['spellcastingAbility'],'hashToIdMap':_0x5dd0cb['spellHashToItemIdMap']});_0x5dd0cb[_0x17a9('0x109')]=_0x5dd0cb[_0x17a9('0x109')]||_0x586c08;if(_0x5dd0cb[_0x17a9('0x109')])return;}}async[_0x17a9('0x120')](_0x561a3b,_0x7d3be6){const _0x4bee2b=DataConverterSpell['doHookSpellLinkRender'][_0x17a9('0xc2')](null,this[_0x17a9('0x167')]['id'],_0x7d3be6['spellHashToItemIdMap']);Renderer[_0x17a9('0xd')]()[_0x17a9('0x84')](_0x17a9('0x46'),'ele',_0x4bee2b),_0x561a3b['forEach'](_0x1cabb6=>{_0x1cabb6[_0x17a9('0xff')][_0x17a9('0x13')](_0x56d12e=>{switch(_0x56d12e[_0x17a9('0x133')]){case _0x17a9('0x33'):case _0x17a9('0x34'):{if(_0x56d12e[_0x17a9('0x98')][_0x17a9('0x8e')])_0x56d12e['entity'][_0x17a9('0x8e')]=this['_getFilteredEntries'](_0x56d12e[_0x17a9('0x98')][_0x17a9('0x8e')]);break;}}});});const _0x1af807={},_0xa0e97c={};(this['_actor'][_0x17a9('0xdb')]||[])[_0x17a9('0x107')](_0x488511=>_0x488511[_0x17a9('0x133')]===_0x17a9('0x118'))[_0x17a9('0x13')](_0x5c49cb=>{_0x1af807[_0x5c49cb[_0x17a9('0xe6')][_0x17a9('0xf5')]()[_0x17a9('0x169')]()]=(DataConverter[_0x17a9('0x11b')](_0x5c49cb)||'')[_0x17a9('0xf5')]()['toLowerCase']();});const _0x4a02c6=(_0x88491,_0x3ab915,_0x81c637,_0x2b0429)=>{if(MiscUtil[_0x17a9('0xd')](_0xa0e97c,_0x3ab915,_0x81c637,_0x2b0429))return!![];const _0x37fa4d=_0x88491['trim']()[_0x17a9('0x169')]();if(_0x1af807[_0x37fa4d]==null)return![];if(!Config[_0x17a9('0xd')](_0x17a9('0x119'),_0x17a9('0x94')))return!![];const _0xb7be8e=Parser[_0x17a9('0x57')](_0x81c637)[_0x17a9('0xf5')]()['toLowerCase']();return _0x1af807[_0x37fa4d]===_0xb7be8e;};_0x561a3b=_0x561a3b['filter'](_0x3f7766=>{if(_0x3f7766[_0x17a9('0x14b')])return![];const _0x5b845b=_0x3f7766[_0x17a9('0xe6')][_0x17a9('0x169')]();switch(_0x5b845b){case'proficiency\x20versatility':return![];default:return!![];}});for(const _0x360586 of _0x561a3b){const _0x53bbed=_0x360586[_0x17a9('0xe6')][_0x17a9('0x169')]();if(_0x53bbed===_0x17a9('0x151')){await this[_0x17a9('0x2a')](_0x360586,_0x7d3be6);if(_0x7d3be6[_0x17a9('0x109')])return;continue;}const _0xe37dd=[];let _0x413453=[],_0x48281b=null;_0x360586[_0x17a9('0xff')][_0x17a9('0x13')](_0x5f50d2=>{const _0x51bffe=MiscUtil['get'](_0x5f50d2,_0x17a9('0x97'),_0x17a9('0xe1'))||null;if(_0x48281b!==_0x51bffe){if(_0x413453[_0x17a9('0x125')])_0xe37dd[_0x17a9('0x13c')](_0x413453);_0x413453=[_0x5f50d2],_0x48281b=_0x51bffe;}else _0x413453[_0x17a9('0x13c')](_0x5f50d2);});if(_0x413453[_0x17a9('0x125')])_0xe37dd[_0x17a9('0x13c')](_0x413453);for(const _0x3614f4 of _0xe37dd){if(_0x3614f4[0x0]&&_0x3614f4[0x0][_0x17a9('0x97')]){_0x3614f4['sort']((_0x2741c1,_0x42412b)=>SortUtil['ascSortLower'](_0x2741c1[_0x17a9('0x98')][_0x17a9('0xe6')],_0x42412b[_0x17a9('0x98')][_0x17a9('0xe6')])||SortUtil['ascSortLower'](Parser[_0x17a9('0x57')](_0x2741c1[_0x17a9('0x98')][_0x17a9('0xc7')]),Parser[_0x17a9('0x57')](_0x42412b[_0x17a9('0x98')]['source'])));const {name,count}=_0x3614f4[0x0][_0x17a9('0x97')],_0x36364b=_0x3614f4[_0x17a9('0x165')]((_0x10c3cf,_0x10882b)=>({'it':_0x10c3cf,'ix':_0x10882b}))[_0x17a9('0x107')](({it})=>it[_0x17a9('0x141')])[_0x17a9('0x165')](({ix})=>ix),_0x161879=count-_0x36364b[_0x17a9('0x125')],_0x386e4d=await InputUiUtil['pGetUserMultipleChoice']({'title':_0x17a9('0x81')+(_0x161879===0x1?'':_0x161879+'\x20')+_0x17a9('0x186')+(_0x161879===0x1?'':'s')+':\x20'+name+_0x17a9('0x106')+_0x360586[_0x17a9('0xcb')]+')','values':_0x3614f4,'required':_0x36364b,'count':count,'isResolveItems':!![],'modalOpts':{'zIndex':Renderer['hover']['MIN_Z_INDEX']-0x1},'fnDisplay':_0x3d277f=>{const _0x7d654f=Renderer[_0x17a9('0xd')]()['render'](_0x3d277f[_0x17a9('0x69')]),_0x2ab6d9=_0x4a02c6(_0x3d277f[_0x17a9('0x98')][_0x17a9('0xc0')]||_0x3d277f[_0x17a9('0x98')]['name'],_0x3d277f[_0x17a9('0xd8')],_0x3d277f['source'],_0x3d277f[_0x17a9('0x8c')]);return $$`<div class="w-100 split-v-center">
								<div class="mr-2 flex-v-center">${_0x7d654f}${_0x2ab6d9?'<div\x20title=\x22Existing\x20Feature\x22\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22>(<i\x20class=\x22fas\x20fa-check\x22></i>)</div>':''}</div>
								<div class="${Parser[_0x17a9('0x146')](_0x3d277f[_0x17a9('0x98')][_0x17a9('0xc7')])}" title="${Parser[_0x17a9('0x79')](_0x3d277f[_0x17a9('0x98')]['source'])}">${Parser[_0x17a9('0x57')](_0x3d277f[_0x17a9('0x98')][_0x17a9('0xc7')])}</div>
							</div>`;}});if(!_0x386e4d){_0x7d3be6[_0x17a9('0x109')]=!![];return;}for(const _0x5890da of _0x386e4d){await this['_pAddLoadedFeature'](_0x5890da,_0x7d3be6,_0xa0e97c);if(_0x7d3be6['isCancelled'])return;}}else for(const _0x3b08f4 of _0x3614f4){await this[_0x17a9('0x63')](_0x3b08f4,_0x7d3be6,_0xa0e97c);if(_0x7d3be6['isCancelled'])return;}}}Renderer['get']()[_0x17a9('0xc1')](_0x17a9('0x46'),'ele',_0x4bee2b);if(Object[_0x17a9('0x161')](_0x7d3be6[_0x17a9('0x183')])[_0x17a9('0x125')])await this[_0x17a9('0x167')][_0x17a9('0x17c')](_0x7d3be6[_0x17a9('0x183')]);if(_0x7d3be6['items']['length'])await UtilActors['pAddActorItems'](this[_0x17a9('0x167')],_0x7d3be6['items']);if(_0x7d3be6['itemsToUpdate'][_0x17a9('0x125')])await this[_0x17a9('0x167')][_0x17a9('0x104')]('OwnedItem',_0x7d3be6[_0x17a9('0x65')]);}async[_0x17a9('0x63')](_0xb8919f,_0x97e0a2,_0x472e9c){const _0x550f4d=_0xb8919f['entity'];MiscUtil['set'](_0x472e9c,_0xb8919f[_0x17a9('0xd8')],_0xb8919f[_0x17a9('0xc7')],_0xb8919f[_0x17a9('0x8c')],!![]);switch(_0xb8919f['type']){case _0x17a9('0x33'):case'subclassFeature':{const _0x1f5dc8={'actor':this[_0x17a9('0x167')]},_0x2deb85=await DataConverterClass[_0x17a9('0x3e')](_0xb8919f,_0x1f5dc8);if(_0x1f5dc8[_0x17a9('0x109')]){_0x97e0a2['isCancelled']=!![];return;}_0x97e0a2[_0x17a9('0xdb')]['push'](_0x2deb85),await DataConverterClass['pMutActorUpdateClassSubclassFeatureItem'](this[_0x17a9('0x167')],_0x97e0a2[_0x17a9('0x183')],_0xb8919f,_0x97e0a2);break;}case'optionalfeature':{const _0x1b80b2=await DataConverterOptionalfeature[_0x17a9('0x6')](_0x550f4d);_0x97e0a2[_0x17a9('0xdb')][_0x17a9('0x13c')](_0x1b80b2),await DataConverterOptionalfeature[_0x17a9('0xe8')](this[_0x17a9('0x167')],_0x97e0a2['actorUpdate'],_0x550f4d,_0x97e0a2);break;}default:throw new Error('Unhandled\x20sub-feature\x20type\x20\x22'+_0xb8919f[_0x17a9('0x133')]+'\x22');}}async[_0x17a9('0x56')](_0x3ac3a0,_0x1e1828){if(_0x3ac3a0[_0x17a9('0x125')]>0x1)return;if(_0x3ac3a0[0x0]===0x0)return;const _0x4e1e8b=(MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],'data','items')||[])[_0x17a9('0x107')](_0x2c9b15=>_0x2c9b15['type']==='class');if(_0x4e1e8b[_0x17a9('0x125')])return;const _0xadedf3=_0x3ac3a0[0x0]+0x1,_0x3a4c37=await InputUiUtil[_0x17a9('0x11c')]({'title':_0x17a9('0xe3'),'htmlDescription':_0x17a9('0xde')+_0xadedf3+_0x17a9('0x22')+(_0xadedf3===0x2?'':'s')+'\x20'+(_0xadedf3===0x2?'1':'1-'+(_0xadedf3-0x1))+_0x17a9('0x88'),'textYes':_0x17a9('0x152')+_0xadedf3,'textNo':'Import\x20Level\x20'+_0xadedf3});if(_0x3a4c37==null){_0x1e1828[_0x17a9('0x109')]=!![];return;}if(_0x3a4c37){const _0x1dd13f=_0x3ac3a0[0x0];for(let _0x26fe7b=0x0;_0x26fe7b<=_0x1dd13f;++_0x26fe7b){_0x3ac3a0[_0x26fe7b]=_0x26fe7b;}}}['_getFilteredFeatures'](_0x1dbf1a){const _0x19eb29=this[_0x17a9('0xc5')][_0x17a9('0x166')]['getValues']();return _0x1dbf1a['filter'](_0x58258a=>{if(!this['_pageFilter'][_0x17a9('0x41')][_0x17a9('0x1af')](_0x19eb29,_0x58258a[_0x17a9('0xc7')]))return![];return _0x58258a['loadeds']=_0x58258a[_0x17a9('0xff')][_0x17a9('0x107')](_0x15806d=>this[_0x17a9('0xc5')]['sourceFilter'][_0x17a9('0x1af')](_0x19eb29,_0x15806d[_0x17a9('0x98')]['source'])),_0x58258a[_0x17a9('0xff')]['length'];});}[_0x17a9('0x7')](_0x1a5278){const _0x323108=this['_pageFilter'][_0x17a9('0x166')][_0x17a9('0x148')](),_0x25ceec=_0x25d147=>{if(!_0x25d147[_0x17a9('0xc7')])return!![];return this[_0x17a9('0xc5')][_0x17a9('0x41')][_0x17a9('0x1af')](_0x323108,_0x25d147[_0x17a9('0xc7')]);},_0xb6602=_0x10bde1=>{if(!_0x10bde1)return;if(typeof _0x10bde1===_0x17a9('0x19a'))return _0x10bde1 instanceof Array?(_0x10bde1=_0x10bde1[_0x17a9('0x107')](_0x5f218a=>_0x25ceec(_0x5f218a)),_0x10bde1[_0x17a9('0x165')](_0x93788f=>_0xb6602(_0x93788f))):(Object['keys'](_0x10bde1)[_0x17a9('0x13')](_0x1c1407=>{if(_0x10bde1[_0x1c1407]instanceof Array){_0x10bde1[_0x1c1407]=_0xb6602(_0x10bde1[_0x1c1407]);if(!_0x10bde1[_0x1c1407]['length'])delete _0x10bde1[_0x1c1407];}else _0x10bde1[_0x1c1407]=_0xb6602(_0x10bde1[_0x1c1407]);}),_0x10bde1);else return _0x10bde1;};return _0x1a5278=MiscUtil[_0x17a9('0x10c')](_0x1a5278),_0xb6602(_0x1a5278);}async[_0x17a9('0x2a')](_0x57c811,_0x58eaa3){const _0x2f4594=new ImportListClass['AbilityScoreIncrease'](this[_0x17a9('0x167')],_0x57c811,_0x58eaa3);_0x2f4594[_0x17a9('0x105')](!![]),await _0x2f4594['pWaitForUserInput']();}}ImportListClass[_0x17a9('0x16b')]={[SRC_PHB]:{'Cleric':!![],'Druid':!![],'Paladin':!![]}},ImportListClass[_0x17a9('0x25')]=class extends Application{static[_0x17a9('0xe')](_0x31b445){return _0x31b445['map'](_0x3dc23f=>_0x3dc23f[_0x17a9('0xe6')])[_0x17a9('0x18d')](',\x20')||'â€”';}static[_0x17a9('0x1aa')](_0x1b0047,_0x57739f){_0x1b0047=MiscUtil[_0x17a9('0x10c')](_0x1b0047);if(!_0x57739f)_0x1b0047=_0x1b0047[_0x17a9('0x107')](_0x19de9e=>_0x19de9e[_0x17a9('0x33')]);const _0x37d52c=[];let _0x2a1011=0x1,_0x3aba27=[];const _0xea6221=()=>{_0x37d52c[_0x17a9('0x13c')](_0x3aba27),_0x3aba27=[];};_0x1b0047[_0x17a9('0x13')](_0x140966=>{while(_0x2a1011<_0x140966[_0x17a9('0xcb')]){_0xea6221(),_0x2a1011++;}_0x3aba27[_0x17a9('0x13c')](_0x140966),_0x2a1011=_0x140966[_0x17a9('0xcb')];}),_0xea6221();while(_0x2a1011<0x14){_0xea6221(),_0x2a1011++;}return _0x37d52c;}constructor(_0x5c1b8a,_0x1775b8){super({'title':_0x17a9('0x185')+(_0x1775b8?_0x17a9('0x1a8'):_0x17a9('0x5d'))+'\x20Levels','template':SharedConsts[_0x17a9('0x75')]+_0x17a9('0xb3'),'width':0x280,'resizable':!![]}),this[_0x17a9('0x60')]=ImportListClass[_0x17a9('0x25')][_0x17a9('0x1aa')](_0x5c1b8a,_0x1775b8),this[_0x17a9('0x2e')]=null,this[_0x17a9('0x18e')]=null;}[_0x17a9('0x24')](_0x398ca1){super['activateListeners'](_0x398ca1),this[_0x17a9('0x2e')]=new List({'$wrpList':_0x398ca1[_0x17a9('0x15')](_0x17a9('0x149')),'fnSort':null}),ModalFilter['bindSelectAllCheckbox'](_0x398ca1[_0x17a9('0x15')](_0x17a9('0x187')),this[_0x17a9('0x2e')]),this['_list']['doAbsorbItems'](this['_featureArr'],{'fnGetName':_0x521f8a=>ImportListClass[_0x17a9('0x25')][_0x17a9('0xe')](_0x521f8a),'fnGetValues':()=>({}),'fnGetData':UtilList2[_0x17a9('0x191')],'fnBindListeners':_0x528594=>UtilList2[_0x17a9('0x38')](this['_list'],_0x528594)}),this[_0x17a9('0x2e')]['init'](),_0x398ca1[_0x17a9('0x15')](_0x17a9('0x80'))['click'](async()=>{const _0x3ac3b9=_0x398ca1[_0x17a9('0x15')](_0x17a9('0x3b'))[_0x17a9('0x165')]((_0xc5324,_0x11dc62)=>Number($(_0x11dc62)[_0x17a9('0x0')](_0x17a9('0x1ac'))))[_0x17a9('0xd')]();if(!_0x3ac3b9[_0x17a9('0x125')])return ui[_0x17a9('0x111')]['warn'](_0x17a9('0x13e'));this[_0x17a9('0x18e')](_0x3ac3b9),this['close']();});}[_0x17a9('0x184')](){return{'rows':this['_featureArr']['map']((_0x2f28cd,_0x73e66b)=>({'level':_0x73e66b+0x1,'text':ImportListClass[_0x17a9('0x25')][_0x17a9('0xe')](_0x2f28cd),'ix':_0x73e66b}))};}[_0x17a9('0xf9')](){super[_0x17a9('0xf9')](),this['_resolve'](null);}[_0x17a9('0x172')](){return new Promise(_0x583060=>{this[_0x17a9('0x18e')]=_0x583060,this['render'](!![]);});}},ImportListClass[_0x17a9('0xfe')]=class extends Application{constructor(_0x28a528,_0x5b8521,_0x4c43c5){super({'title':_0x17a9('0xd1')+_0x5b8521[_0x17a9('0xcb')],'template':SharedConsts[_0x17a9('0x75')]+_0x17a9('0x6b'),'width':0x280,'resizable':!![]}),this[_0x17a9('0xaf')]=_0x4c43c5,this[_0x17a9('0x18e')]=null,this[_0x17a9('0x45')]=null,this[_0x17a9('0x9e')]=new Promise((_0x542d7e,_0x48cf88)=>{this[_0x17a9('0x18e')]=_0x542d7e,this[_0x17a9('0x45')]=_0x48cf88;}),this['_comp']=new ImportListClass[(_0x17a9('0xfe'))][(_0x17a9('0x15b'))](_0x28a528,_0x4c43c5,this[_0x17a9('0xf9')][_0x17a9('0xc2')](this));}[_0x17a9('0x24')](_0x1ee54e){this[_0x17a9('0x31')][_0x17a9('0x105')](_0x1ee54e);}[_0x17a9('0xf9')](){super[_0x17a9('0xf9')]();if(!this[_0x17a9('0x31')][_0x17a9('0xa2')])this[_0x17a9('0xaf')][_0x17a9('0x109')]=!![];this['_resolve']();}['pWaitForUserInput'](){return this[_0x17a9('0x9e')];}},ImportListClass[_0x17a9('0xfe')][_0x17a9('0x15b')]=class extends BaseComponent{constructor(_0x9d9581,_0x3d3998,_0x2709fb){super(),this[_0x17a9('0x167')]=_0x9d9581,this[_0x17a9('0xaf')]=_0x3d3998,this['_fnClose']=_0x2709fb,this['_isDataEntered']=![],Object[_0x17a9('0x12d')](this[_0x17a9('0x115')],{'str':MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),'abilities','str',_0x17a9('0x198'))||0x0,'dex':MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),'data','abilities','dex',_0x17a9('0x198'))||0x0,'con':MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x167')],_0x17a9('0x136'),'data',_0x17a9('0x9d'),'con','value')||0x0,'int':MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x9d'),_0x17a9('0x162'),_0x17a9('0x198'))||0x0,'wis':MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x9d'),_0x17a9('0x157'),_0x17a9('0x198'))||0x0,'cha':MiscUtil['get'](this[_0x17a9('0x167')],_0x17a9('0x136'),_0x17a9('0x136'),_0x17a9('0x9d'),_0x17a9('0xfc'),'value')||0x0});}get[_0x17a9('0xa2')](){return this[_0x17a9('0x10')];}[_0x17a9('0x105')](_0x16d1d8){const _0x58f33d=$(_0x17a9('0xcd'))[_0x17a9('0x7c')](()=>this[_0x17a9('0x130')][_0x17a9('0xe2')]='ability'),_0x99a88b=$(_0x17a9('0x67'))[_0x17a9('0x7c')](()=>this[_0x17a9('0x130')]['mode']=_0x17a9('0x118')),_0x2ce59f=$('<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>'),_0xe87987=$('<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>'),_0x236c7b=()=>{const _0x53b1d5=this['_state'][_0x17a9('0xe2')]===_0x17a9('0x42');_0x58f33d[_0x17a9('0x18a')](_0x17a9('0x5f'),_0x53b1d5),_0x99a88b['toggleClass'](_0x17a9('0x5f'),!_0x53b1d5),_0x2ce59f[_0x17a9('0x116')](_0x53b1d5),_0xe87987['toggleVe'](!_0x53b1d5);};_0x236c7b(),this[_0x17a9('0xed')](_0x17a9('0xe2'),_0x236c7b),this[_0x17a9('0x144')](_0x2ce59f),this[_0x17a9('0x4b')](_0xe87987),$$(_0x16d1d8)`<div class="flex-col w-100 h-100">
			<div class="flex no-shrink btn-group mb-1">${_0x58f33d}${_0x99a88b}</div>
			${_0x2ce59f}
			${_0xe87987}
		</div>`;}['_render_ability'](_0x147b6d){const _0x55801c=[_0x17a9('0x7f'),_0x17a9('0x180'),_0x17a9('0x4e'),_0x17a9('0x162'),'wis',_0x17a9('0xfc')][_0x17a9('0x165')](_0x397127=>{const _0xdf0e1=$(_0x17a9('0xac')),_0x361088=$(_0x17a9('0xac')),_0x134339=()=>{_0xdf0e1[_0x17a9('0xbb')](this['_state'][_0x397127]),_0x361088[_0x17a9('0xbb')](Parser[_0x17a9('0xa9')](this['_state'][_0x397127]));};this['_addHookBase'](_0x397127,_0x134339),_0x134339();const _0x182a10=_0x397127+_0x17a9('0xd3'),{$wrp:_0x224031,$ipt:_0x3c50d3}=ComponentUiUtil[_0x17a9('0xd2')](this,_0x182a10,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':'<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','asMeta':!![],'decorationRight':_0x17a9('0xeb'),'decorationLeft':'spacer'});_0x3c50d3['click'](()=>_0x3c50d3[_0x17a9('0xb9')]());const _0x1a6400=$(_0x17a9('0xac')),_0x4acdcb=$('<div\x20class=\x22col-2\x20text-center\x22></div>'),_0x5e616a=()=>{const _0x395071=this[_0x17a9('0x130')][_0x397127]+this['_state'][_0x182a10];_0x1a6400[_0x17a9('0xbb')](_0x395071),_0x4acdcb[_0x17a9('0xbb')](Parser[_0x17a9('0xa9')](_0x395071)),_0x1a6400['toggleClass'](_0x17a9('0x26'),_0x395071>0x14)[_0x17a9('0x87')](_0x395071>0x14?_0x17a9('0x8'):'');};this[_0x17a9('0xed')](_0x182a10,_0x5e616a),_0x5e616a();const _0x6fd7b=$$`<div class="flex row my-1">
				<div class="col-1 text-right bold">${_0x397127['toUpperCase']()}</div>
				${_0xdf0e1}
				${_0x361088}
				<div class="col-2">${_0x224031}</div>
				<div class="col-1 text-center">=</div>
				${_0x1a6400}
				${_0x4acdcb}
			</div>`;return{'$row':_0x6fd7b,'$iptBonus':_0x3c50d3};}),_0x538f47=$(_0x17a9('0x23')),_0x193b0e=()=>{const _0x20bcf6=[_0x17a9('0xf3'),_0x17a9('0x17b'),_0x17a9('0x11'),_0x17a9('0x9f'),_0x17a9('0x66'),_0x17a9('0x16d')][_0x17a9('0x165')](_0x28dc6e=>this['_state'][_0x28dc6e])[_0x17a9('0x52')]((_0x4330cf,_0x422f98)=>_0x4330cf+_0x422f98,0x0),_0x5a3aef=_0x20bcf6>0x2;_0x538f47[_0x17a9('0xbb')](_0x17a9('0x96')+(0x2-_0x20bcf6))[_0x17a9('0x18a')](_0x17a9('0x26'),_0x5a3aef),_0x55801c[_0x17a9('0x13')](_0x3dfb04=>_0x3dfb04[_0x17a9('0x110')][_0x17a9('0x18a')](_0x17a9('0x12e'),_0x5a3aef));};[_0x17a9('0xf3'),_0x17a9('0x17b'),_0x17a9('0x11'),_0x17a9('0x9f'),_0x17a9('0x66'),_0x17a9('0x16d')]['forEach'](_0x5963d0=>this[_0x17a9('0xed')](_0x5963d0,_0x193b0e)),_0x193b0e();const _0x1759a9=$(_0x17a9('0x15c'))['click'](async()=>{const _0x4b85c1=[this[_0x17a9('0x130')][_0x17a9('0xf3')],this[_0x17a9('0x130')][_0x17a9('0x17b')],this[_0x17a9('0x130')][_0x17a9('0x11')],this[_0x17a9('0x130')][_0x17a9('0x9f')],this[_0x17a9('0x130')][_0x17a9('0x66')],this['_state'][_0x17a9('0x16d')]]['reduce']((_0x3e7f58,_0x19f2ef)=>_0x3e7f58+_0x19f2ef,0x0);if(_0x4b85c1!==0x2)return ui['notifications'][_0x17a9('0x4d')]('Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!');await this[_0x17a9('0x193')](!![]);});$$(_0x147b6d)`
		<div class="flex w-100 row my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0x538f47}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="flex-col w-100 h-100">
			${_0x55801c['map'](_0x58e7e2=>_0x58e7e2[_0x17a9('0x139')])}
		</div>
		<div class="flex-v-center flex-h-right w-100">${_0x1759a9}</div>
		`;}[_0x17a9('0x4b')](_0x1c8bf1){const _0x56ec6a=$(_0x17a9('0x5a'))[_0x17a9('0x7c')](async()=>{const _0x534395=await ImportListClass[_0x17a9('0xef')][_0x17a9('0x37')]({'id':_0x17a9('0xcc'),'name':_0x17a9('0x171'),'singleName':_0x17a9('0x117'),'wizardTitleWindow':_0x17a9('0x14a'),'wizardTitlePanel3':'Configure\x20and\x20Open\x20List','wizardTitleButtonOpenImporter':'Open\x20List'},_0x17a9('0xdc'));if(!_0x534395)return;this[_0x17a9('0x130')]['featData']=_0x534395;}),_0x1c875d=$('<div></div>'),_0xf97c9d=()=>{_0x1c875d['empty']();if(!this[_0x17a9('0x130')][_0x17a9('0x100')])return;_0x1c875d[_0x17a9('0x194')](_0x17a9('0x6e')+this[_0x17a9('0x130')][_0x17a9('0x100')]['name']+_0x17a9('0x12'));const {page,source,hash}=MiscUtil[_0x17a9('0xd')](this[_0x17a9('0x130')]['featData'],'flags',SharedConsts[_0x17a9('0x15e')])||{};if(!hash)return;Renderer[_0x17a9('0x2b')][_0x17a9('0x39')](page,source,hash)['then'](_0x16bab3=>{_0x1c875d[_0x17a9('0x194')](_0x17a9('0x127')+Vetools[_0x17a9('0xf8')](()=>Renderer[_0x17a9('0x118')][_0x17a9('0xca')](_0x16bab3))+_0x17a9('0xe4'));});};_0xf97c9d(),this[_0x17a9('0xed')](_0x17a9('0x100'),_0xf97c9d);const _0x32a410=$('<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Confirm</button>')[_0x17a9('0x7c')](async()=>{if(!this[_0x17a9('0x130')][_0x17a9('0x100')])return ui[_0x17a9('0x111')][_0x17a9('0x4d')](_0x17a9('0xf2'));await this[_0x17a9('0x193')](!![]);});$$(_0x1c8bf1)`
		<div class="flex-col h-100">
			<div class="flex-v-center btn-group mb-1">${_0x56ec6a}${_0x32a410}</div>
			${_0x1c875d}
		</div>
		`;}async[_0x17a9('0x193')](_0x350d47){if(!_0x350d47)return this[_0x17a9('0x64')]();const _0xf4bf5a=this[_0x17a9('0x188')]();_0xf4bf5a&&(this[_0x17a9('0x10')]=!![],await this['_actor']['update'](_0xf4bf5a));const _0xd1c69b=this[_0x17a9('0x13d')]();_0xd1c69b&&(this[_0x17a9('0x10')]=!![],this[_0x17a9('0xaf')]['items'][_0x17a9('0x13c')](_0xd1c69b)),this[_0x17a9('0x64')]();}[_0x17a9('0x188')](){if(this[_0x17a9('0x130')][_0x17a9('0xe2')]!==_0x17a9('0x42'))return null;return{'data':{'abilities':{'str':{'value':this[_0x17a9('0x130')]['str']+this[_0x17a9('0x130')][_0x17a9('0xf3')]},'dex':{'value':this[_0x17a9('0x130')][_0x17a9('0x180')]+this[_0x17a9('0x130')][_0x17a9('0x17b')]},'con':{'value':this[_0x17a9('0x130')][_0x17a9('0x4e')]+this[_0x17a9('0x130')][_0x17a9('0x11')]},'int':{'value':this[_0x17a9('0x130')][_0x17a9('0x162')]+this[_0x17a9('0x130')][_0x17a9('0x9f')]},'wis':{'value':this[_0x17a9('0x130')][_0x17a9('0x157')]+this[_0x17a9('0x130')][_0x17a9('0x66')]},'cha':{'value':this[_0x17a9('0x130')][_0x17a9('0xfc')]+this[_0x17a9('0x130')][_0x17a9('0x16d')]}}}};}[_0x17a9('0x13d')](){if(this[_0x17a9('0x130')][_0x17a9('0xe2')]!==_0x17a9('0x118'))return null;return this[_0x17a9('0x130')]['featData'];}[_0x17a9('0x17d')](){return{'mode':'ability','str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'featData':null};}},ImportListClass[_0x17a9('0xef')]=class extends MiscUtil['mix'](ImportListFeat)['with'](MixinUserChooseImporter){constructor(_0x3b3b7a){super(_0x3b3b7a,{'title':_0x17a9('0xf')},{'titleButtonRun':_0x17a9('0x8a')});}};export{ImportListClass};