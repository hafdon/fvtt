const _0x2062=['dataType','_importOpts','\x20(Level\x20','_pImportSubclass_pImportToActor','pact','Choose\x20','remarkableAthlete','_comp','_pImportEntry_pDoUpdateCharacter_pPopulateEquipment','getCleanEntityName','_pImportClass_pGetProficiencyImportMode','import','CASTER_TYPE_TO_PROGRESSION','SRD','_ancestorSubclassName','split','startingEquipment','set','_pUserInput','flags','Yes','getNameWithSourcePart','toUpperCase','Unhandled\x20sub-feature\x20type\x20\x22','isRequiredOption','log','rows','strBonus','med','toLowerCase','_pImportEntry_getApproxPreviousMaxLevel','<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>','text','wis','isIncludesLevelOne','isSkip','dnd5e','join','toDisplay','cls','title','click','_pImportEntry_pFillItemArrayFeaturesAndFinalise','ability\x20score\x20improvement','Champion','html','pFillActorSkillData','_pImportEntry_pFillItemArrayAdditionalSpells','_$wrpList','close','Populate\x20Spellbook','game','pGetSources','isToken','classes','Import\x20Levels\x201-','includes','Select','AbilityScoreIncrease','_handleFilterChange','pInitFilterBox','contains','isStrictMatching','class','_$wrpMiniPills','classFeatures','<button\x20class=\x22btn\x20btn-default\x20mr-2\x22>Confirm</button>','create','Importing\x20subclass\x20\x22','entries','lgt','_pImportEntry_pDoUpdateExistingPackEntity','proficienciesGained','dex','TASK_EXIT_COMPLETE','Task','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>','data','\x0a\x09\x09\x09\x09\x09\x09</tbody>\x0a\x09\x09\x09\x09\x09\x09</table>\x0a\x09\x09\x09\x09\x09','attributes','_pImportEntry_pGetCurLevelFillClassData','wisBonus','$getIptNumber','pGetUserBoolean','push','poisoner\x27s\x20kit','_pImportSubclass_pImportToItems','min','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','pPostLoad','_$btnToggleSummary','bind','_$iptSearch','fluff','Bard','name','Select\x20Existing\x20Feature\x20to\x20Import\x20','filterBox','getAbilityModifier','str','_list','ixSub','sourceJsonToColor','reduce','getValues','mar','third','get','weapons','active','loadeds','postItemActorUpdate','_gameProp','render','actorUpdate','classFeature','SOURCE_TYP_BREW','/template/ImportListClass.handlebars','toggleVe','class_subclass','_$wrpBtnsSort','pMutActorUpdateClassSubclassFeatureItem','\x20too?','pois','_getDefaultState','pAddActorItems','update','_getFilteredEntries','forEach','toggleClass','importEntity','subclasses','count','_fMisc','MODULE_NAME','armor','removeHook','warn','_pDoResolve','sourceClassName','simple','select','_$btnRun','<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level','herb','doHookSpellLinkRender','entity','isOverwrite','<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Skip</button>','forgery\x20kit','DND5E','MODULE_NAME_FAKE','martial','itemsToUpdate','_getExistingClassItems','_resolve','light','description','pGetUserChoice','_$cbAll','_pImportClass_pImportToItems','levels','pGetClasses','floor','pGetUserInput','reliableTalent','spells','pImportSubclass','$row','<hr\x20class=\x22hr-1\x22>\x0a\x09\x09\x09\x09\x09\x09<table\x20class=\x22stats\x22>\x0a\x09\x09\x09\x09\x09\x09<tbody>','<div\x20title=\x22Existing\x20Feature\x22\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22>(<i\x20class=\x22fas\x20fa-check\x22></i>)</div>','subclassName','trim','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>','sourceLong','pCacheAndGet','Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!','ImportListFeat','getActorSpellItemOpts','values','fnBindListeners','featData','insert','pWaitForUserInput','StartingEquipment','init','className','content','value','shields','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment','level','_pImportClass_pImportToActor','withUnpatchedDiceRendering','SYM_UI_SKIP','ImportEntryOpts','pGetUserMultipleChoice','pImportClass','tools','mode','_pack','setFirstSection','subclassFeature','ele','conBonus','getDataHitDice','getMappedCasterType','getMaxWindowHeight','_activateListeners_initRunButton','sourceJsonToAbv','getSourceWithPagePart','_render_ability','_getFilteredFeatures','checked','vehicle','(Unnamed\x20subclass)','subclassFeatures','skills','custom','getData','_id','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Confirm</button>','Import\x20Level\x20','_getFeatData','thieves\x27\x20tools','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','then','_pHandleAbilityScoreIncrease','pct','/media/icon/laurels.svg','DataSourceFile','max','pGetConfirmation','_pPreloadSideData','fromClassList','source','choose','pGetSpellItem','fnGetData','\x20SUBCLASS\x20','abilities','details','sortName','hvy','spellcasting','Feats','\x22\x20(from\x20\x22','MODULE_LOCATION','\x20SOURCE\x20','assign','notifications','some','gainSubclassFeature','sourceFilter','DataSourceSpecial','1/3','Select\x20Feat','subRows','Fighter','SOURCE_TYP_CUSTOM','sim','Add\x20base\x20class\x20proficiencies\x20and\x20equipment\x20(this\x20is\x20my\x20first\x20class)','existingClassItem','You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20','Do\x20not\x20add\x20proficiencies\x20or\x20equipment','\x20Levels\x20To','EVNT_VALCHANGE','type','_activateListeners_pInitFilteredList','Feat','remove','<div\x20class=\x22col-2\x20text-center\x22></div>','_addHookBase','pGetClassSubclassFeatureItem','PG_SPELLS','LEVEL_XP_REQUIRED','_pAddLoadedFeature','pImportEquipmentItemEntries','addToFilters','absorbFnBindListeners','spacer','folderId','map','_pImportEntry_pGetFolderId','hover','proficient','armorProf','filter','items','section','pGetUserEnum','keys','Option','isClassImport','pGetClassItem','pGetSubclassItem','feat','hash','Component','<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>','updateEmbeddedEntity','Custom\x20URL','feats-classAbilityScoreIncrease','navg','Remaining:\x20','mutateForFilters','link','disg','classSourceLong','add','isDataEntered','music','_pImportPreparedCasterSpells','isRadio','folder','veapp__msg-error','half','startingProficiencies','Import\x20Only\x20Subclass','int','_render_feat','_ancestorClassName','classAbilityScoreIncrease','getOrSet','isTemp','_isDataEntered','find','Please\x20select\x20a\x20feat!','sourceJsonToFull','_cachedData','initBtnSortHandlers','_reject','getCompactRenderedString','sort','curLevel','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','Import\x20Class\x20and\x20Subclass','multiclassing','full','pFillItemArrayAdditionalSpells','TASK_EXIT_CANCELLED','Configure\x20and\x20Open\x20List','_content','Ability\x20Score\x20Improvementâ€”Level\x20','_getDuplicateMeta','absorbFnGetData','_fnClose','_pImportEntry_pDoUpdateCharacter','classList','slice','cha','_$bntFilter','proficiency','musical\x20instrument','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Skip</button>','dexBonus','_pageFilter','_ancestorType','_PREPARED_SPELL_CASTERS','con','OwnedItem','5etools',').\x20Would\x20you\x20like\x20to\x20import\x20level','(Create\x20New\x20Feature)','isCancelled','_titleSearch','mix','ability','stripTags','sheet','artisan\x27s\x20tools','Import\x20Lower\x20Levels?','spell','<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','pGetCompendiumImage','_state','pSerialAwaitMap','Select\x20Source','DataSourceUrl','subclass','tglSel','chosenProficiencies','proficiencyImportMode','optionsMeta','<div></div>','activateListeners','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x22>Choose\x20Feat</button>','trimObject','firstElementChild','with','chaBonus','Please\x20select\x20something\x20to\x20import!','Item','(Unnamed\x20class)','_actor','_pImportEntry_setActorFlags','modules/','_pGetUserClassItem','getItemSource','ascSortLower','pGetSideData','_getActorUpdate',')?</p>','casterProgression','error','length','pGetHomebrewSources','__state','entry','targetLevel','intBonus','page','traits','list-multi-selected','spellHashToItemIdMap','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','spellcastingAbility','_pValidateUserLevelIndices','1/2','weaponProf','copy'];(function(_0x5c5e4a,_0x206233){const _0x5bea7b=function(_0x3d37f3){while(--_0x3d37f3){_0x5c5e4a['push'](_0x5c5e4a['shift']());}};_0x5bea7b(++_0x206233);}(_0x2062,0x15e));const _0x5bea=function(_0x5c5e4a,_0x206233){_0x5c5e4a=_0x5c5e4a-0x0;let _0x5bea7b=_0x2062[_0x5c5e4a];return _0x5bea7b;};const _0xbf0507=_0x5bea;'use strict';import{ImportList,MixinUserChooseImporter}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterOptionalfeature}from'./DataConverterOptionalfeature.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{Charactermancer_ClassLevelSelect}from'./UtilCharactermancer.js';class PageFilterClasses_Importer extends PageFilterClassesRaw{static async[_0xbf0507('0x130')](){return DataConverterClass['pPreloadSideData']();}static async['_pGetSideData'](_0x3d37f3,_0x301f51){const _0x382bdc=_0xbf0507;return DataConverterClass[_0x382bdc('0x32')](_0x3d37f3,_0x301f51);}static['_handleReferenceError'](_0x1da77d){const _0x2519b8=_0xbf0507;console['error'](...LGT,_0x1da77d),ui['notifications'][_0x2519b8('0x36')](_0x1da77d);}}class ImportListClass extends ImportListCharacter{constructor(_0x13846a){const _0x3489fb=_0xbf0507;_0x13846a=_0x13846a||{},super({'title':'Import\x20Classes','template':SharedConsts[_0x3489fb('0x13e')]+_0x3489fb('0xbc'),'height':Util[_0x3489fb('0x116')](),'resizable':!![]},_0x13846a,{'namespace':_0x3489fb('0xbe'),'defaultFolderPath':['Classes'],'folderType':_0x3489fb('0x2a'),'sidebarTab':_0x3489fb('0x167'),'gameProp':_0x3489fb('0x167'),'pageFilter':new PageFilterClasses_Importer()}),this['_cachedData']=null;}set[_0xbf0507('0x102')](_0x1328df){const _0x3b1ce8=_0xbf0507;super[_0x3b1ce8('0x102')]=_0x1328df,this['_cachedData']=null;}async[_0xbf0507('0x7b')](){const _0x224864=_0xbf0507;return[new ImportList[(_0x224864('0x145'))](Config[_0x224864('0xb2')]('ui','isStreamerMode')?_0x224864('0x54'):_0x224864('0xb'),Vetools[_0x224864('0xe9')],{'cacheKey':'5etools-classes','pPostLoad':PageFilterClassesRaw['pPostLoad']['bind'](PageFilterClassesRaw),'filterTypes':[ImportList['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]}),new ImportList[(_0x224864('0x1c'))](_0x224864('0x174'),'',{'pPostLoad':PageFilterClassesRaw[_0x224864('0xa0')][_0x224864('0xa2')](PageFilterClassesRaw),'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),new ImportList[(_0x224864('0x12d'))]('Upload\x20File',{'pPostLoad':PageFilterClassesRaw[_0x224864('0xa0')]['bind'](PageFilterClassesRaw),'filterTypes':[ImportList[_0x224864('0x14a')]]}),...(await Vetools[_0x224864('0x38')](_0x224864('0x86'),_0x224864('0x1d')))[_0x224864('0x161')](({name:_0x2743a4,url:_0x35b48f})=>new ImportList[(_0x224864('0x1c'))](_0x2743a4,_0x35b48f,{'pPostLoad':PageFilterClassesRaw['pPostLoad'][_0x224864('0xa2')](PageFilterClassesRaw),'filterTypes':[ImportList[_0x224864('0xbb')]]}))];}[_0xbf0507('0x122')](){const _0x243605=_0xbf0507;if(this['_cachedData']&&this[_0x243605('0x190')]['isRadio']!==!!this['_actor'])this[_0x243605('0x190')]=null;this[_0x243605('0x190')]=this[_0x243605('0x190')]||{'titleButtonRun':this['_titleButtonRun'],'titleSearch':this[_0x243605('0xf')],'rows':this['_content']['sort']((_0x592fcb,_0x1f46b0)=>SortUtil['ascSortLower'](_0x592fcb[_0x243605('0xa6')],_0x1f46b0['name'])||SortUtil[_0x243605('0x31')](Parser[_0x243605('0x18f')](_0x592fcb[_0x243605('0x132')]||SRC_PHB),Parser['sourceJsonToFull'](_0x1f46b0[_0x243605('0x132')]||SRC_PHB)))[_0x243605('0x161')]((_0x373ccb,_0xc328eb)=>{const _0x386a78=_0x243605;return this[_0x386a78('0x6')][_0x386a78('0x178')](_0x373ccb),{'name':_0x373ccb['name'],'source':_0x373ccb[_0x386a78('0x132')],'sourceShort':Parser[_0x386a78('0x118')](_0x373ccb[_0x386a78('0x132')]),'sourceLong':Parser[_0x386a78('0x18f')](_0x373ccb[_0x386a78('0x132')]),'sourceClassName':Parser[_0x386a78('0xad')](_0x373ccb['source']),'ix':_0xc328eb,'disabled':!_0x373ccb[_0x386a78('0x88')],'subRows':(_0x373ccb[_0x386a78('0xca')]||[])[_0x386a78('0x161')]((_0x188b6e,_0x1663b8)=>({'name':_0x188b6e[_0x386a78('0xa6')],'source':_0x188b6e[_0x386a78('0x132')]||_0x373ccb[_0x386a78('0x132')],'sourceShort':Parser[_0x386a78('0x118')](_0x188b6e[_0x386a78('0x132')]||_0x373ccb[_0x386a78('0x132')]),'sourceLong':Parser[_0x386a78('0x18f')](_0x188b6e[_0x386a78('0x132')]||_0x373ccb[_0x386a78('0x132')]),'sourceClassName':Parser[_0x386a78('0xad')](_0x188b6e[_0x386a78('0x132')]||_0x373ccb[_0x386a78('0x132')]),'ixSub':_0x1663b8}))};})};if(this['_actor'])this[_0x243605('0x190')][_0x243605('0x180')]=!![];return this['_cachedData'];}[_0xbf0507('0x117')](){const _0x1b9fdd=_0xbf0507;this[_0x1b9fdd('0xd5')][_0x1b9fdd('0x70')](async()=>{const _0x262bff=_0x1b9fdd;if(!this['_list'])return;const _0x5b0b2c=this[_0x262bff('0x2c')]?this[_0x262bff('0xab')][_0x262bff('0x167')][_0x262bff('0x166')](_0x4ed2e6=>_0x4ed2e6[_0x262bff('0x94')][_0x262bff('0x1e')]&&_0x4ed2e6[_0x262bff('0x94')]['tglSel']['classList'][_0x262bff('0x84')]('active'))[_0x262bff('0x161')](_0x227777=>({'ix':_0x227777[_0x262bff('0xfa')]['ix'],'ixSub':_0x227777[_0x262bff('0xfa')][_0x262bff('0xac')]})):this['_list']['items']['filter'](_0x40ada6=>_0x40ada6[_0x262bff('0x94')]['cbSel'][_0x262bff('0x11c')])[_0x262bff('0x161')](_0x1de2b4=>({'ix':_0x1de2b4['values']['ix'],'ixSub':_0x1de2b4['values'][_0x262bff('0xac')]}));if(!_0x5b0b2c[_0x262bff('0x37')])return ui[_0x262bff('0x141')][_0x262bff('0xd0')](_0x262bff('0x29'));this[_0x262bff('0x78')](),this['activateSidebarTab']();const _0x5b8972=_0x5b0b2c[_0x262bff('0x161')](({ix:_0x385398,ixSub:_0x2a6c0b})=>{const _0xfeeec4=_0x262bff,_0x896701=MiscUtil[_0xfeeec4('0x46')](this['_content'][_0x385398]);return{'ix':_0x385398,'cls':_0x896701,'ixSub':_0x2a6c0b,'sc':_0x2a6c0b!=null?_0x896701['subclasses'][_0x2a6c0b]:null};});_0x5b8972[_0x262bff('0x166')](_0x19d870=>!_0x19d870['sc'])[_0x262bff('0xc7')](_0x3234b9=>_0x3234b9[_0x262bff('0x6e')][_0x262bff('0xca')]=[]),_0x5b8972[_0x262bff('0x194')]((_0x31e66b,_0xb25c7f)=>!!_0x31e66b['sc']-!!_0xb25c7f['sc']);const _0x28d4ea=[],_0x2e4048=[];_0x5b8972[_0x262bff('0xc7')](_0x13a996=>{const _0x43ec24=_0x262bff;if(_0x13a996['sc']){const _0x10a794=_0x28d4ea[_0x43ec24('0x18d')](_0x31db52=>_0x31db52[_0x43ec24('0xa6')][_0x43ec24('0x64')]()===_0x13a996['sc'][_0x43ec24('0x101')][_0x43ec24('0x64')]()&&_0x31db52[_0x43ec24('0x132')][_0x43ec24('0x64')]()===_0x13a996['sc']['classSource'][_0x43ec24('0x64')]());if(_0x10a794)_0x10a794['subclasses'][_0x43ec24('0x9b')](_0x13a996['sc']);else _0x2e4048[_0x43ec24('0x9b')]({'cls':_0x13a996[_0x43ec24('0x6e')],'sc':_0x13a996['sc']});}else _0x28d4ea['push'](_0x13a996['cls']);});const _0x37212a=[..._0x28d4ea[_0x262bff('0x161')](_0x9aaee8=>{const _0x3302e6=_0x262bff;return new Util[(_0x3302e6('0x92'))](_0x9aaee8[_0x3302e6('0xa6')]+'\x20('+Parser[_0x3302e6('0x118')](_0x9aaee8[_0x3302e6('0x132')])+')',()=>this[_0x3302e6('0x10c')](_0x9aaee8));}),..._0x2e4048[_0x262bff('0x161')](({cls:_0x3a0ed4,sc:_0x5f5cae})=>{const _0x3f3ce1=_0x262bff;return new Util[(_0x3f3ce1('0x92'))](_0x5f5cae[_0x3f3ce1('0xa6')]+'\x20('+Parser[_0x3f3ce1('0x118')](_0x5f5cae[_0x3f3ce1('0x132')])+')',()=>this[_0x3f3ce1('0xee')](_0x3a0ed4,_0x5f5cae));})];await UtilApplications['pRunTasks'](_0x37212a);if(!this[_0x262bff('0x2c')])game[this[_0x262bff('0xb7')]][_0x262bff('0xb8')]();this[_0x262bff('0xe6')]['prop']('checked',![])['change']();});}[_0xbf0507('0x153')](){const _0x14aef5=_0xbf0507;this[_0x14aef5('0xab')]=new List({'$iptSearch':this[_0x14aef5('0xa3')],'$wrpList':this[_0x14aef5('0x77')],'fnSort':(_0x15d486,_0x1f0a51,_0x58dce3)=>{const _0x3ea6a8=_0x14aef5;if(_0x58dce3['sortDir']==='desc'&&_0x15d486[_0x3ea6a8('0xfa')]['ix']===_0x1f0a51[_0x3ea6a8('0xfa')]['ix']&&(_0x15d486['values']['ixSub']!=null||_0x1f0a51[_0x3ea6a8('0xfa')]['ixSub']!=null))return _0x15d486[_0x3ea6a8('0xfa')][_0x3ea6a8('0xac')]!=null?-0x1:0x1;return SortUtil[_0x3ea6a8('0x31')](_0x15d486[_0x3ea6a8('0xfa')][_0x3ea6a8('0x139')],_0x1f0a51['values'][_0x3ea6a8('0x139')]);}}),SortUtil[_0x14aef5('0x191')](this[_0x14aef5('0xbf')],this['_list']);const _0x50b3b3=this[_0x14aef5('0x190')][_0x14aef5('0x61')][_0x14aef5('0x161')](_0xec485b=>{const _0x52d57b=_0x14aef5,_0x48bcbc={..._0xec485b};delete _0x48bcbc[_0x52d57b('0x148')];const _0x2e29e6=_0xec485b[_0x52d57b('0x148')]['map'](_0x5520a7=>({..._0x5520a7,'ix':_0xec485b['ix'],'className':_0xec485b[_0x52d57b('0xa6')],'classSourceLong':_0xec485b[_0x52d57b('0xf5')],'classSourceClassName':_0xec485b[_0x52d57b('0xd2')]}));return[_0x48bcbc,..._0x2e29e6];})['flat']();return this[_0x14aef5('0x6')][_0x14aef5('0x83')]({'$iptSearch':this[_0x14aef5('0xa3')],'$btnReset':this['_$btnReset'],'$btnOpen':this[_0x14aef5('0x1')],'$btnToggleSummaryHidden':this[_0x14aef5('0xa1')],'$wrpMiniPills':this[_0x14aef5('0x87')],'namespace':this['_getFilterNamespace']()})[_0x14aef5('0x129')](()=>{const _0x2e2f35=_0x14aef5;this[_0x2e2f35('0x19d')]['forEach'](_0x5eeae9=>this[_0x2e2f35('0x6')][_0x2e2f35('0x15d')](_0x5eeae9));const _0x1f012c={'fnGetName':_0x3b934e=>_0x3b934e[_0x2e2f35('0xa6')],'fnGetValues':_0x25e153=>{const _0x20be61=_0x2e2f35;return _0x25e153[_0x20be61('0xac')]!=null?{'ix':_0x25e153['ix'],'ixSub':_0x25e153[_0x20be61('0xac')],'sortName':_0x25e153[_0x20be61('0x101')]+_0x20be61('0x13f')+_0x25e153[_0x20be61('0x17b')]+_0x20be61('0x136')+_0x25e153[_0x20be61('0xa6')]+_0x20be61('0x13f')+_0x25e153['sourceLong'],'source':_0x25e153[_0x20be61('0x132')]}:{'ix':_0x25e153['ix'],'sortName':_0x25e153[_0x20be61('0xa6')]+_0x20be61('0x13f')+_0x25e153['sourceLong']};}};this['_actor']?(_0x1f012c[_0x2e2f35('0x135')]=_0x224933=>({'tglSel':_0x224933[_0x2e2f35('0x112')][_0x2e2f35('0x26')][_0x2e2f35('0x26')]}),_0x1f012c[_0x2e2f35('0xfb')]=_0x27a065=>{const _0x584d4e=_0x2e2f35;_0x27a065[_0x584d4e('0x112')]['addEventListener'](_0x584d4e('0x70'),()=>{const _0x5d5fcc=_0x584d4e,_0x2da952=_0x27a065[_0x5d5fcc('0xfa')][_0x5d5fcc('0xac')]!=null,_0x209517=_0x2da952?this[_0x5d5fcc('0xab')][_0x5d5fcc('0x167')][_0x5d5fcc('0x18d')](_0x3d5ece=>_0x3d5ece[_0x5d5fcc('0xfa')]['ix']===_0x27a065[_0x5d5fcc('0xfa')]['ix']&&_0x3d5ece['values']['ixSub']==null):null,_0x1054cd=this[_0x5d5fcc('0xab')][_0x5d5fcc('0x167')]['filter'](_0x27a291=>_0x27a291[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')]['classList']['contains'](_0x5d5fcc('0xb4')));if(!_0x1054cd[_0x5d5fcc('0x37')]){_0x27a065[_0x5d5fcc('0x94')]['tglSel'][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x17c')](_0x5d5fcc('0xb4')),_0x27a065['ele'][_0x5d5fcc('0x1a3')]['add'](_0x5d5fcc('0x3f'));_0x2da952&&(_0x209517[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x17c')](_0x5d5fcc('0xb4')),_0x209517[_0x5d5fcc('0x112')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x17c')](_0x5d5fcc('0x3f')));return;}if(_0x27a065['data'][_0x5d5fcc('0x1e')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x84')](_0x5d5fcc('0xb4'))){_0x27a065[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')]['classList']['remove'](_0x5d5fcc('0xb4')),_0x27a065[_0x5d5fcc('0x112')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x155')](_0x5d5fcc('0x3f'));_0x2da952&&(_0x209517[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x155')](_0x5d5fcc('0xb4')),_0x209517['ele'][_0x5d5fcc('0x1a3')]['remove'](_0x5d5fcc('0x3f')));return;}_0x1054cd[_0x5d5fcc('0xc7')](_0x548cbf=>{const _0x33d3b8=_0x5d5fcc;_0x548cbf['data']['tglSel'][_0x33d3b8('0x1a3')][_0x33d3b8('0x155')](_0x33d3b8('0xb4')),_0x548cbf[_0x33d3b8('0x112')][_0x33d3b8('0x1a3')][_0x33d3b8('0x155')](_0x33d3b8('0x3f'));}),_0x27a065[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x17c')](_0x5d5fcc('0xb4')),_0x27a065['ele'][_0x5d5fcc('0x1a3')]['add'](_0x5d5fcc('0x3f')),_0x2da952&&(_0x209517[_0x5d5fcc('0x94')][_0x5d5fcc('0x1e')]['classList'][_0x5d5fcc('0x17c')]('active'),_0x209517[_0x5d5fcc('0x112')][_0x5d5fcc('0x1a3')][_0x5d5fcc('0x17c')](_0x5d5fcc('0x3f')));});}):(_0x1f012c[_0x2e2f35('0x135')]=UtilList2[_0x2e2f35('0x1a0')],_0x1f012c[_0x2e2f35('0xfb')]=_0x4f21bd=>UtilList2[_0x2e2f35('0x15e')](this[_0x2e2f35('0xab')],_0x4f21bd)),this[_0x2e2f35('0xab')]['doAbsorbItems'](_0x50b3b3,_0x1f012c),this[_0x2e2f35('0xab')][_0x2e2f35('0x100')](),this['_pageFilter']['filterBox']['render'](),$(this[_0x2e2f35('0x6')]['filterBox'])['on'](FilterBox[_0x2e2f35('0x151')],this[_0x2e2f35('0x82')]['bind'](this)),this['_handleFilterChange']();});}[_0xbf0507('0x82')](){const _0x3a7a69=_0xbf0507,_0x1db9b7=this['_pageFilter'][_0x3a7a69('0xa8')][_0x3a7a69('0xaf')]();this[_0x3a7a69('0xab')]['filter'](_0x154f94=>{const _0x44a50b=_0x3a7a69,_0x378241=this[_0x44a50b('0x19d')][_0x154f94['values']['ix']];if(_0x154f94[_0x44a50b('0xfa')][_0x44a50b('0xac')]!=null){const _0x751a97=_0x378241[_0x44a50b('0xca')][_0x154f94[_0x44a50b('0xfa')][_0x44a50b('0xac')]];return this[_0x44a50b('0x6')]['toDisplay'](_0x1db9b7,_0x378241)&&this[_0x44a50b('0x6')]['filterBox'][_0x44a50b('0x6d')](_0x1db9b7,_0x751a97['source'],_0x751a97[_0x44a50b('0xcc')]);}else return this[_0x44a50b('0x6')]['toDisplay'](_0x1db9b7,_0x378241);});}async[_0xbf0507('0x10c')](_0x23a128,_0x33b8c4){const _0x13bc6b=_0xbf0507;_0x33b8c4=_0x33b8c4||{},console[_0x13bc6b('0x60')](...LGT,'Importing\x20class\x20\x22'+_0x23a128[_0x13bc6b('0xa6')]+_0x13bc6b('0x13d')+Parser[_0x13bc6b('0x118')](_0x23a128['source'])+'\x22)');if(_0x33b8c4[_0x13bc6b('0x18b')])return this[_0x13bc6b('0xe7')](_0x23a128,_0x33b8c4);else{if(this[_0x13bc6b('0x2c')])return this['_pImportClass_pImportToActor'](_0x23a128,_0x33b8c4);else return this['_pImportClass_pImportToItems'](_0x23a128,_0x33b8c4);}}async[_0xbf0507('0x107')](_0x4a465a){const _0x3a65ff=_0xbf0507;MiscUtil[_0x3a65ff('0x18a')](CONFIG[_0x3a65ff('0xdd')],_0x3a65ff('0x88'),_0x4a465a[_0x3a65ff('0xa6')][_0x3a65ff('0x64')]()['trim'](),{'features':{},'subclasses':{}});const _0x1a383d=new ImportListClass[(_0x3a65ff('0x10a'))]({'isClassImport':!![]});let _0x48671c=[];_0x4a465a['classFeatures'][_0x3a65ff('0xc7')](_0xf353ea=>{const _0x666c5=_0x3a65ff;_0x48671c[_0x666c5('0x9b')](_0xf353ea),_0xf353ea[_0x666c5('0x143')]&&_0x4a465a['subclasses']['forEach'](_0x2054e3=>{const _0x7d58c7=_0x666c5;_0x2054e3[_0x7d58c7('0x11f')][_0x7d58c7('0x166')](_0x19c255=>_0x19c255[_0x7d58c7('0x106')]===_0xf353ea[_0x7d58c7('0x106')])['forEach'](_0x209cb1=>_0x48671c[_0x7d58c7('0x9b')](_0x209cb1));});}),_0x48671c=this[_0x3a65ff('0x11b')](_0x48671c);const _0x302060=MiscUtil['get'](ImportListClass[_0x3a65ff('0x8')],_0x4a465a[_0x3a65ff('0x132')],_0x4a465a[_0x3a65ff('0xa6')]),_0x7af08d=await Charactermancer_ClassLevelSelect[_0x3a65ff('0xeb')]({'features':_0x48671c,'maxPreviousLevel':this[_0x3a65ff('0x65')](_0x4a465a)});if(_0x7af08d==null)return{'status':UtilApplications[_0x3a65ff('0x19b')]};await this[_0x3a65ff('0x43')](_0x7af08d[_0x3a65ff('0x94')],_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};_0x1a383d[_0x3a65ff('0x3b')]=Math[_0x3a65ff('0x12e')](..._0x7af08d[_0x3a65ff('0x94')])+0x1,_0x1a383d['isIncludesLevelOne']=_0x7af08d[_0x3a65ff('0x94')][_0x3a65ff('0x7f')](0x0),_0x1a383d[_0x3a65ff('0x42')]=_0x4a465a['spellcastingAbility'],_0x1a383d[_0x3a65ff('0x20')]=await this[_0x3a65ff('0x51')](_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications[_0x3a65ff('0x19b')]};const _0x21eafb=_0x4a465a['subclasses']?_0x4a465a[_0x3a65ff('0xca')][0x0]:null,_0x10e9f8=(_0x4a465a['subclasses']||[])['filter'](_0x35c750=>_0x35c750[_0x3a65ff('0x42')]||_0x35c750[_0x3a65ff('0x35')]),_0x7c9709=_0x10e9f8[0x0]||_0x21eafb,_0x914819={'data':{}},_0x58c72e=await this[_0x3a65ff('0x97')](_0x914819,_0x4a465a,_0x7c9709,_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications[_0x3a65ff('0x19b')]};const {curLevel:_0x11d9df,existingClassItem:_0x45ae10}=_0x58c72e;this[_0x3a65ff('0x2d')](_0x914819,_0x4a465a,_0x4a465a['subclasses'],_0x11d9df,_0x1a383d),await this[_0x3a65ff('0x1a2')](_0x914819,_0x4a465a,_0x7c9709,_0x45ae10,_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};if(_0x302060)await this['_pImportPreparedCasterSpells'](_0x4a465a,_0x11d9df,_0x1a383d);await this[_0x3a65ff('0x76')](_0x4a465a[_0x3a65ff('0xca')],_0x11d9df,_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications[_0x3a65ff('0x19b')]};const _0x4803c7=_0x48671c[_0x3a65ff('0x166')](_0x8d41c9=>_0x7af08d[_0x3a65ff('0x94')][_0x3a65ff('0x7f')](_0x8d41c9[_0x3a65ff('0x106')]-0x1));await this['_pImportEntry_pFillItemArrayFeaturesAndFinalise'](_0x4803c7,_0x1a383d);if(_0x1a383d[_0x3a65ff('0xe')])return{'status':UtilApplications[_0x3a65ff('0x19b')]};if(this['_actor'][_0x3a65ff('0x7c')])this[_0x3a65ff('0x2c')][_0x3a65ff('0x13')][_0x3a65ff('0xb8')]();return{'status':UtilApplications[_0x3a65ff('0x91')]};}[_0xbf0507('0x65')](_0x5306f7){const _0x164228=_0xbf0507,_0x164aa7=this[_0x164228('0xe1')](_0x5306f7);if(!_0x164aa7[_0x164228('0x37')])return 0x0;return Math[_0x164228('0x12e')](..._0x164aa7[_0x164228('0x161')](_0x130b11=>MiscUtil[_0x164228('0xb2')](_0x130b11,'data','levels')||0x0));}[_0xbf0507('0x2d')](_0x15c929,_0x4c2b68,_0x57d5e7,_0x5d5991,_0x2a830e){const _0x3484fd=_0xbf0507,_0x13c5b3={'dnd5e':{}};if(_0x2a830e[_0x3484fd('0x16c')]&&_0x4c2b68&&_0x4c2b68[_0x3484fd('0xa6')]===_0x3484fd('0xa5')&&_0x4c2b68[_0x3484fd('0x132')]===SRC_PHB&&_0x5d5991<0x2&&_0x2a830e[_0x3484fd('0x3b')]>=0x2)_0x13c5b3['dnd5e']['jackOfAllTrades']=!![];if(_0x4c2b68&&_0x4c2b68[_0x3484fd('0xa6')]===_0x3484fd('0x149')&&_0x4c2b68['source']===SRC_PHB&&_0x57d5e7['some'](_0x411fb8=>_0x411fb8[_0x3484fd('0xa6')]===_0x3484fd('0x73'))&&_0x5d5991<0x7&&_0x2a830e[_0x3484fd('0x3b')]>=0x7)_0x13c5b3[_0x3484fd('0x6b')][_0x3484fd('0x4d')]=!![];if(_0x4c2b68&&_0x4c2b68[_0x3484fd('0xa6')]==='Rogue'&&_0x4c2b68[_0x3484fd('0x132')]===SRC_PHB&&_0x5d5991<0xb&&_0x2a830e[_0x3484fd('0x3b')]>=0xb)_0x13c5b3[_0x3484fd('0x6b')][_0x3484fd('0xec')]=!![];if(Object[_0x3484fd('0x16a')](_0x13c5b3[_0x3484fd('0x6b')])[_0x3484fd('0x37')])_0x15c929[_0x3484fd('0x5a')]=_0x13c5b3;}async[_0xbf0507('0x51')](_0x45f430){const _0x2d78fe=_0xbf0507,_0x11ebe9=MiscUtil[_0x2d78fe('0xb2')](this['_actor'],_0x2d78fe('0x94'),_0x2d78fe('0x167'))||[],_0x57e150=_0x11ebe9[_0x2d78fe('0x166')](_0x55f3d3=>_0x55f3d3['type']==='class');if(_0x45f430[_0x2d78fe('0x16c')]&&_0x45f430[_0x2d78fe('0x69')]&&_0x57e150[_0x2d78fe('0x37')]){const _0x489c32=await InputUiUtil['pGetUserEnum']({'values':['Add\x20multiclass\x20proficiencies\x20(this\x20is\x20my\x20second+\x20class)',_0x2d78fe('0x14c'),_0x2d78fe('0x14f')],'title':'Select\x20Class\x20Proficiency\x20Import\x20Mode'});if(_0x489c32==null)_0x45f430['isCancelled']=!![];return _0x489c32;}return 0x1;}async[_0xbf0507('0xe7')](_0xe22c19,_0x3c2b78){const _0x112259=_0xbf0507,_0x2611ba=this[_0x112259('0x19f')]({'entity':_0xe22c19});if(_0x2611ba[_0x112259('0x6a')])return UtilApplications['TASK_EXIT_SKIPPED_DUPLICATE'];const _0x5c02e9=await DataConverterClass[_0x112259('0x16d')](_0xe22c19,{'isAddPermission':!![]});if(_0x3c2b78[_0x112259('0x18b')]){const _0x5d677c=await Item[_0x112259('0x8a')](_0x5c02e9,{'renderSheet':!![],'temporary':!![]}),_0x40ed2c=await(_0xe22c19[_0x112259('0xca')]||[])[_0x112259('0x1a')](_0x4ce0cc=>this[_0x112259('0x9d')](_0xe22c19,_0x4ce0cc,_0x3c2b78));return{'imported':[_0x5d677c,..._0x40ed2c],'status':UtilApplications[_0x112259('0x91')]};}else{if(this[_0x112259('0x10f')]){if(_0x2611ba[_0x112259('0xda')]){const _0x103f53=await this[_0x112259('0x8e')](_0x2611ba,_0x5c02e9),_0x2434bb=await(_0xe22c19[_0x112259('0xca')]||[])[_0x112259('0x1a')](_0x3eedc8=>this[_0x112259('0x9d')](_0xe22c19,_0x3eedc8,_0x3c2b78));return{'imported':[_0x103f53,..._0x2434bb],'status':UtilApplications[_0x112259('0x9f')]};}const _0x256e5d=new Item(_0x5c02e9);await this[_0x112259('0x10f')][_0x112259('0xc9')](_0x256e5d);const _0x104762=await(_0xe22c19[_0x112259('0xca')]||[])[_0x112259('0x1a')](_0x14eb5d=>this[_0x112259('0x9d')](_0xe22c19,_0x14eb5d,_0x3c2b78));return{'imported':[_0x256e5d,..._0x104762],'status':UtilApplications['TASK_EXIT_COMPLETE']};}else{if(_0x2611ba[_0x112259('0xda')]){const _0x4c0ea8=await this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x2611ba,_0x5c02e9),_0x4dc7db=await(_0xe22c19[_0x112259('0xca')]||[])[_0x112259('0x1a')](_0x22becd=>this[_0x112259('0x9d')](_0xe22c19,_0x22becd,_0x3c2b78));return{'imported':[_0x4c0ea8,..._0x4dc7db],'status':UtilApplications[_0x112259('0x9f')]};}const _0x115653=await this[_0x112259('0x162')](_0xe22c19);if(_0x115653)_0x5c02e9[_0x112259('0x181')]=_0x115653;const _0x21f275=await Item[_0x112259('0x8a')](_0x5c02e9,{'renderSheet':![],'temporary':![]});await game[_0x112259('0x167')][_0x112259('0xfd')](_0x21f275);const _0x480439=await(_0xe22c19[_0x112259('0xca')]||[])[_0x112259('0x1a')](_0x2cb503=>this[_0x112259('0x9d')](_0xe22c19,_0x2cb503,_0x3c2b78,{'folderId':_0x115653}));return{'imported':[_0x21f275,..._0x480439],'status':UtilApplications[_0x112259('0x91')]};}}}async[_0xbf0507('0xee')](_0x21a0be,_0x5a2960,_0xc2610a){const _0x2f5d96=_0xbf0507;_0xc2610a=_0xc2610a||{},console['log'](...LGT,_0x2f5d96('0x8b')+_0x5a2960['name']+_0x2f5d96('0x13d')+Parser['sourceJsonToAbv'](_0x5a2960['source'])+'\x22)');if(_0xc2610a['isTemp'])return this[_0x2f5d96('0x9d')](_0x21a0be,_0x5a2960,_0xc2610a);else{if(this[_0x2f5d96('0x2c')])return this['_pImportSubclass_pImportToActor'](_0x21a0be,_0x5a2960,_0xc2610a);else return this['_pImportSubclass_pImportToItems'](_0x21a0be,_0x5a2960,_0xc2610a);}}async[_0xbf0507('0x4a')](_0x42a0fd,_0x2bedc2){const _0x51622=_0xbf0507,_0x7d857f=new ImportListClass[(_0x51622('0x10a'))]({'isClassImport':![]}),_0x1e2a91=(MiscUtil['get'](this[_0x51622('0x2c')],_0x51622('0x94'),_0x51622('0x167'))||[])[_0x51622('0x166')](_0x5c4563=>_0x5c4563[_0x51622('0x152')]===_0x51622('0x86'));if(!_0x1e2a91[_0x51622('0x37')]){const _0x12e41e=await InputUiUtil[_0x51622('0x9a')]({'title':'Import\x20Class?','htmlDescription':_0x51622('0x128'),'textYes':_0x51622('0x197'),'textNo':_0x51622('0x185')});if(_0x12e41e==null)return _0x7d857f[_0x51622('0xe')]=!![],{'status':UtilApplications[_0x51622('0x19b')]};if(_0x12e41e===!![]){const _0xa77aca=MiscUtil[_0x51622('0x46')](_0x42a0fd);return _0xa77aca[_0x51622('0xca')]=[_0x2bedc2],this[_0x51622('0x10c')](_0xa77aca);}}let _0x23410e=MiscUtil[_0x51622('0x46')](_0x2bedc2[_0x51622('0x11f')]);_0x23410e=this[_0x51622('0x11b')](_0x23410e);const _0x4c6a05=MiscUtil[_0x51622('0xb2')](ImportListClass[_0x51622('0x8')],_0x42a0fd[_0x51622('0x132')],_0x42a0fd[_0x51622('0xa6')]),_0x5bdc01=await Charactermancer_ClassLevelSelect[_0x51622('0xeb')]({'features':_0x23410e,'isSubclass':!![],'maxPreviousLevel':this[_0x51622('0x65')](_0x42a0fd)});if(_0x5bdc01==null)return{'status':UtilApplications[_0x51622('0x19b')]};await this[_0x51622('0x43')](_0x5bdc01[_0x51622('0x94')],_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications[_0x51622('0x19b')]};_0x7d857f[_0x51622('0x3b')]=Math[_0x51622('0x12e')](..._0x5bdc01[_0x51622('0x94')])+0x1,_0x7d857f[_0x51622('0x69')]=![],_0x7d857f[_0x51622('0x42')]=_0x2bedc2[_0x51622('0x42')]||_0x42a0fd[_0x51622('0x42')],_0x7d857f[_0x51622('0x20')]=await this[_0x51622('0x51')](_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications[_0x51622('0x19b')]};const _0x25b362={'data':{}},_0x5095e9=await this['_pImportEntry_pGetCurLevelFillClassData'](_0x25b362,_0x42a0fd,_0x2bedc2,_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications[_0x51622('0x19b')]};const {curLevel:_0x1640f8,existingClassItem:_0x23053e}=_0x5095e9;this[_0x51622('0x2d')](_0x25b362,_0x42a0fd,[_0x2bedc2],_0x1640f8,_0x7d857f),await this[_0x51622('0x1a2')](_0x25b362,_0x42a0fd,_0x2bedc2,_0x23053e,_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications[_0x51622('0x19b')]};if(_0x4c6a05)await this[_0x51622('0x17f')](_0x42a0fd,_0x1640f8,_0x7d857f);const _0x131dbb=_0x23410e[_0x51622('0x166')](_0x58cc9d=>_0x5bdc01[_0x51622('0x94')][_0x51622('0x7f')](_0x58cc9d[_0x51622('0x106')]-0x1));await this[_0x51622('0x76')]([_0x2bedc2],_0x1640f8,_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this[_0x51622('0x71')](_0x131dbb,_0x7d857f);if(_0x7d857f[_0x51622('0xe')])return{'status':UtilApplications[_0x51622('0x19b')]};if(this[_0x51622('0x2c')][_0x51622('0x7c')])this[_0x51622('0x2c')][_0x51622('0x13')][_0x51622('0xb8')]();return{'status':UtilApplications['TASK_EXIT_COMPLETE']};}async[_0xbf0507('0x9d')](_0x179699,_0x26197e,_0x4b0828,_0x92c182){const _0x25a567=_0xbf0507;_0x92c182=_0x92c182||{};const _0x213fe3=await DataConverterClass[_0x25a567('0x16e')](_0x179699,_0x26197e,{'isAddPermission':!![]}),_0x1e2074=this[_0x25a567('0x19f')]({'name':_0x213fe3[_0x25a567('0xa6')],'source':_0x213fe3[_0x25a567('0x94')][_0x25a567('0x132')]});if(_0x1e2074['isSkip'])return{'status':UtilApplications['TASK_EXIT_SKIPPED_DUPLICATE']};if(_0x4b0828[_0x25a567('0x18b')]){const _0x420891=Item[_0x25a567('0x8a')](_0x213fe3,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x420891,'status':UtilApplications[_0x25a567('0x91')]};}else{if(this[_0x25a567('0x10f')]){if(_0x1e2074[_0x25a567('0xda')])return this[_0x25a567('0x8e')](_0x1e2074,_0x213fe3);const _0x2788f8=new Item(_0x213fe3);return await this[_0x25a567('0x10f')][_0x25a567('0xc9')](_0x2788f8),{'imported':_0x2788f8,'status':UtilApplications[_0x25a567('0x91')]};}else{if(_0x1e2074['isOverwrite'])return this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x1e2074,_0x213fe3);const _0x244dc7=_0x92c182[_0x25a567('0x160')]||await this['_pImportEntry_pGetFolderId'](_0x26197e);if(_0x244dc7)_0x213fe3['folder']=_0x244dc7;const _0x42ae7f=await Item[_0x25a567('0x8a')](_0x213fe3,{'renderSheet':![],'temporary':![]});return await game[_0x25a567('0x167')][_0x25a567('0xfd')](_0x42ae7f),{'imported':_0x42ae7f,'status':UtilApplications[_0x25a567('0x91')]};}}}async[_0xbf0507('0x1a2')](_0x221a32,_0x55cbf1,_0x9b4811,_0x59b761,_0x550d7d){const _0x1e9b79=_0xbf0507,_0x4a3500=MiscUtil[_0x1e9b79('0xb2')](this[_0x1e9b79('0x2c')],_0x1e9b79('0x94'),'items')||[],_0x2b43b8=_0x4a3500[_0x1e9b79('0x166')](_0x36ead0=>_0x36ead0['type']===_0x1e9b79('0x86')),_0x275ae6=_0x2b43b8[_0x1e9b79('0x166')](_0x5d9b0a=>_0x5d9b0a!==_0x59b761),_0x276e78=_0x275ae6[_0x1e9b79('0x161')](_0x3b1ec3=>MiscUtil['get'](_0x3b1ec3,_0x1e9b79('0x94'),_0x1e9b79('0xe8'))||0x0)['reduce']((_0x212044,_0x4453ab)=>_0x212044+_0x4453ab,0x0)+(_0x550d7d[_0x1e9b79('0x3b')]||0x0);if(_0x276e78>0x0){const _0x117179=(_0x221a32[_0x1e9b79('0x94')]['details']=_0x221a32[_0x1e9b79('0x94')]['details']||{})['xp']=_0x221a32['data'][_0x1e9b79('0x138')]['xp']||{},_0x8ea847=MiscUtil[_0x1e9b79('0xb2')](this[_0x1e9b79('0x2c')],_0x1e9b79('0x94'),'data','details','xp',_0x1e9b79('0x103'))||0x0,_0x4ab849=Parser[_0x1e9b79('0x15a')][_0x276e78-0x1],_0x1aaf63=Parser['LEVEL_XP_REQUIRED'][Math['min'](_0x276e78,0x13)];_0x8ea847<_0x4ab849?(_0x117179[_0x1e9b79('0x12b')]=0x0,_0x117179[_0x1e9b79('0x103')]=_0x4ab849):_0x117179[_0x1e9b79('0x12b')]=_0x8ea847/_0x1aaf63*0x64,_0x117179[_0x1e9b79('0x12e')]=_0x1aaf63;}const _0x131228=MiscUtil[_0x1e9b79('0xb2')](this['_actor'],_0x1e9b79('0x94'),_0x1e9b79('0x94'),_0x1e9b79('0x96'),'prof'),_0x1cd59a=Math[_0x1e9b79('0xea')]((_0x550d7d[_0x1e9b79('0x3b')]-0x1)/0x4)+0x2;if(_0x131228<_0x1cd59a)(_0x221a32[_0x1e9b79('0x94')][_0x1e9b79('0x96')]=_0x221a32[_0x1e9b79('0x94')][_0x1e9b79('0x96')]||{})['prof']=_0x1cd59a;let _0x5f21bb,_0x1724a1,_0x5a265f=0x0,_0x110f34=0x0,_0x56bd19=_0x550d7d[_0x1e9b79('0x3b')];_0x275ae6[_0x1e9b79('0x37')]&&_0x275ae6[_0x1e9b79('0x166')](_0x15f5b6=>_0x15f5b6[_0x1e9b79('0x94')]&&_0x15f5b6[_0x1e9b79('0x94')][_0x1e9b79('0x13b')])[_0x1e9b79('0xc7')](_0x5330c8=>{const _0x2c7137=_0x1e9b79;_0x110f34++;const _0x5ac8b0=MiscUtil[_0x2c7137('0xb2')](_0x5330c8,_0x2c7137('0x94'),_0x2c7137('0xe8'))||0x0;switch(_0x5330c8[_0x2c7137('0x94')]['spellcasting']){case _0x2c7137('0x199'):_0x5a265f+=_0x5ac8b0;break;case _0x2c7137('0x183'):_0x5a265f+=Math[_0x2c7137('0xea')](_0x5ac8b0/0x2);break;case _0x2c7137('0xb1'):_0x5a265f+=Math['floor'](_0x5ac8b0/0x3);break;case _0x2c7137('0x4b'):Math['max'](_0x56bd19,_0x5ac8b0);break;}});const _0x98b2b1=_0x4f86c0=>{const _0x28633a=_0x1e9b79;if(_0x372588===_0x4f86c0&&_0x4f5fdf===_0x4f86c0)return _0x5f21bb=_0x4f86c0,!![];else{if(_0x372588===_0x4f86c0)return _0x5f21bb=_0x4f86c0,_0x1724a1=_0x55cbf1[_0x28633a('0x42')],!![];else{if(_0x4f5fdf===_0x4f86c0)return _0x5f21bb=_0x4f86c0,_0x1724a1=_0x9b4811[_0x28633a('0x42')],!![];}}return![];},_0x372588=_0x55cbf1[_0x1e9b79('0x35')],_0x4f5fdf=_0x9b4811?_0x9b4811[_0x1e9b79('0x35')]:null;if(_0x372588&&_0x4f5fdf)_0x98b2b1(_0x1e9b79('0x199'))||_0x98b2b1(_0x1e9b79('0x44'))||_0x98b2b1(_0x1e9b79('0x146'));else{if(_0x372588&&!_0x4f5fdf)_0x5f21bb=_0x372588,_0x1724a1=_0x55cbf1[_0x1e9b79('0x42')];else!_0x372588&&_0x4f5fdf&&(_0x5f21bb=_0x4f5fdf,_0x1724a1=_0x9b4811[_0x1e9b79('0x42')]);}if(!_0x1724a1)_0x1724a1=(_0x9b4811?_0x9b4811[_0x1e9b79('0x42')]:null)||_0x55cbf1[_0x1e9b79('0x42')];if(_0x5f21bb){const _0x165b57=_0x110f34?Math[_0x1e9b79('0xea')]:Math['ceil'];switch(_0x5f21bb){case'full':_0x5a265f+=_0x550d7d['targetLevel'];break;case _0x1e9b79('0x44'):_0x5a265f+=_0x165b57(_0x550d7d[_0x1e9b79('0x3b')]/0x2);break;case _0x1e9b79('0x146'):_0x5a265f+=_0x165b57(_0x550d7d['targetLevel']/0x3);break;}}if(_0x5a265f||_0x5f21bb===_0x1e9b79('0x4b')){let _0x11c726=![];_0x221a32['data'][_0x1e9b79('0xed')]=_0x221a32[_0x1e9b79('0x94')]['spells']||{};const _0x1ace13=MiscUtil[_0x1e9b79('0x18a')](_0x550d7d['postItemActorUpdate'],_0x1e9b79('0x94'),_0x1e9b79('0xed'),{});if(_0x5a265f){const _0x123907=UtilActors[_0x1e9b79('0x53')][_0x1e9b79('0x199')],_0x28cf9c=_0x123907[_0x5a265f-0x1]||_0x123907['last']();_0x28cf9c['forEach']((_0x19d907,_0x200aa4)=>{const _0x54ef54=_0x1e9b79;if(_0x19d907===0x0)return;const _0x18031e='spell'+(_0x200aa4+0x1),_0x16e6ec=MiscUtil[_0x54ef54('0xb2')](this[_0x54ef54('0x2c')],_0x54ef54('0x94'),_0x54ef54('0x94'),_0x54ef54('0xed'),_0x18031e,_0x54ef54('0x12e')),_0x48201a=MiscUtil[_0x54ef54('0xb2')](this[_0x54ef54('0x2c')],_0x54ef54('0x94'),_0x54ef54('0x94'),'spells',_0x18031e,_0x54ef54('0x103'));if(_0x16e6ec!=null){if(_0x16e6ec<_0x19d907){_0x11c726=!![];const _0x5eb0a4=_0x19d907-_0x16e6ec;_0x221a32[_0x54ef54('0x94')][_0x54ef54('0xed')][_0x18031e]={'max':_0x19d907,'value':_0x48201a+_0x5eb0a4},_0x1ace13[_0x18031e]={'max':_0x19d907,'value':_0x48201a+_0x5eb0a4};}}else _0x11c726=!![],_0x221a32['data'][_0x54ef54('0xed')][_0x18031e]={'max':_0x19d907,'value':_0x19d907},_0x1ace13[_0x18031e]={'max':_0x19d907,'value':_0x19d907};});}else{if(_0x5f21bb===_0x1e9b79('0x4b')){const _0x7f14d=MiscUtil['get'](this['_actor'],_0x1e9b79('0x94'),_0x1e9b79('0x94'),'spells',_0x1e9b79('0x4b'),_0x1e9b79('0x12e')),_0x21c1b2=MiscUtil['get'](this[_0x1e9b79('0x2c')],_0x1e9b79('0x94'),_0x1e9b79('0x94'),_0x1e9b79('0xed'),'pact',_0x1e9b79('0x103')),_0x4a2792=UtilActors[_0x1e9b79('0x53')][_0x1e9b79('0x4b')][_0x56bd19-0x1];if(_0x7f14d!=null){if(_0x7f14d<_0x4a2792){_0x11c726=!![];const _0xebc65e=_0x4a2792-_0x7f14d;_0x221a32[_0x1e9b79('0x94')][_0x1e9b79('0xed')]['pact']={'max':_0x4a2792,'value':_0x21c1b2+_0xebc65e},_0x1ace13[_0x1e9b79('0x4b')]={'max':_0x4a2792,'value':_0x21c1b2+_0xebc65e};}}else _0x11c726=!![],_0x221a32[_0x1e9b79('0x94')][_0x1e9b79('0xed')][_0x1e9b79('0x4b')]={'max':_0x4a2792,'value':_0x4a2792},_0x1ace13[_0x1e9b79('0x4b')]={'max':_0x4a2792,'value':_0x4a2792};}}!_0x11c726&&(delete _0x221a32[_0x1e9b79('0x94')]['spells'],delete _0x550d7d[_0x1e9b79('0xb6')][_0x1e9b79('0x94')][_0x1e9b79('0xed')]);}if(_0x1724a1)(_0x221a32[_0x1e9b79('0x94')][_0x1e9b79('0x96')]=_0x221a32['data'][_0x1e9b79('0x96')]||{})[_0x1e9b79('0x13b')]=_0x1724a1;if(Object['keys'](_0x221a32['data'])[_0x1e9b79('0x37')])await this[_0x1e9b79('0x2c')][_0x1e9b79('0xc5')](_0x221a32);}async['_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment'](_0x5d9e55,_0x458b93,_0xc775a0,_0x24c105){const _0x482e05=_0xbf0507,_0x3f7ba2={'chosenProficiencies':{}};_0x458b93['proficiency']&&_0x458b93[_0x482e05('0x2')][_0x482e05('0xc7')](_0x4187fe=>{const _0x35ce4b=_0x482e05,_0x25a1f6=MiscUtil['get'](this['_actor'],_0x35ce4b('0x94'),_0x35ce4b('0x94'),_0x35ce4b('0x137'),_0x4187fe,'proficient');!_0x25a1f6&&(((_0x5d9e55['data']['abilities']=_0x5d9e55['data'][_0x35ce4b('0x137')]||{})[_0x4187fe]=_0x5d9e55[_0x35ce4b('0x94')][_0x35ce4b('0x137')][_0x4187fe]||{})[_0x35ce4b('0x164')]=0x1);});if(_0x458b93[_0x482e05('0x184')]){_0x3f7ba2[_0x482e05('0x1f')]=await this[_0x482e05('0x196')](_0x5d9e55,_0x458b93[_0x482e05('0x184')],_0x24c105);if(_0x24c105[_0x482e05('0xe')])return;}await this[_0x482e05('0x4f')](_0x458b93,_0x24c105);if(_0x24c105[_0x482e05('0xe')])return;return _0x3f7ba2;}async[_0xbf0507('0x196')](_0x58b98a,_0x6ee7b0,_0x25f9f0){const _0x3fbc7a=_0xbf0507,_0x5347b8={'skills':{}},_0x573b9f=(_0x26abe6,_0x5c758b)=>{const _0x903137=_0x5bea;if(!_0x5c758b[_0x903137('0x142')](_0xd017a5=>_0xd017a5[_0x903137('0x64')]()[_0x903137('0xf3')]()===_0x26abe6[_0x903137('0x64')]()[_0x903137('0xf3')]()))_0x5c758b[_0x903137('0x9b')](_0x26abe6);},_0xbbddfa=_0x246cbd=>{const _0x4a0474=_0x5bea,_0x315dbd=MiscUtil[_0x4a0474('0xb2')](this[_0x4a0474('0x2c')],_0x4a0474('0x94'),_0x4a0474('0x94'),_0x4a0474('0x3e'),_0x246cbd),_0x36c01c=(_0x58b98a['data'][_0x4a0474('0x3e')]=_0x58b98a[_0x4a0474('0x94')][_0x4a0474('0x3e')]||{})[_0x246cbd]=MiscUtil[_0x4a0474('0x46')](_0x315dbd||{});_0x36c01c[_0x4a0474('0x103')]=_0x36c01c[_0x4a0474('0x103')]||[];const _0x41891c=(_0x36c01c[_0x4a0474('0x121')]||'')['split'](';')[_0x4a0474('0x161')](_0x201a08=>_0x201a08[_0x4a0474('0xf3')]())['filter'](Boolean);return{'profUpdate':_0x36c01c,'customArr':_0x41891c};};if(_0x6ee7b0[_0x3fbc7a('0xce')]){const {profUpdate:_0x541ff3,customArr:_0x4e9f3e}=_0xbbddfa(_0x3fbc7a('0x165'));_0x6ee7b0['armor']['forEach'](_0x372b5e=>{const _0xe611a5=_0x3fbc7a,_0x12eb40=(_0x372b5e['proficiency']||_0x372b5e)[_0xe611a5('0x64')]()[_0xe611a5('0xf3')]();switch(_0x12eb40){case _0xe611a5('0xe3'):_0x573b9f(_0xe611a5('0x8d'),_0x541ff3[_0xe611a5('0x103')]);break;case'medium':_0x573b9f(_0xe611a5('0x63'),_0x541ff3['value']);break;case'heavy':_0x573b9f(_0xe611a5('0x13a'),_0x541ff3['value']);break;case _0xe611a5('0x104'):_0x573b9f('shl',_0x541ff3[_0xe611a5('0x103')]);break;default:(_0x372b5e[_0xe611a5('0x199')]||_0x372b5e)[_0xe611a5('0x56')](';')[_0xe611a5('0x161')](_0x562d5c=>_0x562d5c[_0xe611a5('0xf3')]())[_0xe611a5('0x166')](Boolean)['forEach'](_0x28841d=>_0x573b9f(_0x28841d,_0x4e9f3e));break;}}),_0x541ff3[_0x3fbc7a('0x121')]=_0x4e9f3e[_0x3fbc7a('0x6c')](';\x20');}if(_0x6ee7b0[_0x3fbc7a('0xb3')]){const {profUpdate:_0x21a7a5,customArr:_0x1d9035}=_0xbbddfa(_0x3fbc7a('0x45'));_0x6ee7b0[_0x3fbc7a('0xb3')][_0x3fbc7a('0xc7')](_0x4a9bb6=>{const _0x30606f=_0x3fbc7a,_0x5afa66=_0x4a9bb6[_0x30606f('0x64')]()[_0x30606f('0xf3')]();switch(_0x5afa66){case _0x30606f('0xd3'):_0x573b9f(_0x30606f('0x14b'),_0x21a7a5[_0x30606f('0x103')]);break;case _0x30606f('0xdf'):_0x573b9f(_0x30606f('0xb0'),_0x21a7a5[_0x30606f('0x103')]);break;default:_0x4a9bb6[_0x30606f('0x56')](';')[_0x30606f('0x161')](_0x338345=>_0x338345[_0x30606f('0xf3')]())['filter'](Boolean)[_0x30606f('0xc7')](_0x28e142=>_0x573b9f(_0x28e142,_0x1d9035));break;}}),_0x21a7a5[_0x3fbc7a('0x121')]=_0x1d9035['join'](';\x20');}if(_0x6ee7b0['tools']){const {profUpdate:_0x1bdc0b,customArr:_0x5d1824}=_0xbbddfa('toolProf');_0x6ee7b0[_0x3fbc7a('0x10d')][_0x3fbc7a('0xc7')](_0x46fc82=>{const _0x3e2560=_0x3fbc7a;_0x46fc82=Renderer[_0x3e2560('0x12')](_0x46fc82);const _0x435648=_0x46fc82[_0x3e2560('0x64')]()[_0x3e2560('0xf3')]();switch(_0x435648){case _0x3e2560('0x14'):_0x573b9f('art',_0x1bdc0b[_0x3e2560('0x103')]);break;case'disguise\x20Kit':_0x573b9f(_0x3e2560('0x17a'),_0x1bdc0b[_0x3e2560('0x103')]);break;case _0x3e2560('0xdc'):_0x573b9f('forg',_0x1bdc0b[_0x3e2560('0x103')]);break;case'gaming\x20set':_0x573b9f(_0x3e2560('0x7a'),_0x1bdc0b['value']);break;case'herbalism\x20kit':_0x573b9f(_0x3e2560('0xd7'),_0x1bdc0b['value']);break;case _0x3e2560('0x3'):_0x573b9f(_0x3e2560('0x17e'),_0x1bdc0b[_0x3e2560('0x103')]);break;case'navigator\x27s\x20tools':_0x573b9f(_0x3e2560('0x176'),_0x1bdc0b[_0x3e2560('0x103')]);break;case _0x3e2560('0x9c'):_0x573b9f(_0x3e2560('0xc2'),_0x1bdc0b[_0x3e2560('0x103')]);break;case _0x3e2560('0x127'):_0x573b9f('thief',_0x1bdc0b[_0x3e2560('0x103')]);break;case'vehicles\x20(land\x20or\x20water)':_0x573b9f(_0x3e2560('0x11d'),_0x1bdc0b['value']);break;default:_0x46fc82['split'](';')[_0x3e2560('0x161')](_0x2bccaa=>_0x2bccaa['trim']())[_0x3e2560('0x166')](Boolean)['forEach'](_0x4845a0=>_0x573b9f(_0x4845a0,_0x5d1824));break;}}),_0x1bdc0b[_0x3fbc7a('0x121')]=_0x5d1824[_0x3fbc7a('0x6c')](';\x20');}if(_0x6ee7b0[_0x3fbc7a('0x120')]){const _0x10dd85=await DataConverter[_0x3fbc7a('0x75')](MiscUtil[_0x3fbc7a('0xb2')](this[_0x3fbc7a('0x2c')],'data',_0x3fbc7a('0x94'),_0x3fbc7a('0x120')),_0x6ee7b0['skills'],_0x58b98a[_0x3fbc7a('0x94')],_0x25f9f0);if(_0x25f9f0[_0x3fbc7a('0xe')])return _0x5347b8;_0x5347b8[_0x3fbc7a('0x120')]=_0x10dd85;}return _0x5347b8;}async[_0xbf0507('0x41')](_0x46526b,_0x33dc24,_0x2dff7d,_0x3d7aab){const _0x12f5db=_0xbf0507,_0x2a897d={'chosenProficiencies':{}};if(_0x33dc24[_0x12f5db('0x198')]&&_0x33dc24[_0x12f5db('0x198')][_0x12f5db('0x8f')]){_0x2a897d[_0x12f5db('0x1f')]=await this[_0x12f5db('0x196')](_0x46526b,_0x33dc24['multiclassing'][_0x12f5db('0x8f')],_0x3d7aab);if(_0x3d7aab[_0x12f5db('0xe')])return;}return _0x2a897d;}[_0xbf0507('0xe1')](_0x40e4da){const _0xecd445=_0xbf0507,_0x17eee7=MiscUtil[_0xecd445('0xb2')](this[_0xecd445('0x2c')],_0xecd445('0x94'),_0xecd445('0x167'))||[];return _0x17eee7[_0xecd445('0x166')](_0x1a4247=>_0x1a4247['type']===_0xecd445('0x86')&&(_0x1a4247['name']||'')[_0xecd445('0x64')]()['trim']()===_0x40e4da['name'][_0xecd445('0x64')]()[_0xecd445('0xf3')]()&&(!Config['get'](_0xecd445('0x52'),_0xecd445('0x85'))||(DataConverter[_0xecd445('0x30')](_0x1a4247)||'')[_0xecd445('0x64')]()===Parser['sourceJsonToAbv'](_0x40e4da[_0xecd445('0x132')])[_0xecd445('0x64')]()));}async['_pImportEntry_pGetCurLevelFillClassData'](_0x5ca567,_0x3c3219,_0x2a3011,_0x285811){const _0x2beaab=_0xbf0507,_0x57cd6c={'curLevel':0x0,'existingClassItem':null};let _0x39d261={};if(_0x285811[_0x2beaab('0x16c')]&&_0x285811['isIncludesLevelOne'])switch(_0x285811[_0x2beaab('0x20')]){case 0x0:{_0x39d261=await this[_0x2beaab('0x41')](_0x5ca567,_0x3c3219,_0x2a3011,_0x285811);break;}case 0x1:{_0x39d261=await this[_0x2beaab('0x105')](_0x5ca567,_0x3c3219,_0x2a3011,_0x285811);if(_0x285811[_0x2beaab('0xe')])return;break;}case 0x2:{break;}default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0x285811[_0x2beaab('0x20')]+'\x22');}let _0x438586='';if(Config['get']('importClass','isImportDescription')&&_0x3c3219[_0x2beaab('0xa4')]&&_0x3c3219[_0x2beaab('0xa4')][_0x2beaab('0x37')])_0x438586=Renderer[_0x2beaab('0xb2')]()[_0x2beaab('0x110')](!![])['render']({'type':_0x3c3219[_0x2beaab('0xa4')][0x0][_0x2beaab('0x152')]||_0x2beaab('0x168'),'entries':_0x3c3219['fluff'][0x0][_0x2beaab('0x8c')]||[]});const _0x3d46d1=this['_getExistingClassItems'](_0x3c3219),_0x2eb033=await(async()=>{const _0xf371ec=_0x2beaab;if(!_0x3d46d1[_0xf371ec('0x37')])return null;if(!_0x2a3011&&_0x3d46d1[_0xf371ec('0x37')]===0x1)return _0x3d46d1[0x0];if(!_0x2a3011)return this[_0xf371ec('0x2f')](_0x3c3219,_0x2a3011,_0x3d46d1);const _0x412961=_0x3d46d1[_0xf371ec('0x166')](_0x272c23=>MiscUtil[_0xf371ec('0xb2')](_0x272c23,_0xf371ec('0x94'),_0xf371ec('0x1d')));if(!_0x412961[_0xf371ec('0x37')]&&_0x3d46d1['length']===0x1)return _0x3d46d1[0x0];if(!_0x412961[_0xf371ec('0x37')])return this['_pGetUserClassItem'](_0x3c3219,_0x2a3011,_0x3d46d1);const _0x158775=_0x3d46d1[_0xf371ec('0x166')](_0x45d1f3=>(MiscUtil[_0xf371ec('0xb2')](_0x45d1f3,_0xf371ec('0x94'),_0xf371ec('0x1d'))||'')===_0x2a3011[_0xf371ec('0xa6')]);if(!_0x158775[_0xf371ec('0x37')])return this[_0xf371ec('0x2f')](_0x3c3219,_0x2a3011,_0x3d46d1);if(_0x158775[_0xf371ec('0x37')]===0x1)return _0x158775[0x0];return this[_0xf371ec('0x2f')](_0x3c3219,_0x2a3011,_0x158775);})();if(_0x2eb033){let _0x3bc49f=![];const _0x523400={'_id':_0x2eb033['_id']||_0x2eb033[_0x2beaab('0x94')][_0x2beaab('0x123')]};_0x438586&&!(MiscUtil[_0x2beaab('0xb2')](_0x2eb033,'data',_0x2beaab('0xe4'),'value')||''[_0x2beaab('0xf3')]())&&(_0x3bc49f=!![],((_0x523400[_0x2beaab('0x94')]=_0x523400['data']||{})[_0x2beaab('0xe4')]=_0x523400[_0x2beaab('0x94')]['description']||{})[_0x2beaab('0x103')]=_0x438586);let _0x406853=MiscUtil['get'](_0x2eb033,'data',_0x2beaab('0xe8'));_0x406853&&(_0x285811[_0x2beaab('0x3b')]>_0x406853&&(_0x3bc49f=!![],(_0x523400[_0x2beaab('0x94')]=_0x523400[_0x2beaab('0x94')]||{})[_0x2beaab('0xe8')]=_0x285811[_0x2beaab('0x3b')]));if(_0x2a3011&&_0x2a3011[_0x2beaab('0xa6')]){const _0x337bfd=MiscUtil[_0x2beaab('0xb2')](_0x2eb033,_0x2beaab('0x94'),_0x2beaab('0x1d'));_0x337bfd!==_0x2a3011['name']&&(_0x3bc49f=!![],(_0x523400[_0x2beaab('0x94')]=_0x523400[_0x2beaab('0x94')]||{})[_0x2beaab('0x1d')]=_0x2a3011[_0x2beaab('0xa6')]);}if(_0x3bc49f)_0x285811[_0x2beaab('0xe0')][_0x2beaab('0x9b')](_0x523400);_0x57cd6c[_0x2beaab('0x195')]=_0x406853||0x0,_0x57cd6c[_0x2beaab('0x14d')]=_0x2eb033;}else{const _0x23d710=(_0x2a3011||{})[_0x2beaab('0x35')]||_0x3c3219[_0x2beaab('0x35')],_0x50a91c=await DataConverter[_0x2beaab('0x18')](_0x2beaab('0x86'),_0x3c3219)||_0x2beaab('0x2e')+SharedConsts[_0x2beaab('0xcd')]+_0x2beaab('0x12c'),_0x3b6812=_0x3c3219['startingProficiencies']&&_0x3c3219[_0x2beaab('0x184')][_0x2beaab('0x120')]?_0x3c3219['startingProficiencies'][_0x2beaab('0x120')][_0x2beaab('0x161')](_0x353ff3=>{const _0x5310fc=_0x2beaab;if(_0x353ff3[_0x5310fc('0x133')])return _0x353ff3[_0x5310fc('0x133')][_0x5310fc('0xcb')]||0x1;return 0x0;})['reduce']((_0x5d36af,_0x45d223)=>_0x5d36af+_0x45d223,0x0):0x0,_0x342575=_0x39d261[_0x2beaab('0x1f')]&&_0x39d261['chosenProficiencies'][_0x2beaab('0x120')]?Object[_0x2beaab('0x16a')](_0x39d261[_0x2beaab('0x1f')][_0x2beaab('0x120')]):[];_0x285811[_0x2beaab('0x167')][_0x2beaab('0x9b')]({'name':UtilApplications[_0x2beaab('0x50')](DataConverter[_0x2beaab('0x5c')](_0x3c3219)),'type':_0x2beaab('0x86'),'data':{'description':{'value':_0x438586,'chat':'','unidentified':''},'source':DataConverter[_0x2beaab('0x119')](_0x3c3219),'levels':_0x285811['targetLevel'],'subclass':_0x2a3011?_0x2a3011[_0x2beaab('0xa6')]:'','hitDice':DataConverterClass[_0x2beaab('0x114')](_0x3c3219),'hitDiceUsed':0x0,'spellcasting':UtilActors[_0x2beaab('0x115')](_0x23d710)||_0x23d710,'skills':{'number':_0x3b6812,'value':_0x342575}},'img':_0x50a91c});}return _0x57cd6c;}async[_0xbf0507('0x2f')](_0x43e514,_0x4d698e,_0x26a05a){const _0x3d22d5=_0xbf0507,_0x594f2f=''+(_0x43e514['name']||_0x3d22d5('0x2b'))+(_0x4d698e?'\x20('+(_0x4d698e['name']||_0x3d22d5('0x11e'))+')':''),_0x4a0a75=await InputUiUtil[_0x3d22d5('0x169')]({'values':_0x26a05a,'placeholder':'Select\x20Existing\x20Feature...','title':_0x3d22d5('0xa7')+_0x594f2f+_0x3d22d5('0x150'),'fnDisplay':_0x1d80d9=>{const _0x3e8310=_0x3d22d5;if(_0x1d80d9==null)return _0x3e8310('0xd');const _0x46f6b1=(MiscUtil[_0x3e8310('0xb2')](_0x1d80d9,_0x3e8310('0x94'),'subclass')||'')[_0x3e8310('0xf3')]();return''+(_0x1d80d9['name']||_0x3e8310('0x2b'))+(_0x46f6b1?':\x20'+_0x46f6b1:'');},'isAllowNull':!![]});if(_0x4a0a75==null)return null;return _0x26a05a[_0x4a0a75];}async[_0xbf0507('0x17f')](_0x2fc21a,_0x5f54fe,_0x44f1d3){const _0x18f75c=_0xbf0507,_0x1858c9=UtilActors[_0x18f75c('0x53')][_0x2fc21a[_0x18f75c('0x35')]];if(!_0x1858c9)return;const _0x5b1da1=[];let _0xb04ad1=0x0;_0x1858c9[_0x18f75c('0xc7')](_0x3a6139=>{const _0x474c2a=_0x18f75c;let _0x21bfed=![];for(let _0x58f5d3=0x0;_0x58f5d3<_0x3a6139[_0x474c2a('0x37')];++_0x58f5d3){const _0x2055ff=_0x58f5d3+0x1;if(_0x3a6139[_0x58f5d3]&&_0x2055ff>_0xb04ad1){_0x5b1da1[_0x474c2a('0x9b')](_0x2055ff),_0xb04ad1=_0x2055ff,_0x21bfed=!![];break;}}if(!_0x21bfed)_0x5b1da1[_0x474c2a('0x9b')](null);});const _0x22d79f=_0x5b1da1[_0x18f75c('0x1a4')](_0x5f54fe,_0x44f1d3[_0x18f75c('0x3b')])[_0x18f75c('0x166')](Boolean);if(!_0x22d79f[_0x18f75c('0x37')])return;const _0x5bd03f=Math[_0x18f75c('0x9e')](..._0x22d79f)-0x1,_0x425d13=Math['max'](..._0x22d79f),_0x9e6c4d=_0x44f1d3[_0x18f75c('0x3b')]-_0x5f54fe,_0xd93235=_0x425d13-_0x5bd03f;if(_0xd93235>0x0){const _0x23a94d=await UtilApplications[_0x18f75c('0x12f')]({'title':_0x18f75c('0x79'),'content':_0x18f75c('0xd6')+(_0x9e6c4d===0x1?'':'s')+'\x20'+(_0x9e6c4d===0x1?_0x44f1d3[_0x18f75c('0x3b')]:_0x5f54fe+0x1+'-'+_0x44f1d3[_0x18f75c('0x3b')])+_0x18f75c('0x34'),'confirmText':_0x18f75c('0x5b'),'dismissText':'No','faIcon':'fa-hat-wizard'});if(!_0x23a94d)return;const _0x44a25e=(await Vetools['pGetAllSpells'](!![]))[_0x18f75c('0x16')],_0x275cb8=_0x44a25e[_0x18f75c('0x166')](_0x20842e=>_0x20842e[_0x18f75c('0x106')]>0x0&&_0x20842e['level']>_0x5bd03f&&_0x20842e[_0x18f75c('0x106')]<=_0x425d13&&_0x20842e['classes']&&_0x20842e[_0x18f75c('0x7d')][_0x18f75c('0x131')]&&_0x20842e['classes'][_0x18f75c('0x131')][_0x18f75c('0x142')](_0x41e40c=>(_0x41e40c[_0x18f75c('0xa6')]||'')[_0x18f75c('0x64')]()===_0x2fc21a[_0x18f75c('0xa6')][_0x18f75c('0x64')]()&&(_0x41e40c[_0x18f75c('0x132')]||SRC_PHB)[_0x18f75c('0x64')]()===_0x2fc21a['source']['toLowerCase']()));for(const _0x2914df of _0x275cb8){const _0x40cac7=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x18f75c('0x159')]](_0x2914df),_0x528ae8=DataConverterSpell['getActorSpell'](this['_actor'],_0x2914df[_0x18f75c('0xa6')],_0x2914df['source']);if(_0x528ae8){_0x44f1d3['spellHashToItemIdMap'][_0x40cac7]=_0x528ae8[_0x18f75c('0x123')]||_0x528ae8[_0x18f75c('0x94')][_0x18f75c('0x123')];continue;}const _0x25bc9e=await DataConverterSpell[_0x18f75c('0x134')](_0x2914df,{...UtilActors[_0x18f75c('0xf9')](),'casterLevel':_0x44f1d3[_0x18f75c('0x3b')],'abilityAbv':_0x2fc21a[_0x18f75c('0x42')]}),_0x324a43=await this[_0x18f75c('0x2c')]['createEmbeddedEntity'](_0x18f75c('0xa'),_0x25bc9e,{});_0x44f1d3[_0x18f75c('0x40')][_0x40cac7]=_0x324a43[_0x18f75c('0x123')]||_0x324a43[_0x18f75c('0x94')][_0x18f75c('0x123')];}}}async['_pImportEntry_pFillItemArrayAdditionalSpells'](_0x58230b,_0xb1d719,_0x3b0770){const _0x1ce301=_0xbf0507;if(!_0x58230b||!_0x58230b['length'])return;const _0x1fafc3=_0xb1d719+0x1;for(const _0x511af7 of _0x58230b){const _0x18c3e0=await UtilActors[_0x1ce301('0x19a')](this[_0x1ce301('0x2c')],_0x511af7['additionalSpells'],{'minLevel':_0x1fafc3,'maxLevel':_0x3b0770[_0x1ce301('0x3b')],'sourceHintText':_0x511af7['name'],'casterLevel':_0x3b0770[_0x1ce301('0x3b')],'abilityAbv':_0x3b0770[_0x1ce301('0x42')],'hashToIdMap':_0x3b0770['spellHashToItemIdMap']});_0x3b0770[_0x1ce301('0xe')]=_0x3b0770[_0x1ce301('0xe')]||_0x18c3e0;if(_0x3b0770[_0x1ce301('0xe')])return;}}async[_0xbf0507('0x71')](_0xd26dea,_0x335ba5){const _0x2f6b15=_0xbf0507,_0xe2e88=DataConverterSpell[_0x2f6b15('0xd8')]['bind'](null,this[_0x2f6b15('0x2c')]['id'],_0x335ba5[_0x2f6b15('0x40')]);Renderer[_0x2f6b15('0xb2')]()['addHook'](_0x2f6b15('0x179'),_0x2f6b15('0x112'),_0xe2e88),_0xd26dea['forEach'](_0x16207a=>{const _0xd81b64=_0x2f6b15;_0x16207a[_0xd81b64('0xb5')][_0xd81b64('0xc7')](_0x1b2eb0=>{const _0x501ddb=_0xd81b64;switch(_0x1b2eb0[_0x501ddb('0x152')]){case _0x501ddb('0xba'):case _0x501ddb('0x111'):{if(_0x1b2eb0[_0x501ddb('0xd9')][_0x501ddb('0x8c')])_0x1b2eb0[_0x501ddb('0xd9')]['entries']=this[_0x501ddb('0xc6')](_0x1b2eb0[_0x501ddb('0xd9')][_0x501ddb('0x8c')]);break;}}});});const _0x582e96={},_0x44844c={};(this[_0x2f6b15('0x2c')][_0x2f6b15('0x167')]||[])['filter'](_0x33dfbb=>_0x33dfbb['type']===_0x2f6b15('0x16f'))[_0x2f6b15('0xc7')](_0x51ec12=>{const _0x7c91a7=_0x2f6b15;_0x582e96[_0x51ec12['name'][_0x7c91a7('0xf3')]()[_0x7c91a7('0x64')]()]=(DataConverter[_0x7c91a7('0x30')](_0x51ec12)||'')[_0x7c91a7('0xf3')]()[_0x7c91a7('0x64')]();});const _0xc01837=(_0x369a8b,_0x5e40ba,_0x563439,_0x24e508)=>{const _0x3fa046=_0x2f6b15;if(MiscUtil[_0x3fa046('0xb2')](_0x44844c,_0x5e40ba,_0x563439,_0x24e508))return!![];const _0x3d9838=_0x369a8b['trim']()['toLowerCase']();if(_0x582e96[_0x3d9838]==null)return![];if(!Config[_0x3fa046('0xb2')]('import',_0x3fa046('0x85')))return!![];const _0x5e6846=Parser[_0x3fa046('0x118')](_0x563439)[_0x3fa046('0xf3')]()['toLowerCase']();return _0x582e96[_0x3d9838]===_0x5e6846;};_0xd26dea=_0xd26dea[_0x2f6b15('0x166')](_0x3ae174=>{const _0x4e5376=_0x2f6b15;if(_0x3ae174[_0x4e5376('0x143')])return![];const _0x417c98=_0x3ae174['name']['toLowerCase']();switch(_0x417c98){case'proficiency\x20versatility':return![];default:return!![];}});for(const _0x4b6a72 of _0xd26dea){const _0x5577b4=_0x4b6a72[_0x2f6b15('0xa6')]['toLowerCase']();if(_0x5577b4===_0x2f6b15('0x72')){await this[_0x2f6b15('0x12a')](_0x4b6a72,_0x335ba5);if(_0x335ba5[_0x2f6b15('0xe')])return;continue;}const _0x5eaec9=[];let _0x5962b8=[],_0x5e9952=null;_0x4b6a72[_0x2f6b15('0xb5')][_0x2f6b15('0xc7')](_0x2e6dc2=>{const _0x50c2cb=_0x2f6b15,_0x9a5850=MiscUtil[_0x50c2cb('0xb2')](_0x2e6dc2,'optionsMeta','setId')||null;if(_0x5e9952!==_0x9a5850){if(_0x5962b8[_0x50c2cb('0x37')])_0x5eaec9['push'](_0x5962b8);_0x5962b8=[_0x2e6dc2],_0x5e9952=_0x9a5850;}else _0x5962b8['push'](_0x2e6dc2);});if(_0x5962b8['length'])_0x5eaec9[_0x2f6b15('0x9b')](_0x5962b8);for(const _0x1a2bf6 of _0x5eaec9){if(_0x1a2bf6[0x0]&&_0x1a2bf6[0x0][_0x2f6b15('0x21')]){_0x1a2bf6['sort']((_0x5ee36c,_0x102ccf)=>SortUtil[_0x2f6b15('0x31')](_0x5ee36c['entity'][_0x2f6b15('0xa6')],_0x102ccf[_0x2f6b15('0xd9')][_0x2f6b15('0xa6')])||SortUtil[_0x2f6b15('0x31')](Parser[_0x2f6b15('0x118')](_0x5ee36c[_0x2f6b15('0xd9')][_0x2f6b15('0x132')]),Parser[_0x2f6b15('0x118')](_0x102ccf['entity'][_0x2f6b15('0x132')])));const {name:_0x52f5f7,count:_0x51b8f3}=_0x1a2bf6[0x0]['optionsMeta'],_0x32d0a9=_0x1a2bf6[_0x2f6b15('0x161')]((_0xcf243d,_0x4e1f98)=>({'it':_0xcf243d,'ix':_0x4e1f98}))[_0x2f6b15('0x166')](({it:_0x261fc9})=>_0x261fc9[_0x2f6b15('0x5f')])[_0x2f6b15('0x161')](({ix:_0x4c9285})=>_0x4c9285),_0x4ecc71=_0x51b8f3-_0x32d0a9[_0x2f6b15('0x37')],_0x421f6a=await InputUiUtil[_0x2f6b15('0x10b')]({'title':_0x2f6b15('0x4c')+(_0x4ecc71===0x1?'':_0x4ecc71+'\x20')+_0x2f6b15('0x16b')+(_0x4ecc71===0x1?'':'s')+':\x20'+_0x52f5f7+_0x2f6b15('0x49')+_0x4b6a72[_0x2f6b15('0x106')]+')','values':_0x1a2bf6,'required':_0x32d0a9,'count':_0x51b8f3,'isResolveItems':!![],'modalOpts':{'zIndex':Renderer['hover']['MIN_Z_INDEX']-0x1},'fnDisplay':_0x2ee53e=>{const _0x2e0b3b=_0x2f6b15,_0x4007c8=Renderer[_0x2e0b3b('0xb2')]()['render'](_0x2ee53e[_0x2e0b3b('0x3a')]),_0x1412e0=_0xc01837(_0x2ee53e[_0x2e0b3b('0xd9')]['_displayName']||_0x2ee53e[_0x2e0b3b('0xd9')][_0x2e0b3b('0xa6')],_0x2ee53e['page'],_0x2ee53e[_0x2e0b3b('0x132')],_0x2ee53e[_0x2e0b3b('0x170')]);return $$`<div class="w-100 split-v-center">
								<div class="mr-2 flex-v-center">${_0x4007c8}${_0x1412e0?_0x2e0b3b('0xf1'):''}</div>
								<div class="${Parser[_0x2e0b3b('0xad')](_0x2ee53e[_0x2e0b3b('0xd9')][_0x2e0b3b('0x132')])} pr-1" title="${Parser[_0x2e0b3b('0x18f')](_0x2ee53e[_0x2e0b3b('0xd9')]['source'])}">${Parser['sourceJsonToAbv'](_0x2ee53e[_0x2e0b3b('0xd9')][_0x2e0b3b('0x132')])}</div>
							</div>`;},'isSkippable':!![]});if(!_0x421f6a){_0x335ba5[_0x2f6b15('0xe')]=!![];return;}if(_0x421f6a!==VeCt[_0x2f6b15('0x109')])for(const _0x3c0417 of _0x421f6a){await this[_0x2f6b15('0x15b')](_0x3c0417,_0x335ba5,_0x44844c);if(_0x335ba5['isCancelled'])return;}}else for(const _0x239638 of _0x1a2bf6){await this['_pAddLoadedFeature'](_0x239638,_0x335ba5,_0x44844c);if(_0x335ba5[_0x2f6b15('0xe')])return;}}}Renderer[_0x2f6b15('0xb2')]()[_0x2f6b15('0xcf')](_0x2f6b15('0x179'),'ele',_0xe2e88);if(Object[_0x2f6b15('0x16a')](_0x335ba5[_0x2f6b15('0xb9')])[_0x2f6b15('0x37')])await this[_0x2f6b15('0x2c')][_0x2f6b15('0xc5')](_0x335ba5[_0x2f6b15('0xb9')]);if(_0x335ba5['items'][_0x2f6b15('0x37')]){const _0x3ae2da=_0x335ba5[_0x2f6b15('0x167')][_0x2f6b15('0x166')](_0x30a2e3=>_0x30a2e3[_0x2f6b15('0x152')]===_0x2f6b15('0x86')),_0x40b4a2=_0x335ba5['items'][_0x2f6b15('0x166')](_0x19ac52=>_0x19ac52[_0x2f6b15('0x152')]!==_0x2f6b15('0x86'));if(_0x3ae2da[_0x2f6b15('0x37')])await UtilActors['pAddActorItems'](this[_0x2f6b15('0x2c')],_0x3ae2da);if(_0x40b4a2[_0x2f6b15('0x37')])await UtilActors[_0x2f6b15('0xc4')](this[_0x2f6b15('0x2c')],_0x40b4a2);}if(_0x335ba5[_0x2f6b15('0xe0')][_0x2f6b15('0x37')])await this['_actor'][_0x2f6b15('0x173')](_0x2f6b15('0xa'),_0x335ba5['itemsToUpdate']);await ImportListCharacter[_0x2f6b15('0x15c')](this[_0x2f6b15('0x2c')],_0x335ba5),Util[_0x2f6b15('0x25')](_0x335ba5[_0x2f6b15('0xb6')]);if(Object[_0x2f6b15('0x16a')](_0x335ba5['postItemActorUpdate'])['length'])await this['_actor'][_0x2f6b15('0xc5')](_0x335ba5[_0x2f6b15('0xb6')]);}async['_pAddLoadedFeature'](_0x1ddc3d,_0x1cb620,_0x45a800){const _0x1aa5b9=_0xbf0507,_0x478665=_0x1ddc3d['entity'];MiscUtil[_0x1aa5b9('0x58')](_0x45a800,_0x1ddc3d[_0x1aa5b9('0x3d')],_0x1ddc3d['source'],_0x1ddc3d[_0x1aa5b9('0x170')],!![]);let _0x443da0;switch(_0x1ddc3d[_0x1aa5b9('0x152')]){case'classFeature':case _0x1aa5b9('0x111'):{const _0x2dbd05={'actor':this[_0x1aa5b9('0x2c')]},_0x20fc98=await DataConverterClass[_0x1aa5b9('0x158')](_0x1ddc3d,_0x2dbd05);_0x443da0=_0x20fc98;if(_0x2dbd05[_0x1aa5b9('0xe')]){_0x1cb620[_0x1aa5b9('0xe')]=!![];return;}_0x1cb620[_0x1aa5b9('0x167')][_0x1aa5b9('0x9b')](_0x20fc98),await DataConverterClass[_0x1aa5b9('0xc0')](this[_0x1aa5b9('0x2c')],_0x1cb620['actorUpdate'],_0x1ddc3d,_0x1cb620),MiscUtil[_0x1aa5b9('0x58')](_0x20fc98['data'],_0x1aa5b9('0x5a'),SharedConsts[_0x1aa5b9('0xde')],'dataType',_0x1ddc3d[_0x1aa5b9('0x152')]);break;}case'optionalfeature':{const _0x187028=await DataConverterOptionalfeature['pGetOptionalFeatureItem'](_0x478665);_0x443da0=_0x187028,_0x1cb620[_0x1aa5b9('0x167')][_0x1aa5b9('0x9b')](_0x187028),await DataConverterOptionalfeature['pMutActorUpdateOptionalFeature'](this['_actor'],_0x1cb620[_0x1aa5b9('0xb9')],_0x478665,_0x1cb620),MiscUtil[_0x1aa5b9('0x58')](_0x187028[_0x1aa5b9('0x94')],_0x1aa5b9('0x5a'),SharedConsts[_0x1aa5b9('0xde')],_0x1aa5b9('0x47'),_0x478665[_0x1aa5b9('0x7')]||_0x1aa5b9('0xba'));break;}default:throw new Error(_0x1aa5b9('0x5e')+_0x1ddc3d[_0x1aa5b9('0x152')]+'\x22');}const _0x33e2b6=_0x478665[_0x1aa5b9('0x101')]||_0x478665[_0x1aa5b9('0x188')]||_0x1ddc3d[_0x1aa5b9('0x101')],_0x1b1de3=_0x478665[_0x1aa5b9('0xf2')]||_0x478665[_0x1aa5b9('0x55')]||_0x1ddc3d[_0x1aa5b9('0xf2')];if(_0x33e2b6)MiscUtil['set'](_0x443da0[_0x1aa5b9('0x94')],_0x1aa5b9('0x5a'),SharedConsts[_0x1aa5b9('0xde')],'className',_0x33e2b6);if(_0x1b1de3)MiscUtil[_0x1aa5b9('0x58')](_0x443da0[_0x1aa5b9('0x94')],_0x1aa5b9('0x5a'),SharedConsts['MODULE_NAME_FAKE'],'subclassName',_0x1b1de3);}async[_0xbf0507('0x43')](_0xed93b,_0x4cec8f){const _0x290ab0=_0xbf0507;if(_0xed93b['length']>0x1)return;if(_0xed93b[0x0]===0x0)return;const _0x5b3a69=(MiscUtil[_0x290ab0('0xb2')](this[_0x290ab0('0x2c')],_0x290ab0('0x94'),_0x290ab0('0x167'))||[])[_0x290ab0('0x166')](_0xf0b2f2=>_0xf0b2f2[_0x290ab0('0x152')]===_0x290ab0('0x86'));if(_0x5b3a69[_0x290ab0('0x37')])return;const _0x8a31f=_0xed93b[0x0]+0x1,_0x411f89=await InputUiUtil[_0x290ab0('0x9a')]({'title':_0x290ab0('0x15'),'htmlDescription':_0x290ab0('0x14e')+_0x8a31f+_0x290ab0('0xc')+(_0x8a31f===0x2?'':'s')+'\x20'+(_0x8a31f===0x2?'1':'1-'+(_0x8a31f-0x1))+_0x290ab0('0xc1'),'textYes':_0x290ab0('0x7e')+_0x8a31f,'textNo':_0x290ab0('0x125')+_0x8a31f});if(_0x411f89==null){_0x4cec8f[_0x290ab0('0xe')]=!![];return;}if(_0x411f89){const _0x17bdb4=_0xed93b[0x0];for(let _0x10cc6d=0x0;_0x10cc6d<=_0x17bdb4;++_0x10cc6d){_0xed93b[_0x10cc6d]=_0x10cc6d;}}}[_0xbf0507('0x11b')](_0x2e58b5){const _0x38548d=_0xbf0507,_0x1f0e15=this[_0x38548d('0x6')]['filterBox'][_0x38548d('0xaf')]();return _0x2e58b5['filter'](_0x6cde89=>{const _0x221229=_0x38548d;if(!this[_0x221229('0x6')][_0x221229('0x144')][_0x221229('0x6d')](_0x1f0e15,_0x6cde89[_0x221229('0x132')]))return![];return _0x6cde89['loadeds']=_0x6cde89['loadeds'][_0x221229('0x166')](_0x2818dc=>this[_0x221229('0x6')][_0x221229('0x144')]['toDisplay'](_0x1f0e15,_0x2818dc[_0x221229('0xd9')][_0x221229('0x132')])),_0x6cde89[_0x221229('0xb5')][_0x221229('0x37')];});}[_0xbf0507('0xc6')](_0xd7a70f){const _0x210413=_0xbf0507,_0x196d2b=this['_pageFilter'][_0x210413('0xa8')]['getValues'](),_0x1fce39=_0x4568c5=>{const _0x47f33c=_0x210413;if(!_0x4568c5[_0x47f33c('0x132')])return!![];return this[_0x47f33c('0x6')][_0x47f33c('0x144')][_0x47f33c('0x6d')](_0x196d2b,_0x4568c5[_0x47f33c('0x132')]);},_0x77c51d=_0x401283=>{const _0x403636=_0x210413;if(!_0x401283)return;if(typeof _0x401283==='object')return _0x401283 instanceof Array?(_0x401283=_0x401283[_0x403636('0x166')](_0x1e9f64=>_0x1fce39(_0x1e9f64)),_0x401283['map'](_0x39586b=>_0x77c51d(_0x39586b))):(Object[_0x403636('0x16a')](_0x401283)[_0x403636('0xc7')](_0x3a6d57=>{const _0x2ff71c=_0x403636;if(_0x401283[_0x3a6d57]instanceof Array){_0x401283[_0x3a6d57]=_0x77c51d(_0x401283[_0x3a6d57]);if(!_0x401283[_0x3a6d57][_0x2ff71c('0x37')])delete _0x401283[_0x3a6d57];}else _0x401283[_0x3a6d57]=_0x77c51d(_0x401283[_0x3a6d57]);}),_0x401283);else return _0x401283;};return _0xd7a70f=MiscUtil[_0x210413('0x46')](_0xd7a70f),_0x77c51d(_0xd7a70f);}async['_pHandleAbilityScoreIncrease'](_0x4a3e0a,_0xff7395){const _0x322a06=_0xbf0507,_0x3be158=new ImportListClass[(_0x322a06('0x81'))](this[_0x322a06('0x2c')],_0x4a3e0a,_0xff7395);_0x3be158[_0x322a06('0xb8')](!![]),await _0x3be158[_0x322a06('0xfe')]();}async[_0xbf0507('0x4f')](_0x4cfa31,_0x179039){const _0x2688b9=_0xbf0507,_0x204cbc=new ImportListCharacter[(_0x2688b9('0xff'))]({'actor':this[_0x2688b9('0x2c')],'startingEquipment':_0x4cfa31[_0x2688b9('0x57')],'appSubTitle':_0x4cfa31[_0x2688b9('0xa6')],'importOpts':_0x179039,'equiSpecialSource':_0x4cfa31[_0x2688b9('0x132')],'equiSpecialPage':_0x4cfa31[_0x2688b9('0x3d')]});_0x204cbc[_0x2688b9('0xb8')](!![]),await _0x204cbc[_0x2688b9('0xfe')]();}}ImportListClass[_0xbf0507('0x10a')]=class extends ImportListCharacter[_0xbf0507('0x10a')]{constructor(_0x5586ac){const _0x4fa582=_0xbf0507;super(_0x5586ac),_0x5586ac=_0x5586ac||{},this[_0x4fa582('0x16c')]=!!_0x5586ac[_0x4fa582('0x16c')],this[_0x4fa582('0x167')]=[],this[_0x4fa582('0xb9')]={},this[_0x4fa582('0xb6')]={},this[_0x4fa582('0xe0')]=[],this[_0x4fa582('0x40')]={},this[_0x4fa582('0x3b')]=null,this[_0x4fa582('0x69')]=null,this['spellcastingAbility']=null,this['proficiencyImportMode']=null;}},ImportListClass[_0xbf0507('0x8')]={[SRC_PHB]:{'Cleric':!![],'Druid':!![],'Paladin':!![]}},ImportListClass[_0xbf0507('0x81')]=class extends Application{constructor(_0x505dc0,_0x5caf31,_0x870801){const _0x2b2f44=_0xbf0507;super({'title':_0x2b2f44('0x19e')+_0x5caf31[_0x2b2f44('0x106')],'template':SharedConsts['MODULE_LOCATION']+'/template/ImportListClassAbilityScoreIncrease.handlebars','width':0x280,'resizable':!![]}),this['_importOpts']=_0x870801,this['_resolve']=null,this[_0x2b2f44('0x192')]=null,this[_0x2b2f44('0x59')]=new Promise((_0x3b2c40,_0x278d5c)=>{const _0x1592b4=_0x2b2f44;this[_0x1592b4('0xe2')]=_0x3b2c40,this[_0x1592b4('0x192')]=_0x278d5c;}),this[_0x2b2f44('0x4e')]=new ImportListClass[(_0x2b2f44('0x81'))][(_0x2b2f44('0x171'))](_0x505dc0,_0x870801,this[_0x2b2f44('0x78')]['bind'](this));}[_0xbf0507('0x23')](_0x59fec6){const _0x8ba127=_0xbf0507;this[_0x8ba127('0x4e')][_0x8ba127('0xb8')](_0x59fec6);}[_0xbf0507('0x78')](){const _0x279761=_0xbf0507;super[_0x279761('0x78')]();if(!this[_0x279761('0x4e')][_0x279761('0x17d')])this[_0x279761('0x48')]['isCancelled']=!![];this[_0x279761('0xe2')]();}[_0xbf0507('0xfe')](){const _0x2d1d5d=_0xbf0507;return this[_0x2d1d5d('0x59')];}},ImportListClass[_0xbf0507('0x81')][_0xbf0507('0x171')]=class extends BaseComponent{constructor(_0x35d5a8,_0x517136,_0x4488c1){const _0x447f83=_0xbf0507;super(),this['_actor']=_0x35d5a8,this['_importOpts']=_0x517136,this['_fnClose']=_0x4488c1,this[_0x447f83('0x18c')]=![],Object[_0x447f83('0x140')](this[_0x447f83('0x39')],{'str':Number(MiscUtil[_0x447f83('0xb2')](this[_0x447f83('0x2c')],_0x447f83('0x94'),_0x447f83('0x94'),_0x447f83('0x137'),_0x447f83('0xaa'),'value')||0x0),'dex':Number(MiscUtil[_0x447f83('0xb2')](this[_0x447f83('0x2c')],_0x447f83('0x94'),'data','abilities',_0x447f83('0x90'),'value')||0x0),'con':Number(MiscUtil[_0x447f83('0xb2')](this[_0x447f83('0x2c')],'data',_0x447f83('0x94'),_0x447f83('0x137'),_0x447f83('0x9'),_0x447f83('0x103'))||0x0),'int':Number(MiscUtil[_0x447f83('0xb2')](this[_0x447f83('0x2c')],'data','data',_0x447f83('0x137'),_0x447f83('0x186'),_0x447f83('0x103'))||0x0),'wis':Number(MiscUtil[_0x447f83('0xb2')](this[_0x447f83('0x2c')],_0x447f83('0x94'),_0x447f83('0x94'),'abilities',_0x447f83('0x68'),_0x447f83('0x103'))||0x0),'cha':Number(MiscUtil[_0x447f83('0xb2')](this['_actor'],_0x447f83('0x94'),'data',_0x447f83('0x137'),_0x447f83('0x0'),_0x447f83('0x103'))||0x0)});}get[_0xbf0507('0x17d')](){const _0x5c326a=_0xbf0507;return this[_0x5c326a('0x18c')];}[_0xbf0507('0xb8')](_0x9cfc2f){const _0x270633=_0xbf0507,_0x531953=$(_0x270633('0xf4'))[_0x270633('0x70')](()=>this[_0x270633('0x19')][_0x270633('0x10e')]='ability'),_0x1d2964=$(_0x270633('0x93'))[_0x270633('0x70')](()=>this['_state']['mode']=_0x270633('0x16f')),_0x54a070=$('<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>'),_0x25d979=$(_0x270633('0x172')),_0x424b11=()=>{const _0x1b8b93=_0x270633,_0xda8c1b=this[_0x1b8b93('0x19')]['mode']===_0x1b8b93('0x11');_0x531953['toggleClass'](_0x1b8b93('0xb4'),_0xda8c1b),_0x1d2964[_0x1b8b93('0xc8')](_0x1b8b93('0xb4'),!_0xda8c1b),_0x54a070[_0x1b8b93('0xbd')](_0xda8c1b),_0x25d979['toggleVe'](!_0xda8c1b);};_0x424b11(),this['_addHookBase']('mode',_0x424b11),this['_render_ability'](_0x54a070),this[_0x270633('0x187')](_0x25d979),$$(_0x9cfc2f)`<div class="flex-col w-100 h-100">
			<div class="flex no-shrink btn-group mb-1">${_0x531953}${_0x1d2964}</div>
			${_0x54a070}
			${_0x25d979}
		</div>`;}[_0xbf0507('0x11a')](_0x7d3637){const _0x29c664=_0xbf0507,_0x3ed250=[_0x29c664('0xaa'),_0x29c664('0x90'),_0x29c664('0x9'),'int',_0x29c664('0x68'),_0x29c664('0x0')][_0x29c664('0x161')](_0x580dd3=>{const _0x4e42b4=_0x29c664,_0x34620f=$(_0x4e42b4('0x156')),_0xfd4e69=$(_0x4e42b4('0x156')),_0x12d223=()=>{const _0x37718e=_0x4e42b4;_0x34620f[_0x37718e('0x67')](this[_0x37718e('0x19')][_0x580dd3]),_0xfd4e69[_0x37718e('0x67')](Parser[_0x37718e('0xa9')](this[_0x37718e('0x19')][_0x580dd3]));};this[_0x4e42b4('0x157')](_0x580dd3,_0x12d223),_0x12d223();const _0x328556=_0x580dd3+'Bonus',{$wrp:_0x26c737,$ipt:_0x2c517b}=ComponentUiUtil[_0x4e42b4('0x99')](this,_0x328556,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':_0x4e42b4('0x17'),'asMeta':!![],'decorationRight':'ticker','decorationLeft':_0x4e42b4('0x15f')});_0x2c517b[_0x4e42b4('0x70')](()=>_0x2c517b[_0x4e42b4('0xd4')]());const _0x1bb873=$(_0x4e42b4('0x156')),_0x40b472=$(_0x4e42b4('0x156')),_0x448a4a=()=>{const _0xd0101e=_0x4e42b4,_0x565b9a=this[_0xd0101e('0x19')][_0x580dd3]+this[_0xd0101e('0x19')][_0x328556];_0x1bb873[_0xd0101e('0x67')](_0x565b9a),_0x40b472[_0xd0101e('0x67')](Parser[_0xd0101e('0xa9')](_0x565b9a)),_0x1bb873['toggleClass'](_0xd0101e('0x182'),_0x565b9a>0x14)[_0xd0101e('0x6f')](_0x565b9a>0x14?'You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.':'');};this[_0x4e42b4('0x157')](_0x328556,_0x448a4a),_0x448a4a();const _0x6ac86f=$$`<div class="flex row my-1">
				<div class="col-1 text-right bold">${_0x580dd3[_0x4e42b4('0x5d')]()}</div>
				${_0x34620f}
				${_0xfd4e69}
				<div class="col-2">${_0x26c737}</div>
				<div class="col-1 text-center">=</div>
				${_0x1bb873}
				${_0x40b472}
			</div>`;return{'$row':_0x6ac86f,'$iptBonus':_0x2c517b};}),_0x2fea50=$(_0x29c664('0x66')),_0x48728c=()=>{const _0x451c0b=_0x29c664,_0x249e17=[_0x451c0b('0x62'),'dexBonus','conBonus',_0x451c0b('0x3c'),'wisBonus',_0x451c0b('0x28')][_0x451c0b('0x161')](_0x1022a6=>this[_0x451c0b('0x19')][_0x1022a6])[_0x451c0b('0xae')]((_0x1523ff,_0xf65ba0)=>_0x1523ff+_0xf65ba0,0x0),_0xfe7d5f=_0x249e17>0x2;_0x2fea50[_0x451c0b('0x67')](_0x451c0b('0x177')+(0x2-_0x249e17))['toggleClass'](_0x451c0b('0x182'),_0xfe7d5f),_0x3ed250[_0x451c0b('0xc7')](_0x129594=>_0x129594['$iptBonus']['toggleClass']('form-control--error',_0xfe7d5f));};[_0x29c664('0x62'),_0x29c664('0x5'),_0x29c664('0x113'),_0x29c664('0x3c'),_0x29c664('0x98'),'chaBonus'][_0x29c664('0xc7')](_0x584d39=>this[_0x29c664('0x157')](_0x584d39,_0x48728c)),_0x48728c();const _0x51be94=$(_0x29c664('0x89'))[_0x29c664('0x70')](async()=>{const _0x2fb577=_0x29c664,_0x2c3830=[this[_0x2fb577('0x19')][_0x2fb577('0x62')],this[_0x2fb577('0x19')][_0x2fb577('0x5')],this[_0x2fb577('0x19')]['conBonus'],this[_0x2fb577('0x19')]['intBonus'],this[_0x2fb577('0x19')][_0x2fb577('0x98')],this[_0x2fb577('0x19')][_0x2fb577('0x28')]]['reduce']((_0x1a0e70,_0x323cc6)=>_0x1a0e70+_0x323cc6,0x0);if(_0x2c3830!==0x2)return ui['notifications'][_0x2fb577('0x36')](_0x2fb577('0xf7'));await this[_0x2fb577('0xd1')](!![]);}),_0x34b2dc=$(_0x29c664('0xdb'))['click'](()=>this[_0x29c664('0xd1')](VeCt[_0x29c664('0x109')]));$$(_0x7d3637)`
		<div class="flex w-100 row my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0x2fea50}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="flex-col w-100 h-100">
			${_0x3ed250['map'](_0x4f8544=>_0x4f8544[_0x29c664('0xef')])}
		</div>
		<div class="flex-v-center flex-h-right w-100">${_0x51be94}${_0x34b2dc}</div>
		`;}[_0xbf0507('0x187')](_0x5edc59){const _0x4c4c5f=_0xbf0507,_0x53498e=$(_0x4c4c5f('0x24'))[_0x4c4c5f('0x70')](async()=>{const _0x112328=_0x4c4c5f,_0x116bcc=await ImportListClass[_0x112328('0xf8')][_0x112328('0xe5')]({'id':_0x112328('0x175'),'name':_0x112328('0x13c'),'singleName':_0x112328('0x154'),'wizardTitleWindow':_0x112328('0x1b'),'wizardTitlePanel3':_0x112328('0x19c'),'wizardTitleButtonOpenImporter':'Open\x20List'},_0x112328('0x189'));if(!_0x116bcc)return;this['_state'][_0x112328('0xfc')]=_0x116bcc;}),_0x1d204a=$(_0x4c4c5f('0x22')),_0x57a46d=()=>{const _0x5a1fe0=_0x4c4c5f;_0x1d204a['empty']();if(!this[_0x5a1fe0('0x19')][_0x5a1fe0('0xfc')])return;_0x1d204a[_0x5a1fe0('0x74')]('<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x22>Selected:\x20'+this['_state'][_0x5a1fe0('0xfc')]['name']+'</h3>');const {page:_0x2c8f0e,source:_0x467da0,hash:_0x2215a2}=MiscUtil[_0x5a1fe0('0xb2')](this['_state'][_0x5a1fe0('0xfc')],_0x5a1fe0('0x5a'),SharedConsts[_0x5a1fe0('0xcd')])||{};if(!_0x2215a2)return;Renderer[_0x5a1fe0('0x163')][_0x5a1fe0('0xf6')](_0x2c8f0e,_0x467da0,_0x2215a2)[_0x5a1fe0('0x129')](_0x48fcc1=>{const _0x2c7253=_0x5a1fe0;_0x1d204a[_0x2c7253('0x74')](_0x2c7253('0xf0')+Vetools[_0x2c7253('0x108')](()=>Renderer[_0x2c7253('0x16f')][_0x2c7253('0x193')](_0x48fcc1))+_0x2c7253('0x95'));});};_0x57a46d(),this[_0x4c4c5f('0x157')](_0x4c4c5f('0xfc'),_0x57a46d);const _0x5508dc=$(_0x4c4c5f('0x124'))[_0x4c4c5f('0x70')](async()=>{const _0x29ce20=_0x4c4c5f;if(!this['_state'][_0x29ce20('0xfc')])return ui[_0x29ce20('0x141')][_0x29ce20('0x36')](_0x29ce20('0x18e'));await this[_0x29ce20('0xd1')](!![]);}),_0x2c141b=$(_0x4c4c5f('0x4'))[_0x4c4c5f('0x70')](()=>this['_pDoResolve'](VeCt['SYM_UI_SKIP']));$$(_0x5edc59)`
		<div class="flex-col h-100">
			<div class="flex-v-center btn-group mb-1">${_0x53498e}${_0x5508dc}${_0x2c141b}</div>
			${_0x1d204a}
		</div>
		`;}async[_0xbf0507('0xd1')](_0x4bc9dc){const _0x7bf677=_0xbf0507;if(!_0x4bc9dc)return this[_0x7bf677('0x1a1')]();if(_0x4bc9dc===VeCt[_0x7bf677('0x109')])return this[_0x7bf677('0x18c')]=!![],this['_fnClose']();const _0x1e24f2=this[_0x7bf677('0x33')]();_0x1e24f2&&(this[_0x7bf677('0x18c')]=!![],await this[_0x7bf677('0x2c')][_0x7bf677('0xc5')](_0x1e24f2));const _0x839d05=this[_0x7bf677('0x126')]();_0x839d05&&(this[_0x7bf677('0x18c')]=!![],this[_0x7bf677('0x48')][_0x7bf677('0x167')][_0x7bf677('0x9b')](_0x839d05)),this[_0x7bf677('0x1a1')]();}['_getActorUpdate'](){const _0x4bd78b=_0xbf0507;if(this[_0x4bd78b('0x19')][_0x4bd78b('0x10e')]!==_0x4bd78b('0x11'))return null;return{'data':{'abilities':{'str':{'value':this[_0x4bd78b('0x19')][_0x4bd78b('0xaa')]+this[_0x4bd78b('0x19')][_0x4bd78b('0x62')]},'dex':{'value':this[_0x4bd78b('0x19')]['dex']+this[_0x4bd78b('0x19')][_0x4bd78b('0x5')]},'con':{'value':this[_0x4bd78b('0x19')][_0x4bd78b('0x9')]+this[_0x4bd78b('0x19')][_0x4bd78b('0x113')]},'int':{'value':this[_0x4bd78b('0x19')][_0x4bd78b('0x186')]+this[_0x4bd78b('0x19')][_0x4bd78b('0x3c')]},'wis':{'value':this['_state'][_0x4bd78b('0x68')]+this[_0x4bd78b('0x19')][_0x4bd78b('0x98')]},'cha':{'value':this[_0x4bd78b('0x19')][_0x4bd78b('0x0')]+this[_0x4bd78b('0x19')]['chaBonus']}}}};}[_0xbf0507('0x126')](){const _0x51237c=_0xbf0507;if(this[_0x51237c('0x19')][_0x51237c('0x10e')]!==_0x51237c('0x16f'))return null;return this['_state'][_0x51237c('0xfc')];}[_0xbf0507('0xc3')](){const _0xdb6bb=_0xbf0507;return{'mode':_0xdb6bb('0x11'),'str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'featData':null};}},ImportListClass[_0xbf0507('0xf8')]=class extends MiscUtil[_0xbf0507('0x10')](ImportListFeat)[_0xbf0507('0x27')](MixinUserChooseImporter){constructor(_0x4db16f){const _0x2f611c=_0xbf0507;super(_0x4db16f,{'title':_0x2f611c('0x147')},{'titleButtonRun':_0x2f611c('0x80')});}};export{ImportListClass};