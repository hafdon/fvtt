const _0xafe3=['DND5E.PolymorphKeepPhysical','user','userId','click','Creatures','init','you\x20lack\x20item\x20creation\x20permissions','systems/dnd5e/templates/apps/polymorph-prompt.html','collection','creatures-actorPolymorpher','system-wide\x20player\x20polymorphing\x20is\x20disabled','filter','attr','isToken','DND5E.PolymorphKeepMental','DND5E.PolymorphKeepItems','localize','\x22\x20not\x20found!','currentTarget','DND5E.PolymorphKeepSaves','<p>','Configure\x20and\x20Open\x20List','polymorphSettings','escapeQuotes','Cannot\x20polymorph:\x20','transformInto','map','DND5E.PolymorphAcceptSettings','you\x20lack\x20actor\x20creation\x20permissions','replace','_sourceActor','ImportList','input','_actor','body','ITEM_CREATE','dnd5e','.\x22\x20Proceed?</p><div><button\x20data-plut-actor-delete=\x22','render','actorPolymorpher','sourceActor','users','accept','mix','warn','DND5E.PolymorphMergeSaves','DND5E.PolymorphKeepFeats','pHandleButtonClick','_init_player','find','Select','.sheet.actor','settings','DND5E.Polymorph','DND5E.PolymorphMergeSkills','transformTokens','pGetUserChoice','each','sounds/notify.wav','DND5E.PolymorphKeepSkills','isGM','allowPolymorphing','DND5E.PolymorphKeepBio','Creature','name','DND5E.PolymorphKeepClass','i18n','DND5E.PolymorphKeepSpells','entities','notifications','ACTOR_CREATE','checked','create','data-plut-actor-delete','Actor\x20\x22','delete','join','get','can','DND5E.PolymorphPromptTitle','length','<i\x20class=\x22fas\x20fa-check\x22></i>'];(function(_0x6db0c4,_0xafe391){const _0x248fda=function(_0x5163e8){while(--_0x5163e8){_0x6db0c4['push'](_0x6db0c4['shift']());}};_0x248fda(++_0xafe391);}(_0xafe3,0x80));const _0x248f=function(_0x6db0c4,_0xafe391){_0x6db0c4=_0x6db0c4-0x0;let _0x248fda=_0xafe3[_0x6db0c4];return _0x248fda;};import{ImportListCreature}from'./ImportListCreature.js';import{MixinUserChooseImporter}from'./ImportList.js';class ActorPolymorpher extends Dialog{static[_0x248f('0x29')](){if(game[_0x248f('0x25')][_0x248f('0xe')])this['_init_gm']();else this[_0x248f('0x2')]();}static[_0x248f('0x2')](){$(document[_0x248f('0x46')])['on']('click','.restore-transformation',_0x235fd9=>{const _0x472470=$(_0x235fd9[_0x248f('0x36')])['closest'](_0x248f('0x5'))['attr']('id')[_0x248f('0x41')]('actor-',''),_0x4cda41=Actor[_0x248f('0x2c')][_0x248f('0x1f')](_0x472470);ChatMessage[_0x248f('0x1a')]({'sound':_0x248f('0xc'),'content':_0x248f('0x38')+game['user']['name']+'\x20has\x20transformed\x20back\x20into\x20their\x20original\x20form,\x20and\x20requests\x20you\x20delete\x20their\x20temporary\x20polymorphed\x20actor\x20\x22'+_0x4cda41[_0x248f('0x12')][_0x248f('0x3b')]()+_0x248f('0x49')+_0x472470+'\x22>Delete</button></div>','user':game[_0x248f('0x26')],'type':0x4,'whisper':game[_0x248f('0x4d')][_0x248f('0x16')][_0x248f('0x2f')](_0x5b1449=>_0x5b1449['isGM'])[_0x248f('0x3e')](_0x2c2726=>_0x2c2726['id'])});});}static['_init_gm'](){$(document['body'])['on'](_0x248f('0x27'),'[data-plut-actor-delete]',async _0x551ab3=>{const _0x1545ed=$(_0x551ab3[_0x248f('0x36')])[_0x248f('0x30')](_0x248f('0x1b')),_0x377157=Actor[_0x248f('0x2c')][_0x248f('0x1f')](_0x1545ed);if(!_0x377157)return ui[_0x248f('0x17')][_0x248f('0x50')](_0x248f('0x1c')+_0x1545ed+_0x248f('0x35'));await _0x377157[_0x248f('0x1d')](),ui[_0x248f('0x17')]['info']('Deleted\x20actor\x20\x22'+_0x377157['name']+'\x22');});}static async[_0x248f('0x1')](_0xd36ff7,_0x3d9112,_0x3c64de,_0x3361b8){if(!game['user'][_0x248f('0xe')]){const _0x12a106=[game['user'][_0x248f('0x20')](_0x248f('0x18'))?'':_0x248f('0x40'),game[_0x248f('0x25')]['can'](_0x248f('0x47'))?'':_0x248f('0x2a'),game[_0x248f('0x6')][_0x248f('0x1f')]('dnd5e',_0x248f('0xf'))?'':_0x248f('0x2e')][_0x248f('0x2f')](Boolean);if(_0x12a106[_0x248f('0x22')])return ui['notifications'][_0x248f('0x50')](_0x248f('0x3c')+_0x12a106[_0x248f('0x1e')](';\x20'));}const _0x13b3b7=new ActorPolymorpher(_0x3d9112['actor']),_0x4d3fa4=await ActorPolymorpher[_0x248f('0x43')][_0x248f('0xa')]({'id':_0x248f('0x2d'),'name':_0x248f('0x28'),'singleName':_0x248f('0x11'),'wizardTitleWindow':'Select\x20Source','wizardTitlePanel3':_0x248f('0x39'),'wizardTitleButtonOpenImporter':'Open\x20List'},_0x248f('0x4b'));if(_0x4d3fa4==null)return;_0x13b3b7['sourceActor']=_0x4d3fa4,_0x13b3b7[_0x248f('0x4a')](!![]);}constructor(_0x49f4d9){const _0x5f052d=_0x292a87=>{const _0x137d68={};_0x292a87[_0x248f('0x3')](_0x248f('0x44'))[_0x248f('0xb')]((_0x8cce2d,_0x26800d)=>{_0x137d68[_0x26800d[_0x248f('0x12')]]=_0x26800d[_0x248f('0x19')];});const _0xa993e2=mergeObject(game[_0x248f('0x6')][_0x248f('0x1f')](_0x248f('0x48'),_0x248f('0x3a'))||{},_0x137d68);return game[_0x248f('0x6')]['set']('dnd5e','polymorphSettings',_0xa993e2),_0xa993e2;};super({'title':game['i18n']['localize'](_0x248f('0x21')),'content':{'options':game['settings'][_0x248f('0x1f')](_0x248f('0x48'),_0x248f('0x3a')),'i18n':{'keepPhysical':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x24')),'keepMental':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x32')),'keepSaves':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x37')),'keepSkills':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0xd')),'mergeSaves':game['i18n'][_0x248f('0x34')](_0x248f('0x51')),'mergeSkills':game['i18n'][_0x248f('0x34')](_0x248f('0x8')),'keepClass':game[_0x248f('0x14')]['localize'](_0x248f('0x13')),'keepFeats':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x0')),'keepSpells':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x15')),'keepItems':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x33')),'keepBio':game[_0x248f('0x14')]['localize'](_0x248f('0x10')),'keepVision':game[_0x248f('0x14')][_0x248f('0x34')]('DND5E.PolymorphKeepVision')},'isToken':_0x49f4d9[_0x248f('0x31')]},'default':_0x248f('0x4e'),'buttons':{'accept':{'icon':_0x248f('0x23'),'label':game[_0x248f('0x14')][_0x248f('0x34')](_0x248f('0x3f')),'callback':_0x5240c0=>this[_0x248f('0x45')][_0x248f('0x3d')](this[_0x248f('0x42')],_0x5f052d(_0x5240c0))},'wildshape':{'icon':'<i\x20class=\x22fas\x20fa-paw\x22></i>','label':game[_0x248f('0x14')][_0x248f('0x34')]('DND5E.PolymorphWildShape'),'callback':_0x325e83=>this[_0x248f('0x45')][_0x248f('0x3d')](this[_0x248f('0x42')],{'keepMental':!![],'mergeSaves':!![],'mergeSkills':!![],'transformTokens':_0x5f052d(_0x325e83)[_0x248f('0x9')]})},'polymorph':{'icon':'<i\x20class=\x22fas\x20fa-pastafarianism\x22></i>','label':game['i18n'][_0x248f('0x34')](_0x248f('0x7')),'callback':_0x48e9d9=>this[_0x248f('0x45')]['transformInto'](this['_sourceActor'],{'transformTokens':_0x5f052d(_0x48e9d9)[_0x248f('0x9')]})},'cancel':{'icon':'<i\x20class=\x22fas\x20fa-times\x22></i>','label':game[_0x248f('0x14')]['localize']('Cancel')}}},{'classes':['dialog',_0x248f('0x48')],'width':0x258,'template':_0x248f('0x2b')}),this[_0x248f('0x45')]=_0x49f4d9,this[_0x248f('0x42')]=null;}set[_0x248f('0x4c')](_0x19ed3c){this[_0x248f('0x42')]=_0x19ed3c;}}ActorPolymorpher[_0x248f('0x43')]=class extends MiscUtil[_0x248f('0x4f')](ImportListCreature)['with'](MixinUserChooseImporter){constructor(_0x4f83a6){super(_0x4f83a6,{'title':'Select\x20Creature'},{'titleButtonRun':_0x248f('0x4')});}};export{ActorPolymorpher};