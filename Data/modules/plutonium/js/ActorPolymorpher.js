const _0xae16=['init','[data-plut-actor-delete]','ACTOR_CREATE','users','<p>','map','actor-','click','transformTokens','Creatures','data','info','currentTarget','\x22>Delete</button></div>','dialog','delete','_doFakeActorDrop','Are\x20You\x20Sure?','This\x20actor\x20does\x20not\x20appear\x20to\x20be\x20transformedâ€”this\x20may\x20be\x20a\x20bug!','DND5E','1319237xAGoSq','.sheet.actor','transformInto','user','localize','notifications','ITEM_CREATE','i18n','closest','transformOptions','DND5E.PolymorphAcceptSettings','flags','you\x20lack\x20actor\x20creation\x20permissions','.restore-transformation','This\x20actor\x20does\x20not\x20appear\x20to\x20be\x20transformed.\x20Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20actor,\x20which\x20may\x20be\x20an\x20original\x20actor?','with','polymorphSettings','replace','Cancel','1RRNzIr','filter','entities','warn','notfications','_isActorTransformed','isGM','join','data-plut-actor-delete','originalActor','363589QuoUaN','Actor\x20\x22','pGetUserChoice','_init_player','115769doWKtk','Deleted\x20actor\x20\x22','actor','ImportList','Select\x20Source','get','creatures-actorPolymorpher','1499656PAoAGP','name','length','<i\x20class=\x22fas\x20fa-pastafarianism\x22></i>','actorPolymorpher','_init_gm','2yLECtF','Select','DND5E.PolymorphWildShape','can','401307fPYgmq','753444kmWhhn','create','systems/dnd5e/templates/apps/polymorph-prompt.html','<i\x20class=\x22fas\x20fa-paw\x22></i>','Select\x20Creature','Open\x20List','sounds/notify.wav','\x22\x20not\x20found!','pGetUserBoolean','mix','\x20has\x20transformed\x20back\x20into\x20their\x20original\x20form,\x20and\x20requests\x20you\x20delete\x20their\x20temporary\x20polymorphed\x20actor\x20\x22','settings','render','1551595GkTzDk','body','isToken','Creature','attr','<i\x20class=\x22fas\x20fa-check\x22></i>','dnd5e'];const _0x3491=function(_0x20e549,_0x5c0b1a){_0x20e549=_0x20e549-0xb5;let _0xae1624=_0xae16[_0x20e549];return _0xae1624;};const _0x5bb492=_0x3491;(function(_0x28dd85,_0x4cb47a){const _0x443cf7=_0x3491;while(!![]){try{const _0x423ba1=-parseInt(_0x443cf7(0xe5))*parseInt(_0x443cf7(0xe9))+-parseInt(_0x443cf7(0xf7))*parseInt(_0x443cf7(0xca))+parseInt(_0x443cf7(0xea))+-parseInt(_0x443cf7(0xd4))+parseInt(_0x443cf7(0xdf))+parseInt(_0x443cf7(0xb7))+parseInt(_0x443cf7(0xd8));if(_0x423ba1===_0x4cb47a)break;else _0x28dd85['push'](_0x28dd85['shift']());}catch(_0x51e832){_0x28dd85['push'](_0x28dd85['shift']());}}}(_0xae16,0xece44));import{ImportListCreature}from'./ImportListCreature.js';import{MixinUserChooseImporter}from'./ImportList.js';class ActorPolymorpher{static[_0x5bb492(0xfe)](){const _0x45cfd7=_0x5bb492;if(game[_0x45cfd7(0xba)][_0x45cfd7(0xd0)])this[_0x45cfd7(0xe4)]();else this['_init_player']();}static[_0x5bb492(0xcf)](_0x210f22){const _0x2fa618=_0x5bb492;if(MiscUtil[_0x2fa618(0xdd)](_0x210f22[_0x2fa618(0x108)][_0x2fa618(0xc2)],_0x2fa618(0xfd),_0x2fa618(0xd3)))return!![];if(MiscUtil['get'](_0x210f22[_0x2fa618(0x108)]['flags'],'dnd5e',_0x2fa618(0xc0)))return!![];return![];}static[_0x5bb492(0xd7)](){const _0xfd1b6d=_0x5bb492;$(document[_0xfd1b6d(0xf8)])['on'](_0xfd1b6d(0x105),_0xfd1b6d(0xc4),_0x136339=>{const _0x27d4f2=_0xfd1b6d,_0x1df321=$(_0x136339[_0x27d4f2(0x10a)])[_0x27d4f2(0xbf)](_0x27d4f2(0xb8))[_0x27d4f2(0xfb)]('id')[_0x27d4f2(0xc8)](_0x27d4f2(0x104),''),_0x7efdba=Actor['collection'][_0x27d4f2(0xdd)](_0x1df321);if(!this[_0x27d4f2(0xcf)](_0x7efdba)){const _0x17fe6d=_0x27d4f2(0xb5);console['warn'](_0x17fe6d),ui[_0x27d4f2(0xce)]['warn'](_0x17fe6d);}ChatMessage[_0x27d4f2(0xeb)]({'sound':_0x27d4f2(0xf0),'content':_0x27d4f2(0x102)+game[_0x27d4f2(0xba)]['name']+_0x27d4f2(0xf4)+_0x7efdba[_0x27d4f2(0xe0)]['escapeQuotes']()+'.\x22\x20Proceed?</p><div><button\x20data-plut-actor-delete=\x22'+_0x1df321+_0x27d4f2(0x10b),'user':game['userId'],'type':0x4,'whisper':game[_0x27d4f2(0x101)][_0x27d4f2(0xcc)][_0x27d4f2(0xcb)](_0x5227d8=>_0x5227d8['isGM'])[_0x27d4f2(0x103)](_0x1b261d=>_0x1b261d['id'])});});}static['_init_gm'](){const _0xabda7d=_0x5bb492;$(document[_0xabda7d(0xf8)])['on'](_0xabda7d(0x105),_0xabda7d(0xff),async _0x290a63=>{const _0x35771b=_0xabda7d,_0x446f0c=$(_0x290a63[_0x35771b(0x10a)])[_0x35771b(0xfb)](_0x35771b(0xd2)),_0x51ae86=Actor['collection'][_0x35771b(0xdd)](_0x446f0c);if(!_0x51ae86)return ui['notifications'][_0x35771b(0xcd)](_0x35771b(0xd5)+_0x446f0c+_0x35771b(0xf1));if(!this['_isActorTransformed'](_0x51ae86)){const _0x55d3b7=await InputUiUtil[_0x35771b(0xf2)]({'title':_0x35771b(0x10f),'htmlDescription':_0x35771b(0xc5)});if(!_0x55d3b7)return;}await _0x51ae86[_0x35771b(0x10d)](),ui['notifications'][_0x35771b(0x109)](_0x35771b(0xd9)+_0x51ae86[_0x35771b(0xe0)]+'\x22');});}static async['pHandleButtonClick'](_0x56a374,_0x3345fb,_0x5876c8,_0x350570){const _0x13dc0e=_0x5bb492;if(!game[_0x13dc0e(0xba)][_0x13dc0e(0xd0)]){const _0x1bebad=[game[_0x13dc0e(0xba)][_0x13dc0e(0xe8)](_0x13dc0e(0x100))?'':_0x13dc0e(0xc3),game[_0x13dc0e(0xba)][_0x13dc0e(0xe8)](_0x13dc0e(0xbd))?'':'you\x20lack\x20item\x20creation\x20permissions',game[_0x13dc0e(0xf5)]['get'](_0x13dc0e(0xfd),'allowPolymorphing')?'':'system-wide\x20player\x20polymorphing\x20is\x20disabled'][_0x13dc0e(0xcb)](Boolean);if(_0x1bebad[_0x13dc0e(0xe1)])return ui[_0x13dc0e(0xbc)][_0x13dc0e(0xcd)]('Cannot\x20polymorph:\x20'+_0x1bebad[_0x13dc0e(0xd1)](';\x20'));}const _0x59d6ef=await ActorPolymorpher[_0x13dc0e(0xdb)][_0x13dc0e(0xd6)]({'id':_0x13dc0e(0xde),'name':_0x13dc0e(0x107),'singleName':_0x13dc0e(0xfa),'wizardTitleWindow':_0x13dc0e(0xdc),'wizardTitlePanel3':'Configure\x20and\x20Open\x20List','wizardTitleButtonOpenImporter':_0x13dc0e(0xef)},_0x13dc0e(0xe3));if(_0x59d6ef==null)return;await this[_0x13dc0e(0x10e)](_0x3345fb[_0x13dc0e(0xda)],_0x59d6ef);}static async[_0x5bb492(0x10e)](_0x465a02,_0x40ea6c){const _0x27dd27=_0x5bb492,_0x4dadf=_0x5b26a2=>{const _0x104f90=_0x3491,_0x42b967={};_0x5b26a2['find']('input')['each']((_0x446349,_0x2378fb)=>{_0x42b967[_0x2378fb['name']]=_0x2378fb['checked'];});const _0x2c33da=mergeObject(game['settings'][_0x104f90(0xdd)](_0x104f90(0xfd),'polymorphSettings')||{},_0x42b967);return game[_0x104f90(0xf5)]['set'](_0x104f90(0xfd),_0x104f90(0xc7),_0x2c33da),_0x2c33da;};return new Dialog({'title':game[_0x27dd27(0xbe)][_0x27dd27(0xbb)]('DND5E.PolymorphPromptTitle'),'content':{'options':game[_0x27dd27(0xf5)][_0x27dd27(0xdd)](_0x27dd27(0xfd),'polymorphSettings'),'i18n':CONFIG[_0x27dd27(0xb6)]['polymorphSettings'],'isToken':_0x465a02[_0x27dd27(0xf9)]},'default':'accept','buttons':{'accept':{'icon':_0x27dd27(0xfc),'label':game[_0x27dd27(0xbe)][_0x27dd27(0xbb)](_0x27dd27(0xc1)),'callback':_0x47d8ec=>_0x465a02[_0x27dd27(0xb9)](_0x40ea6c,_0x4dadf(_0x47d8ec))},'wildshape':{'icon':_0x27dd27(0xed),'label':game[_0x27dd27(0xbe)][_0x27dd27(0xbb)](_0x27dd27(0xe7)),'callback':_0x11f8b9=>_0x465a02[_0x27dd27(0xb9)](_0x40ea6c,{'keepBio':!![],'keepClass':!![],'keepMental':!![],'mergeSaves':!![],'mergeSkills':!![],'transformTokens':_0x4dadf(_0x11f8b9)[_0x27dd27(0x106)]})},'polymorph':{'icon':_0x27dd27(0xe2),'label':game['i18n']['localize']('DND5E.Polymorph'),'callback':_0x3a20b6=>_0x465a02[_0x27dd27(0xb9)](_0x40ea6c,{'transformTokens':_0x4dadf(_0x3a20b6)[_0x27dd27(0x106)]})},'cancel':{'icon':'<i\x20class=\x22fas\x20fa-times\x22></i>','label':game[_0x27dd27(0xbe)][_0x27dd27(0xbb)](_0x27dd27(0xc9))}}},{'classes':[_0x27dd27(0x10c),'dnd5e'],'width':0x258,'template':_0x27dd27(0xec)})[_0x27dd27(0xf6)](!![]);}}ActorPolymorpher[_0x5bb492(0xdb)]=class extends MiscUtil[_0x5bb492(0xf3)](ImportListCreature)[_0x5bb492(0xc6)](MixinUserChooseImporter){constructor(_0x5dcf18){const _0x5c42d4=_0x5bb492;super(_0x5dcf18,{'title':_0x5c42d4(0xee)},{'titleButtonRun':_0x5c42d4(0xe6)});}};export{ActorPolymorpher};