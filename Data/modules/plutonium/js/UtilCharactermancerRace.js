const _0x164b=['pGetUserInput','489DmaLUC','pGetImportCompModalFormData','empty','84059DalGGN','Damage\x20Resistance','249310JJKSUu','add','_existing','_render_recurse','Damage\x20Vulnerabilities','<hr\x20class=\x22hr-1\x20hr--dotted\x22>','PG_FEATS','Unimplemented!','map','assign','_modalTitle','Damage\x20Resistances','flags','<div\x20class=\x22flex-col\x20overflow-y-auto\x20min-h-0\x22></div>','_getOutputSet_recurse','<div\x20class=\x22flex-col\x20py-1\x20pt-0\x22>\x0a\x09\x09\x09\x09\x09','sort','constructor','children','pGetImportCompApplicationFormData','_getProps','change','_state','Select\x20Source','feats-raceFeatSelect','<div\x20class=\x22flex-col\x20my-1\x22></div>','_featCount','hover','Damage\x20Immunities','lastChecked','\x0a\x09\x09\x09\x09\x09<div\x20class=\x22py-1\x22>Choose\x20','withUnpatchedDiceRendering','getExisting','choose','raceFeatSelect','</div>','pGetUserChoice','modalTitle','65882DJuvFE','ascSortLower','Choose\x20Feat','_titleSingle','push','$getHoverContent_stats','_available','count','copy','331pHUtIZ','482EvxhuR','string','12808cwJiTK','WALKER_READONLY_GENERIC','walk','keys','pGetFormData','readonly_selectedValues','titleSingle','<button\x20class=\x22btn\x20btn-default\x22>Select\x20Feat</button>','prop','1rOfRQb','existingFvtt','_titlePlural','click','1489AtZqCh','appendTo','<button\x20class=\x22btn\x20btn-primary\x20btn-5et\x20btn-xs\x22>Set\x20Group\x20Active</button>','disease','html','__state','toTitleCase','Configure\x20and\x20Open\x20List','<div\x20class=\x22italic\x20ve-muted\x22>No\x20feat\x20selected</div>','last',':</div>\x0a\x09\x09\x09\x09</div>','forEach','isChoosable','length','<div>','Condition\x20Immunities','available','value','isNoChoice','isActive','Feats','join','featData_','Open\x20List','_lastChoiceMeta','render','_getOutputObject','Damage\x20Immunity','checked','<hr\x20class=\x22hr-2\x22>','_getDefaultState','from','mergeMap','Damage\x20Vulnerability','filter','422323JyYerf'];const _0x16d4=function(_0x214127,_0x53807f){_0x214127=_0x214127-0x68;let _0x164b15=_0x164b[_0x214127];return _0x164b15;};const _0x3029a6=_0x16d4;(function(_0x41f91d,_0x43fd72){const _0x3595df=_0x16d4;while(!![]){try{const _0x155590=-parseInt(_0x3595df(0xa3))*-parseInt(_0x3595df(0xb3))+parseInt(_0x3595df(0xaf))*parseInt(_0x3595df(0x9a))+-parseInt(_0x3595df(0x6f))*parseInt(_0x3595df(0xa4))+parseInt(_0x3595df(0xa6))+parseInt(_0x3595df(0x74))+parseInt(_0x3595df(0x72))+-parseInt(_0x3595df(0x6d));if(_0x155590===_0x43fd72)break;else _0x41f91d['push'](_0x41f91d['shift']());}catch(_0x24a7bf){_0x41f91d['push'](_0x41f91d['shift']());}}}(_0x164b,0x3c471));import{DataConverter}from'./DataConverter.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Vetools}from'./Vetools.js';import{ImportListFeat}from'./ImportListFeat.js';import{Util}from'./Util.js';class Charactermancer_Race_ImmResVulnSelect extends BaseComponent{static async[_0x3029a6(0x6e)](_0x25ed20){const _0x4343dc=_0x3029a6;_0x25ed20=_0x25ed20||{};if(!_0x25ed20[_0x4343dc(0xc3)])return{'isFormComplete':!![],'data':{}};const _0x1e007f=new this({..._0x25ed20,'existing':this[_0x4343dc(0x94)](_0x25ed20[_0x4343dc(0xb0)])});if(_0x1e007f['isNoChoice']())return _0x1e007f['pGetFormData']();return Charactermancer_Util[_0x4343dc(0x70)]({'comp':_0x1e007f});}static[_0x3029a6(0x94)](){const _0x2c18cc=_0x3029a6;throw new TypeError(_0x2c18cc(0x7b));}constructor(_0x23c16c){const _0x20b73b=_0x3029a6;_0x23c16c=_0x23c16c||{},super(),this[_0x20b73b(0x76)]=_0x23c16c['existing'],this['_available']=_0x23c16c[_0x20b73b(0xc3)],this['_modalTitle']=_0x23c16c[_0x20b73b(0x99)],this[_0x20b73b(0xb1)]=_0x23c16c['titlePlural'],this[_0x20b73b(0x9d)]=_0x23c16c[_0x20b73b(0xac)],this[_0x20b73b(0xcb)]=null,Object[_0x20b73b(0x7d)](this[_0x20b73b(0xb8)][_0x20b73b(0xab)],this[_0x20b73b(0xcd)]());}get['modalTitle'](){const _0x4e9031=_0x3029a6;return this[_0x4e9031(0x7e)];}[_0x3029a6(0xcc)](_0x5e7382){const _0x305fd=_0x3029a6;this['_lastChoiceMeta']={'isActive':!![],'children':[]},this[_0x305fd(0x77)](_0x5e7382,MiscUtil[_0x305fd(0xa2)](this['_available']),this['_lastChoiceMeta'],![]);}[_0x3029a6(0x77)](_0x115f91,_0x2523ed,_0x10d157,_0x5acaba){const _0x781d72=_0x3029a6,_0x42aa1b=_0x2523ed[_0x781d72(0x6c)](_0x145a90=>typeof _0x145a90===_0x781d72(0xa5))[_0x781d72(0x84)](SortUtil[_0x781d72(0x9b)]);if(!_0x5acaba){const _0x359a0f=_0x42aa1b[_0x781d72(0x7c)](_0x1f0c40=>{const _0x252bd0=_0x781d72;return _0x10d157[_0x252bd0(0x86)]['push']({'isActive':!![],'value':_0x1f0c40}),_0x1f0c40['toTitleCase']();});_0x115f91['append'](_0x781d72(0xc1)+_0x359a0f[_0x781d72(0xc8)](',\x20')+_0x781d72(0x97));}else _0x42aa1b['forEach'](_0xe1dd93=>{const _0x4eb6fd=_0x781d72,_0x42b832=$('<input\x20type=\x22checkbox\x22\x20class=\x22ml-1\x20mr-2\x22>')[_0x4eb6fd(0x89)](()=>{const _0x42bf6d=_0x4eb6fd;if(_0x42b832[_0x42bf6d(0xae)](_0x42bf6d(0xcf))){const _0x28c6ad=_0x10d157[_0x42bf6d(0x86)][_0x42bf6d(0x6c)](_0x3c4616=>_0x3c4616[_0x42bf6d(0xbf)]&&_0x3c4616['isActive']())['length'];if(_0x28c6ad>_0x10d157['count']){const _0x6c2d15=_0x10d157[_0x42bf6d(0x91)]||_0x10d157[_0x42bf6d(0x86)][_0x42bf6d(0x6c)](_0x26d215=>_0x26d215[_0x42bf6d(0xbf)])[_0x42bf6d(0xbc)]();_0x6c2d15['setActive'](![]);}_0x10d157['lastChecked']=_0x2542c3;}else{if(_0x10d157['lastChecked']===_0x2542c3)_0x10d157['lastChecked']=null;}this['_state']['readonly_selectedValues']=this[_0x42bf6d(0xcd)]();}),_0x2542c3={'isActive':()=>_0x42b832['prop'](_0x4eb6fd(0xcf))?_0xe1dd93:null,'value':_0xe1dd93,'isChoosable':!![],'setActive':_0x6c2dda=>_0x42b832[_0x4eb6fd(0xae)](_0x4eb6fd(0xcf),_0x6c2dda)};return _0x10d157['children'][_0x4eb6fd(0x9e)](_0x2542c3),$$`<label class="py-1 stripe-even flex-v-center">
						${_0x42b832}
						<span>${_0xe1dd93[_0x4eb6fd(0xb9)]()}</span>
					</label>`[_0x4eb6fd(0xb4)](_0x115f91);});_0x2523ed[_0x781d72(0x6c)](_0x3627f7=>typeof _0x3627f7!==_0x781d72(0xa5))['forEach']((_0x4dbda7,_0x40477e)=>{const _0x484915=_0x781d72;if(!_0x4dbda7[_0x484915(0x95)])throw new Error('Unhandled\x20immune/resist/vulnerability\x20properties\x20\x22'+Object[_0x484915(0xa9)](_0x4dbda7)[_0x484915(0xc8)](',\x20')+'\x22');if(_0x5acaba){const _0xa39b3d=$(_0x484915(0xb5))[_0x484915(0xb2)](()=>{const _0x26094f=_0x484915;_0x10d157[_0x26094f(0x86)][_0x26094f(0xbe)](_0x504ea8=>_0x504ea8[_0x26094f(0xc6)]=![]),_0x56bfb2['isActive']=!![],this[_0x26094f(0x8a)][_0x26094f(0xab)]=this[_0x26094f(0xcd)]();}),_0x56bfb2={'isActive':![],'children':[]},_0x10f86f=$(_0x484915(0x8d));this[_0x484915(0x77)](_0x10f86f,_0x4dbda7[_0x484915(0x95)][_0x484915(0x69)],_0x56bfb2,!![]),$$`<div class="flex-col pl-2 stripe-even">
						<div class="flex-v-center my-1">${_0xa39b3d}</div>
						${_0x10f86f}
					</div>`;return;}const _0x4724be=_0x4dbda7[_0x484915(0x95)][_0x484915(0xa1)]||0x1,_0x5510fa={'isActive':!![],'children':[],'count':_0x4724be,'lastChecked':null};_0x10d157[_0x484915(0x86)][_0x484915(0x9e)](_0x5510fa);const _0x2ca21d=$(_0x484915(0x83)+(_0x42aa1b[_0x484915(0xc0)]||_0x40477e>0x0?_0x484915(0x79):'')+_0x484915(0x92)+_0x4724be+'\x20'+(_0x4724be===0x1?this['_titleSingle']:this[_0x484915(0xb1)])+_0x484915(0xbd))[_0x484915(0xb4)](_0x115f91);this[_0x484915(0x77)](_0x2ca21d,_0x4dbda7[_0x484915(0x95)][_0x484915(0x69)],_0x5510fa,!![]);});}[_0x3029a6(0xc5)](){const _0x3cca7f=_0x3029a6;let _0x32a4ce=0x0;return DataConverter[_0x3cca7f(0xa7)][_0x3cca7f(0xa8)](this[_0x3cca7f(0xa0)],{'object':_0x23e40b=>{if(_0x23e40b['choose'])_0x32a4ce++;}}),_0x32a4ce===0x0;}['_getOutputSet'](){const _0x22c0b7=_0x3029a6,_0x157b2d=new Set(this[_0x22c0b7(0x76)]);if(this[_0x22c0b7(0xcb)])this['_getOutputSet_recurse'](_0x157b2d,this[_0x22c0b7(0xcb)]);else DataConverter['WALKER_READONLY_GENERIC'][_0x22c0b7(0xa8)](this['_available'],{'string':_0x185335=>{const _0x117b65=_0x22c0b7;_0x157b2d[_0x117b65(0x75)](_0x185335);}});return _0x157b2d;}[_0x3029a6(0x82)](_0x1046aa,_0x3f9223){const _0x389463=_0x3029a6;if(!_0x3f9223[_0x389463(0xc6)])return;const _0x421259=_0x3f9223[_0x389463(0xc6)]===!![]||_0x3f9223['isActive']();if(!_0x421259)return;if(_0x3f9223[_0x389463(0xc4)])_0x1046aa['add'](_0x3f9223[_0x389463(0xc4)]);if(_0x3f9223[_0x389463(0x86)])_0x3f9223['children'][_0x389463(0xbe)](_0x4d7ef1=>this[_0x389463(0x82)](_0x1046aa,_0x4d7ef1));}[_0x3029a6(0xcd)](){const _0x6f1280=_0x3029a6;return[...this['_getOutputSet']()]['sort'](SortUtil[_0x6f1280(0x9b)])[_0x6f1280(0x6a)](_0x168abf=>({[_0x168abf]:!![]}));}['pGetFormData'](){let _0xd8209d=!![];return{'isFormComplete':_0xd8209d,'data':MiscUtil['copy'](this['_state']['readonly_selectedValues'])};}['_getDefaultState'](){return{'readonly_selectedValues':{}};}}class Charactermancer_Race_DamageImmunitySelect extends Charactermancer_Race_ImmResVulnSelect{static['getExisting'](_0x538c7b){const _0x4d45e4=_0x3029a6;return _0x538c7b=_0x538c7b||{},MiscUtil[_0x4d45e4(0xa2)](_0x538c7b['value']||[]);}constructor(_0x3d8110){const _0x468d76=_0x3029a6;_0x3d8110=_0x3d8110||{},super({..._0x3d8110,'modalTitle':_0x468d76(0x90),'titlePlural':_0x468d76(0x90),'titleSingle':_0x468d76(0xce)});}}class Charactermancer_Race_DamageResistanceSelect extends Charactermancer_Race_ImmResVulnSelect{static[_0x3029a6(0x94)](_0x264284){const _0x607b65=_0x3029a6;return _0x264284=_0x264284||{},MiscUtil[_0x607b65(0xa2)](_0x264284['value']||[]);}constructor(_0x1705cb){const _0x242f8d=_0x3029a6;_0x1705cb=_0x1705cb||{},super({..._0x1705cb,'modalTitle':_0x242f8d(0x7f),'titlePlural':'Damage\x20Resistances','titleSingle':_0x242f8d(0x73)});}}class Charactermancer_Race_DamageVulnerabilitySelect extends Charactermancer_Race_ImmResVulnSelect{static[_0x3029a6(0x94)](_0x202cfd){const _0x24caa0=_0x3029a6;return _0x202cfd=_0x202cfd||{},MiscUtil[_0x24caa0(0xa2)](_0x202cfd[_0x24caa0(0xc4)]||[]);}constructor(_0x459c54){const _0x2d8ed5=_0x3029a6;_0x459c54=_0x459c54||{},super({..._0x459c54,'modalTitle':_0x2d8ed5(0x78),'titlePlural':_0x2d8ed5(0x78),'titleSingle':_0x2d8ed5(0x6b)});}}class Charactermancer_Race_ConditionImmunitySelect extends Charactermancer_Race_ImmResVulnSelect{static[_0x3029a6(0x94)](_0x19286c){const _0x570e5d=_0x3029a6;return _0x19286c=_0x19286c||{},MiscUtil['copy'](_0x19286c['value']||[])[_0x570e5d(0x7c)](_0x547082=>_0x547082==='diseased'?_0x570e5d(0xb6):_0x547082);}constructor(_0xc4a572){const _0x4c17f5=_0x3029a6;_0xc4a572=_0xc4a572||{},super({..._0xc4a572,'modalTitle':'Condition\x20Immunities','titlePlural':_0x4c17f5(0xc2),'titleSingle':'Condition\x20Immunity'});}}class Charactermancer_Race_FeatSelect extends BaseComponent{static async['pGetUserInput'](_0x4b208e){const _0x4d5b81=_0x3029a6;if(!_0x4b208e)return{'isFormComplete':!![],'data':{}};const _0x5c66d0=new this({'featCount':_0x4b208e});return Charactermancer_Util[_0x4d5b81(0x87)]({'comp':_0x5c66d0,'height':Util['getMaxWindowHeight'](_0x4b208e*0x168)});}constructor(_0x26c065){const _0xd0a59f=_0x3029a6;_0x26c065=_0x26c065||{},super(),this[_0xd0a59f(0x8e)]=_0x26c065['featCount'];}get[_0x3029a6(0x99)](){const _0x16688c=_0x3029a6;return _0x16688c(0x9c)+(this[_0x16688c(0x8e)]===0x1?'':'s');}static['_getProps'](_0x4a9d92){const _0x4a14d9=_0x3029a6;return{'propFeatData':_0x4a14d9(0xc9)+_0x4a9d92};}['render'](_0x42a0ae){const _0x2c0ee6=_0x3029a6,_0x5e3dda=[...new Array(this[_0x2c0ee6(0x8e)])][_0x2c0ee6(0x7c)]((_0x1f32cc,_0x412b0b)=>{const _0x22de13=_0x2c0ee6,{propFeatData:_0x2962f2}=this[_0x22de13(0x85)][_0x22de13(0x88)](_0x412b0b),_0x114180=$(_0x22de13(0xad))[_0x22de13(0xb2)](async()=>{const _0x374749=_0x22de13,_0x4995fc=await ImportListFeat['UserChoose'][_0x374749(0x98)]({'id':_0x374749(0x8c),'name':_0x374749(0xc7),'singleName':'Feat','wizardTitleWindow':_0x374749(0x8b),'wizardTitlePanel3':_0x374749(0xba),'wizardTitleButtonOpenImporter':_0x374749(0xca)},_0x374749(0x96));if(!_0x4995fc)return;this['_state'][_0x2962f2]=_0x4995fc;}),_0x171dcc=$(_0x22de13(0x81)),_0xc786de=()=>{const _0x5b8f89=_0x22de13;_0x171dcc[_0x5b8f89(0x71)]();const _0x3456f4=this['_state'][_0x2962f2]?.[_0x5b8f89(0x80)]?.[SharedConsts['MODULE_NAME']];if(!_0x3456f4)return _0x171dcc[_0x5b8f89(0xb7)](_0x5b8f89(0xbb));const {page:_0xd18f93,source:_0x528195,hash:_0x59ae67}=_0x3456f4;Renderer[_0x5b8f89(0x8f)]['pCacheAndGet'](_0xd18f93,_0x528195,_0x59ae67)['then'](_0x261e21=>{const _0x38aaa6=_0x5b8f89;_0x171dcc[_0x38aaa6(0xb7)](Vetools[_0x38aaa6(0x93)](()=>Renderer[_0x38aaa6(0x8f)][_0x38aaa6(0x9f)](UrlUtil[_0x38aaa6(0x7a)],_0x261e21)));});};return this['_addHookBase'](_0x2962f2,_0xc786de),_0xc786de(),$$`<div class="flex-col min-h-0">
				${_0x412b0b===0x0?'':_0x22de13(0xd0)}

				<div class="flex-v-center mb-2">${_0x114180}</div>

				${_0x171dcc}
			</div>`;});$$(_0x42a0ae)`
			${_0x5e3dda}
		`;}[_0x3029a6(0xaa)](){const _0x28b841=_0x3029a6,_0x24ebb7=[];let _0x46c5f3=!![];return[...new Array(this[_0x28b841(0x8e)])][_0x28b841(0x7c)]((_0x284268,_0x12b4f2)=>{const _0x2f042f=_0x28b841,{propFeatData:_0x5cdb62}=this[_0x2f042f(0x85)][_0x2f042f(0x88)](_0x12b4f2),_0x53b41e=this[_0x2f042f(0x8a)][_0x5cdb62]?.[_0x2f042f(0x80)]?.[SharedConsts['MODULE_NAME']];if(!_0x53b41e)return _0x46c5f3=![];const {page:_0x74c75,source:_0x14469d,hash:_0x189ced}=_0x53b41e;_0x24ebb7[_0x2f042f(0x9e)]({'page':_0x74c75,'source':_0x14469d,'hash':_0x189ced});}),{'isFormComplete':_0x46c5f3,'data':_0x24ebb7};}[_0x3029a6(0x68)](){return{};}}export{Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect,Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_FeatSelect};