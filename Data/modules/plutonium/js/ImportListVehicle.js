'use strict';const _0x541e=['_getBiographyValue','isTemp','sourceClassName','actors','modules/','Source','_addInfWarTrait','_pImportEntry_pFillItems_infWar','init','text-center','name','data','control','URL_TO_HASH_BUILDER','_pImportEntry_fillConditionsDamage','493586WKbjVv','currency','pace','sourceShort','actions','fluff','hull','join','actionStation','items','7TbsSlQ','speed','biography','Name','PG_VEHICLES','_pImportEntry_fillData_Details','vehicleType','absorbFnGetData','dex','permissions','5etools','12JqbXWv','get','515618MbjaQg','map','sort','_addShipEquipment','DataSourceFile','reaction','importVehicle','618373fYvCec','_pImportEntry_fillData_Currency','VET_SIZE_TO_ABV','DATA_URL_VEHICLES','forEach','bonuses','size','actor','copy','885749vAVWoI','getShipEquipmentItem','_addShipOther','getShipWeaponItem','_isRadio','pGetHomebrewSources','_pImportEntry_fillData_Cargo','toLocaleString','doAbsorbItems','_pImportEntry_pFillItems','_addInfWarActionStation','absorbFnBindListeners','movement','capacity','SHIP','getTokenUrl','ascSort','_content','203559vtTRFh','_titleButtonRun','getSourceWithPagePart','push','Vehicles','getInfwarCreatureCapacity','3ZIAkjH','_page','sourceJsonToFull','SOURCE_TYP_OFFICIAL_ALL','vehicle','source','action','actionThresholds','pImportEntry','_pImportEntry_fillData_Attributes','_pImportEntry_fillData_Traits','CREATURE','capCargo','details','SOURCE_TYP_CUSTOM','Actor','getData','\x20by\x20','\x20miles\x20per\x20hour\x20(','pAddActorItems','permission','_activateListeners_absorbListItems','other','_addInfWarReaction','getShipOtherItem','getItemActorPassive','pGetSources','entries','1qpLhqU','pGetFluff','folder','tokenUrl','_pImportEntry_pFillToken','sourceJsonToAbv','185557svYnMb','traits','isStreamerMode','_list','_pImportEntry_fillData_Abilities','getShipCreatureCapacity','/media/icon/gears.svg','DataSourceUrl','24471DSxXPK','isImportBio','trait','vehicles','INFWAR','ImportEntryOpts','_pImportEntry_pFillItems_ship','attributes','_pImportEntry_pGetImportMetadata','weight','2bNFSIO','dimensions','absorbFnBindListenersRadio','\x20ft.','getInfWarActionItem','getAbilityModNumber','MODULE_NAME','spelldc','weapon','\x20miles\x20per\x20day)','length','_addShipWeapon'];const _0x827b=function(_0x128ca0,_0x4e7bfd){_0x128ca0=_0x128ca0-0x146;let _0x541e4=_0x541e[_0x128ca0];return _0x541e4;};const _0x11a295=_0x827b;(function(_0x530b52,_0x160fd3){const _0x1d4a76=_0x827b;while(!![]){try{const _0x31cca1=parseInt(_0x1d4a76(0x154))*parseInt(_0x1d4a76(0x1ab))+parseInt(_0x1d4a76(0x183))+-parseInt(_0x1d4a76(0x168))*parseInt(_0x1d4a76(0x1a5))+parseInt(_0x1d4a76(0x1b3))*parseInt(_0x1d4a76(0x15f))+parseInt(_0x1d4a76(0x189))*parseInt(_0x1d4a76(0x14a))+-parseInt(_0x1d4a76(0x171))+parseInt(_0x1d4a76(0x1bd))*-parseInt(_0x1d4a76(0x161));if(_0x31cca1===_0x160fd3)break;else _0x530b52['push'](_0x530b52['shift']());}catch(_0x7f51af){_0x530b52['push'](_0x530b52['shift']());}}}(_0x541e,0xb5086));import{ImportList}from'./ImportList.js';import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverter}from'./DataConverter.js';import{UtilActors}from'./UtilActors.js';import{ImportListCreature}from'./ImportListCreature.js';import{DataConverterVehicle}from'./DataConverterVehicle.js';import{SharedConsts}from'../shared/SharedConsts.js';class ImportListVehicle extends ImportListActor{constructor(_0x27842e){const _0x198685=_0x827b;_0x27842e=_0x27842e||{},super({'title':'Import\x20Vehicles'},_0x27842e,{'props':[_0x198685(0x18d)],'titleSearch':_0x198685(0x1b6),'sidebarTab':_0x198685(0x1cc),'gameProp':'actors','defaultFolderPath':[_0x198685(0x187)],'folderType':_0x198685(0x198),'pageFilter':new PageFilterVehicles(),'page':UrlUtil[_0x198685(0x158)],'isDedupable':!![]},{'actorType':_0x198685(0x18d)});}async[_0x11a295(0x1a3)](){const _0x152f88=_0x11a295;return[new ImportList[(_0x152f88(0x1b2))](Config[_0x152f88(0x160)]('ui',_0x152f88(0x1ad))?'SRD':_0x152f88(0x15e),Vetools[_0x152f88(0x16b)],{'filterTypes':[ImportList[_0x152f88(0x18c)]],'isDefault':!![]}),new ImportList[(_0x152f88(0x1b2))]('Custom\x20URL','',{'filterTypes':[ImportList[_0x152f88(0x197)]]}),new ImportList[(_0x152f88(0x165))]('Upload\x20File',{'filterTypes':[ImportList[_0x152f88(0x197)]]}),...(await Vetools[_0x152f88(0x176)](_0x152f88(0x18d)))[_0x152f88(0x162)](({name:_0x114eb1,url:_0x36805c})=>new ImportList[(_0x152f88(0x1b2))](_0x114eb1,_0x36805c,{'filterTypes':[ImportList['SOURCE_TYP_BREW']]}))];}[_0x11a295(0x199)](){const _0x12f1bc=_0x11a295;return{'isRadio':this[_0x12f1bc(0x175)],'isPreviewable':this['_isPreviewable'],'titleButtonRun':this[_0x12f1bc(0x184)],'titleSearch':this['_titleSearch'],'cols':[{'name':_0x12f1bc(0x157),'width':0x9,'field':'name'},{'name':_0x12f1bc(0x1ce),'width':0x2,'field':_0x12f1bc(0x18e),'titleProp':'sourceLong','displayProp':_0x12f1bc(0x14d),'classNameProp':_0x12f1bc(0x1cb),'rowClassName':_0x12f1bc(0x1d2)}],'rows':this[_0x12f1bc(0x182)][_0x12f1bc(0x162)]((_0x408f08,_0x2efd4a)=>{const _0x2a6c76=_0x12f1bc;return this['_pageFilter']['constructor']['mutateForFilters'](_0x408f08),{'name':_0x408f08[_0x2a6c76(0x1d3)],'source':_0x408f08[_0x2a6c76(0x18e)],'sourceShort':Parser[_0x2a6c76(0x1aa)](_0x408f08[_0x2a6c76(0x18e)]),'sourceLong':Parser[_0x2a6c76(0x18b)](_0x408f08[_0x2a6c76(0x18e)]),'sourceClassName':Parser['sourceJsonToColor'](_0x408f08[_0x2a6c76(0x18e)]),'ix':_0x2efd4a};})};}[_0x11a295(0x19e)](){const _0x4cbf4b=_0x11a295;this[_0x4cbf4b(0x1ae)][_0x4cbf4b(0x179)](this[_0x4cbf4b(0x182)],{'fnGetName':_0x3992d7=>_0x3992d7['name'],'fnGetValues':_0x277503=>({'source':_0x277503[_0x4cbf4b(0x18e)],'hash':UrlUtil[_0x4cbf4b(0x148)][this[_0x4cbf4b(0x18a)]](_0x277503)}),'fnGetData':UtilList2[_0x4cbf4b(0x15b)],'fnBindListeners':_0x4092e0=>this[_0x4cbf4b(0x175)]?UtilList2[_0x4cbf4b(0x1bf)](this[_0x4cbf4b(0x1ae)],_0x4092e0):UtilList2[_0x4cbf4b(0x17c)](this[_0x4cbf4b(0x1ae)],_0x4092e0)});}async[_0x11a295(0x1bb)](_0x4ece69,_0x451840,_0x2b22ff){const _0x33c160=_0x11a295,_0xc8a5a={},_0x46e7c6=await Renderer[_0x33c160(0x18d)][_0x33c160(0x1a6)](_0x451840),_0x131203=new ImportListVehicle[(_0x33c160(0x1b8))](_0x4ece69,_0x46e7c6);await this['_pImportEntry_pFillBase'](_0x451840,_0xc8a5a,_0x131203[_0x33c160(0x14f)],{'isUseTokenImageAsPortrait':Config[_0x33c160(0x160)]('importVehicle','isUseTokenImageAsPortrait')}),_0xc8a5a[_0x33c160(0x146)]={};if(!_0x2b22ff['isTemp']&&!this['_pack']){const _0x5a5255=await this['_pImportEntry_pGetFolderId'](_0x451840);if(_0x5a5255)_0xc8a5a[_0x33c160(0x1a7)]=_0x5a5255;}return _0xc8a5a[_0x33c160(0x19d)]={'default':Config[_0x33c160(0x160)](_0x33c160(0x167),_0x33c160(0x15d))},this[_0x33c160(0x1af)](_0x451840,_0xc8a5a[_0x33c160(0x146)],_0x131203),this[_0x33c160(0x192)](_0x451840,_0xc8a5a['data'],_0x131203),this[_0x33c160(0x159)](_0x451840,_0xc8a5a['data'],_0x131203),this[_0x33c160(0x193)](_0x451840,_0xc8a5a[_0x33c160(0x146)],_0x131203),this[_0x33c160(0x169)](_0x451840,_0xc8a5a[_0x33c160(0x146)],_0x131203),this[_0x33c160(0x177)](_0x451840,_0xc8a5a[_0x33c160(0x146)],_0x131203),_0xc8a5a[_0x33c160(0x146)][_0x33c160(0x16d)]={},await this[_0x33c160(0x1a9)](_0x451840,_0xc8a5a,_0x33c160(0x167)),{'dataBuilderOpts':_0x131203,'actorData':_0xc8a5a};}async[_0x11a295(0x191)](_0x24e915,_0x1df8cd){const _0x39ceba=_0x11a295;_0x1df8cd=_0x1df8cd||{};if(_0x24e915[_0x39ceba(0x15a)]===_0x39ceba(0x194)){const _0x4c5e4d=new ImportListCreature({});return await _0x4c5e4d['pInit'](),await _0x4c5e4d['pSyncStateFrom'](this),_0x24e915=MiscUtil[_0x39ceba(0x170)](_0x24e915),_0x24e915[_0x39ceba(0x1a8)]=Vetools[_0x39ceba(0x180)](_0x39ceba(0x18d),_0x24e915),_0x4c5e4d[_0x39ceba(0x191)](_0x24e915,_0x1df8cd);}return super[_0x39ceba(0x191)](_0x24e915,_0x1df8cd);}[_0x11a295(0x192)](_0x37b9bd,_0x54b48c){const _0x4f74ce=_0x11a295,_0xa521f8={};_0xa521f8[_0x4f74ce(0x1d1)]={'value':0x0,'bonus':0x0,'mod':0x0,'prof':0x0,'total':0x0},_0xa521f8[_0x4f74ce(0x1c4)]=null,_0xa521f8[_0x4f74ce(0x17d)]=DataConverterVehicle['getShipMovement'](_0x37b9bd);switch(_0x37b9bd['vehicleType']){case _0x4f74ce(0x1b7):{const _0xacb5f2=Parser[_0x4f74ce(0x1c2)](_0x37b9bd[_0x4f74ce(0x15c)]);_0xa521f8['ac']={'value':0x13+_0xacb5f2,'motionless':'19'},_0xa521f8['hp']={'value':MiscUtil[_0x4f74ce(0x160)](_0x37b9bd,'hp','hp')||0x0,'min':0x0,'max':MiscUtil['get'](_0x37b9bd,'hp','hp')||0x0,'temp':0x0,'tempmax':0x0,'dt':MiscUtil['get'](_0x37b9bd,'hp','dt')||0x0,'mt':MiscUtil[_0x4f74ce(0x160)](_0x37b9bd,'hp','mt')||0x0},_0xa521f8[_0x4f74ce(0x14e)]={'stations':!![],'value':0x0,'thresholds':{0x0:0x0,0x1:0x0,0x2:0x0}},_0xa521f8[_0x4f74ce(0x17e)]={'creature':Renderer[_0x4f74ce(0x18d)][_0x4f74ce(0x188)](_0x37b9bd),'cargo':typeof _0x37b9bd[_0x4f74ce(0x195)]==='string'?0x0:_0x37b9bd[_0x4f74ce(0x195)]},_0xa521f8[_0x4f74ce(0x155)]=_0x37b9bd[_0x4f74ce(0x155)]+_0x4f74ce(0x1c0);break;}case _0x4f74ce(0x17f):{_0xa521f8['ac']={'value':MiscUtil[_0x4f74ce(0x160)](_0x37b9bd,'hull','ac')||0x0,'motionless':''},_0xa521f8['hp']={'value':MiscUtil[_0x4f74ce(0x160)](_0x37b9bd,_0x4f74ce(0x150),'hp')||0x0,'min':0x0,'max':MiscUtil['get'](_0x37b9bd,_0x4f74ce(0x150),'hp')||0x0,'temp':0x0,'tempmax':0x0,'dt':MiscUtil[_0x4f74ce(0x160)](_0x37b9bd,_0x4f74ce(0x150),'dt')||0x0,'mt':0x0};let _0x5e33e8=0x0;const _0x4215e4={0x0:0x0,0x1:0x0,0x2:0x0};_0x37b9bd[_0x4f74ce(0x190)]&&Object[_0x4f74ce(0x1a4)](_0x37b9bd[_0x4f74ce(0x190)])[_0x4f74ce(0x163)](([_0x54e7e9],[_0x5681a6])=>SortUtil[_0x4f74ce(0x181)](Number(_0x5681a6),Number(_0x54e7e9)))['slice'](0x0,0x3)[_0x4f74ce(0x16c)](([_0x52bfb9,_0x520cd4],_0x5354c7)=>{_0x4215e4[_0x5354c7]=_0x520cd4;});_0xa521f8['actions']={'stations':![],'value':_0x5e33e8,'thresholds':_0x4215e4},_0xa521f8[_0x4f74ce(0x17e)]={'creature':Renderer[_0x4f74ce(0x18d)][_0x4f74ce(0x1b0)](_0x37b9bd),'cargo':typeof _0x37b9bd['capCargo']==='string'?0x0:_0x37b9bd[_0x4f74ce(0x195)]},_0xa521f8[_0x4f74ce(0x155)]=_0x37b9bd['pace']+_0x4f74ce(0x19b)+_0x37b9bd[_0x4f74ce(0x14c)]*0x18+_0x4f74ce(0x1c6);break;}default:throw new Error('Unhandled\x20vehicle\x20type\x20\x22'+_0x37b9bd[_0x4f74ce(0x15a)]+'\x22');}_0x54b48c[_0x4f74ce(0x1ba)]=_0xa521f8;}['_pImportEntry_fillData_Details'](_0x460cf3,_0x4debab,_0x2f2e79){const _0x5a929e=_0x11a295,_0x48cf0c={};_0x48cf0c[_0x5a929e(0x156)]={'value':Config[_0x5a929e(0x160)]('importVehicle',_0x5a929e(0x1b4))?this[_0x5a929e(0x1c9)](_0x2f2e79[_0x5a929e(0x14f)]):''},_0x48cf0c[_0x5a929e(0x18e)]=DataConverter[_0x5a929e(0x185)](_0x460cf3),_0x4debab[_0x5a929e(0x196)]=_0x48cf0c;}[_0x11a295(0x193)](_0x3a8df2,_0xbe436b){const _0x3f597a=_0x11a295,_0x396510={};_0x396510['size']=UtilActors[_0x3f597a(0x16a)][_0x3a8df2[_0x3f597a(0x16e)]]||'med';switch(_0x3a8df2[_0x3f597a(0x15a)]){case _0x3f597a(0x1b7):{_0x396510[_0x3f597a(0x1be)]=_0x3a8df2[_0x3f597a(0x1bc)][_0x3f597a(0x178)]()+'\x20lb.';break;}case _0x3f597a(0x17f):{_0x396510[_0x3f597a(0x1be)]=_0x3a8df2[_0x3f597a(0x1be)]?_0x3a8df2[_0x3f597a(0x1be)][_0x3f597a(0x151)](_0x3f597a(0x19a)):'';break;}default:throw new Error('Unhandled\x20vehicle\x20type\x20\x22'+_0x3a8df2['vehicleType']+'\x22');}this[_0x3f597a(0x149)](_0x3a8df2,_0x396510),_0xbe436b[_0x3f597a(0x1ac)]=_0x396510;}[_0x11a295(0x169)](_0x46919b,_0x27697f){const _0x13ef24=_0x11a295;_0x27697f[_0x13ef24(0x14b)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}async[_0x11a295(0x17a)](_0x460e30,_0x4b1364,_0x3140da,_0x32e65b){const _0x49e349=_0x11a295;await this[_0x49e349(0x1b9)](_0x460e30,_0x4b1364,_0x3140da,_0x32e65b),await this[_0x49e349(0x1d0)](_0x460e30,_0x4b1364,_0x3140da,_0x32e65b);const _0x58935b=_0x32e65b[_0x49e349(0x1ca)]||this['_pack']!=null;await UtilActors[_0x49e349(0x19c)](_0x3140da[_0x49e349(0x16f)],_0x3140da[_0x49e349(0x153)],_0x58935b);}[_0x11a295(0x1b9)](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a){const _0x16dd5d=_0x11a295;_0x21dbd6[_0x16dd5d(0x147)]&&_0x21dbd6[_0x16dd5d(0x147)][_0x16dd5d(0x16c)](_0x3a8126=>this['_addShipEquipment'](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a,_0x3a8126,'control')),_0x21dbd6[_0x16dd5d(0x17d)]&&_0x21dbd6['movement'][_0x16dd5d(0x16c)](_0x556b7a=>this[_0x16dd5d(0x164)](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a,_0x556b7a,'movement')),_0x21dbd6['weapon']&&_0x21dbd6[_0x16dd5d(0x1c5)][_0x16dd5d(0x16c)](_0x6d6934=>this[_0x16dd5d(0x1c8)](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a,_0x6d6934)),_0x21dbd6['other']&&_0x21dbd6[_0x16dd5d(0x19f)]['forEach'](_0x115a95=>this[_0x16dd5d(0x173)](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a,_0x115a95)),_0x21dbd6[_0x16dd5d(0x18f)]&&this['_addShipAction'](_0x21dbd6,_0x47146f,_0xd4bbeb,_0x24b24a,_0x21dbd6[_0x16dd5d(0x18f)]);}[_0x11a295(0x164)](_0x26a450,_0x4c3e24,_0x14a2c8,_0xe1e45,_0x5b19d0,_0x5c47a8){const _0x16f784=_0x11a295,_0x6319fa=DataConverterVehicle[_0x16f784(0x172)](_0x26a450,_0x5b19d0,_0x5c47a8);if(!_0x6319fa)return;_0x14a2c8['items']['push'](_0x6319fa);}[_0x11a295(0x1c8)](_0x2b0ef6,_0x3ed133,_0x4a34e7,_0x4dc178,_0xe5d9bb){const _0xc92e93=_0x11a295,_0x2f9830=DataConverterVehicle[_0xc92e93(0x174)](_0x2b0ef6,_0xe5d9bb);if(!_0x2f9830)return;_0x4a34e7[_0xc92e93(0x153)]['push'](_0x2f9830);}[_0x11a295(0x173)](_0x216e72,_0x2c474f,_0x404b72,_0xaa08c9,_0x33b4a3){const _0x55b897=_0x11a295,_0x2ec398=DataConverterVehicle[_0x55b897(0x1a1)](_0x216e72,_0x33b4a3);if(!_0x2ec398)return;_0x404b72[_0x55b897(0x153)]['push'](_0x2ec398);}['_addShipAction'](_0x20bae0,_0x53b7f2,_0x1c7647,_0x1c9492,_0x523f4c){const _0x2e55bc=_0x11a295,_0x210828=DataConverterVehicle['getShipActionItems'](_0x20bae0,_0x523f4c);if(!_0x210828||!_0x210828[_0x2e55bc(0x1c7)])return;_0x1c7647[_0x2e55bc(0x153)][_0x2e55bc(0x186)](..._0x210828);}[_0x11a295(0x1d0)](_0x5d3b0b,_0x216b7b,_0x56562e,_0x2f3483){const _0x5c0a22=_0x11a295;_0x5d3b0b['trait']&&_0x5d3b0b[_0x5c0a22(0x1b5)][_0x5c0a22(0x16c)](_0x5bb949=>this[_0x5c0a22(0x1cf)](_0x5d3b0b,_0x216b7b,_0x56562e,_0x2f3483,_0x5bb949)),_0x5d3b0b[_0x5c0a22(0x152)]&&_0x5d3b0b[_0x5c0a22(0x152)][_0x5c0a22(0x16c)](_0x1a9046=>this['_addInfWarActionStation'](_0x5d3b0b,_0x216b7b,_0x56562e,_0x2f3483,_0x1a9046)),_0x5d3b0b[_0x5c0a22(0x166)]&&_0x5d3b0b[_0x5c0a22(0x166)]['forEach'](_0x1d3369=>this[_0x5c0a22(0x1a0)](_0x5d3b0b,_0x216b7b,_0x56562e,_0x2f3483,_0x1d3369));}[_0x11a295(0x1cf)](_0x4a38e7,_0x54c891,_0x326ab7,_0x5e7aa0,_0x409277){const _0x263f3f=_0x11a295,_0x6a517e=DataConverter[_0x263f3f(0x1a2)](_0x409277,{'fvttType':'feat','mode':_0x263f3f(0x18d),'entity':_0x4a38e7,'source':_0x4a38e7['source'],'actor':{'data':_0x54c891},'img':_0x263f3f(0x1cd)+SharedConsts[_0x263f3f(0x1c3)]+_0x263f3f(0x1b1)});_0x326ab7[_0x263f3f(0x153)][_0x263f3f(0x186)](_0x6a517e);}[_0x11a295(0x17b)](_0x2c7e41,_0x5cd9c1,_0x3c30bd,_0x2ecf9c,_0x2efb87){const _0x4321db=_0x11a295,_0x4af6a0=DataConverterVehicle[_0x4321db(0x1c1)](_0x2c7e41,_0x2efb87);if(!_0x4af6a0)return;_0x3c30bd['items'][_0x4321db(0x186)](_0x4af6a0);}[_0x11a295(0x1a0)](_0x306cda,_0x20a019,_0x75a783,_0x2cb04d,_0x454c32){const _0x4d17c1=_0x11a295,_0x186557=DataConverter['getItemActorPassive'](_0x454c32,{'activationType':_0x4d17c1(0x166),'activationCost':0x1,'fvttType':'feat','mode':'vehicle','entity':_0x306cda,'source':_0x306cda[_0x4d17c1(0x18e)],'actor':{'data':_0x20a019},'img':'modules/'+SharedConsts['MODULE_NAME']+'/media/icon/gears.svg'});_0x75a783['items'][_0x4d17c1(0x186)](_0x186557);}[_0x11a295(0x177)](_0x4bfbf0,_0x2bdfae){_0x2bdfae['cargo']={'crew':[],'passengers':[]};}}ImportListVehicle['ImportEntryOpts']=class{constructor(_0x9308cd,_0x4768fd){const _0x1958f4=_0x11a295;this['actor']=_0x9308cd,this[_0x1958f4(0x14f)]=_0x4768fd,this[_0x1958f4(0x153)]=[];}};export{ImportListVehicle};