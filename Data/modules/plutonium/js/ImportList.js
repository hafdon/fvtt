const _0x459a=['push','gameProp','folderPathSpec','_pageFilter','addEventListener','getValues','_isDedupable','_isPreviewable','Continue\x20and\x20Remember','_$wrpMiniPills','pGetClient','folder','getter','lastElementChild','sourceClassName','204131xhZuGh','_isRadio','_page','flags','Continue','_activateListeners_initPreviewImportButton','cbSel','sourceLong','Please\x20select\x20something\x20from\x20the\x20list!','\x22\x20is\x20not\x20supported!','pGetCompendiumData','updateEntity','_fnReject','_pImportEntry_pImportToDirectoryGeneric','_activateListeners_initRunButton','content','_gameProp','237922HXxEVP','Source\x20(Full)','_props','props','_content','pSyncStateFrom','classList','Source\x20(Abbreviation)','STR_SEE_CONSOLE','filterBox','ImportList.folderKeyPathSpec','actors','TASK_EXIT_COMPLETE_DATA_ONLY','data','isDedupable','Yes,\x20use\x20the\x20importer','pImportEntry','showAndRender','selectedProp','_actor','pPreRender','URL_TO_HASH_BUILDER','defaultFolderPath','694649bHMSce','_pImportEntry_pDoUpdateExistingDirectoryEntity','Import','Unimplemented!','imported','_$wrpList','children','No,\x20use\x20normal\x20drag-drop','Edit\x20Folder\x20Path','update','95965KYHFiC','122090cFcNqC','showVe','_isModdable','_$wrpBtnsSort','info','_folderType','folderType','_isNonCacheableInstance','_getDuplicateMeta','_pGetUseImporterDragDrop','firstElementChild','_list','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','./ChooseImporter.js','dragDropMode','pInit','getData','isNonCacheableInstance','warn','titleSearch','checked','139883sdDQbm','One\x20of\x20\x22props\x22\x20or\x20\x22namespace\x22\x20must\x20be\x20provided!','sourceJsonToFull','toLowerCase','compendium','_$wrpRun','Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20','_fnListSort','_pImportEntry_pDoUpdateExistingPackEntity','Warning:\x20Large\x20Import','remove','absorbFnBindListenersRadio','_$bntFilter','error','_id','teardown','existing','?\x20Note\x20that\x20this\x20will\x20ignore\x20any\x20in-Foundry\x20modifications\x20made\x20to\x20the\x20item.','getFolderPathMeta','get','fnListSort','\x22\x20via\x20','reset','_pLoadFolderPathSpec','status','bindSelectAllCheckbox','join','initBtnSortHandlers','_titleButtonRun','journal','_$btnRunWithMods','tables','deduplicationMode','.search','isDisableLargeImportWarning','entries','pSetClient','Cancel','preventDefault','1201yScjGL','create','_pHandleClickRunButton_pDoPreCachePack','text-center','then','type','_packCache','element','_handleFilterChange','_getFilterNamespace','namespace','_titleSearch','_pHandleClickRunButton','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','pGetUserChoice','_$cbAll','[name=\x22cb-select-all\x22]','activateListeners','parent','C_IMPORT_DEDUPE_MODE_SKIP','init','_pHandleClickRunButton_doDumpPackCache','_isInit','_$iptSearch','_isClosable','MODULE_LOCATION','assign','isModdable','name','render','_namespace','trim','map','_uploadedFile','find','ele','stopPropagation','constructor','createEmbeddedEntity','forEach','isActorRadio','_activateListeners_initList','_isFolderOnly','_comp','C_IMPORT_DEDUPE_MODE_OVERWRITE','collection','set','isStreamerMode','\x20Importer','entity','C_IMPORT_DEDUPE_MODE_NONE','copy','isOverwrite','Import\x20via\x20','_folderPathSpec','_activateListeners_pInitFilteredList','prop','_activateListeners_initPreviewButton','activateSidebarTab','absorbFnGetData','pGetUserBoolean','sourceJsonToColor','last','/template/ImportList.handlebars','_pImportEntry_pGetFolderId','TASK_EXIT_FAILED','items','Task','_isUseMods','isFolderOnly','/template/FolderPathBuilder.handlebars','_pack','source','import','doAbsorbItems','ascSortLower','click','sourceJsonToAbv','Failed\x20to\x20import\x20\x22','Imported\x20\x22','list-multi-selected','MODULE_NAME','pageFilter','You\x20have\x20selected\x20','titleButtonRun','handleClickBtnShowHideListPreview','_defaultFolderPath','getNameWithSourcePart','bind','isSkip','actor','filter','OwnedItem','toString','_activateListeners_initPreviewHoversAndImportButtons','Please\x20select\x20something\x20to\x20import!','sidebarTab','isFreeText','close','notifications','doShowImportedNotification','SRD\x20Importer','pack','sourceShort','MODULE_TITLE','_isResolveOnClose','_getFullFolderPathSpecKey','_sidebarTab','hideVe','pResult','_isHidden','pSetFolderPathSpec','_pFnPostProcessEntries','EVNT_VALCHANGE','getSourceWithPagePart','TASK_EXIT_COMPLETE','details','_$btnRun','_STO_K_FOLDER_PATH_SPEC','_getDuplicateMeta_getEntityKey','_activateListeners_doFindUiElements','pInitFilterBox','_$btnReset','sidebar','isStandardDragDrop','path','isClosable','getMaxWindowHeight','C_IMPORT_DRAG_DROP_MODE_NEVER','importerName','[name=\x22btn-filter\x22]','165GJxtPE','_fnResolve','_initCreateSheetItemHook','[name=\x22btn-reset\x22]','\x20entities\x20to\x20import.<br>Importing\x20a\x20large\x20number\x20of\x20entities\x20may\x20degrade\x20game\x20performance\x20(consider\x20importing\x20to\x20a\x20compendium\x20instead).<br>Do\x20you\x20wish\x20to\x20continue?','\x22!\x20','length','text','Game\x20property\x20\x22','_$btnToggleSummary','filterValues','sort','importEntity'];const _0x1feb=function(_0xd31c89,_0xc69782){_0xd31c89=_0xd31c89-0xfc;let _0x459ab4=_0x459a[_0xd31c89];return _0x459ab4;};const _0x541b17=_0x1feb;(function(_0x1bc404,_0x19cbe4){const _0x2668a3=_0x1feb;while(!![]){try{const _0x3680fb=-parseInt(_0x2668a3(0x10d))+-parseInt(_0x2668a3(0x1e9))+-parseInt(_0x2668a3(0x10e))+parseInt(_0x2668a3(0x1fa))+-parseInt(_0x2668a3(0x1cd))*parseInt(_0x2668a3(0x14a))+-parseInt(_0x2668a3(0x123))+parseInt(_0x2668a3(0x103));if(_0x3680fb===_0x19cbe4)break;else _0x1bc404['push'](_0x1bc404['shift']());}catch(_0x1c6bfa){_0x1bc404['push'](_0x1bc404['shift']());}}}(_0x459a,0x2a131));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Util}from'./Util.js';import{UtilList2}from'./UtilList2.js';import{FolderPathBuilder,FolderPathBuilderRow}from'./FolderPathBuilder.js';import{GameStorage}from'./GameStorage.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{DataConverter}from'./DataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';class ImportList extends Application{static[_0x541b17(0x1cf)](_0xb32ee6){Hooks['on']('preCreateOwnedItem',(_0x567e16,_0x360890)=>{const _0x403829=_0x1feb,_0x9f8b0d=_0x360890[_0x403829(0x1ec)]?.[SharedConsts['MODULE_NAME']];if(!_0x9f8b0d||!_0x9f8b0d?.[_0x403829(0x207)]?.[_0xb32ee6[_0x403829(0x182)]])return;if(_0x9f8b0d[_0x403829(0x1c6)])return;return this[_0x403829(0x117)]()[_0x403829(0x14e)](async _0x4614f9=>{const _0x427e7=_0x403829,_0x4257ec=_0x9f8b0d[_0x427e7(0x207)][_0xb32ee6[_0x427e7(0x182)]];try{if(_0x4614f9){const _0x57ad5d=new this({'actor':_0x567e16});await _0x57ad5d[_0x427e7(0x11d)](),await _0x57ad5d[_0x427e7(0xfc)](_0x4257ec,{'filterValues':_0x9f8b0d['filterValues']}),ui[_0x427e7(0x1ad)][_0x427e7(0x112)](_0x427e7(0x199)+_0x4257ec[_0x427e7(0x166)]+_0x427e7(0x138)+_0xb32ee6[_0x427e7(0x1cb)]+_0x427e7(0x17a));return;}_0x360890=MiscUtil[_0x427e7(0x17d)](_0x360890),_0x360890[_0x427e7(0x1ec)][SharedConsts[_0x427e7(0x19b)]]['isStandardDragDrop']=!![],await _0x567e16[_0x427e7(0x170)](_0x427e7(0x1a6),_0x360890);}catch(_0x135231){ui[_0x427e7(0x1ad)]['error'](_0x427e7(0x198)+_0x4257ec[_0x427e7(0x166)]+_0x427e7(0x1d2)+VeCt[_0x427e7(0x202)]);throw _0x135231;}}),![];});}static async['_pGetUseImporterDragDrop'](){const _0x1a834f=_0x541b17,_0xdc14cc=Config['get'](_0x1a834f(0x193),_0x1a834f(0x11c));if(_0xdc14cc===Config[_0x1a834f(0x1ca)])return![];if(_0xdc14cc===Config['C_IMPORT_DRAG_DROP_MODE_PROMPT']){const _0x56477f=await InputUiUtil['pGetUserBoolean']({'title':_0x1a834f(0x17f)+(Config[_0x1a834f(0x136)]('ui',_0x1a834f(0x179))?_0x1a834f(0x1af):SharedConsts[_0x1a834f(0x1b2)])+_0x1a834f(0x134),'textYes':_0x1a834f(0x209),'textNo':_0x1a834f(0x10a)});if(!_0x56477f)return![];}return!![];}constructor(_0x4f7fb8,_0x495ef9,_0x48c6ba){const _0x58f8bd=_0x541b17;_0x48c6ba=_0x48c6ba||{};if(!_0x48c6ba[_0x58f8bd(0x1fd)]&&!_0x48c6ba[_0x58f8bd(0x154)])throw new Error(_0x58f8bd(0x124));const _0x48fcfc={'template':SharedConsts[_0x58f8bd(0x163)]+_0x58f8bd(0x189),'width':0x3c0,'height':Util[_0x58f8bd(0x1c9)](),'resizable':!![]};Object['assign'](_0x48fcfc,_0x4f7fb8||{}),super(_0x48fcfc),this[_0x58f8bd(0x1fc)]=_0x48c6ba[_0x58f8bd(0x1fd)],this[_0x58f8bd(0x155)]=_0x48c6ba[_0x58f8bd(0x121)]||'entries',this[_0x58f8bd(0x1b5)]=_0x48c6ba[_0x58f8bd(0x1aa)],this['_gameProp']=_0x48c6ba[_0x58f8bd(0x1db)],this[_0x58f8bd(0x1a0)]=_0x48c6ba[_0x58f8bd(0x102)],this[_0x58f8bd(0x113)]=_0x48c6ba[_0x58f8bd(0x114)],this['_fnListSort']=_0x48c6ba[_0x58f8bd(0x137)],this[_0x58f8bd(0x1dd)]=_0x48c6ba[_0x58f8bd(0x19c)],this[_0x58f8bd(0x168)]=_0x48c6ba[_0x58f8bd(0x154)],this[_0x58f8bd(0x174)]=!!_0x48c6ba[_0x58f8bd(0x18f)],this[_0x58f8bd(0x115)]=_0x48c6ba[_0x58f8bd(0x11f)],this['_page']=_0x48c6ba['page'],this[_0x58f8bd(0x1e1)]=_0x48c6ba['isPreviewable'],this['_isModdable']=_0x48c6ba[_0x58f8bd(0x165)],this['_titleButtonRun']=_0x48c6ba[_0x58f8bd(0x19e)]||_0x58f8bd(0x105),this[_0x58f8bd(0x1e0)]=!!_0x48c6ba[_0x58f8bd(0x208)],this['_actor']=_0x495ef9[_0x58f8bd(0x1a4)],this['_isRadio']=!!_0x495ef9['actor']&&_0x48c6ba[_0x58f8bd(0x172)],this[_0x58f8bd(0x191)]=null,this[_0x58f8bd(0x150)]=null,this['_folderPathSpec']=[],this[_0x58f8bd(0x162)]=!![],this['_isHidden']=![],this[_0x58f8bd(0x160)]=![],this['_content']=null,this[_0x58f8bd(0x119)]=null,this[_0x58f8bd(0x16b)]=null,this[_0x58f8bd(0x12f)]=null,this['_$btnReset']=null,this[_0x58f8bd(0x1d6)]=null,this['_$iptSearch']=null,this['_$cbAll']=null,this[_0x58f8bd(0x128)]=null,this['_$btnRun']=null,this[_0x58f8bd(0x141)]=null,this['_$wrpBtnsSort']=null,this[_0x58f8bd(0x108)]=null,this['_$wrpMiniPills']=null;}get['page'](){const _0x43d0d7=_0x541b17;return this[_0x43d0d7(0x1eb)];}get['folderType'](){const _0x53a917=_0x541b17;return this[_0x53a917(0x113)];}set[_0x541b17(0x1c8)](_0x562680){const _0x2922a7=_0x541b17;this[_0x2922a7(0x162)]=_0x562680;}get[_0x541b17(0x154)](){const _0x563ff2=_0x541b17;return this[_0x563ff2(0x168)];}get[_0x541b17(0x1fd)](){const _0x12e376=_0x541b17;return this[_0x12e376(0x1fc)];}set[_0x541b17(0x1f8)](_0x4f0f0a){this['_content']=_0x4f0f0a;}set[_0x541b17(0x1b0)](_0x338fd0){const _0x14c5bd=_0x541b17;this[_0x14c5bd(0x191)]=_0x338fd0;}get[_0x541b17(0x1dc)](){return this['_folderPathSpec'];}get[_0x541b17(0x18f)](){const _0x26ac21=_0x541b17;return this[_0x26ac21(0x174)];}get['isNonCacheableInstance'](){const _0x5b63eb=_0x541b17;return!!this[_0x5b63eb(0x115)];}get[_0x541b17(0x208)](){const _0x1b9b04=_0x541b17;return!!this[_0x1b9b04(0x1e0)];}get['isEscapeable'](){const _0x2fe917=_0x541b17;if(this['_isClosable'])return!![];else return!this[_0x2fe917(0x1b8)];}async[_0x541b17(0x1ff)](_0x49ac5b){const _0x2a806b=_0x541b17;this[_0x2a806b(0xff)]=_0x49ac5b['_actor'],this['_pack']=_0x49ac5b[_0x2a806b(0x191)],await this[_0x2a806b(0x1b9)](_0x49ac5b[_0x2a806b(0x180)]);}[_0x541b17(0x1ac)](..._0xa5c912){const _0x4ecd49=_0x541b17;if(this['_isNonCacheableInstance']){if(this['_pageFilter']&&this[_0x4ecd49(0x1dd)][_0x4ecd49(0x203)])this[_0x4ecd49(0x1dd)][_0x4ecd49(0x203)][_0x4ecd49(0x132)]();return super['close'](..._0xa5c912);}if(!this['_isClosable']){this[_0x4ecd49(0x1b8)]=!![],this[_0x4ecd49(0x151)][_0x4ecd49(0x1b6)]();return;}if(this[_0x4ecd49(0x1dd)]&&this[_0x4ecd49(0x1dd)]['filterBox'])this[_0x4ecd49(0x1dd)][_0x4ecd49(0x203)][_0x4ecd49(0x132)]();return super[_0x4ecd49(0x1ac)](..._0xa5c912);}[_0x541b17(0x167)](..._0x5103f4){const _0x23d651=_0x541b17;if(this[_0x23d651(0x1b8)]){this[_0x23d651(0x151)][_0x23d651(0x10f)](),this[_0x23d651(0x1b8)]=![];return;}return super['render'](..._0x5103f4);}[_0x541b17(0xfd)](..._0x48321a){const _0x11e468=_0x541b17;return this[_0x11e468(0x1b8)]&&(this[_0x11e468(0x151)][_0x11e468(0x10f)](),this[_0x11e468(0x1b8)]=![]),this['render'](..._0x48321a);}['activateSidebarTab'](){const _0x3098bd=_0x541b17;if(this['_pack'])ui[_0x3098bd(0x1c5)]['activateTab'](_0x3098bd(0x127));else{if(!this[_0x3098bd(0xff)]&&this[_0x3098bd(0x1b5)])ui[_0x3098bd(0x1c5)]['activateTab'](this[_0x3098bd(0x1b5)]);}}async[_0x541b17(0x11d)](){const _0x23a307=_0x541b17;if(this[_0x23a307(0x160)])return;this[_0x23a307(0x160)]=!![],await this[_0x23a307(0x13a)]();}async[_0x541b17(0x13a)](){const _0x469ba7=_0x541b17;this['_folderPathSpec']=MiscUtil[_0x469ba7(0x136)](await GameStorage[_0x469ba7(0x1e4)](this[_0x469ba7(0x1b4)]()),_0x469ba7(0x1c7));if(this[_0x469ba7(0x180)]==null)await this[_0x469ba7(0x1b9)]((this['_defaultFolderPath']||[])[_0x469ba7(0x16a)](_0x501444=>FolderPathBuilderRow['getStateFromString'](_0x501444)));}async[_0x541b17(0x1b9)](_0x13be51){const _0x10f646=_0x541b17;return this[_0x10f646(0x180)]=_0x13be51,GameStorage[_0x10f646(0x147)](this[_0x10f646(0x1b4)](),{'path':this[_0x10f646(0x180)]});}['_getFullFolderPathSpecKey'](){const _0x2b48d3=_0x541b17;return ImportList[_0x2b48d3(0x1c0)]+'.'+this[_0x2b48d3(0x16f)][_0x2b48d3(0x166)];}[_0x541b17(0x11e)](){const _0x2a9466=_0x541b17;return{'isRadio':this[_0x2a9466(0x1ea)],'titleButtonRun':this[_0x2a9466(0x13f)],'titleSearch':this[_0x2a9466(0x155)],'cols':[{'name':'Name','width':0x9,'field':_0x2a9466(0x166)},{'name':'Source','width':0x2,'field':_0x2a9466(0x192),'titleProp':_0x2a9466(0x1f0),'displayProp':_0x2a9466(0x1b1),'classNameProp':_0x2a9466(0x1e8),'rowClassName':_0x2a9466(0x14d)}],'rows':this[_0x2a9466(0x1fe)][_0x2a9466(0x16a)]((_0x5f3ab0,_0x5c8957)=>({'name':_0x5f3ab0[_0x2a9466(0x166)],'source':_0x5f3ab0[_0x2a9466(0x192)],'sourceShort':Parser[_0x2a9466(0x197)](_0x5f3ab0['source']),'sourceLong':Parser['sourceJsonToFull'](_0x5f3ab0[_0x2a9466(0x192)]),'sourceClassName':Parser[_0x2a9466(0x187)](_0x5f3ab0['source']),'ix':_0x5c8957}))};}[_0x541b17(0x1c2)](_0x14aa79){const _0x2facf3=_0x541b17,_0x140e3e=_0x14aa79[0x0],_0x161470=$(_0x140e3e[_0x2facf3(0x109)][0x0]);this[_0x2facf3(0x12f)]=_0x161470[_0x2facf3(0x16c)](_0x2facf3(0x1cc)),this[_0x2facf3(0x1c4)]=_0x161470[_0x2facf3(0x16c)](_0x2facf3(0x1d0)),this['_$btnToggleSummary']=_0x161470[_0x2facf3(0x16c)]('[name=\x22btn-toggle-summary\x22]'),this['_$iptSearch']=_0x161470[_0x2facf3(0x16c)](_0x2facf3(0x144)),this[_0x2facf3(0x1e3)]=$(_0x140e3e[_0x2facf3(0x109)][0x1]);const _0x1e55bf=$(_0x140e3e[_0x2facf3(0x109)][0x2]);this['_$cbAll']=_0x1e55bf['find'](_0x2facf3(0x15a)),this[_0x2facf3(0x111)]=_0x1e55bf,this['_$wrpList']=$(_0x140e3e[_0x2facf3(0x109)][0x3]),this[_0x2facf3(0x128)]=$(_0x140e3e[_0x2facf3(0x109)][0x4]),this['_$btnRun']=this[_0x2facf3(0x128)]['find']('[name=\x22btn-run\x22]'),this['_isModdable']&&(this['_$btnRunWithMods']=this[_0x2facf3(0x128)][_0x2facf3(0x16c)]('[name=\x22btn-run-mods\x22]'));}[_0x541b17(0x15b)](_0x56709a){const _0x3b9d34=_0x541b17;super[_0x3b9d34(0x15b)](_0x56709a),this[_0x3b9d34(0x1c2)](_0x56709a),this[_0x3b9d34(0x1f7)](),this[_0x3b9d34(0x1c4)]['click'](()=>{const _0x5df8cf=_0x3b9d34;this[_0x5df8cf(0x161)]['val']('');if(this['_list'])this['_list'][_0x5df8cf(0x139)]();});this[_0x3b9d34(0x1dd)]?this[_0x3b9d34(0x181)]()['then'](()=>this['_activateListeners_initPreviewHoversAndImportButtons']()):this['_activateListeners_initList']();ListUiUtil[_0x3b9d34(0x13c)](this['_$cbAll'],this['_list']);if(this[_0x3b9d34(0x1c4)])this[_0x3b9d34(0x1c4)][_0x3b9d34(0x196)]();}[_0x541b17(0x1a8)](){const _0x2491ab=_0x541b17;if(!this[_0x2491ab(0x1e1)])return;const _0x742e58=this[_0x2491ab(0x119)]['items'],_0x42b311=_0x742e58[_0x2491ab(0x1d3)];for(let _0x4ccb16=0x0;_0x4ccb16<_0x42b311;++_0x4ccb16){const _0xb6f668=_0x742e58[_0x4ccb16],_0x1ddc08=_0xb6f668['ele'][_0x2491ab(0x118)][_0x2491ab(0x109)][0x1]['firstElementChild'],_0x4851f3=_0x1ddc08[_0x2491ab(0x109)][0x0],_0x1bab48=_0x1ddc08[_0x2491ab(0x109)][0x1],_0x1773fd=_0xb6f668['ele'][_0x2491ab(0x1e7)];this[_0x2491ab(0x183)](_0xb6f668,_0x4851f3,_0x1773fd),this['_activateListeners_initPreviewImportButton'](_0xb6f668,_0x1bab48);}}[_0x541b17(0x183)](_0x5cf642,_0xb3b58a,_0x2a0937){const _0x58e23f=_0x541b17;_0xb3b58a[_0x58e23f(0x1de)](_0x58e23f(0x196),_0x2e31b7=>{const _0x3a4299=_0x58e23f,_0x3568b0=this[_0x3a4299(0x1fe)][_0x5cf642['ix']];UtilApplications[_0x3a4299(0x19f)](_0x2e31b7,this[_0x3a4299(0x1eb)],_0x3568b0,_0xb3b58a,_0x2a0937);});}['_activateListeners_initPreviewImportButton'](_0x1bac8d,_0x19a196){const _0x21ecdb=_0x541b17;_0x19a196['addEventListener'](_0x21ecdb(0x196),async _0x1d5bb5=>{const _0x50e678=_0x21ecdb;_0x1d5bb5[_0x50e678(0x16e)](),_0x1d5bb5['preventDefault']();if(this[_0x50e678(0x1ea)])this[_0x50e678(0x1ac)]();const _0x4fa81=this[_0x50e678(0x1fe)][_0x1bac8d['ix']];try{await this['_pHandleClickRunButton_pDoPreCachePack']();let _0x11bacc;try{_0x11bacc=await this[_0x50e678(0xfc)](_0x4fa81);}finally{this[_0x50e678(0x15f)]();}if(!_0x11bacc)return;UtilApplications[_0x50e678(0x1ae)](_0x11bacc);}catch(_0x37ed99){setTimeout(()=>{throw _0x37ed99;}),UtilApplications[_0x50e678(0x1ae)]({'entity':_0x4fa81,'status':UtilApplications[_0x50e678(0x18b)]});}});}[_0x541b17(0x1f7)](){const _0xc3d8cf=_0x541b17;this[_0xc3d8cf(0x1bf)][_0xc3d8cf(0x196)](()=>this[_0xc3d8cf(0x156)]()),this[_0xc3d8cf(0x110)]&&this[_0xc3d8cf(0x141)]['click'](async()=>{const _0x13cbea=_0xc3d8cf;try{this[_0x13cbea(0x18e)]=!![],await this[_0x13cbea(0x156)]();}finally{this[_0x13cbea(0x18e)]=![];}});}async['_pFnPostProcessEntries'](_0x168fd2){return _0x168fd2;}async[_0x541b17(0x156)](){const _0xb8375d=_0x541b17;if(!this[_0xb8375d(0x119)])return;const _0xcc264=this[_0xb8375d(0x119)]['items'][_0xb8375d(0x1a5)](_0x5c0ce6=>_0x5c0ce6['data'][_0xb8375d(0x1ef)][_0xb8375d(0x122)])[_0xb8375d(0x16a)](_0x480a53=>_0x480a53['ix']);if(!_0xcc264[_0xb8375d(0x1d3)])return ui['notifications']['warn'](_0xb8375d(0x1a9));if(!this[_0xb8375d(0x191)]&&_0xcc264[_0xb8375d(0x1d3)]>0x64&&!Config[_0xb8375d(0x136)]('ui',_0xb8375d(0x145))){const _0x1e8dfb=await InputUiUtil[_0xb8375d(0x186)]({'title':_0xb8375d(0x12c),'htmlDescription':_0xb8375d(0x19d)+_0xcc264[_0xb8375d(0x1d3)]+_0xb8375d(0x1d1),'textYesRemember':_0xb8375d(0x1e2),'textYes':_0xb8375d(0x1ed),'textNo':_0xb8375d(0x148),'fnRemember':_0xf032e0=>Config[_0xb8375d(0x178)]('ui',_0xb8375d(0x145),_0xf032e0)});if(_0x1e8dfb==null||_0x1e8dfb===![])return;}this['close'](),this[_0xb8375d(0x184)]();let _0x5acbda=_0xcc264[_0xb8375d(0x16a)](_0x29fef2=>this[_0xb8375d(0x1fe)][_0x29fef2]);_0x5acbda=await this[_0xb8375d(0x1ba)](_0x5acbda);if(_0x5acbda==null)return;await this[_0xb8375d(0x14c)]();const _0x3957c7=_0x5acbda[_0xb8375d(0x16a)](_0x4a1dfc=>{const _0x5c7c03=_0xb8375d;return new Util[(_0x5c7c03(0x18d))]((_0x4a1dfc['_displayName']||_0x4a1dfc[_0x5c7c03(0x166)])+'\x20('+Parser['sourceJsonToAbv'](_0x4a1dfc['source'])+')',()=>this['pImportEntry'](_0x4a1dfc));});await UtilApplications['pRunTasks'](_0x3957c7);if(!this[_0xb8375d(0xff)])game[this[_0xb8375d(0x1f9)]][_0xb8375d(0x167)]();this[_0xb8375d(0x15f)](),this[_0xb8375d(0x159)][_0xb8375d(0x182)](_0xb8375d(0x122),![]),this[_0xb8375d(0x119)][_0xb8375d(0x18c)][_0xb8375d(0x171)](_0x5392af=>{const _0x31ab0c=_0xb8375d;_0x5392af[_0x31ab0c(0x207)][_0x31ab0c(0x1ef)][_0x31ab0c(0x122)]=![],_0x5392af[_0x31ab0c(0x16d)][_0x31ab0c(0x200)][_0x31ab0c(0x12d)](_0x31ab0c(0x19a));});}['_activateListeners_pInitFilteredList'](){const _0x70ebf=_0x541b17;return this['_list']=new List({'$iptSearch':this[_0x70ebf(0x161)],'$wrpList':this[_0x70ebf(0x108)],'fnSort':this[_0x70ebf(0x12a)]}),SortUtil['initBtnSortHandlers'](this['_$wrpBtnsSort'],this[_0x70ebf(0x119)]),this[_0x70ebf(0x1dd)][_0x70ebf(0x1c3)]({'$iptSearch':this[_0x70ebf(0x161)],'$btnReset':this[_0x70ebf(0x1c4)],'$btnOpen':this[_0x70ebf(0x12f)],'$btnToggleSummaryHidden':this['_$btnToggleSummary'],'$wrpMiniPills':this[_0x70ebf(0x1e3)],'namespace':this[_0x70ebf(0x153)]()})[_0x70ebf(0x14e)](()=>{const _0x50990e=_0x70ebf;this['_content'][_0x50990e(0x171)](_0x583d0d=>this[_0x50990e(0x1dd)]['addToFilters'](_0x583d0d)),this['_activateListeners_absorbListItems'](),this['_list'][_0x50990e(0x15e)](),this[_0x50990e(0x1dd)][_0x50990e(0x203)][_0x50990e(0x167)](),this[_0x50990e(0x1dd)][_0x50990e(0x203)]['on'](FilterBox[_0x50990e(0x1bb)],this[_0x50990e(0x152)][_0x50990e(0x1a2)](this)),this[_0x50990e(0x152)]();});}[_0x541b17(0x173)](){const _0x473972=_0x541b17;this['_list']=new List({'$iptSearch':this[_0x473972(0x161)],'$wrpList':this[_0x473972(0x108)],'fnSort':this['_fnListSort']}),SortUtil[_0x473972(0x13e)](this[_0x473972(0x111)],this[_0x473972(0x119)]),this['_activateListeners_absorbListItems'](),this['_list']['init']();}['_activateListeners_absorbListItems'](){const _0x1e8825=_0x541b17;this[_0x1e8825(0x119)][_0x1e8825(0x194)](this[_0x1e8825(0x1fe)],{'fnGetName':_0x45b9a1=>_0x45b9a1[_0x1e8825(0x166)],'fnGetValues':_0x2eb3ca=>({'source':_0x2eb3ca[_0x1e8825(0x192)],'hash':UrlUtil[_0x1e8825(0x101)][this['_page']](_0x2eb3ca)}),'fnGetData':UtilList2[_0x1e8825(0x185)],'fnBindListeners':_0x4b6fef=>this[_0x1e8825(0x1ea)]?UtilList2[_0x1e8825(0x12e)](this[_0x1e8825(0x119)],_0x4b6fef):UtilList2['absorbFnBindListeners'](this[_0x1e8825(0x119)],_0x4b6fef)});}[_0x541b17(0x152)](){const _0x27e4b3=_0x541b17,_0x2bc657=this['_pageFilter'][_0x27e4b3(0x203)][_0x27e4b3(0x1df)]();this['_list'][_0x27e4b3(0x1a5)](_0x161130=>this[_0x27e4b3(0x1dd)]['toDisplay'](_0x2bc657,this[_0x27e4b3(0x1fe)][_0x161130['ix']]));}async[_0x541b17(0xfc)](){const _0x37e17c=_0x541b17;throw new Error(_0x37e17c(0x106));}['getFolderPathMeta'](){const _0x37a8b5=_0x541b17;return{'alpha':{'label':'First\x20Letter\x20of\x20Name','getter':_0x33c509=>_0x33c509['name']['slice'](0x0,0x1)['toUpperCase']()},'source':{'label':_0x37a8b5(0x1fb),'getter':_0x42f86b=>Parser[_0x37a8b5(0x125)](_0x42f86b['source'])},'sourceAbbreviation':{'label':_0x37a8b5(0x201),'getter':_0x3b0156=>Parser['sourceJsonToAbv'](_0x3b0156['source'])}};}async['_pImportEntry_pGetFolderId'](_0x4ee850,_0x146a8a){const _0x2a902b=_0x541b17;_0x146a8a=_0x146a8a||{};const _0x54c770=_0x146a8a['folderType']||this[_0x2a902b(0x113)];if(!this['_folderPathSpec'][_0x2a902b(0x1d3)]||!_0x54c770)return null;const _0x40d7ec=this[_0x2a902b(0x135)](),_0x1e6169=this[_0x2a902b(0x180)][_0x2a902b(0x1a5)](_0x4d8913=>_0x4d8913['isFreeText']?_0x4d8913['text']&&_0x4d8913[_0x2a902b(0x1d4)][_0x2a902b(0x169)]():_0x4d8913[_0x2a902b(0xfe)])[_0x2a902b(0x16a)](_0x1b799c=>_0x1b799c[_0x2a902b(0x1ab)]?_0x1b799c['text']:_0x40d7ec[_0x1b799c[_0x2a902b(0xfe)]][_0x2a902b(0x1e6)](_0x4ee850)),_0x20c74e=[],_0x56d5a5=(_0x129696,_0x37d779)=>{const _0x5f45b0=_0x2a902b,_0x4bc954=Folder[_0x5f45b0(0x177)]['entities'][_0x5f45b0(0x1a5)](_0x1ec868=>{const _0x52dcd0=_0x5f45b0,_0x3468be=_0x1ec868[_0x52dcd0(0x207)][_0x52dcd0(0x166)]===_0x129696,_0x4c9220=_0x1ec868[_0x52dcd0(0x207)][_0x52dcd0(0x14f)]===_0x54c770,_0x45a659=_0x37d779?_0x1ec868[_0x52dcd0(0x207)]['parent']===_0x37d779:_0x1ec868[_0x52dcd0(0x207)][_0x52dcd0(0x15c)]==null;return _0x3468be&&_0x4c9220&&_0x45a659;});if(_0x4bc954[_0x5f45b0(0x1d3)]>0x1){const _0x2baf48=_0x5f45b0(0x129)+_0x20c74e[_0x5f45b0(0x16a)](_0x16c2a3=>_0x16c2a3['data'][_0x5f45b0(0x166)])[_0x5f45b0(0x13d)]('\x20>\x20');ui[_0x5f45b0(0x1ad)][_0x5f45b0(0x130)](_0x2baf48);throw new Error(_0x2baf48);}else{if(_0x4bc954[_0x5f45b0(0x1d3)])return _0x4bc954[0x0];else return null;}};for(const _0xaaeff8 of _0x1e6169){const _0x13f765=_0x20c74e[_0x2a902b(0x1d3)]?_0x20c74e[_0x2a902b(0x188)]()[_0x2a902b(0x131)]||_0x20c74e['last']()[_0x2a902b(0x207)][_0x2a902b(0x131)]:null,_0x5d932d=_0x56d5a5(_0xaaeff8,_0x13f765);if(_0x5d932d)_0x20c74e[_0x2a902b(0x1da)](_0x5d932d);else{const _0x2b8a30=await Folder[_0x2a902b(0x14b)]({'name':_0xaaeff8,'parent':_0x13f765,'type':_0x54c770},{});_0x20c74e[_0x2a902b(0x1da)](_0x2b8a30);}}if(_0x20c74e[_0x2a902b(0x1d3)])return _0x20c74e[_0x2a902b(0x188)]()['_id'];return null;}async['pHandleEditFolderPathClick'](){const _0x135e5b=_0x541b17;await this[_0x135e5b(0x13a)]();const _0x447727=new FolderPathBuilderApp(this);_0x447727['render'](!![]);}['getContent'](_0x58294a){const _0x15d68f=_0x541b17;return Vetools['getContent'](_0x58294a,this[_0x15d68f(0x1fc)]);}[_0x541b17(0x153)](){const _0x37a815=_0x541b17;return'importer_'+(this['_namespace']||this[_0x37a815(0x1fc)][_0x37a815(0x13d)]('_'));}['_getDuplicateMeta'](_0x2819c8){const _0x18e0df=_0x541b17;_0x2819c8=_0x2819c8||{};const _0x1fd911=_0x2819c8[_0x18e0df(0x1db)]||this['_gameProp'],_0x5714b5=_0x1fd911===this[_0x18e0df(0x1f9)]?this[_0x18e0df(0x191)]:null;let _0x1d8773=null;switch(_0x1fd911){case _0x18e0df(0x205):case _0x18e0df(0x18c):{if(!(_0x2819c8[_0x18e0df(0x166)]&&_0x2819c8[_0x18e0df(0x192)]||_0x2819c8[_0x18e0df(0x17b)]))throw new Error('Either\x20\x22name\x22\x20and\x20\x22source\x22,\x20or\x20\x22entity\x22,\x20must\x20be\x20provided!');const _0x1aed57=(_0x2819c8[_0x18e0df(0x166)]||DataConverter[_0x18e0df(0x1a1)](_0x2819c8['entity']))[_0x18e0df(0x126)]()[_0x18e0df(0x169)](),_0x129e94=(_0x2819c8[_0x18e0df(0x192)]||DataConverter[_0x18e0df(0x1bc)](_0x2819c8['entity']))[_0x18e0df(0x126)]()['trim']();switch(_0x1fd911){case _0x18e0df(0x205):{if(_0x5714b5){const _0xb556d4=this[_0x18e0df(0x1c1)]({'name':_0x1aed57,'source':_0x129e94});_0x1d8773=(this[_0x18e0df(0x150)]||{})[_0xb556d4];}else _0x1d8773=game[_0x1fd911][_0x18e0df(0x16c)](_0x45baa2=>(MiscUtil[_0x18e0df(0x136)](_0x45baa2,'data','name')||'')[_0x18e0df(0x126)]()[_0x18e0df(0x169)]()===_0x1aed57&&(MiscUtil[_0x18e0df(0x136)](_0x45baa2,_0x18e0df(0x207),_0x18e0df(0x207),_0x18e0df(0x1be),_0x18e0df(0x192))||'')[_0x18e0df(0x126)]()[_0x18e0df(0x169)]()===_0x129e94);break;}case'items':{if(_0x5714b5){const _0x41ecec=this[_0x18e0df(0x1c1)]({'name':_0x1aed57,'source':_0x129e94});_0x1d8773=(this[_0x18e0df(0x150)]||{})[_0x41ecec];}else _0x1d8773=game[_0x1fd911][_0x18e0df(0x16c)](_0x1f3430=>(MiscUtil[_0x18e0df(0x136)](_0x1f3430,_0x18e0df(0x207),_0x18e0df(0x166))||'')[_0x18e0df(0x126)]()[_0x18e0df(0x169)]()===_0x1aed57&&(MiscUtil[_0x18e0df(0x136)](_0x1f3430,_0x18e0df(0x207),_0x18e0df(0x207),'source')||'')[_0x18e0df(0x126)]()[_0x18e0df(0x169)]()===_0x129e94);break;}}break;}case _0x18e0df(0x140):case _0x18e0df(0x142):{const _0x6f617d=_0x2819c8['name']['toLowerCase']()[_0x18e0df(0x169)]();if(_0x5714b5){const _0x4fb91f=this[_0x18e0df(0x1c1)]({'name':_0x6f617d});_0x1d8773=(this[_0x18e0df(0x150)]||{})[_0x4fb91f];}else _0x1d8773=game[_0x1fd911][_0x18e0df(0x16c)](_0x3a0c82=>(MiscUtil[_0x18e0df(0x136)](_0x3a0c82,_0x18e0df(0x207),_0x18e0df(0x166))||'')[_0x18e0df(0x126)]()[_0x18e0df(0x169)]()===_0x6f617d);break;}default:throw new Error(_0x18e0df(0x1d5)+_0x1fd911+'\x22\x20is\x20not\x20supported!');}const _0x4524a6=Config[_0x18e0df(0x136)](_0x18e0df(0x193),_0x18e0df(0x143));return{'mode':_0x4524a6,'existing':_0x1d8773,'isSkip':_0x4524a6===Config[_0x18e0df(0x15d)]&&_0x1d8773!=null,'isOverwrite':_0x4524a6===Config[_0x18e0df(0x176)]&&_0x1d8773!=null};}['_getDuplicateMeta_getEntityKey'](_0x174504){const _0x59e6bb=_0x541b17;return Object[_0x59e6bb(0x146)](_0x174504)[_0x59e6bb(0x1d8)](([_0x19c587],[_0x2c8b58])=>SortUtil[_0x59e6bb(0x195)](_0x19c587,_0x2c8b58))[_0x59e6bb(0x16a)](([_0x23b626,_0x59a762])=>(_0x23b626+'='+(''+_0x59a762)[_0x59e6bb(0x169)]())['toLowerCase']())[_0x59e6bb(0x13d)]('::');}async[_0x541b17(0x14c)](){const _0x2c73b7=_0x541b17;if(!this[_0x2c73b7(0x191)]||Config['get']('import','deduplicationMode')===Config[_0x2c73b7(0x17c)])return;this[_0x2c73b7(0x150)]={};const _0x409386=await UtilCompendium[_0x2c73b7(0x1f3)](this[_0x2c73b7(0x191)],!![]);_0x409386['forEach'](_0x3de501=>{const _0x48b13b=_0x2c73b7;switch(this[_0x48b13b(0x1f9)]){case'actors':{const _0xc93f3c=(MiscUtil[_0x48b13b(0x136)](_0x3de501,_0x48b13b(0x207),_0x48b13b(0x166))||'')[_0x48b13b(0x126)]()[_0x48b13b(0x169)](),_0x3fcc02=(MiscUtil[_0x48b13b(0x136)](_0x3de501,_0x48b13b(0x207),_0x48b13b(0x207),_0x48b13b(0x1be),'source')||'')[_0x48b13b(0x126)]()['trim'](),_0x1dc1c3=this[_0x48b13b(0x1c1)]({'name':_0xc93f3c,'source':_0x3fcc02});this['_packCache'][_0x1dc1c3]=_0x3de501;break;}case _0x48b13b(0x18c):{const _0x30334d=(MiscUtil[_0x48b13b(0x136)](_0x3de501,_0x48b13b(0x207),_0x48b13b(0x166))||'')[_0x48b13b(0x126)]()[_0x48b13b(0x169)](),_0x20b29c=(MiscUtil['get'](_0x3de501,_0x48b13b(0x207),'data',_0x48b13b(0x192))||'')[_0x48b13b(0x126)]()[_0x48b13b(0x169)](),_0x43e114=this[_0x48b13b(0x1c1)]({'name':_0x30334d,'source':_0x20b29c});this[_0x48b13b(0x150)][_0x43e114]=_0x3de501;break;}case'journal':case'tables':{const _0x14e28a=(MiscUtil[_0x48b13b(0x136)](_0x3de501,_0x48b13b(0x207),_0x48b13b(0x166))||'')[_0x48b13b(0x126)]()[_0x48b13b(0x169)](),_0x31724d=this[_0x48b13b(0x1c1)]({'name':_0x14e28a});this[_0x48b13b(0x150)][_0x31724d]=_0x3de501;break;}default:throw new Error('Game\x20property\x20\x22'+this['_gameProp']+_0x48b13b(0x1f2));}});}[_0x541b17(0x15f)](){const _0x270d8d=_0x541b17;this[_0x270d8d(0x150)]=null;}async[_0x541b17(0x12b)](_0x1f7f58,_0x3774fe){const _0x528d85=_0x541b17,_0x2b4c24=MiscUtil[_0x528d85(0x17d)](_0x1f7f58[_0x528d85(0x133)]['data']);return Object[_0x528d85(0x164)](_0x2b4c24,_0x3774fe),await this[_0x528d85(0x191)][_0x528d85(0x1f4)](MiscUtil[_0x528d85(0x17d)](_0x2b4c24)),{'imported':_0x1f7f58[_0x528d85(0x133)],'status':UtilApplications[_0x528d85(0x157)]};}async[_0x541b17(0x104)](_0x4e7ce0,_0x4a632c){const _0x2a3f52=_0x541b17;return await _0x4e7ce0[_0x2a3f52(0x133)][_0x2a3f52(0x10c)](_0x4a632c),{'imported':_0x4e7ce0['existing'],'status':UtilApplications['TASK_EXIT_COMPLETE_UPDATE_OVERWRITE']};}async[_0x541b17(0x1f6)](_0xe7155e,_0x3e3027,_0x35f4aa){const _0x475882=_0x541b17,_0x16c1e3=await this[_0x475882(0x11a)](_0xe7155e,{'isAddDataFlags':!![],'filterValues':_0x3e3027[_0x475882(0x1d7)],..._0x35f4aa,'isAddPermission':!![]}),_0x282ec8=this[_0x475882(0x116)]({'name':_0x16c1e3[_0x475882(0x166)],'source':MiscUtil[_0x475882(0x136)](_0x16c1e3,_0x475882(0x207),_0x475882(0x192))});if(_0x282ec8[_0x475882(0x1a3)])return{'status':UtilApplications['TASK_EXIT_SKIPPED_DUPLICATE']};let _0xa3d84a;switch(this[_0x475882(0x1f9)]){case'items':_0xa3d84a=Item;break;case _0x475882(0x140):_0xa3d84a=JournalEntry;break;case _0x475882(0x142):_0xa3d84a=RollTable;break;}if(_0x3e3027['isTemp']){const _0x4e3c6b=await _0xa3d84a[_0x475882(0x14b)](_0x16c1e3,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x4e3c6b,'status':UtilApplications['TASK_EXIT_COMPLETE']};}else{if(this[_0x475882(0x191)]){if(_0x282ec8['isOverwrite'])return this['_pImportEntry_pDoUpdateExistingPackEntity'](_0x282ec8,_0x16c1e3);const _0x253006=new _0xa3d84a(_0x16c1e3);return await this['_pack'][_0x475882(0x1d9)](_0x253006),{'imported':_0x253006,'status':UtilApplications[_0x475882(0x1bd)]};}else{if(_0x282ec8[_0x475882(0x17e)])return this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x282ec8,_0x16c1e3);const _0x2d038e=await this[_0x475882(0x18a)](_0xe7155e);if(_0x2d038e)_0x16c1e3[_0x475882(0x1e5)]=_0x2d038e;const _0x29aa22=await _0xa3d84a['create'](_0x16c1e3,{'renderSheet':![],'temporary':![]});return await game[this[_0x475882(0x1f9)]]['insert'](_0x29aa22),{'imported':_0x29aa22,'status':UtilApplications[_0x475882(0x1bd)]};}}}[_0x541b17(0x11a)](_0x1942e7,_0x3604db){const _0x491266=_0x541b17;throw new Error(_0x491266(0x106));}}ImportList['_STO_K_FOLDER_PATH_SPEC']=_0x541b17(0x204);class FolderPathBuilderApp extends Application{constructor(_0x589955){const _0x40594f=_0x541b17;super({'width':0x1e0,'height':0x1e0,'title':_0x40594f(0x10b),'template':SharedConsts[_0x40594f(0x163)]+_0x40594f(0x190),'resizable':!![]}),this[_0x40594f(0x175)]=new FolderPathBuilder(_0x589955);}[_0x541b17(0x15b)](_0x18b197){const _0x9f54b3=_0x541b17;super['activateListeners'](_0x18b197),this[_0x9f54b3(0x175)][_0x9f54b3(0x167)](_0x18b197);}}const MixinUserChooseImporter=_0x54f1c0=>class extends _0x54f1c0{constructor(..._0x5b7369){const _0x36da54=_0x541b17;super(..._0x5b7369),this['_isRadio']=!![],this[_0x36da54(0x1b3)]=!![],this[_0x36da54(0x1ce)]=null,this[_0x36da54(0x1f5)]=null,this[_0x36da54(0x1b7)]=null;}async[_0x541b17(0x156)](){const _0x165960=_0x541b17;if(!this[_0x165960(0x119)])return;try{const _0x297342=this['_list'][_0x165960(0x18c)][_0x165960(0x16c)](_0x1c4e91=>_0x1c4e91['data'][_0x165960(0x1ef)][_0x165960(0x122)]);if(!_0x297342)return ui['notifications'][_0x165960(0x120)](_0x165960(0x1f1));this[_0x165960(0x1b3)]=![],this[_0x165960(0x1ac)]();let _0x2d26f8=[this[_0x165960(0x1fe)][_0x297342['ix']]];_0x2d26f8=await this['_pFnPostProcessEntries'](_0x2d26f8);if(_0x2d26f8==null)return;const _0x1c64dd=await this['pImportEntry'](_0x2d26f8[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x1c64dd[_0x165960(0x13b)]===UtilApplications[_0x165960(0x206)])this[_0x165960(0x1ce)](_0x1c64dd[_0x165960(0x107)]);else this[_0x165960(0x1f5)](new Error('Import\x20exited\x20with\x20status\x20\x22'+_0x1c64dd[_0x165960(0x13b)][_0x165960(0x1a7)]()+'\x22'));_0x297342['data']['cbSel'][_0x165960(0x122)]=![],_0x297342[_0x165960(0x16d)][_0x165960(0x200)][_0x165960(0x12d)](_0x165960(0x19a));}catch(_0x1fe4de){this['_fnReject'](_0x1fe4de);}}[_0x541b17(0x1ee)](_0x5959d1,_0x273f79){const _0x30bc5b=_0x541b17;_0x273f79[_0x30bc5b(0x1de)](_0x30bc5b(0x196),async _0x31989b=>{const _0x3f76f2=_0x30bc5b;_0x31989b[_0x3f76f2(0x16e)](),_0x31989b[_0x3f76f2(0x149)]();try{let _0x44d631=[this[_0x3f76f2(0x1fe)][_0x5959d1['ix']]];_0x44d631=await this[_0x3f76f2(0x1ba)](_0x44d631);if(_0x44d631==null)return;const _0x249f66=await this['pImportEntry'](_0x44d631[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x249f66['status']===UtilApplications['TASK_EXIT_COMPLETE_DATA_ONLY'])this['_fnResolve'](_0x249f66[_0x3f76f2(0x107)]);else this[_0x3f76f2(0x1f5)](new Error('Import\x20exited\x20with\x20status\x20\x22'+_0x249f66[_0x3f76f2(0x13b)][_0x3f76f2(0x1a7)]()+'\x22'));this['close']();}catch(_0x1bed24){this[_0x3f76f2(0x1f5)](_0x1bed24);}});}async[_0x541b17(0x1ac)](..._0x458acb){const _0x166ddd=_0x541b17;await super[_0x166ddd(0x1ac)](..._0x458acb);if(this[_0x166ddd(0x1b3)])this[_0x166ddd(0x1ce)](null);}[_0x541b17(0x100)](..._0x58a891){const _0x29b5f6=_0x541b17,{fnResolve:_0x12136e,fnReject:_0x116b8b,pResult:_0x4cdf4b}=_0x58a891[0x0];this[_0x29b5f6(0x1b3)]=!![],this[_0x29b5f6(0x1ce)]=_0x12136e,this[_0x29b5f6(0x1f5)]=_0x116b8b,this[_0x29b5f6(0x1b7)]=_0x4cdf4b;}static async[_0x541b17(0x158)](_0x30ec71,_0x3ba0c0){const _0xb87939=_0x541b17,{ChooseImporter:_0xf3c304}=await import(_0xb87939(0x11b)),_0x53c30c=new this({});await _0x53c30c['pInit']();let _0x1b1b70=null,_0x571516=null;const _0x123cf4=new Promise((_0x767cc4,_0x2ccca2)=>{_0x1b1b70=_0x767cc4,_0x571516=_0x2ccca2;}),_0x1bcee2=new _0xf3c304(null,{'mode':{..._0x30ec71,'importerInstance':_0x53c30c},'namespace':_0x3ba0c0,'isAlwaysCloseWindow':!![],'isTemp':!![],'isNoImport':!![],'importerPreRenderArgs':[{'fnResolve':_0x1b1b70,'fnReject':_0x571516,'pResult':_0x123cf4}]});return _0x1bcee2[_0xb87939(0x167)](!![]),_0x123cf4;}};export{ImportList,MixinUserChooseImporter};