'use strict';const _0x3785=['SRD\x20Importer','_isRadio','343310QLDLGq','_packCache','getFolderPathMeta','reset','_handleFilterChange','22wHvDxD','entries','SOURCE_TYP_UNKNOWN','isFile','_$wrpMiniPills','toLowerCase','import','_activateListeners_pInitFilteredList','_$wrpBtnsSort','close','items','init','\x22\x20is\x20not\x20supported!','DataSourceFile','actors','val','activateSidebarTab','tables','prop','createEmbeddedEntity','Task','DataSourceBase','isDefault','isSkip','pSetClient','titleButtonRun','checked','Name','cbSel','mousedown','data','./ChooseImporter.js','showAndRender','_folderPathSpec','trim','_props','isClosable','isStreamerMode','_list','_pGetUseImporterDragDrop','_pHandleClickRunButton','/template/ImportList.handlebars','warn','status','cacheKey','then','doShowImportedNotification','_pageFilter','_pImportEntry_pDoUpdateExistingPackEntity','_isNonCacheableInstance','_pHandleClickRunButton_pDoPreCachePack','list-multi-selected','insert','toUpperCase','getSourceWithPagePart','hover','error','bind','isFreeText','stopPropagation','absorbFnBindListenersRadio','find','STR_SEE_CONSOLE','SOURCE_TYPE_ORDER','_isClosable','_displayName','Game\x20property\x20\x22','Warning:\x20Large\x20Import','pImportEntry','preventDefault','_folderType','_pImportEntry_pImportToDirectoryGeneric','namespace','folderPathSpec','pResult','dragDropMode','journal','_isInit','ImportList.folderKeyPathSpec','importerName','push','getContent','filterBox','getMaxWindowHeight','classList','TASK_EXIT_SKIPPED_DUPLICATE','hideVe','Continue\x20and\x20Remember','_fnReject','forEach','page','isPreviewable','Continue','absorbFnGetData','entity','\x20(All)','ele','One\x20of\x20\x22props\x22\x20or\x20\x22namespace\x22\x20must\x20be\x20provided!','_getDuplicateMeta_getEntityKey','\x22!\x20','getter','Either\x20\x22name\x22\x20and\x20\x22source\x22,\x20or\x20\x22entity\x22,\x20must\x20be\x20provided!','sourceClassName','_$btnRun','folderType','TASK_EXIT_COMPLETE','addEventListener','_namespace','C_IMPORT_DRAG_DROP_MODE_NEVER','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','/template/FolderPathBuilder.handlebars','Yes,\x20use\x20the\x20importer','194701DtxORf','name','15702MwWMiU','initBtnSortHandlers','_STO_K_FOLDER_PATH_SPEC','sourceShort','Homebrew','17iwpkGW','pGetCompendiumData','27709HQwYYp','UA/Etc.','special','Source\x20(Full)','_activateListeners_doFindUiElements','_pack','_defaultFolderPath','sourceLong','_pImportEntry_pDoUpdateExistingDirectoryEntity','create','get','pPreRender','mouseleave','_pLoadFolderPathSpec','folder','Please\x20select\x20something\x20from\x20the\x20list!','source','identifier','_id','Import\x20exited\x20with\x20status\x20\x22','activateTab','pGetUserChoice','Source\x20(Abbreviation)','127535mMJuYf','pPostLoad','_actor','handleLinkMouseLeave','isStandardDragDrop','SOURCE_TYP_ARCANA','_pFnPostProcessEntries','SOURCE_TYP_OFFICIAL_SINGLE','last','details','click','actor','_titleButtonRun','isActorRadio','Imported\x20\x22','SOURCE_TYP_OFFICIAL_BASE','titleSearch','getNameWithSourcePart','importer_','pInitFilterBox','[name=\x22btn-run-mods\x22]','C_IMPORT_DRAG_DROP_MODE_PROMPT','_isPreviewable','showVe','pHandleLinkMouseOver','_uploadedFile','imported','_$btnToggleSummary','Edit\x20Folder\x20Path','_initCreateSheetItemHook','deduplicationMode','MODULE_LOCATION','_$cbAll','content','Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20','toString','_sidebarTab','_isModdable','[name=\x22btn-toggle-summary\x22]','_isDedupable','SOURCE_TYP_OFFICIAL_ALL','[name=\x22cb-select-all\x22]','_activateListeners_absorbListItems','map','Unimplemented!','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','pRunTasks','SOURCE_TYPE_ORDER__FILTER','_titleSearch','_page','join','children','_getFilterNamespace','pack','flags','text','userData','isDedupable','[name=\x22btn-filter\x22]','pageFilter','_pImportEntry_pGetFolderId','props','MODULE_NAME','_$btnRunWithMods','URL_TO_HASH_BUILDER','_$bntFilter','pInit','_activateListeners_initPreviewHoversAndImportButtons','SOURCE_TYP_BREW','type','Cancel','First\x20Letter\x20of\x20Name','_isUseMods','isDisableLargeImportWarning','DataSourceSpecial','pHandleEditFolderPathClick','Import','filterTypes','_activateListeners_initPreviewImportButton','_$iptSearch','isEscapeable','element','hash','TASK_EXIT_COMPLETE_DATA_ONLY','\x20>\x20','update','VE_SOURCE_CUSTOM_URL','filter','\x20entities\x20to\x20import.<br>Importing\x20a\x20large\x20number\x20of\x20entities\x20may\x20degrade\x20game\x20performance\x20(consider\x20importing\x20to\x20a\x20compendium\x20instead).<br>Do\x20you\x20wish\x20to\x20continue?','activateListeners','_content','_$wrpList','_activateListeners_initPreviewHoverButton','_fnResolve','length','EVNT_VALCHANGE','_activateListeners_initRunButton','info','\x22\x20via\x20','27668JfjUxn','pGetUserBoolean','values','remove','gameProp','path','pSyncStateFrom','isNonCacheableInstance','ascSortLower','collection','render','mouseup','_fnListSort','TASK_EXIT_FAILED','.search','isFolderOnly','_isFolderOnly','doAbsorbItems','pSetFolderPathSpec','_$btnReset','copy','C_IMPORT_DEDUPE_MODE_NONE','_comp','Official','notifications','_pHandleClickRunButton_doDumpPackCache','Unknown','getData','SOURCE_TYP_CUSTOM','sourceJsonToAbv','_isResolveOnClose','C_IMPORT_DEDUPE_MODE_SKIP','getStateFromString','existing','_getFullFolderPathSpecKey','parent','_isHidden','502495rsEnHY','isOverwrite','_gameProp','teardown','preCreateOwnedItem','fnListSort','?\x20Note\x20that\x20this\x20will\x20ignore\x20any\x20in-Foundry\x20modifications\x20made\x20to\x20the\x20item.','_$wrpRun'];const _0x1833=function(_0x33fb52,_0x67b690){_0x33fb52=_0x33fb52-0xb6;let _0x3785d0=_0x3785[_0x33fb52];return _0x3785d0;};const _0x28d5f0=_0x1833;(function(_0x2960d4,_0x9cdd1e){const _0x4e49b6=_0x1833;while(!![]){try{const _0x58922f=parseInt(_0x4e49b6(0x120))+-parseInt(_0x4e49b6(0x19f))+-parseInt(_0x4e49b6(0x1bf))+-parseInt(_0x4e49b6(0x12f))*parseInt(_0x4e49b6(0x1a8))+parseInt(_0x4e49b6(0xfb))*parseInt(_0x4e49b6(0x1a6))+-parseInt(_0x4e49b6(0x1a1))+parseInt(_0x4e49b6(0x12a));if(_0x58922f===_0x9cdd1e)break;else _0x2960d4['push'](_0x2960d4['shift']());}catch(_0x265296){_0x2960d4['push'](_0x2960d4['shift']());}}}(_0x3785,0x59ff1));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Util}from'./Util.js';import{UtilList2}from'./UtilList2.js';import{FolderPathBuilder,FolderPathBuilderRow}from'./FolderPathBuilder.js';import{GameStorage}from'./GameStorage.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{DataConverter}from'./DataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';class ImportList extends Application{static[_0x28d5f0(0x1dc)](_0x2398f8){const _0x109aef=_0x28d5f0;Hooks['on'](_0x109aef(0x124),(_0x282ebb,_0x37e8bd)=>{const _0x38699a=_0x109aef,_0x59a145=_0x37e8bd['flags']?.[SharedConsts['MODULE_NAME']];if(!_0x59a145||!_0x59a145?.[_0x38699a(0x14d)]?.[_0x2398f8[_0x38699a(0x141)]])return;if(_0x59a145[_0x38699a(0x1c3)])return;return this[_0x38699a(0x156)]()[_0x38699a(0x15c)](async _0x34e7e1=>{const _0x31cd0f=_0x38699a,_0x45c565=_0x59a145[_0x31cd0f(0x14d)][_0x2398f8['prop']];try{if(_0x34e7e1){const _0xa2c702=new this({'actor':_0x282ebb});await _0xa2c702[_0x31cd0f(0xda)](),await _0xa2c702['pImportEntry'](_0x45c565,{'filterValues':_0x59a145['filterValues']}),ui['notifications'][_0x31cd0f(0xf9)](_0x31cd0f(0x1cd)+_0x45c565[_0x31cd0f(0x1a0)]+_0x31cd0f(0xfa)+_0x2398f8[_0x31cd0f(0x17e)]+'\x20Importer');return;}_0x37e8bd=MiscUtil[_0x31cd0f(0x10f)](_0x37e8bd),_0x37e8bd[_0x31cd0f(0xce)][SharedConsts[_0x31cd0f(0xd6)]][_0x31cd0f(0x1c3)]=!![],await _0x282ebb[_0x31cd0f(0x142)]('OwnedItem',_0x37e8bd);}catch(_0x265555){ui['notifications']['error']('Failed\x20to\x20import\x20\x22'+_0x45c565[_0x31cd0f(0x1a0)]+_0x31cd0f(0x192)+VeCt[_0x31cd0f(0x16d)]);throw _0x265555;}}),![];});}static async[_0x28d5f0(0x156)](){const _0x27b6c9=_0x28d5f0,_0x33410f=Config[_0x27b6c9(0x1b2)]('import',_0x27b6c9(0x17a));if(_0x33410f===Config[_0x27b6c9(0x19b)])return![];if(_0x33410f===Config[_0x27b6c9(0x1d4)]){const _0x40666b=await InputUiUtil[_0x27b6c9(0xfc)]({'title':'Import\x20via\x20'+(Config['get']('ui',_0x27b6c9(0x154))?_0x27b6c9(0x128):SharedConsts['MODULE_TITLE'])+_0x27b6c9(0x126),'textYes':_0x27b6c9(0x19e),'textNo':'No,\x20use\x20normal\x20drag-drop'});if(!_0x40666b)return![];}return!![];}constructor(_0x5c2d35,_0x3bf54a,_0x46fa32){const _0x5f0a90=_0x28d5f0;_0x46fa32=_0x46fa32||{};if(!_0x46fa32[_0x5f0a90(0xd5)]&&!_0x46fa32[_0x5f0a90(0x177)])throw new Error(_0x5f0a90(0x190));const _0x54ee8f={'template':SharedConsts[_0x5f0a90(0xb7)]+_0x5f0a90(0x158),'width':0x3c0,'height':Util[_0x5f0a90(0x182)](),'resizable':!![]};Object['assign'](_0x54ee8f,_0x5c2d35||{}),super(_0x54ee8f),this[_0x5f0a90(0x152)]=_0x46fa32[_0x5f0a90(0xd5)],this[_0x5f0a90(0xc8)]=_0x46fa32[_0x5f0a90(0x1cf)]||_0x5f0a90(0x130),this[_0x5f0a90(0xbc)]=_0x46fa32['sidebarTab'],this[_0x5f0a90(0x122)]=_0x46fa32[_0x5f0a90(0xff)],this[_0x5f0a90(0x1ae)]=_0x46fa32['defaultFolderPath'],this[_0x5f0a90(0x175)]=_0x46fa32['folderType'],this[_0x5f0a90(0x107)]=_0x46fa32[_0x5f0a90(0x125)],this[_0x5f0a90(0x15e)]=_0x46fa32[_0x5f0a90(0xd3)],this[_0x5f0a90(0x19a)]=_0x46fa32[_0x5f0a90(0x177)],this['_isFolderOnly']=!!_0x46fa32[_0x5f0a90(0x10a)],this[_0x5f0a90(0x160)]=_0x46fa32[_0x5f0a90(0x102)],this[_0x5f0a90(0xc9)]=_0x46fa32[_0x5f0a90(0x189)],this[_0x5f0a90(0x1d5)]=_0x46fa32[_0x5f0a90(0x18a)],this[_0x5f0a90(0xbd)]=_0x46fa32['isModdable'],this[_0x5f0a90(0x1cb)]=_0x46fa32[_0x5f0a90(0x148)]||_0x5f0a90(0xe4),this[_0x5f0a90(0xbf)]=!!_0x46fa32[_0x5f0a90(0xd1)],this['_actor']=_0x3bf54a[_0x5f0a90(0x1ca)],this[_0x5f0a90(0x129)]=!!_0x3bf54a['actor']&&_0x46fa32[_0x5f0a90(0x1cc)],this[_0x5f0a90(0x1ad)]=null,this[_0x5f0a90(0x12b)]=null,this[_0x5f0a90(0x150)]=[],this[_0x5f0a90(0x16f)]=!![],this[_0x5f0a90(0x11f)]=![],this[_0x5f0a90(0x17c)]=![],this[_0x5f0a90(0xf2)]=null,this[_0x5f0a90(0x155)]=null,this[_0x5f0a90(0x1d8)]=null,this[_0x5f0a90(0xd9)]=null,this[_0x5f0a90(0x10e)]=null,this[_0x5f0a90(0x1da)]=null,this[_0x5f0a90(0xe7)]=null,this[_0x5f0a90(0xb8)]=null,this[_0x5f0a90(0x127)]=null,this[_0x5f0a90(0x196)]=null,this[_0x5f0a90(0xd7)]=null,this[_0x5f0a90(0x137)]=null,this[_0x5f0a90(0xf3)]=null,this[_0x5f0a90(0x133)]=null;}get[_0x28d5f0(0x189)](){const _0x5758b3=_0x28d5f0;return this[_0x5758b3(0xc9)];}get[_0x28d5f0(0x197)](){const _0x388d8e=_0x28d5f0;return this[_0x388d8e(0x175)];}set[_0x28d5f0(0x153)](_0xf9c6f8){const _0x532018=_0x28d5f0;this[_0x532018(0x16f)]=_0xf9c6f8;}get[_0x28d5f0(0x177)](){return this['_namespace'];}get[_0x28d5f0(0xd5)](){const _0x2c0a40=_0x28d5f0;return this[_0x2c0a40(0x152)];}set[_0x28d5f0(0xb9)](_0x55f0cd){const _0x5817a2=_0x28d5f0;this[_0x5817a2(0xf2)]=_0x55f0cd;}set[_0x28d5f0(0xcd)](_0x637a7f){const _0x4cafec=_0x28d5f0;this[_0x4cafec(0x1ad)]=_0x637a7f;}get[_0x28d5f0(0x178)](){const _0x143c2c=_0x28d5f0;return this[_0x143c2c(0x150)];}get[_0x28d5f0(0x10a)](){const _0x4a569f=_0x28d5f0;return this[_0x4a569f(0x10b)];}get[_0x28d5f0(0x102)](){return!!this['_isNonCacheableInstance'];}get['isDedupable'](){const _0x369961=_0x28d5f0;return!!this[_0x369961(0xbf)];}get[_0x28d5f0(0xe8)](){const _0x32158e=_0x28d5f0;if(this['_isClosable'])return!![];else return!this[_0x32158e(0x11f)];}async[_0x28d5f0(0x101)](_0x1f36d1){const _0x22d1b5=_0x28d5f0;this['_actor']=_0x1f36d1[_0x22d1b5(0x1c1)],this[_0x22d1b5(0x1ad)]=_0x1f36d1['_pack'],await this[_0x22d1b5(0x10d)](_0x1f36d1['_folderPathSpec']);}['close'](..._0x4b3a8a){const _0x375437=_0x28d5f0;if(this['_isNonCacheableInstance']){if(this['_pageFilter']&&this['_pageFilter'][_0x375437(0x181)])this[_0x375437(0x15e)][_0x375437(0x181)][_0x375437(0x123)]();return super[_0x375437(0x138)](..._0x4b3a8a);}if(!this[_0x375437(0x16f)]){this[_0x375437(0x11f)]=!![],this[_0x375437(0xe9)][_0x375437(0x185)]();return;}if(this['_pageFilter']&&this['_pageFilter'][_0x375437(0x181)])this[_0x375437(0x15e)][_0x375437(0x181)][_0x375437(0x123)]();return super[_0x375437(0x138)](..._0x4b3a8a);}[_0x28d5f0(0x105)](..._0x343fe0){const _0x4141b4=_0x28d5f0;if(this[_0x4141b4(0x11f)]){this[_0x4141b4(0xe9)][_0x4141b4(0x1d6)](),this['_isHidden']=![];return;}return super['render'](..._0x343fe0);}[_0x28d5f0(0x14f)](..._0x3e6ece){const _0x1c0dfe=_0x28d5f0;return this[_0x1c0dfe(0x11f)]&&(this[_0x1c0dfe(0xe9)][_0x1c0dfe(0x1d6)](),this[_0x1c0dfe(0x11f)]=![]),this[_0x1c0dfe(0x105)](..._0x3e6ece);}[_0x28d5f0(0x13f)](){const _0x585e85=_0x28d5f0;if(this[_0x585e85(0x1ad)])ui['sidebar'][_0x585e85(0x1bc)]('compendium');else{if(!this[_0x585e85(0x1c1)]&&this[_0x585e85(0xbc)])ui['sidebar'][_0x585e85(0x1bc)](this[_0x585e85(0xbc)]);}}async[_0x28d5f0(0xda)](){const _0xbee549=_0x28d5f0;if(this[_0xbee549(0x17c)])return;this[_0xbee549(0x17c)]=!![],await this[_0xbee549(0x1b5)]();}async[_0x28d5f0(0x1b5)](){const _0x8b4f4d=_0x28d5f0;this['_folderPathSpec']=MiscUtil[_0x8b4f4d(0x1b2)](await GameStorage['pGetClient'](this[_0x8b4f4d(0x11d)]()),_0x8b4f4d(0x100));if(this[_0x8b4f4d(0x150)]==null)await this[_0x8b4f4d(0x10d)]((this['_defaultFolderPath']||[])['map'](_0x91e745=>FolderPathBuilderRow[_0x8b4f4d(0x11b)](_0x91e745)));}async[_0x28d5f0(0x10d)](_0x3f832f){const _0x54c58e=_0x28d5f0;return this['_folderPathSpec']=_0x3f832f,GameStorage[_0x54c58e(0x147)](this[_0x54c58e(0x11d)](),{'path':this[_0x54c58e(0x150)]});}[_0x28d5f0(0x11d)](){const _0x27c726=_0x28d5f0;return ImportList[_0x27c726(0x1a3)]+'.'+this['constructor'][_0x27c726(0x1a0)];}[_0x28d5f0(0x116)](){const _0x53f068=_0x28d5f0;return{'isRadio':this[_0x53f068(0x129)],'titleButtonRun':this[_0x53f068(0x1cb)],'titleSearch':this[_0x53f068(0xc8)],'cols':[{'name':_0x53f068(0x14a),'width':0x9,'field':_0x53f068(0x1a0)},{'name':'Source','width':0x2,'field':_0x53f068(0x1b8),'titleProp':_0x53f068(0x1af),'displayProp':_0x53f068(0x1a4),'classNameProp':_0x53f068(0x195),'rowClassName':'text-center'}],'rows':this[_0x53f068(0xf2)][_0x53f068(0xc3)]((_0x3b1b03,_0x561e40)=>({'name':_0x3b1b03['name'],'source':_0x3b1b03['source'],'sourceShort':Parser[_0x53f068(0x118)](_0x3b1b03['source']),'sourceLong':Parser['sourceJsonToFull'](_0x3b1b03[_0x53f068(0x1b8)]),'sourceClassName':Parser['sourceJsonToColor'](_0x3b1b03[_0x53f068(0x1b8)]),'ix':_0x561e40}))};}[_0x28d5f0(0x1ac)](_0x245677){const _0x20d374=_0x28d5f0,_0x45fa37=_0x245677[0x0],_0x1db8d4=$(_0x45fa37['children'][0x0]);this[_0x20d374(0xd9)]=_0x1db8d4['find'](_0x20d374(0xd2)),this[_0x20d374(0x10e)]=_0x1db8d4[_0x20d374(0x16c)]('[name=\x22btn-reset\x22]'),this['_$btnToggleSummary']=_0x1db8d4[_0x20d374(0x16c)](_0x20d374(0xbe)),this[_0x20d374(0xe7)]=_0x1db8d4[_0x20d374(0x16c)](_0x20d374(0x109)),this['_$wrpMiniPills']=$(_0x45fa37[_0x20d374(0xcb)][0x1]);const _0x3a824b=$(_0x45fa37[_0x20d374(0xcb)][0x2]);this['_$cbAll']=_0x3a824b[_0x20d374(0x16c)](_0x20d374(0xc1)),this[_0x20d374(0x137)]=_0x3a824b,this['_$wrpList']=$(_0x45fa37[_0x20d374(0xcb)][0x3]),this['_$wrpRun']=$(_0x45fa37['children'][0x4]),this[_0x20d374(0x196)]=this['_$wrpRun']['find']('[name=\x22btn-run\x22]'),this[_0x20d374(0xbd)]&&(this[_0x20d374(0xd7)]=this[_0x20d374(0x127)][_0x20d374(0x16c)](_0x20d374(0x1d3)));}[_0x28d5f0(0xf1)](_0x56d004){const _0x220b4d=_0x28d5f0;super[_0x220b4d(0xf1)](_0x56d004),this[_0x220b4d(0x1ac)](_0x56d004),this[_0x220b4d(0xf8)](),this[_0x220b4d(0x10e)][_0x220b4d(0x1c9)](()=>{const _0xe229b6=_0x220b4d;this['_$iptSearch'][_0xe229b6(0x13e)]('');if(this[_0xe229b6(0x155)])this['_list'][_0xe229b6(0x12d)]();});this[_0x220b4d(0x15e)]?this['_activateListeners_pInitFilteredList']()[_0x220b4d(0x15c)](()=>this[_0x220b4d(0xdb)]()):this['_activateListeners_initList']();ListUiUtil['bindSelectAllCheckbox'](this[_0x220b4d(0xb8)],this[_0x220b4d(0x155)]);if(this[_0x220b4d(0x10e)])this[_0x220b4d(0x10e)][_0x220b4d(0x1c9)]();}[_0x28d5f0(0xdb)](){const _0x2cf997=_0x28d5f0;if(!this[_0x2cf997(0x1d5)])return;const _0x1b04e5=this[_0x2cf997(0x155)][_0x2cf997(0x139)],_0x3fd6cf=_0x1b04e5[_0x2cf997(0xf6)];for(let _0xbe3fea=0x0;_0xbe3fea<_0x3fd6cf;++_0xbe3fea){const _0x58ee5f=_0x1b04e5[_0xbe3fea],_0x2d908e=_0x58ee5f[_0x2cf997(0x18f)][_0x2cf997(0xcb)][0x1]['children'][0x0],_0x3700f0=_0x2d908e[_0x2cf997(0xcb)][0x0],_0x405616=_0x2d908e[_0x2cf997(0xcb)][0x1];this[_0x2cf997(0xf4)](_0x58ee5f,_0x3700f0),this['_activateListeners_initPreviewImportButton'](_0x58ee5f,_0x405616);}}['_activateListeners_initPreviewHoverButton'](_0x4ce792,_0x4eecc6){const _0x34a7a0=_0x28d5f0;_0x4eecc6['addEventListener'](_0x34a7a0(0x14c),_0x11c0ae=>Renderer[_0x34a7a0(0x166)][_0x34a7a0(0x1d7)](_0x11c0ae,_0x4eecc6,this[_0x34a7a0(0xc9)],_0x4ce792['values'][_0x34a7a0(0x1b8)],_0x4ce792[_0x34a7a0(0xfd)][_0x34a7a0(0xea)],null)),_0x4eecc6[_0x34a7a0(0x199)](_0x34a7a0(0x1b4),_0x466f75=>Renderer[_0x34a7a0(0x166)][_0x34a7a0(0x1c2)](_0x466f75,_0x4eecc6)),_0x4eecc6[_0x34a7a0(0x199)](_0x34a7a0(0x106),_0x313ab0=>Renderer[_0x34a7a0(0x166)][_0x34a7a0(0x1c2)](_0x313ab0,_0x4eecc6)),_0x4eecc6[_0x34a7a0(0x199)]('mousemove',_0x14c266=>Renderer[_0x34a7a0(0x166)]['handleLinkMouseMove'](_0x14c266,_0x4eecc6)),_0x4eecc6[_0x34a7a0(0x199)](_0x34a7a0(0x1c9),_0x2db9a6=>{const _0x4f200a=_0x34a7a0;_0x2db9a6[_0x4f200a(0x16a)](),_0x2db9a6[_0x4f200a(0x174)]();});}[_0x28d5f0(0xe6)](_0x10e2dc,_0x3a0333){const _0x5a697d=_0x28d5f0;_0x3a0333['addEventListener'](_0x5a697d(0x1c9),async _0xa85c79=>{const _0x5ea18b=_0x5a697d;_0xa85c79['stopPropagation'](),_0xa85c79[_0x5ea18b(0x174)]();if(this[_0x5ea18b(0x129)])this[_0x5ea18b(0x138)]();const _0x2f4094=this[_0x5ea18b(0xf2)][_0x10e2dc['ix']];try{await this[_0x5ea18b(0x161)]();let _0x3dbd6b;try{_0x3dbd6b=await this[_0x5ea18b(0x173)](_0x2f4094);}finally{this[_0x5ea18b(0x114)]();}if(!_0x3dbd6b)return;UtilApplications['doShowImportedNotification'](_0x3dbd6b);}catch(_0x4e95df){setTimeout(()=>{throw _0x4e95df;}),UtilApplications[_0x5ea18b(0x15d)]({'entity':_0x2f4094,'status':UtilApplications[_0x5ea18b(0x108)]});}});}[_0x28d5f0(0xf8)](){const _0x469fef=_0x28d5f0;this[_0x469fef(0x196)]['click'](()=>this['_pHandleClickRunButton']()),this[_0x469fef(0xbd)]&&this[_0x469fef(0xd7)][_0x469fef(0x1c9)](async()=>{const _0x16fd2a=_0x469fef;try{this[_0x16fd2a(0xe0)]=!![],await this[_0x16fd2a(0x157)]();}finally{this[_0x16fd2a(0xe0)]=![];}});}async[_0x28d5f0(0x1c5)](_0x519aa1){return _0x519aa1;}async['_pHandleClickRunButton'](){const _0x431d2c=_0x28d5f0;if(!this[_0x431d2c(0x155)])return;const _0x243221=this[_0x431d2c(0x155)][_0x431d2c(0x139)]['filter'](_0x3a7ab4=>_0x3a7ab4[_0x431d2c(0x14d)]['cbSel']['checked'])[_0x431d2c(0xc3)](_0x4e1584=>_0x4e1584['ix']);if(!_0x243221[_0x431d2c(0xf6)])return ui[_0x431d2c(0x113)]['warn']('Please\x20select\x20something\x20to\x20import!');if(!this['_pack']&&_0x243221[_0x431d2c(0xf6)]>0x64&&!Config['get']('ui',_0x431d2c(0xe1))){const _0x1fefb5=await InputUiUtil[_0x431d2c(0xfc)]({'title':_0x431d2c(0x172),'htmlDescription':'You\x20have\x20selected\x20'+_0x243221[_0x431d2c(0xf6)]+_0x431d2c(0xf0),'textYesRemember':_0x431d2c(0x186),'textYes':_0x431d2c(0x18b),'textNo':_0x431d2c(0xde),'fnRemember':_0x529607=>Config['set']('ui',_0x431d2c(0xe1),_0x529607)});if(_0x1fefb5==null||_0x1fefb5===![])return;}this[_0x431d2c(0x138)](),this[_0x431d2c(0x13f)]();let _0x5d1714=_0x243221['map'](_0x55922f=>this[_0x431d2c(0xf2)][_0x55922f]);_0x5d1714=await this[_0x431d2c(0x1c5)](_0x5d1714);if(_0x5d1714==null)return;await this['_pHandleClickRunButton_pDoPreCachePack']();const _0x1a2158=_0x5d1714[_0x431d2c(0xc3)](_0x118f64=>{const _0x4abeb6=_0x431d2c;return new Util[(_0x4abeb6(0x143))]((_0x118f64[_0x4abeb6(0x170)]||_0x118f64[_0x4abeb6(0x1a0)])+'\x20('+Parser[_0x4abeb6(0x118)](_0x118f64[_0x4abeb6(0x1b8)])+')',()=>this[_0x4abeb6(0x173)](_0x118f64));});await UtilApplications[_0x431d2c(0xc6)](_0x1a2158);if(!this['_actor'])game[this['_gameProp']][_0x431d2c(0x105)]();this[_0x431d2c(0x114)](),this[_0x431d2c(0xb8)][_0x431d2c(0x141)](_0x431d2c(0x149),![]),this['_list'][_0x431d2c(0x139)][_0x431d2c(0x188)](_0x36f9ac=>{const _0x79206=_0x431d2c;_0x36f9ac[_0x79206(0x14d)][_0x79206(0x14b)][_0x79206(0x149)]=![],_0x36f9ac[_0x79206(0x18f)][_0x79206(0x183)][_0x79206(0xfe)](_0x79206(0x162));});}[_0x28d5f0(0x136)](){const _0x16283e=_0x28d5f0;return this[_0x16283e(0x155)]=new List({'$iptSearch':this[_0x16283e(0xe7)],'$wrpList':this[_0x16283e(0xf3)],'fnSort':this[_0x16283e(0x107)]}),SortUtil[_0x16283e(0x1a2)](this[_0x16283e(0x137)],this[_0x16283e(0x155)]),this['_pageFilter'][_0x16283e(0x1d2)]({'$iptSearch':this['_$iptSearch'],'$btnReset':this[_0x16283e(0x10e)],'$btnOpen':this[_0x16283e(0xd9)],'$btnToggleSummaryHidden':this[_0x16283e(0x1da)],'$wrpMiniPills':this[_0x16283e(0x133)],'namespace':this[_0x16283e(0xcc)]()})[_0x16283e(0x15c)](()=>{const _0x10cdbf=_0x16283e;this[_0x10cdbf(0xf2)][_0x10cdbf(0x188)](_0x370553=>this['_pageFilter']['addToFilters'](_0x370553)),this[_0x10cdbf(0xc2)](),this['_list'][_0x10cdbf(0x13a)](),this['_pageFilter'][_0x10cdbf(0x181)][_0x10cdbf(0x105)](),this[_0x10cdbf(0x15e)]['filterBox']['on'](FilterBox[_0x10cdbf(0xf7)],this['_handleFilterChange'][_0x10cdbf(0x168)](this)),this[_0x10cdbf(0x12e)]();});}['_activateListeners_initList'](){const _0x16612e=_0x28d5f0;this[_0x16612e(0x155)]=new List({'$iptSearch':this['_$iptSearch'],'$wrpList':this['_$wrpList'],'fnSort':this[_0x16612e(0x107)]}),SortUtil[_0x16612e(0x1a2)](this[_0x16612e(0x137)],this[_0x16612e(0x155)]),this[_0x16612e(0xc2)](),this[_0x16612e(0x155)][_0x16612e(0x13a)]();}['_activateListeners_absorbListItems'](){const _0xa1b0f=_0x28d5f0;this[_0xa1b0f(0x155)][_0xa1b0f(0x10c)](this[_0xa1b0f(0xf2)],{'fnGetName':_0x3d28dc=>_0x3d28dc[_0xa1b0f(0x1a0)],'fnGetValues':_0x1b3658=>({'source':_0x1b3658[_0xa1b0f(0x1b8)],'hash':UrlUtil[_0xa1b0f(0xd8)][this['_page']](_0x1b3658)}),'fnGetData':UtilList2[_0xa1b0f(0x18c)],'fnBindListeners':_0x1dd595=>this['_isRadio']?UtilList2[_0xa1b0f(0x16b)](this[_0xa1b0f(0x155)],_0x1dd595):UtilList2['absorbFnBindListeners'](this[_0xa1b0f(0x155)],_0x1dd595)});}[_0x28d5f0(0x12e)](){const _0x10f677=_0x28d5f0,_0x243c2b=this[_0x10f677(0x15e)][_0x10f677(0x181)]['getValues']();this['_list'][_0x10f677(0xef)](_0xbaf59=>this[_0x10f677(0x15e)]['toDisplay'](_0x243c2b,this[_0x10f677(0xf2)][_0xbaf59['ix']]));}async[_0x28d5f0(0x173)](){throw new Error('Unimplemented!');}[_0x28d5f0(0x12c)](){const _0x189e1b=_0x28d5f0;return{'alpha':{'label':_0x189e1b(0xdf),'getter':_0x310a1d=>_0x310a1d['name']['slice'](0x0,0x1)[_0x189e1b(0x164)]()},'source':{'label':_0x189e1b(0x1ab),'getter':_0x152050=>Parser['sourceJsonToFull'](_0x152050[_0x189e1b(0x1b8)])},'sourceAbbreviation':{'label':_0x189e1b(0x1be),'getter':_0x5a167e=>Parser[_0x189e1b(0x118)](_0x5a167e[_0x189e1b(0x1b8)])}};}async[_0x28d5f0(0xd4)](_0xf26bdc,_0x51562f){const _0x384e3b=_0x28d5f0;_0x51562f=_0x51562f||{};const _0x292c1d=_0x51562f[_0x384e3b(0x197)]||this[_0x384e3b(0x175)];if(!this[_0x384e3b(0x150)][_0x384e3b(0xf6)]||!_0x292c1d)return null;const _0x22e104=this['getFolderPathMeta'](),_0x41cc45=this[_0x384e3b(0x150)]['filter'](_0x4a6176=>_0x4a6176[_0x384e3b(0x169)]?_0x4a6176[_0x384e3b(0xcf)]&&_0x4a6176[_0x384e3b(0xcf)][_0x384e3b(0x151)]():_0x4a6176['selectedProp'])[_0x384e3b(0xc3)](_0x551548=>_0x551548[_0x384e3b(0x169)]?_0x551548[_0x384e3b(0xcf)]:_0x22e104[_0x551548['selectedProp']][_0x384e3b(0x193)](_0xf26bdc)),_0x39448a=[],_0x45b0bb=(_0x1cd92a,_0x189129)=>{const _0x2ebbe9=_0x384e3b,_0x149438=Folder[_0x2ebbe9(0x104)]['entities'][_0x2ebbe9(0xef)](_0x2d272a=>{const _0x115ada=_0x2ebbe9,_0x56c82d=_0x2d272a[_0x115ada(0x14d)]['name']===_0x1cd92a,_0x33faf4=_0x2d272a[_0x115ada(0x14d)][_0x115ada(0xdd)]===_0x292c1d,_0x5b843b=_0x189129?_0x2d272a[_0x115ada(0x14d)][_0x115ada(0x11e)]===_0x189129:_0x2d272a['data'][_0x115ada(0x11e)]==null;return _0x56c82d&&_0x33faf4&&_0x5b843b;});if(_0x149438[_0x2ebbe9(0xf6)]>0x1){const _0x2419dc=_0x2ebbe9(0xba)+_0x39448a[_0x2ebbe9(0xc3)](_0x13b9c7=>_0x13b9c7[_0x2ebbe9(0x14d)][_0x2ebbe9(0x1a0)])['join'](_0x2ebbe9(0xec));ui[_0x2ebbe9(0x113)][_0x2ebbe9(0x167)](_0x2419dc);throw new Error(_0x2419dc);}else{if(_0x149438[_0x2ebbe9(0xf6)])return _0x149438[0x0];else return null;}};for(const _0x500ec0 of _0x41cc45){const _0x4c81ad=_0x39448a[_0x384e3b(0xf6)]?_0x39448a[_0x384e3b(0x1c7)]()[_0x384e3b(0x1ba)]||_0x39448a[_0x384e3b(0x1c7)]()[_0x384e3b(0x14d)][_0x384e3b(0x1ba)]:null,_0x4e0952=_0x45b0bb(_0x500ec0,_0x4c81ad);if(_0x4e0952)_0x39448a[_0x384e3b(0x17f)](_0x4e0952);else{const _0x86b7f8=await Folder[_0x384e3b(0x1b1)]({'name':_0x500ec0,'parent':_0x4c81ad,'type':_0x292c1d},{});_0x39448a[_0x384e3b(0x17f)](_0x86b7f8);}}if(_0x39448a[_0x384e3b(0xf6)])return _0x39448a['last']()['_id'];return null;}async[_0x28d5f0(0xe3)](){const _0x107c08=_0x28d5f0;await this[_0x107c08(0x1b5)]();const _0x237e8f=new FolderPathBuilderApp(this);_0x237e8f['render'](!![]);}[_0x28d5f0(0x180)](_0x4cc53d){const _0x520a34=_0x28d5f0;return Vetools[_0x520a34(0x180)](_0x4cc53d,this[_0x520a34(0x152)]);}['_getFilterNamespace'](){const _0x33b0cb=_0x28d5f0;return _0x33b0cb(0x1d1)+(this[_0x33b0cb(0x19a)]||this[_0x33b0cb(0x152)][_0x33b0cb(0xca)]('_'));}['_getDuplicateMeta'](_0x2cf5e1){const _0x19aabe=_0x28d5f0;_0x2cf5e1=_0x2cf5e1||{};const _0x96db90=_0x2cf5e1[_0x19aabe(0xff)]||this[_0x19aabe(0x122)],_0x526b4e=_0x96db90===this['_gameProp']?this[_0x19aabe(0x1ad)]:null;let _0x6b6d08=null;switch(_0x96db90){case _0x19aabe(0x13d):case'items':{if(!(_0x2cf5e1[_0x19aabe(0x1a0)]&&_0x2cf5e1[_0x19aabe(0x1b8)]||_0x2cf5e1[_0x19aabe(0x18d)]))throw new Error(_0x19aabe(0x194));const _0x81db36=(_0x2cf5e1[_0x19aabe(0x1a0)]||DataConverter[_0x19aabe(0x1d0)](_0x2cf5e1[_0x19aabe(0x18d)]))[_0x19aabe(0x134)]()[_0x19aabe(0x151)](),_0x20eef2=(_0x2cf5e1[_0x19aabe(0x1b8)]||DataConverter[_0x19aabe(0x165)](_0x2cf5e1['entity']))[_0x19aabe(0x134)]()[_0x19aabe(0x151)]();switch(_0x96db90){case _0x19aabe(0x13d):{if(_0x526b4e){const _0x251167=this[_0x19aabe(0x191)]({'name':_0x81db36,'source':_0x20eef2});_0x6b6d08=(this['_packCache']||{})[_0x251167];}else _0x6b6d08=game[_0x96db90]['find'](_0x17e5cf=>(MiscUtil[_0x19aabe(0x1b2)](_0x17e5cf,_0x19aabe(0x14d),_0x19aabe(0x1a0))||'')[_0x19aabe(0x134)]()[_0x19aabe(0x151)]()===_0x81db36&&(MiscUtil[_0x19aabe(0x1b2)](_0x17e5cf,_0x19aabe(0x14d),_0x19aabe(0x14d),_0x19aabe(0x1c8),_0x19aabe(0x1b8))||'')[_0x19aabe(0x134)]()[_0x19aabe(0x151)]()===_0x20eef2);break;}case'items':{if(_0x526b4e){const _0x6f1ae3=this['_getDuplicateMeta_getEntityKey']({'name':_0x81db36,'source':_0x20eef2});_0x6b6d08=(this[_0x19aabe(0x12b)]||{})[_0x6f1ae3];}else _0x6b6d08=game[_0x96db90][_0x19aabe(0x16c)](_0x2b23d0=>(MiscUtil[_0x19aabe(0x1b2)](_0x2b23d0,_0x19aabe(0x14d),_0x19aabe(0x1a0))||'')[_0x19aabe(0x134)]()['trim']()===_0x81db36&&(MiscUtil[_0x19aabe(0x1b2)](_0x2b23d0,_0x19aabe(0x14d),_0x19aabe(0x14d),'source')||'')[_0x19aabe(0x134)]()[_0x19aabe(0x151)]()===_0x20eef2);break;}}break;}case _0x19aabe(0x17b):case _0x19aabe(0x140):{const _0x2d3239=_0x2cf5e1['name']['toLowerCase']()[_0x19aabe(0x151)]();if(_0x526b4e){const _0x281ee0=this[_0x19aabe(0x191)]({'name':_0x2d3239});_0x6b6d08=(this[_0x19aabe(0x12b)]||{})[_0x281ee0];}else _0x6b6d08=game[_0x96db90][_0x19aabe(0x16c)](_0xd94020=>(MiscUtil[_0x19aabe(0x1b2)](_0xd94020,_0x19aabe(0x14d),_0x19aabe(0x1a0))||'')[_0x19aabe(0x134)]()[_0x19aabe(0x151)]()===_0x2d3239);break;}default:throw new Error('Game\x20property\x20\x22'+_0x96db90+_0x19aabe(0x13b));}const _0x2df4c9=Config[_0x19aabe(0x1b2)](_0x19aabe(0x135),_0x19aabe(0xb6));return{'mode':_0x2df4c9,'existing':_0x6b6d08,'isSkip':_0x2df4c9===Config[_0x19aabe(0x11a)]&&_0x6b6d08!=null,'isOverwrite':_0x2df4c9===Config['C_IMPORT_DEDUPE_MODE_OVERWRITE']&&_0x6b6d08!=null};}[_0x28d5f0(0x191)](_0x3fcf52){const _0x41e22e=_0x28d5f0;return Object[_0x41e22e(0x130)](_0x3fcf52)['sort'](([_0x2392ee],[_0x404618])=>SortUtil[_0x41e22e(0x103)](_0x2392ee,_0x404618))[_0x41e22e(0xc3)](([_0x235d96,_0x1915c1])=>(_0x235d96+'='+(''+_0x1915c1)['trim']())['toLowerCase']())[_0x41e22e(0xca)]('::');}async[_0x28d5f0(0x161)](){const _0x91d8d8=_0x28d5f0;if(!this[_0x91d8d8(0x1ad)]||Config[_0x91d8d8(0x1b2)]('import','deduplicationMode')===Config[_0x91d8d8(0x110)])return;this[_0x91d8d8(0x12b)]={};const _0x18a0de=await UtilCompendium[_0x91d8d8(0x1a7)](this['_pack'],!![]);_0x18a0de[_0x91d8d8(0x188)](_0x1626fa=>{const _0x3a657c=_0x91d8d8;switch(this['_gameProp']){case _0x3a657c(0x13d):{const _0x24ca84=(MiscUtil['get'](_0x1626fa,'data',_0x3a657c(0x1a0))||'')['toLowerCase']()[_0x3a657c(0x151)](),_0x9f5909=(MiscUtil['get'](_0x1626fa,'data',_0x3a657c(0x14d),_0x3a657c(0x1c8),_0x3a657c(0x1b8))||'')[_0x3a657c(0x134)]()[_0x3a657c(0x151)](),_0x25939a=this['_getDuplicateMeta_getEntityKey']({'name':_0x24ca84,'source':_0x9f5909});this[_0x3a657c(0x12b)][_0x25939a]=_0x1626fa;break;}case _0x3a657c(0x139):{const _0xd6f222=(MiscUtil[_0x3a657c(0x1b2)](_0x1626fa,_0x3a657c(0x14d),_0x3a657c(0x1a0))||'')['toLowerCase']()[_0x3a657c(0x151)](),_0x1fa614=(MiscUtil[_0x3a657c(0x1b2)](_0x1626fa,'data',_0x3a657c(0x14d),'source')||'')[_0x3a657c(0x134)]()[_0x3a657c(0x151)](),_0x320e21=this[_0x3a657c(0x191)]({'name':_0xd6f222,'source':_0x1fa614});this['_packCache'][_0x320e21]=_0x1626fa;break;}case _0x3a657c(0x17b):case'tables':{const _0x3a74a3=(MiscUtil[_0x3a657c(0x1b2)](_0x1626fa,_0x3a657c(0x14d),'name')||'')['toLowerCase']()[_0x3a657c(0x151)](),_0x405d30=this[_0x3a657c(0x191)]({'name':_0x3a74a3});this[_0x3a657c(0x12b)][_0x405d30]=_0x1626fa;break;}default:throw new Error(_0x3a657c(0x171)+this[_0x3a657c(0x122)]+_0x3a657c(0x13b));}});}['_pHandleClickRunButton_doDumpPackCache'](){const _0x71ff10=_0x28d5f0;this[_0x71ff10(0x12b)]=null;}async[_0x28d5f0(0x15f)](_0x5248f9,_0xa02bd7){const _0x32fbbc=_0x28d5f0,_0x44d400=MiscUtil[_0x32fbbc(0x10f)](_0x5248f9[_0x32fbbc(0x11c)][_0x32fbbc(0x14d)]);return Object['assign'](_0x44d400,_0xa02bd7),await this[_0x32fbbc(0x1ad)]['updateEntity'](MiscUtil['copy'](_0x44d400)),{'imported':_0x5248f9[_0x32fbbc(0x11c)],'status':UtilApplications['TASK_EXIT_COMPLETE_UPDATE_OVERWRITE']};}async['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x52b992,_0x457ac1){const _0x1b2854=_0x28d5f0;return await _0x52b992[_0x1b2854(0x11c)][_0x1b2854(0xed)](_0x457ac1),{'imported':_0x52b992['existing'],'status':UtilApplications[_0x1b2854(0x19c)]};}async[_0x28d5f0(0x176)](_0x361717,_0x35429b,_0x2dd0d1){const _0x3aebfd=_0x28d5f0,_0x31c466=await this[_0x3aebfd(0xc5)](_0x361717,{'isAddDataFlags':!![],'filterValues':_0x35429b['filterValues'],..._0x2dd0d1,'isAddPermission':!![]}),_0x4162ca=this['_getDuplicateMeta']({'name':_0x31c466[_0x3aebfd(0x1a0)],'source':MiscUtil['get'](_0x31c466,_0x3aebfd(0x14d),_0x3aebfd(0x1b8))});if(_0x4162ca[_0x3aebfd(0x146)])return{'status':UtilApplications[_0x3aebfd(0x184)]};let _0x5d7305;switch(this[_0x3aebfd(0x122)]){case'items':_0x5d7305=Item;break;case'journal':_0x5d7305=JournalEntry;break;case _0x3aebfd(0x140):_0x5d7305=RollTable;break;}if(_0x35429b['isTemp']){const _0x49a01b=await _0x5d7305[_0x3aebfd(0x1b1)](_0x31c466,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x49a01b,'status':UtilApplications[_0x3aebfd(0x198)]};}else{if(this[_0x3aebfd(0x1ad)]){if(_0x4162ca[_0x3aebfd(0x121)])return this[_0x3aebfd(0x15f)](_0x4162ca,_0x31c466);const _0x30f324=new _0x5d7305(_0x31c466);return await this['_pack']['importEntity'](_0x30f324),{'imported':_0x30f324,'status':UtilApplications[_0x3aebfd(0x198)]};}else{if(_0x4162ca[_0x3aebfd(0x121)])return this[_0x3aebfd(0x1b0)](_0x4162ca,_0x31c466);const _0x2c9440=await this[_0x3aebfd(0xd4)](_0x361717);if(_0x2c9440)_0x31c466[_0x3aebfd(0x1b6)]=_0x2c9440;const _0x2a02b1=await _0x5d7305[_0x3aebfd(0x1b1)](_0x31c466,{'renderSheet':![],'temporary':![]});return await game[this[_0x3aebfd(0x122)]][_0x3aebfd(0x163)](_0x2a02b1),{'imported':_0x2a02b1,'status':UtilApplications[_0x3aebfd(0x198)]};}}}['_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'](_0x5c184f,_0x4624a2){const _0x45f930=_0x28d5f0;throw new Error(_0x45f930(0xc4));}}ImportList[_0x28d5f0(0x1a3)]=_0x28d5f0(0x17d),ImportList[_0x28d5f0(0x1ce)]=_0x28d5f0(0x112),ImportList['SOURCE_TYP_OFFICIAL_ALL']=ImportList[_0x28d5f0(0x1ce)]+_0x28d5f0(0x18e),ImportList[_0x28d5f0(0x1c6)]=ImportList[_0x28d5f0(0x1ce)]+'\x20(Single\x20Source)',ImportList[_0x28d5f0(0x117)]='Custom/User',ImportList[_0x28d5f0(0x1c4)]=_0x28d5f0(0x1a9),ImportList['SOURCE_TYP_BREW']=_0x28d5f0(0x1a5),ImportList[_0x28d5f0(0x131)]=_0x28d5f0(0x115),ImportList[_0x28d5f0(0x16e)]=[ImportList['SOURCE_TYP_OFFICIAL_ALL'],ImportList['SOURCE_TYP_CUSTOM'],ImportList[_0x28d5f0(0x1c6)],ImportList[_0x28d5f0(0x1c4)],ImportList[_0x28d5f0(0xdc)],ImportList[_0x28d5f0(0x131)]],ImportList[_0x28d5f0(0xc7)]=[ImportList[_0x28d5f0(0xc0)],ImportList[_0x28d5f0(0x1c6)],ImportList[_0x28d5f0(0x1c4)],ImportList[_0x28d5f0(0xdc)],ImportList[_0x28d5f0(0x117)],ImportList['SOURCE_TYP_UNKNOWN']],ImportList['DataSourceBase']=class{constructor(_0x51fde7,_0xbfcbf6){const _0x563574=_0x28d5f0;this[_0x563574(0x1a0)]=_0x51fde7,this[_0x563574(0x1c0)]=_0xbfcbf6[_0x563574(0x1c0)],this[_0x563574(0xe5)]=_0xbfcbf6[_0x563574(0xe5)]||[ImportList[_0x563574(0x131)]],this[_0x563574(0x145)]=!!_0xbfcbf6['isDefault'];}get[_0x28d5f0(0x1b9)](){const _0x4913ca=_0x28d5f0;throw new Error(_0x4913ca(0xc4));}},ImportList['DataSourceUrl']=class extends ImportList[_0x28d5f0(0x144)]{constructor(_0x4fe601,_0x191c0e,_0x214f62){const _0x501ad1=_0x28d5f0;_0x214f62=_0x214f62||{},super(_0x4fe601,_0x214f62),this['url']=_0x191c0e,this[_0x501ad1(0x1b8)]=_0x214f62[_0x501ad1(0x1b8)],this[_0x501ad1(0xd0)]=_0x214f62[_0x501ad1(0xd0)];}get[_0x28d5f0(0x1b9)](){const _0x374e31=_0x28d5f0;return this['url']===''?_0x374e31(0xee):this['url'];}},ImportList[_0x28d5f0(0x13c)]=class extends ImportList[_0x28d5f0(0x144)]{constructor(_0x2f1a40,_0x3493fb){const _0x44815c=_0x28d5f0;_0x3493fb=_0x3493fb||{},super(_0x2f1a40,_0x3493fb),this[_0x44815c(0x132)]=!![],this[_0x44815c(0x1b8)]=_0x3493fb[_0x44815c(0x1b8)];}get[_0x28d5f0(0x1b9)](){return'VE_SOURCE_CUSTOM_FILE';}},ImportList[_0x28d5f0(0xe2)]=class extends ImportList[_0x28d5f0(0x144)]{constructor(_0x4c36de,_0x31ef9d,_0x59f0c2){const _0x666043=_0x28d5f0;_0x59f0c2=_0x59f0c2||{},super(_0x4c36de,_0x59f0c2),this[_0x666043(0x1aa)]={'pGet':_0x31ef9d};if(!_0x59f0c2[_0x666043(0x15b)])throw new Error('No\x20cache\x20key\x20specified!');this[_0x666043(0x15b)]=_0x59f0c2['cacheKey'],this['isUseProps']=_0x59f0c2['isUseProps'];}get[_0x28d5f0(0x1b9)](){const _0x322aed=_0x28d5f0;return this[_0x322aed(0x15b)];}};class FolderPathBuilderApp extends Application{constructor(_0x16dc3a){const _0x992f63=_0x28d5f0;super({'width':0x1e0,'height':0x1e0,'title':_0x992f63(0x1db),'template':SharedConsts[_0x992f63(0xb7)]+_0x992f63(0x19d),'resizable':!![]}),this[_0x992f63(0x111)]=new FolderPathBuilder(_0x16dc3a);}[_0x28d5f0(0xf1)](_0x3c9181){const _0x2ebaf2=_0x28d5f0;super[_0x2ebaf2(0xf1)](_0x3c9181),this[_0x2ebaf2(0x111)][_0x2ebaf2(0x105)](_0x3c9181);}}const MixinUserChooseImporter=_0x940642=>class extends _0x940642{constructor(..._0x496231){const _0x240b47=_0x28d5f0;super(..._0x496231),this[_0x240b47(0x129)]=!![],this[_0x240b47(0x119)]=!![],this[_0x240b47(0xf5)]=null,this[_0x240b47(0x187)]=null,this[_0x240b47(0x179)]=null;}[_0x28d5f0(0xf8)](){const _0x3539d9=_0x28d5f0;this[_0x3539d9(0x196)][_0x3539d9(0x1c9)](async()=>{const _0x52368c=_0x3539d9;if(!this[_0x52368c(0x155)])return;try{const _0x2f314b=this[_0x52368c(0x155)][_0x52368c(0x139)][_0x52368c(0x16c)](_0x28c105=>_0x28c105[_0x52368c(0x14d)]['cbSel'][_0x52368c(0x149)]);if(!_0x2f314b)return ui[_0x52368c(0x113)][_0x52368c(0x159)](_0x52368c(0x1b7));this['_isResolveOnClose']=![],this[_0x52368c(0x138)]();let _0x1bb547=[this['_content'][_0x2f314b['ix']]];_0x1bb547=await this[_0x52368c(0x1c5)](_0x1bb547);if(_0x1bb547==null)return;const _0x4170e9=await this[_0x52368c(0x173)](_0x1bb547[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x4170e9['status']===UtilApplications['TASK_EXIT_COMPLETE_DATA_ONLY'])this[_0x52368c(0xf5)](_0x4170e9[_0x52368c(0x1d9)]);else this[_0x52368c(0x187)](new Error(_0x52368c(0x1bb)+_0x4170e9[_0x52368c(0x15a)][_0x52368c(0xbb)]()+'\x22'));_0x2f314b[_0x52368c(0x14d)][_0x52368c(0x14b)][_0x52368c(0x149)]=![],_0x2f314b['ele'][_0x52368c(0x183)][_0x52368c(0xfe)](_0x52368c(0x162));}catch(_0x130ce9){this[_0x52368c(0x187)](_0x130ce9);}});}[_0x28d5f0(0xe6)](_0x36434b,_0x4782d9){const _0x9ebc7d=_0x28d5f0;_0x4782d9['addEventListener'](_0x9ebc7d(0x1c9),async _0x1ac0ae=>{const _0x3ef9b4=_0x9ebc7d;_0x1ac0ae['stopPropagation'](),_0x1ac0ae['preventDefault']();try{let _0x486698=[this[_0x3ef9b4(0xf2)][_0x36434b['ix']]];_0x486698=await this[_0x3ef9b4(0x1c5)](_0x486698);if(_0x486698==null)return;const _0x2733b5=await this[_0x3ef9b4(0x173)](_0x486698[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x2733b5[_0x3ef9b4(0x15a)]===UtilApplications[_0x3ef9b4(0xeb)])this[_0x3ef9b4(0xf5)](_0x2733b5['imported']);else this[_0x3ef9b4(0x187)](new Error(_0x3ef9b4(0x1bb)+_0x2733b5['status']['toString']()+'\x22'));this['close']();}catch(_0x44c50b){this[_0x3ef9b4(0x187)](_0x44c50b);}});}async[_0x28d5f0(0x138)](..._0x5a205d){const _0x440ed7=_0x28d5f0;await super[_0x440ed7(0x138)](..._0x5a205d);if(this[_0x440ed7(0x119)])this[_0x440ed7(0xf5)](null);}[_0x28d5f0(0x1b3)](..._0x3d1aa6){const _0x221278=_0x28d5f0,{fnResolve:_0x1e90f4,fnReject:_0x415c97,pResult:_0x53a7d0}=_0x3d1aa6[0x0];this['_isResolveOnClose']=!![],this[_0x221278(0xf5)]=_0x1e90f4,this[_0x221278(0x187)]=_0x415c97,this[_0x221278(0x179)]=_0x53a7d0;}static async[_0x28d5f0(0x1bd)](_0x1017b2,_0x17951d){const _0x16a5f4=_0x28d5f0,{ChooseImporter:_0x299624}=await import(_0x16a5f4(0x14e)),_0x34aab2=new this({});await _0x34aab2[_0x16a5f4(0xda)]();let _0x4baf48=null,_0xfeb3d1=null;const _0xb4bba7=new Promise((_0x3be51a,_0x5cf7b4)=>{_0x4baf48=_0x3be51a,_0xfeb3d1=_0x5cf7b4;}),_0x31994b=new _0x299624(null,{'mode':{..._0x1017b2,'importerInstance':_0x34aab2},'namespace':_0x17951d,'isAlwaysCloseWindow':!![],'isTemp':!![],'isNoImport':!![],'importerPreRenderArgs':[{'fnResolve':_0x4baf48,'fnReject':_0xfeb3d1,'pResult':_0xb4bba7}]});return _0x31994b[_0x16a5f4(0x105)](!![]),_0xb4bba7;}};export{ImportList,MixinUserChooseImporter};