const _0xfe4c=['ele','pPreRender','pSetFolderPathSpec','push','cacheKey','activateListeners','initBtnSortHandlers','[name=\x22btn-toggle-summary\x22]','Custom/User','\x20>\x20','prop','_fnResolve','map','sourceJsonToFull','_actor','SOURCE_TYPE_ORDER__FILTER','text','items','doShowImportedNotificationFailure','filterTypes','special','list-multi-selected','pGetClient','last','_isFolderOnly','_$wrpMiniPills','flat','_activateListeners_absorbListItems','toDisplay','_sidebarTab','_$wrpList','pInitFilterBox','One\x20of\x20\x22props\x22\x20or\x20\x22namespace\x22\x20must\x20be\x20provided!','_uploadedFile','Unimplemented!','pageFilter','Source\x20(Abbreviation)','remove','classList','_$cbAll','stopPropagation','pResult','forEach','isNonCacheableInstance','collection','_gameProp','_isInit','_pageFilter','checled','preventDefault','_folderPathSpec','getStateFromString','pack','Please\x20select\x20something\x20to\x20import!','Source\x20(Full)','_activateListeners_pInitFilteredList','filter','filterBox','parent','isDefault','reset','name','_namespace','SOURCE_TYPE_ORDER','_$iptSearch','set','path','isDisableLargeImportWarning','mouseup','_isPreviewable','_props','pSyncStateFrom','_fnReject','addEventListener','_folderType','_$wrpRun','pSetClient','_$btnToggleSummary','page','_page','_displayName','Continue','_handleFilterChange','titleSearch','length','gameProp','\x20(All)','mouseleave','isUseProps','pInit','_isHidden','data','_isResolveOnClose','absorbFnBindListeners','No\x20cache\x20key\x20specified!','sourceLong','_activateListeners_initPreviewHoversAndImportButtons','element','activateSidebarTab','showVe','_activateListeners_initRunButton','[name=\x22btn-filter\x22]','_pack','EVNT_VALCHANGE','close','_list','slice','Task','_pFnPostProcessEntries','_content','fnListSort','_comp','Edit\x20Folder\x20Path','click','Source','doAbsorbItems','isClosable','render','sidebarTab','SOURCE_TYP_BREW','warn','[name=\x22btn-run\x22]','pImportEntry','_pImportEntry_pGetFolderId','_isClosable','_id','folderType','entities','pRunTasks','assign','hash','Import','_fnListSort','_activateListeners_doFindUiElements','_getFilterNamespace','_$btnRun','DataSourceUrl','userData','pGetUserChoice','Cancel','SOURCE_TYP_OFFICIAL_ALL','handleLinkMouseMove','pHandleEditFolderPathClick','_pLoadFolderPathSpec','SOURCE_TYP_OFFICIAL_BASE','toUpperCase','entries','DataSourceSpecial','type','source','notifications','DataSourceBase','SOURCE_TYP_CUSTOM','_isNonCacheableInstance','bind','_$wrpBtnsSort','handleLinkMouseLeave','MODULE_LOCATION','val','titleButtonRun','\x20entities\x20to\x20import.<br>Importing\x20a\x20large\x20number\x20of\x20entities\x20may\x20degrade\x20game\x20performance\x20(consider\x20importing\x20to\x20a\x20compendium\x20instead).<br>Do\x20you\x20wish\x20to\x20continue?','_$btnReset','_defaultFolderPath','[name=\x22btn-reset\x22]','activateTab','props','_isRadio','checked','join','bindSelectAllCheckbox','isFolderOnly','Homebrew','content','\x20(Single\x20Source)','_pHandleClickRunButton','pPostLoad','then','SOURCE_TYP_OFFICIAL_SINGLE','get','absorbFnBindListenersRadio','_activateListeners_initList','sidebar','sourceShort','_$bntFilter','create','isFile','isActorRadio','namespace','pGetUserBoolean','/template/FolderPathBuilder.handlebars','[name=\x22cb-select-all\x22]','getContent','cbSel','isEscapeable','values','doShowImportedNotificationSuccess','folderPathSpec','You\x20have\x20selected\x20','children','sourceJsonToAbv','SOURCE_TYP_ARCANA','_getFullFolderPathSpecKey','hover','importer_','mousemove','.search','SOURCE_TYP_UNKNOWN','getFolderPathMeta','find','change','_STO_K_FOLDER_PATH_SPEC','showAndRender','mousedown','actor','Warning:\x20Large\x20Import','UA/Etc.','isFreeText','constructor','error','_titleButtonRun','init'];(function(_0x2726eb,_0xfe4c80){const _0x512e3d=function(_0xfd8ffe){while(--_0xfd8ffe){_0x2726eb['push'](_0x2726eb['shift']());}};_0x512e3d(++_0xfe4c80);}(_0xfe4c,0x108));const _0x512e=function(_0x2726eb,_0xfe4c80){_0x2726eb=_0x2726eb-0x0;let _0x512e3d=_0xfe4c[_0x2726eb];return _0x512e3d;};'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Util}from'./Util.js';import{UtilList2}from'./UtilList2.js';import{FolderPathBuilder,FolderPathBuilderRow}from'./FolderPathBuilder.js';import{GameStorage}from'./GameStorage.js';import{Config}from'./Config.js';class ImportList extends Application{constructor(_0x368849,_0x2356c1,_0x2580c4){_0x2580c4=_0x2580c4||{};if(!_0x2580c4[_0x512e('0x7a')]&&!_0x2580c4[_0x512e('0x90')])throw new Error(_0x512e('0xd2'));const _0x8c911b={'template':SharedConsts[_0x512e('0x72')]+'/template/ImportList.handlebars','width':0x3c0,'height':Util['getMaxWindowHeight'](),'resizable':!![]};Object[_0x512e('0x56')](_0x8c911b,_0x368849||{}),super(_0x8c911b),this['_props']=_0x2580c4[_0x512e('0x7a')],this['_titleSearch']=_0x2580c4[_0x512e('0x28')]||_0x512e('0x67'),this[_0x512e('0xcf')]=_0x2580c4[_0x512e('0x4b')],this[_0x512e('0x2')]=_0x2580c4[_0x512e('0x2a')],this[_0x512e('0x77')]=_0x2580c4['defaultFolderPath'],this[_0x512e('0x1f')]=_0x2580c4[_0x512e('0x53')],this['_fnListSort']=_0x2580c4[_0x512e('0x43')],this[_0x512e('0x4')]=_0x2580c4[_0x512e('0xd5')],this[_0x512e('0x13')]=_0x2580c4[_0x512e('0x90')],this[_0x512e('0xca')]=!!_0x2580c4[_0x512e('0x7f')],this['_isNonCacheableInstance']=_0x2580c4[_0x512e('0x0')],this[_0x512e('0x24')]=_0x2580c4[_0x512e('0x23')],this[_0x512e('0x1a')]=_0x2580c4['isPreviewable'],this[_0x512e('0xb0')]=_0x2580c4[_0x512e('0x74')]||_0x512e('0x58'),this[_0x512e('0xc0')]=_0x2356c1[_0x512e('0xaa')],this[_0x512e('0x7b')]=!!_0x2356c1[_0x512e('0xaa')]&&_0x2580c4[_0x512e('0x8f')],this[_0x512e('0x3b')]=null,this[_0x512e('0x7')]=[],this['_isClosable']=!![],this['_isHidden']=![],this[_0x512e('0x3')]=![],this['_content']=null,this[_0x512e('0x3e')]=null,this[_0x512e('0xd3')]=null,this[_0x512e('0x8c')]=null,this[_0x512e('0x76')]=null,this['_$btnToggleSummary']=null,this['_$iptSearch']=null,this[_0x512e('0xd9')]=null,this['_$wrpRun']=null,this[_0x512e('0x5c')]=null,this[_0x512e('0x70')]=null,this[_0x512e('0xd0')]=null,this[_0x512e('0xcb')]=null;}get[_0x512e('0x53')](){return this[_0x512e('0x1f')];}set[_0x512e('0x49')](_0x32b8ce){this['_isClosable']=_0x32b8ce;}get[_0x512e('0x90')](){return this[_0x512e('0x13')];}get[_0x512e('0x7a')](){return this['_props'];}set[_0x512e('0x81')](_0x34d340){this['_content']=_0x34d340;}set[_0x512e('0x9')](_0x114921){this['_pack']=_0x114921;}get[_0x512e('0x99')](){return this[_0x512e('0x7')];}get['isFolderOnly'](){return this[_0x512e('0xca')];}get[_0x512e('0x0')](){return!!this[_0x512e('0x6e')];}get[_0x512e('0x96')](){if(this[_0x512e('0x51')])return!![];else return!this[_0x512e('0x2f')];}async[_0x512e('0x1c')](_0x2c63a4){this[_0x512e('0xc0')]=_0x2c63a4['_actor'],this[_0x512e('0x3b')]=_0x2c63a4[_0x512e('0x3b')],await this['pSetFolderPathSpec'](_0x2c63a4['_folderPathSpec']);}[_0x512e('0x3d')](..._0x4e8ef9){if(this[_0x512e('0x6e')]){super['close'](..._0x4e8ef9);return;}if(!this[_0x512e('0x51')]){this[_0x512e('0x2f')]=!![],this[_0x512e('0x36')]['hideVe']();return;}super[_0x512e('0x3d')](..._0x4e8ef9);}[_0x512e('0x4a')](..._0x482f89){if(this[_0x512e('0x2f')]){this[_0x512e('0x36')]['showVe'](),this[_0x512e('0x2f')]=![];return;}super[_0x512e('0x4a')](..._0x482f89);}[_0x512e('0xa8')](..._0x56f44a){this['_isHidden']&&(this[_0x512e('0x36')][_0x512e('0x38')](),this['_isHidden']=![]),this[_0x512e('0x4a')](..._0x56f44a);}[_0x512e('0x37')](){if(this[_0x512e('0x3b')])ui[_0x512e('0x8a')][_0x512e('0x79')]('compendium');else{if(!this['_actor']&&this[_0x512e('0xcf')])ui[_0x512e('0x8a')][_0x512e('0x79')](this[_0x512e('0xcf')]);}}async['pInit'](){if(this[_0x512e('0x3')])return;this[_0x512e('0x3')]=!![],await this['_pLoadFolderPathSpec']();}async[_0x512e('0x64')](){this[_0x512e('0x7')]=MiscUtil[_0x512e('0x87')](await GameStorage[_0x512e('0xc8')](this[_0x512e('0x9e')]()),_0x512e('0x17'));if(this[_0x512e('0x7')]==null)await this[_0x512e('0xb4')]((this[_0x512e('0x77')]||[])[_0x512e('0xbe')](_0x30982e=>FolderPathBuilderRow[_0x512e('0x8')](_0x30982e)));}async[_0x512e('0xb4')](_0xf9da00){return this[_0x512e('0x7')]=_0xf9da00,GameStorage[_0x512e('0x21')](this[_0x512e('0x9e')](),{'path':this[_0x512e('0x7')]});}[_0x512e('0x9e')](){return ImportList['_STO_K_FOLDER_PATH_SPEC']+'.'+this[_0x512e('0xae')][_0x512e('0x12')];}['getData'](){return{'isRadio':this[_0x512e('0x7b')],'titleButtonRun':this[_0x512e('0xb0')],'titleSearch':this['_titleSearch'],'cols':[{'name':'Name','width':0x9,'field':_0x512e('0x12')},{'name':_0x512e('0x47'),'width':0x2,'field':_0x512e('0x6a'),'titleProp':_0x512e('0x34'),'displayProp':_0x512e('0x8b'),'rowClassName':'text-center'}],'rows':this[_0x512e('0x42')][_0x512e('0xbe')]((_0x43684c,_0x2bce18)=>({'name':_0x43684c[_0x512e('0x12')],'source':_0x43684c['source'],'sourceShort':Parser[_0x512e('0x9c')](_0x43684c[_0x512e('0x6a')]),'sourceLong':Parser[_0x512e('0xbf')](_0x43684c[_0x512e('0x6a')]),'ix':_0x2bce18}))};}['_activateListeners_doFindUiElements'](_0x21046c){const _0x362e96=_0x21046c[0x0],_0x4444c6=$(_0x362e96[_0x512e('0x9b')][0x0]);this['_$bntFilter']=_0x4444c6[_0x512e('0xa5')](_0x512e('0x3a')),this['_$btnReset']=_0x4444c6['find'](_0x512e('0x78')),this['_$btnToggleSummary']=_0x4444c6[_0x512e('0xa5')](_0x512e('0xb9')),this[_0x512e('0x15')]=_0x4444c6['find'](_0x512e('0xa2')),this['_$wrpMiniPills']=$(_0x362e96[_0x512e('0x9b')][0x1]);const _0x1b7a19=$(_0x362e96[_0x512e('0x9b')][0x2]);this[_0x512e('0xd9')]=_0x1b7a19[_0x512e('0xa5')](_0x512e('0x93')),this[_0x512e('0x70')]=_0x1b7a19,this[_0x512e('0xd0')]=$(_0x362e96[_0x512e('0x9b')][0x3]),this[_0x512e('0x20')]=$(_0x362e96[_0x512e('0x9b')][0x4]),this['_$btnRun']=this[_0x512e('0x20')]['find'](_0x512e('0x4e'));}['activateListeners'](_0x417cf2){super['activateListeners'](_0x417cf2),this[_0x512e('0x5a')](_0x417cf2),this[_0x512e('0x39')](),this['_$btnReset'][_0x512e('0x46')](()=>{this[_0x512e('0x15')][_0x512e('0x73')]('');if(this[_0x512e('0x3e')])this['_list'][_0x512e('0x11')]();});this[_0x512e('0x4')]?this[_0x512e('0xc')]()[_0x512e('0x85')](()=>this[_0x512e('0x35')]()):this[_0x512e('0x89')]();ModalFilter[_0x512e('0x7e')](this[_0x512e('0xd9')],this['_list']);if(this[_0x512e('0x76')])this[_0x512e('0x76')][_0x512e('0x46')]();}[_0x512e('0x35')](){if(!this[_0x512e('0x1a')])return;const _0x400ec8=this[_0x512e('0x3e')]['items'],_0x269e81=_0x400ec8['length'];for(let _0x2b8919=0x0;_0x2b8919<_0x269e81;++_0x2b8919){const _0x2cbd65=_0x400ec8[_0x2b8919],_0x210bf1=_0x2cbd65[_0x512e('0xb2')]['children'][0x1]['children'][0x0],_0x1f649a=_0x210bf1[_0x512e('0x9b')][0x0];_0x1f649a['addEventListener'](_0x512e('0xa9'),_0x4bc776=>Renderer[_0x512e('0x9f')]['pHandleLinkMouseOver'](_0x4bc776,_0x1f649a,this[_0x512e('0x24')],_0x2cbd65[_0x512e('0x97')][_0x512e('0x6a')],_0x2cbd65[_0x512e('0x97')][_0x512e('0x57')],null)),_0x1f649a['addEventListener'](_0x512e('0x2c'),_0x28142c=>Renderer[_0x512e('0x9f')]['handleLinkMouseLeave'](_0x28142c,_0x1f649a)),_0x1f649a[_0x512e('0x1e')](_0x512e('0x19'),_0x28d185=>Renderer[_0x512e('0x9f')][_0x512e('0x71')](_0x28d185,_0x1f649a)),_0x1f649a[_0x512e('0x1e')](_0x512e('0xa1'),_0xc2f9c4=>Renderer['hover'][_0x512e('0x62')](_0xc2f9c4,_0x1f649a)),_0x1f649a['addEventListener']('click',_0x302153=>{_0x302153[_0x512e('0xda')](),_0x302153[_0x512e('0x6')]();});const _0x352270=_0x210bf1[_0x512e('0x9b')][0x1];_0x352270[_0x512e('0x1e')](_0x512e('0x46'),async _0x3ee58a=>{_0x3ee58a[_0x512e('0xda')](),_0x3ee58a[_0x512e('0x6')]();if(this[_0x512e('0x7b')])this['close']();const _0x29e99d=this[_0x512e('0x42')][_0x2cbd65['ix']];try{const _0x1b8618=await this[_0x512e('0x4f')](_0x29e99d);if(!_0x1b8618)return;UtilApplications[_0x512e('0x98')](_0x1b8618);}catch(_0x3d9989){setTimeout(()=>{throw _0x3d9989;}),UtilApplications[_0x512e('0xc4')](_0x29e99d);}});}}[_0x512e('0x39')](){this[_0x512e('0x5c')][_0x512e('0x46')](()=>this[_0x512e('0x83')]());}async[_0x512e('0x41')](_0x25c1e9){return _0x25c1e9;}async[_0x512e('0x83')](){if(!this[_0x512e('0x3e')])return;const _0x3c9b43=this[_0x512e('0x3e')][_0x512e('0xc3')][_0x512e('0xd')](_0xb33f78=>_0xb33f78[_0x512e('0x30')]['cbSel'][_0x512e('0x7c')])[_0x512e('0xbe')](_0x45da29=>_0x45da29['ix']);if(!_0x3c9b43[_0x512e('0x29')])return ui[_0x512e('0x6b')][_0x512e('0x4d')](_0x512e('0xa'));if(!this[_0x512e('0x3b')]&&_0x3c9b43['length']>0x64&&!Config[_0x512e('0x87')]('ui',_0x512e('0x18'))){const _0x384c5d=await InputUiUtil[_0x512e('0x91')]({'title':_0x512e('0xab'),'htmlDescription':_0x512e('0x9a')+_0x3c9b43[_0x512e('0x29')]+_0x512e('0x75'),'textYesRemember':'Continue\x20and\x20Remember','textYes':_0x512e('0x26'),'textNo':_0x512e('0x60'),'fnRemember':_0x5a54c0=>Config[_0x512e('0x16')]('ui',_0x512e('0x18'),_0x5a54c0)});if(_0x384c5d==null||_0x384c5d===![])return;}this[_0x512e('0x3d')](),this[_0x512e('0x37')]();let _0x5b146b=_0x3c9b43[_0x512e('0xbe')](_0x2eae36=>this[_0x512e('0x42')][_0x2eae36]);_0x5b146b=await this[_0x512e('0x41')](_0x5b146b);if(_0x5b146b==null)return;const _0x7c3d3e=_0x5b146b['map'](_0x3b3d34=>{return new Util[(_0x512e('0x40'))]((_0x3b3d34[_0x512e('0x25')]||_0x3b3d34['name'])+'\x20('+Parser[_0x512e('0x9c')](_0x3b3d34['source'])+')',()=>this[_0x512e('0x4f')](_0x3b3d34));});await UtilApplications[_0x512e('0x55')](_0x7c3d3e);if(!this[_0x512e('0xc0')])game[this[_0x512e('0x2')]][_0x512e('0x4a')]();this[_0x512e('0xd9')][_0x512e('0xbc')]('checked',![])[_0x512e('0xa6')](),this[_0x512e('0x7b')]&&this[_0x512e('0x3e')]['items'][_0x512e('0xdc')](_0x4512c8=>{_0x4512c8[_0x512e('0x30')]['cbSel'][_0x512e('0x5')]=![],_0x4512c8['ele'][_0x512e('0xd8')][_0x512e('0xd7')](_0x512e('0xc7'));});}['_activateListeners_pInitFilteredList'](){return this['_list']=new List({'$iptSearch':this['_$iptSearch'],'$wrpList':this[_0x512e('0xd0')],'fnSort':this[_0x512e('0x59')]}),SortUtil[_0x512e('0xb8')](this[_0x512e('0x70')],this['_list']),this['_pageFilter'][_0x512e('0xd1')]({'$iptSearch':this[_0x512e('0x15')],'$btnReset':this[_0x512e('0x76')],'$btnOpen':this[_0x512e('0x8c')],'$btnToggleSummaryHidden':this[_0x512e('0x22')],'$wrpMiniPills':this['_$wrpMiniPills'],'namespace':this['_getFilterNamespace']()})['then'](()=>{this[_0x512e('0x42')][_0x512e('0xdc')](_0x195010=>this[_0x512e('0x4')]['addToFilters'](_0x195010)),this[_0x512e('0xcd')](),this[_0x512e('0x3e')]['init'](),this[_0x512e('0x4')]['filterBox'][_0x512e('0x4a')](),$(this[_0x512e('0x4')][_0x512e('0xe')])['on'](FilterBox[_0x512e('0x3c')],this[_0x512e('0x27')][_0x512e('0x6f')](this)),this[_0x512e('0x27')]();});}['_activateListeners_initList'](){this['_list']=new List({'$iptSearch':this[_0x512e('0x15')],'$wrpList':this['_$wrpList'],'fnSort':this['_fnListSort']}),SortUtil['initBtnSortHandlers'](this[_0x512e('0x70')],this['_list']),this['_activateListeners_absorbListItems'](),this[_0x512e('0x3e')][_0x512e('0xb1')]();}[_0x512e('0xcd')](){this[_0x512e('0x3e')][_0x512e('0x48')](this['_content'],{'fnGetName':_0xd33e13=>_0xd33e13[_0x512e('0x12')],'fnGetValues':_0x2c7ba0=>({'source':_0x2c7ba0[_0x512e('0x6a')],'hash':UrlUtil['URL_TO_HASH_BUILDER'][this['_page']](_0x2c7ba0)}),'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0xb9d5f5=>this[_0x512e('0x7b')]?UtilList2[_0x512e('0x88')](this[_0x512e('0x3e')],_0xb9d5f5):UtilList2[_0x512e('0x32')](this[_0x512e('0x3e')],_0xb9d5f5)});}[_0x512e('0x27')](){const _0x139821=this[_0x512e('0x4')]['filterBox']['getValues']();this[_0x512e('0x3e')][_0x512e('0xd')](_0x7ca29=>this[_0x512e('0x4')][_0x512e('0xce')](_0x139821,this[_0x512e('0x42')][_0x7ca29['ix']]));}async[_0x512e('0x4f')](){throw new Error(_0x512e('0xd4'));}[_0x512e('0xa4')](){return{'alpha':{'label':'First\x20Letter\x20of\x20Name','getter':_0x4df3aa=>_0x4df3aa[_0x512e('0x12')][_0x512e('0x3f')](0x0,0x1)[_0x512e('0x66')]()},'source':{'label':_0x512e('0xb'),'getter':_0x19d952=>Parser[_0x512e('0xbf')](_0x19d952[_0x512e('0x6a')])},'sourceAbbreviation':{'label':_0x512e('0xd6'),'getter':_0x36a015=>Parser[_0x512e('0x9c')](_0x36a015[_0x512e('0x6a')])}};}async[_0x512e('0x50')](_0x1afc8e,_0x3f3b4a){_0x3f3b4a=_0x3f3b4a||{};const _0x4dbb8e=_0x3f3b4a[_0x512e('0x53')]||this[_0x512e('0x1f')];if(!this[_0x512e('0x7')][_0x512e('0x29')]||!_0x4dbb8e)return null;const _0x4d63f3=this[_0x512e('0xa4')](),_0x4397a9=this[_0x512e('0x7')][_0x512e('0xd')](_0x200614=>_0x200614[_0x512e('0xad')]?_0x200614['text']&&_0x200614[_0x512e('0xc2')]['trim']():_0x200614['selectedProp'])['map'](_0x586153=>_0x586153[_0x512e('0xad')]?_0x586153['text']:_0x4d63f3[_0x586153['selectedProp']]['getter'](_0x1afc8e)),_0x486b95=[],_0xc4f245=(_0x399b6b,_0x12598d)=>{const _0x4f081a=Folder[_0x512e('0x1')][_0x512e('0x54')]['filter'](_0x13b1b9=>{const _0x296570=_0x13b1b9['data'][_0x512e('0x12')]===_0x399b6b,_0x5ee524=_0x13b1b9[_0x512e('0x30')][_0x512e('0x69')]===_0x4dbb8e,_0x4e773c=_0x12598d?_0x13b1b9[_0x512e('0x30')][_0x512e('0xf')]===_0x12598d:_0x13b1b9['data'][_0x512e('0xf')]==null;return _0x296570&&_0x5ee524&&_0x4e773c;});if(_0x4f081a[_0x512e('0x29')]>0x1){const _0x62b91='Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20'+_0x486b95[_0x512e('0xbe')](_0x481ca4=>_0x481ca4['data']['name'])[_0x512e('0x7d')](_0x512e('0xbb'));ui[_0x512e('0x6b')][_0x512e('0xaf')](_0x62b91);throw new Error(_0x62b91);}else{if(_0x4f081a[_0x512e('0x29')])return _0x4f081a[0x0];else return null;}};for(const _0xa205fd of _0x4397a9){const _0x577347=_0x486b95['length']?_0x486b95[_0x512e('0xc9')]()['_id']||_0x486b95[_0x512e('0xc9')]()['data'][_0x512e('0x52')]:null,_0x3d9234=_0xc4f245(_0xa205fd,_0x577347);if(_0x3d9234)_0x486b95[_0x512e('0xb5')](_0x3d9234);else{const _0x24f2b2=await Folder[_0x512e('0x8d')]({'name':_0xa205fd,'parent':_0x577347,'type':_0x4dbb8e},{});_0x486b95[_0x512e('0xb5')](_0x24f2b2);}}if(_0x486b95[_0x512e('0x29')])return _0x486b95[_0x512e('0xc9')]()[_0x512e('0x52')];return null;}async[_0x512e('0x63')](){await this[_0x512e('0x64')]();const _0x16594f=new FolderPathBuilderApp(this);_0x16594f[_0x512e('0x4a')](!![]);}[_0x512e('0x94')](_0x541b1e){if(!this['_props'])return _0x541b1e;return this[_0x512e('0x1b')][_0x512e('0xbe')](_0x215612=>{return _0x541b1e[_0x215612]=_0x541b1e[_0x215612]||[],_0x541b1e[_0x215612][_0x512e('0xdc')](_0x447953=>_0x447953['__prop']=_0x215612),_0x541b1e[_0x215612];})[_0x512e('0xcc')]();}[_0x512e('0x5b')](){return _0x512e('0xa0')+(this[_0x512e('0x13')]||this['_props']['join']('_'));}}ImportList[_0x512e('0xa7')]='ImportList.folderKeyPathSpec',ImportList['SOURCE_TYP_OFFICIAL_BASE']='Official',ImportList[_0x512e('0x61')]=ImportList[_0x512e('0x65')]+_0x512e('0x2b'),ImportList[_0x512e('0x86')]=ImportList[_0x512e('0x65')]+_0x512e('0x82'),ImportList['SOURCE_TYP_CUSTOM']=_0x512e('0xba'),ImportList[_0x512e('0x9d')]=_0x512e('0xac'),ImportList[_0x512e('0x4c')]=_0x512e('0x80'),ImportList[_0x512e('0xa3')]='Unknown',ImportList[_0x512e('0x14')]=[ImportList['SOURCE_TYP_OFFICIAL_ALL'],ImportList[_0x512e('0x6d')],ImportList[_0x512e('0x86')],ImportList[_0x512e('0x9d')],ImportList[_0x512e('0x4c')],ImportList[_0x512e('0xa3')]],ImportList[_0x512e('0xc1')]=[ImportList[_0x512e('0x61')],ImportList[_0x512e('0x86')],ImportList[_0x512e('0x9d')],ImportList['SOURCE_TYP_BREW'],ImportList[_0x512e('0x6d')],ImportList[_0x512e('0xa3')]],ImportList[_0x512e('0x6c')]=class{constructor(_0x2679a4,_0x546c74){this[_0x512e('0x12')]=_0x2679a4,this[_0x512e('0x84')]=_0x546c74['pPostLoad'],this[_0x512e('0xc5')]=_0x546c74['filterTypes']||[ImportList[_0x512e('0xa3')]],this[_0x512e('0x10')]=!!_0x546c74[_0x512e('0x10')];}},ImportList[_0x512e('0x5d')]=class extends ImportList[_0x512e('0x6c')]{constructor(_0x2a62b0,_0x3914c2,_0x2d9c5b){_0x2d9c5b=_0x2d9c5b||{},super(_0x2a62b0,_0x2d9c5b),this['url']=_0x3914c2,this[_0x512e('0x6a')]=_0x2d9c5b[_0x512e('0x6a')],this[_0x512e('0x5e')]=_0x2d9c5b['userData'];}},ImportList['DataSourceFile']=class extends ImportList['DataSourceBase']{constructor(_0x3db8a9,_0x43f97b){_0x43f97b=_0x43f97b||{},super(_0x3db8a9,_0x43f97b),this[_0x512e('0x8e')]=!![],this[_0x512e('0x6a')]=_0x43f97b[_0x512e('0x6a')];}},ImportList[_0x512e('0x68')]=class extends ImportList[_0x512e('0x6c')]{constructor(_0x2ac6a0,_0x45a8ac,_0x2f8338){_0x2f8338=_0x2f8338||{},super(_0x2ac6a0,_0x2f8338),this[_0x512e('0xc6')]={'pGet':_0x45a8ac};if(!_0x2f8338[_0x512e('0xb6')])throw new Error(_0x512e('0x33'));this[_0x512e('0xb6')]=_0x2f8338[_0x512e('0xb6')],this[_0x512e('0x2d')]=_0x2f8338[_0x512e('0x2d')];}};class FolderPathBuilderApp extends Application{constructor(_0x410382){super({'width':0x1e0,'height':0x1e0,'title':_0x512e('0x45'),'template':SharedConsts[_0x512e('0x72')]+_0x512e('0x92'),'resizable':!![]}),this[_0x512e('0x44')]=new FolderPathBuilder(_0x410382);}[_0x512e('0xb7')](_0x163c56){super[_0x512e('0xb7')](_0x163c56),this[_0x512e('0x44')][_0x512e('0x4a')](_0x163c56);}}const MixinUserChooseImporter=_0xc19043=>class extends _0xc19043{constructor(..._0x12bbc4){super(..._0x12bbc4),this[_0x512e('0x7b')]=!![],this[_0x512e('0x31')]=!![],this['_fnResolve']=null,this[_0x512e('0x1d')]=null,this[_0x512e('0xdb')]=null;}['_activateListeners_initRunButton'](){this[_0x512e('0x5c')][_0x512e('0x46')](async()=>{if(!this['_list'])return;try{const _0xcc21a8=this[_0x512e('0x3e')][_0x512e('0xc3')][_0x512e('0xa5')](_0x21c020=>_0x21c020[_0x512e('0x30')][_0x512e('0x95')][_0x512e('0x7c')]);if(!_0xcc21a8)return ui[_0x512e('0x6b')][_0x512e('0x4d')]('Please\x20select\x20something\x20from\x20the\x20list!');this[_0x512e('0x31')]=![],this[_0x512e('0x3d')]();let _0x16c3b6=[this[_0x512e('0x42')][_0xcc21a8['ix']]];_0x16c3b6=await this['_pFnPostProcessEntries'](_0x16c3b6);if(_0x16c3b6==null)return;const _0x46d81d=await this[_0x512e('0x4f')](_0x16c3b6[0x0],{'isTemp':!![],'isDataOnly':!![]});this[_0x512e('0xbd')](_0x46d81d),_0xcc21a8[_0x512e('0x30')][_0x512e('0x95')][_0x512e('0x5')]=![],_0xcc21a8['ele'][_0x512e('0xd8')]['remove'](_0x512e('0xc7'));}catch(_0x1eb2bc){this[_0x512e('0x1d')](_0x1eb2bc);}});}[_0x512e('0x3d')](..._0x84d14a){super['close'](..._0x84d14a);if(this[_0x512e('0x31')])this['_fnResolve'](null);}[_0x512e('0xb3')](..._0x2cb31f){const {fnResolve,fnReject,pResult}=_0x2cb31f[0x0];this[_0x512e('0x31')]=!![],this['_fnResolve']=fnResolve,this['_fnReject']=fnReject,this[_0x512e('0xdb')]=pResult;}static async[_0x512e('0x5f')](_0x277f7c,_0x2c1f1f){const {ChooseImporter}=await import('./ChooseImporter.js'),_0x4e187a=new this({});await _0x4e187a[_0x512e('0x2e')]();let _0x3a54ee=null,_0x53fdb9=null;const _0x522aa7=new Promise((_0x541a6f,_0x19cddd)=>{_0x3a54ee=_0x541a6f,_0x53fdb9=_0x19cddd;}),_0x2a8d51=new ChooseImporter(null,{'mode':{..._0x277f7c,'importerInstance':_0x4e187a},'namespace':_0x2c1f1f,'isAlwaysCloseWindow':!![],'isTemp':!![],'isNoImport':!![],'importerPreRenderArgs':[{'fnResolve':_0x3a54ee,'fnReject':_0x53fdb9,'pResult':_0x522aa7}]});return _0x2a8d51[_0x512e('0x4a')](!![]),_0x522aa7;}};export{ImportList,MixinUserChooseImporter};