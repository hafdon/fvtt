const _0x25c4=['toggle','addHookIsMaxLearnedCantrips','_spellLevel','search','_handleListItemBtnLearnClick_do_doLearn','render','440656yeAurt','classSource','push','toLowerCase','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','580dKfVud','manc-sp__is-max-learned-cantrips--is-over-limit','_cacheSelectedListItem','some','isLearned','1vqYkTX','$wrpPreparedLearned','_$dispNoRows','className','range','maxLearnedCantrips','usesMax','addHookSpellLevelLow','_getProps','manc-sp__is-prepared-caster','<div\x20class=\x22flex-v-stretch\x20input-group\x20no-shrink\x22>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-3-6\x20pr-1\x20sort\x22\x20data-sort=\x22name\x22>Name</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-2-4\x20px-1\x20sort\x22\x20data-sort=\x22time\x22>Time</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-1-2\x20px-1\x20sort\x22\x20data-sort=\x22school\x22>School</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-0-6\x20px-1\x20sort\x22\x20data-sort=\x22concentration\x22\x20title=\x22Concentration\x22>C.</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-2-6\x20px-1\x20sort\x22\x20data-sort=\x22range\x22>Range</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-1-6\x20pl-1\x22\x20disabled>&nbsp;</button>\x0a\x09\x09</div>','click','spellLevel','PG_SPELLS','manc-sp__is-max-learned-spells--is-over-limit','_cacheFilterValues','\x20text-center\x22\x20title=\x22','_handleListItemBtnLearnClick_do','copy','manc-sp__is-max-prepared-spells--is-over-limit','button','initBtnSortHandlers','isOverLearnSpellsLimitAtLevel','ele','addHookIsMaxPrepared','maxLearned','querySelectorAll','ix_prepared_','_getDefaultState','stopPropagation','62458wmQBrD','canPrepareMore','ixViewedSpell','html','school','isPrepared','_normalisedRange','spellDatas','isLearnedSpellCasterAtLevel','name','_normalisedTime','btn-learn-cantrip','_handleListItemBtnLearnClick_doFixed','672723ReUBDk','Unhandled\x20button\x20name:\x20\x22','ix_learned_','addHookIsPreparedCaster','manc-sp__btn-learn-spell','hideVe','forEach','Spells\x20learned:\x20','preventDefault','_addHookBase','manc-sp__is-max-prepared-spells','visibleItems','getTblTimeStr','active','flex-v-center\x20manc__list-row\x20clickable\x20imp__row','</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22flex-vh-center\x20col-1-6\x20pr-0\x22>\x0a\x09\x09\x09\x09<button\x20class=\x22btn\x20manc__list-row-button\x20','createElement','.manc-sp__btn-prepare','join','sortSpells','<div\x20class=\x22flex-vh-center\x20italic\x20ve-muted\x20ve-small\x20mt-1\x22>No\x20matching\x20spells</div>','toggleVe','_state','<div\x20class=\x22mx-1\x22>—</div>','addHookMaxLearnedCantrips','isPreparedCaster','pGetFormData','append','413qwdbjX','getSpellsKnown','isLearnedFixedSpellCasterAtLevel','Prepared:\x20','contains','_list','spRangeToFull','_isAvailableClassSpell','getCombinedClasses','479264DeVyFU','init','_getListItem','searchText','cntPrepared','includes','remove','hover','\x22\x20name=\x22btn-prepare\x22\x20title=\x22Prepare\x22>Prep.</button>','canLearnMoreFixedSpellsOfLevel','empty','canLearnMoreCantrips','isOverLearnCantripsLimit','_isConc','handleFilterChange','subschools','btn-learn-spell','handleSearch','_parent','29FinNWz','appendTo','_render_bindLevelledSpellHooks','sourceJsonToAbv','isOverPrepareLimit','_compsLevel','_render_bindCantripHooks','atwill','expandedSpellsSubclass','spellLevelHigh','[‒]','toDisplay','MIN_SAFE_INTEGER','_$wrpRows','fixedLearnedProgression','</div>\x0a\x09\x09\x09<div\x20class=\x22col-2-4\x20text-center\x22>','list-multi-selected','pact','addHookSpellLevelHigh','usesPer','spSchoolAbvToFull','spell','_spellDatas','text','expandedSpellsRace','\x0a\x09\x09\x09<div\x20class=\x22col-3-6\x20pl-0\x22>','usesCurrent','canLearnMoreSpellsOfLevel','prepared','\x0a\x09\x09\x09</div>\x0a\x09\x09','_pageFilter','state','constructor','filter','casterProgression','<div\x20class=\x22flex-vh-center\x20w-100\x20h-100\x20italic\x20ve-muted\x22>Select\x20a\x20spell\x20to\x20view</div>','classList','innerHTML','manc-sp__is-max-learned-spells','maxLearnedSpells','\x22\x20name=\x22','addHookIsMaxLearnedSpells','cntLearnedSpells','_getFormSubData_getSpellImportOpts','</div>\x0a\x09\x09\x09<div\x20class=\x22col-0-6\x20text-center\x22\x20title=\x22Concentration\x22>','_isAvailableExpandedSpell','pageFilter','length','add','toggleClass','cacheSelectedListItem','always','fromClassListVariant','3501OXPwlS','map','maxPrepared','<button\x20class=\x22btn\x20manc__list-row-button\x20manc-sp__btn-prepare\x20','_isWithinLevelRange','_resetLevelSpells','_className','_isAvailableSpell','spellLevelLow','pulseFixedLearned','source','getFormSubData','</div>\x0a\x09\x09\x09<div\x20class=\x22col-2-6\x20text-right\x22>','flat','addEventListener','2032700tOhzva','[+]','cntLearnedCantrips','_classSource','spSchoolAbvToStyle','1npRSoG','isOverLearnFixedSpellsLimitOfLevel','manc-sp__is-max-learned-cantrips','MAX_SAFE_INTEGER'];const _0xfedd=function(_0x4e60de,_0x35c3ec){_0x4e60de=_0x4e60de-0x123;let _0x25c48e=_0x25c4[_0x4e60de];return _0x25c48e;};const _0x6bd2ca=_0xfedd;(function(_0x252930,_0x435bb6){const _0x64d3fc=_0xfedd;while(!![]){try{const _0xcca052=-parseInt(_0x64d3fc(0x18b))+-parseInt(_0x64d3fc(0x166))*parseInt(_0x64d3fc(0x127))+-parseInt(_0x64d3fc(0x131))+parseInt(_0x64d3fc(0x159))+-parseInt(_0x64d3fc(0x182))*parseInt(_0x64d3fc(0x136))+-parseInt(_0x64d3fc(0x1d3))*-parseInt(_0x64d3fc(0x19e))+-parseInt(_0x64d3fc(0x1e2))*-parseInt(_0x64d3fc(0x13b));if(_0xcca052===_0x435bb6)break;else _0x252930['push'](_0x252930['shift']());}catch(_0x27bb72){_0x252930['push'](_0x252930['shift']());}}}(_0x25c4,0x58fd8));class Charactermancer_Spell_SpellMeta{constructor({ix:_0x7dea2b,spell:_0x1ce7b3,isPrepared:_0x38c7c6,isLearned:_0x3717a3,preparationMode:_0x4e756e,usesCurrent:_0x3861f3,usesMax:_0x27e068,usesPer:_0x5c0cb6}){const _0x474674=_0xfedd;this['ix']=_0x7dea2b,this[_0x474674(0x1b3)]=_0x1ce7b3,this[_0x474674(0x15e)]=_0x38c7c6,this[_0x474674(0x13a)]=_0x3717a3,this['preparationMode']=_0x4e756e,this[_0x474674(0x1b8)]=_0x3861f3,this[_0x474674(0x141)]=_0x27e068,this[_0x474674(0x1b1)]=_0x5c0cb6;}}class Charactermancer_Spell extends BaseComponent{constructor(_0x15a954){const _0x45ae56=_0xfedd;_0x15a954=_0x15a954||{},super(),this[_0x45ae56(0x1b4)]=_0x15a954[_0x45ae56(0x160)],this[_0x45ae56(0x1d9)]=_0x15a954['className'],this[_0x45ae56(0x125)]=_0x15a954[_0x45ae56(0x132)],this[_0x45ae56(0x1a3)]=[...new Array(0xa)][_0x45ae56(0x1d4)]((_0x40c212,_0x2b86b8)=>new Charactermancer_Spell_Level({'spellDatas':_0x15a954['spellDatas'],'spellLevel':_0x2b86b8,'parent':this})),this[_0x45ae56(0x1bc)]=_0x15a954[_0x45ae56(0x1cc)],this['_$wrpPreparedLearned']=_0x15a954[_0x45ae56(0x13c)],this[_0x45ae56(0x138)]=null,this['_cacheFilterValues']=null;}get[_0x6bd2ca(0x13e)](){const _0x1db476=_0x6bd2ca;return this[_0x1db476(0x1d9)];}get[_0x6bd2ca(0x132)](){return this['_classSource'];}get[_0x6bd2ca(0x1cc)](){const _0x434745=_0x6bd2ca;return this[_0x434745(0x1bc)];}get['cacheSelectedListItem'](){const _0x557ad7=_0x6bd2ca;return this[_0x557ad7(0x138)];}set[_0x6bd2ca(0x1d0)](_0x51c3ce){const _0x1f9636=_0x6bd2ca;this[_0x1f9636(0x138)]=_0x51c3ce;}get[_0x6bd2ca(0x17f)](){const _0x6dfad3=_0x6bd2ca;return this[_0x6dfad3(0x17c)]['maxPrepared']!=null;}set[_0x6bd2ca(0x1db)](_0x18ab8b){const _0x3f7eaf=_0x6bd2ca;this[_0x3f7eaf(0x17c)][_0x3f7eaf(0x1db)]=_0x18ab8b;}get[_0x6bd2ca(0x1db)](){const _0x451f92=_0x6bd2ca;return this[_0x451f92(0x17c)]['spellLevelLow'];}set[_0x6bd2ca(0x1a7)](_0x861df4){const _0x59ef3d=_0x6bd2ca;this[_0x59ef3d(0x17c)][_0x59ef3d(0x1a7)]=_0x861df4;}get['spellLevelHigh'](){const _0x2ddcc0=_0x6bd2ca;return this[_0x2ddcc0(0x17c)][_0x2ddcc0(0x1a7)];}get[_0x6bd2ca(0x15b)](){const _0x31ddd5=_0x6bd2ca;return this[_0x31ddd5(0x17c)][_0x31ddd5(0x15b)];}set[_0x6bd2ca(0x15b)](_0x568787){const _0x1c1d5f=_0x6bd2ca;this[_0x1c1d5f(0x17c)][_0x1c1d5f(0x15b)]=_0x568787;}get[_0x6bd2ca(0x140)](){const _0x2615df=_0x6bd2ca;return this[_0x2615df(0x17c)][_0x2615df(0x140)];}set[_0x6bd2ca(0x140)](_0x489a91){const _0x30a478=_0x6bd2ca;this[_0x30a478(0x17c)][_0x30a478(0x140)]=_0x489a91;}set[_0x6bd2ca(0x1c5)](_0x163bfd){const _0x4eb8f2=_0x6bd2ca;this[_0x4eb8f2(0x17c)][_0x4eb8f2(0x1c5)]=_0x163bfd;if(_0x163bfd!=null)this[_0x4eb8f2(0x17c)]['maxPrepared']=null;}get[_0x6bd2ca(0x1ac)](){const _0x4f33e3=_0x6bd2ca;return this[_0x4f33e3(0x17c)][_0x4f33e3(0x1ac)];}set[_0x6bd2ca(0x1ac)](_0x1ab6b1){const _0x303ef4=_0x6bd2ca;this[_0x303ef4(0x17c)][_0x303ef4(0x1ac)]=_0x1ab6b1;}get['pulseFixedLearned'](){const _0x548a6c=_0x6bd2ca;return this[_0x548a6c(0x17c)]['pulseFixedLearned'];}set[_0x6bd2ca(0x1dc)](_0x3ded54){const _0x5c491a=_0x6bd2ca;this[_0x5c491a(0x17c)][_0x5c491a(0x1dc)]=_0x3ded54;}set[_0x6bd2ca(0x1d5)](_0x5b47b7){const _0x1ac71a=_0x6bd2ca;this[_0x1ac71a(0x17c)]['maxPrepared']=_0x5b47b7;if(_0x5b47b7!=null)this[_0x1ac71a(0x17c)][_0x1ac71a(0x154)]=null;}get[_0x6bd2ca(0x1c8)](){const _0x45c005=_0x6bd2ca;return this[_0x45c005(0x17c)][_0x45c005(0x1c8)];}set[_0x6bd2ca(0x1c8)](_0x124cef){const _0x35887b=_0x6bd2ca;this[_0x35887b(0x17c)]['cntLearnedSpells']=_0x124cef;}get[_0x6bd2ca(0x124)](){const _0x16481d=_0x6bd2ca;return this['_state'][_0x16481d(0x124)];}set[_0x6bd2ca(0x124)](_0x3ce802){const _0x1d21b7=_0x6bd2ca;this['_state'][_0x1d21b7(0x124)]=_0x3ce802;}get[_0x6bd2ca(0x18f)](){const _0x421923=_0x6bd2ca;return this[_0x421923(0x17c)]['cntPrepared'];}set[_0x6bd2ca(0x18f)](_0x1e951a){const _0x2d2b22=_0x6bd2ca;this[_0x2d2b22(0x17c)][_0x2d2b22(0x18f)]=_0x1e951a;}get[_0x6bd2ca(0x1c0)](){const _0x1e5b81=_0x6bd2ca;return this[_0x1e5b81(0x17c)][_0x1e5b81(0x1c0)];}set[_0x6bd2ca(0x1c0)](_0x3653f5){const _0x1baa2f=_0x6bd2ca;this[_0x1baa2f(0x17c)][_0x1baa2f(0x1c0)]=_0x3653f5;}['addHookMaxLearnedCantrips'](_0x9bd81c){const _0x44aca9=_0x6bd2ca;this[_0x44aca9(0x16f)](_0x44aca9(0x140),_0x9bd81c);}[_0x6bd2ca(0x142)](_0x389ced){const _0x597a66=_0x6bd2ca;this[_0x597a66(0x16f)](_0x597a66(0x1db),_0x389ced);}[_0x6bd2ca(0x1b0)](_0x12bce8){const _0x2385af=_0x6bd2ca;this[_0x2385af(0x16f)](_0x2385af(0x1a7),_0x12bce8);}[_0x6bd2ca(0x169)](_0x5141aa){const _0x450ce6=_0x6bd2ca;this['_addHookBase'](_0x450ce6(0x1d5),_0x5141aa);}[_0x6bd2ca(0x1c7)](_0x260a3b){const _0x725ba4=_0x6bd2ca;this[_0x725ba4(0x16f)](_0x725ba4(0x1c8),_0x260a3b),this[_0x725ba4(0x16f)]('maxLearnedSpells',_0x260a3b),this[_0x725ba4(0x16f)](_0x725ba4(0x1ac),_0x260a3b),this[_0x725ba4(0x16f)](_0x725ba4(0x1dc),_0x260a3b),this[_0x725ba4(0x16f)](_0x725ba4(0x1db),_0x260a3b),this[_0x725ba4(0x16f)](_0x725ba4(0x1a7),_0x260a3b);}[_0x6bd2ca(0x12c)](_0x125777){const _0x378e4a=_0x6bd2ca;this['_addHookBase'](_0x378e4a(0x124),_0x125777),this[_0x378e4a(0x16f)](_0x378e4a(0x140),_0x125777);}[_0x6bd2ca(0x153)](_0x2facab){const _0x2d1623=_0x6bd2ca;this[_0x2d1623(0x16f)]('cntPrepared',_0x2facab),this[_0x2d1623(0x16f)](_0x2d1623(0x1d5),_0x2facab);}['isLearnedSpellCasterAtLevel'](_0x567b77){const _0x56669a=_0x6bd2ca;return this['_state'][_0x56669a(0x1c5)]!=null&&_0x567b77>=(this[_0x56669a(0x17c)][_0x56669a(0x1db)]??Number[_0x56669a(0x12a)])&&_0x567b77<=(this['_state'][_0x56669a(0x1a7)]||Number['MIN_SAFE_INTEGER']);}[_0x6bd2ca(0x184)](_0x5ebbec){const _0x2518e3=_0x6bd2ca;return _0x5ebbec>0x0&&this[_0x2518e3(0x17c)][_0x2518e3(0x1ac)]!=null&&this['_state'][_0x2518e3(0x1ac)][_0x5ebbec-0x1]>0x0;}[_0x6bd2ca(0x1b9)](_0x404765){const _0x3afc60=_0x6bd2ca;return this[_0x3afc60(0x17c)][_0x3afc60(0x1c8)]<(this[_0x3afc60(0x17c)][_0x3afc60(0x1c5)]||0x0)&&_0x404765>=(this[_0x3afc60(0x17c)][_0x3afc60(0x1db)]??Number[_0x3afc60(0x12a)])&&_0x404765<=(this[_0x3afc60(0x17c)][_0x3afc60(0x1a7)]||Number[_0x3afc60(0x1aa)]);}[_0x6bd2ca(0x151)](_0x458d85){const _0x2cbee0=_0x6bd2ca;return this[_0x2cbee0(0x17c)][_0x2cbee0(0x1c8)]>(this[_0x2cbee0(0x17c)][_0x2cbee0(0x1c5)]||0x0)&&_0x458d85>=(this[_0x2cbee0(0x17c)][_0x2cbee0(0x1db)]??Number[_0x2cbee0(0x12a)])&&_0x458d85<=(this[_0x2cbee0(0x17c)][_0x2cbee0(0x1a7)]||Number[_0x2cbee0(0x1aa)]);}[_0x6bd2ca(0x194)](_0x5c3d72){const _0x157b35=_0x6bd2ca;if(!this[_0x157b35(0x17c)]['fixedLearnedProgression'])return![];if(!this[_0x157b35(0x17c)][_0x157b35(0x1ac)][_0x5c3d72-0x1])return![];const _0x355e74=this[_0x157b35(0x1a3)][_0x5c3d72][_0x157b35(0x183)]();return _0x355e74[_0x157b35(0x1cd)]<this[_0x157b35(0x17c)]['fixedLearnedProgression'][_0x5c3d72-0x1];}[_0x6bd2ca(0x128)](_0x4b4903){const _0x26e5b7=_0x6bd2ca;if(!this[_0x26e5b7(0x17c)][_0x26e5b7(0x1ac)])return![];if(!this[_0x26e5b7(0x17c)][_0x26e5b7(0x1ac)][_0x4b4903-0x1])return![];const _0x4105bb=this[_0x26e5b7(0x1a3)][_0x4b4903][_0x26e5b7(0x183)]();return _0x4105bb[_0x26e5b7(0x1cd)]>this[_0x26e5b7(0x17c)]['fixedLearnedProgression'][_0x4b4903-0x1];}[_0x6bd2ca(0x196)](){const _0x5a6d57=_0x6bd2ca;return this[_0x5a6d57(0x17c)]['cntLearnedCantrips']<(this['_state'][_0x5a6d57(0x140)]||0x0);}[_0x6bd2ca(0x197)](){const _0x2d4c74=_0x6bd2ca;return this['_state'][_0x2d4c74(0x124)]>(this[_0x2d4c74(0x17c)]['maxLearnedCantrips']||0x0);}['canPrepareMore'](){const _0x1e7fd3=_0x6bd2ca;return this[_0x1e7fd3(0x17c)][_0x1e7fd3(0x18f)]<(this[_0x1e7fd3(0x17c)][_0x1e7fd3(0x1d5)]||0x0);}[_0x6bd2ca(0x1a2)](){const _0x5b8170=_0x6bd2ca;return this[_0x5b8170(0x17c)]['cntPrepared']>(this[_0x5b8170(0x17c)][_0x5b8170(0x1d5)]||0x0);}['render'](_0x585ac3,_0x174f64){const _0x4425c8=_0x6bd2ca,_0x1a1444=()=>{const _0x1164fb=_0xfedd,_0x3d2072=[this['_state'][_0x1164fb(0x140)]?'Cantrips\x20learned:\x20'+this[_0x1164fb(0x17c)]['cntLearnedCantrips']+'/'+this[_0x1164fb(0x17c)][_0x1164fb(0x140)]:null,this[_0x1164fb(0x17c)][_0x1164fb(0x1c5)]?_0x1164fb(0x16d)+this['_state'][_0x1164fb(0x1c8)]+'/'+this['_state'][_0x1164fb(0x1c5)]:null,this[_0x1164fb(0x17c)][_0x1164fb(0x1d5)]?_0x1164fb(0x185)+this[_0x1164fb(0x17c)]['cntPrepared']+'/'+this[_0x1164fb(0x17c)][_0x1164fb(0x1d5)]:null][_0x1164fb(0x1bf)](Boolean);this['_$wrpPreparedLearned'][_0x1164fb(0x17b)](_0x3d2072[_0x1164fb(0x1cd)])[_0x1164fb(0x15c)](_0x3d2072[_0x1164fb(0x178)](_0x1164fb(0x17d)));};this['_addHookBase'](_0x4425c8(0x18f),_0x1a1444),this[_0x4425c8(0x16f)]('maxPrepared',_0x1a1444),this[_0x4425c8(0x16f)](_0x4425c8(0x1c8),_0x1a1444),this[_0x4425c8(0x16f)](_0x4425c8(0x1c5),_0x1a1444),this[_0x4425c8(0x16f)]('cntLearnedCantrips',_0x1a1444),this[_0x4425c8(0x16f)](_0x4425c8(0x140),_0x1a1444);const _0x1a5200=()=>this[_0x4425c8(0x199)]();this[_0x4425c8(0x16f)]('expandedSpellsRace',_0x1a5200),this[_0x4425c8(0x16f)](_0x4425c8(0x1a6),_0x1a5200),_0x1a5200(),this[_0x4425c8(0x1a3)][_0x4425c8(0x16c)](_0x14471d=>_0x14471d[_0x4425c8(0x130)](_0x585ac3));const _0x1a9a5a=()=>{const _0x32d2f8=_0x4425c8;_0x174f64[_0x32d2f8(0x195)]();const _0x1e17a2=this['_spellDatas'][this['_state']['ixViewedSpell']];if(!_0x1e17a2)return _0x174f64[_0x32d2f8(0x181)](_0x32d2f8(0x1c1));_0x174f64['append'](Renderer[_0x32d2f8(0x192)]['$getHoverContent_stats'](UrlUtil[_0x32d2f8(0x148)],MiscUtil[_0x32d2f8(0x14d)](_0x1e17a2)));};this['_addHookBase'](_0x4425c8(0x15b),_0x1a9a5a),_0x1a9a5a();}[_0x6bd2ca(0x199)](_0x3633ec){const _0x57a8b8=_0x6bd2ca;this[_0x57a8b8(0x14a)]=_0x3633ec||this['_cacheFilterValues'];if(!this[_0x57a8b8(0x14a)])return;this[_0x57a8b8(0x1a3)][_0x57a8b8(0x16c)](_0x4afd7e=>_0x4afd7e['handleFilterChange'](this[_0x57a8b8(0x14a)]));}[_0x6bd2ca(0x19c)](_0x116cfe){const _0x2e308e=_0x6bd2ca;this[_0x2e308e(0x1a3)]['forEach'](_0x37e395=>_0x37e395[_0x2e308e(0x19c)](_0x116cfe));}get[_0x6bd2ca(0x1b6)](){const _0x1e2124=_0x6bd2ca;return this[_0x1e2124(0x17c)][_0x1e2124(0x1b6)];}set[_0x6bd2ca(0x1b6)](_0xfde379){const _0x5913aa=_0x6bd2ca;this[_0x5913aa(0x17c)][_0x5913aa(0x1b6)]=_0xfde379;}get[_0x6bd2ca(0x1a6)](){const _0x333573=_0x6bd2ca;return this['_state'][_0x333573(0x1a6)];}set[_0x6bd2ca(0x1a6)](_0x18ba1e){const _0x4a24c2=_0x6bd2ca;this[_0x4a24c2(0x17c)][_0x4a24c2(0x1a6)]=_0x18ba1e;}async[_0x6bd2ca(0x180)](_0x4e750b){const _0x3aafdf=_0x6bd2ca;return{'isFormComplete':(this[_0x3aafdf(0x17c)][_0x3aafdf(0x124)]===this['_state']['maxLearnedCantrips']||0x0)&&(this[_0x3aafdf(0x17c)][_0x3aafdf(0x1c8)]===this[_0x3aafdf(0x17c)]['maxLearnedSpells']||0x0)&&(this[_0x3aafdf(0x17c)]['cntPrepared']===this['_state'][_0x3aafdf(0x1d5)]||0x0),'data':{'spells':this[_0x3aafdf(0x1a3)][_0x3aafdf(0x1d4)](_0xf28770=>_0xf28770[_0x3aafdf(0x1de)](_0x4e750b))[_0x3aafdf(0x1e0)]()}};}[_0x6bd2ca(0x157)](){return{'spellLevelLow':null,'spellLevelHigh':null,'ixViewedSpell':null,'cntLearnedSpells':0x0,'maxLearnedSpells':null,'cntLearnedCantrips':0x0,'maxLearnedCantrips':null,'fixedLearnedProgression':null,'pulseFixedLearned':![],'cntPrepared':0x0,'maxPrepared':null,'expandedSpellsRace':[],'expandedSpellsSubclass':[],'expandedSpellsFeat':{},'casterProgression':null};}}class Charactermancer_Spell_Level extends BaseComponent{constructor(_0x396186){const _0x4dc8e4=_0x6bd2ca;super(),_0x396186=_0x396186||{},this['_spellDatas']=_0x396186['spellDatas'],this[_0x4dc8e4(0x12d)]=_0x396186[_0x4dc8e4(0x147)],this[_0x4dc8e4(0x19d)]=_0x396186['parent'],this[_0x4dc8e4(0x1ab)]=null,this[_0x4dc8e4(0x13d)]=null,this[_0x4dc8e4(0x187)]=null;}[_0x6bd2ca(0x1da)](_0x53868e){const _0x5b434f=_0x6bd2ca;return _0x53868e['level']===this[_0x5b434f(0x12d)];}[_0x6bd2ca(0x189)](_0x172856){const _0x47bf61=_0x6bd2ca,_0x3abf5c=Renderer['spell'][_0x47bf61(0x18a)](_0x172856,'fromClassList'),_0x49a02b=Renderer[_0x47bf61(0x1b3)][_0x47bf61(0x18a)](_0x172856,_0x47bf61(0x1d2));if(!_0x3abf5c['some'](_0x2bbd00=>_0x2bbd00[_0x47bf61(0x162)]===this['_parent'][_0x47bf61(0x13e)]&&_0x2bbd00[_0x47bf61(0x1dd)]===this[_0x47bf61(0x19d)]['classSource'])&&!_0x49a02b[_0x47bf61(0x139)](_0x2b13bf=>_0x2b13bf[_0x47bf61(0x162)]===this[_0x47bf61(0x19d)][_0x47bf61(0x13e)]&&_0x2b13bf[_0x47bf61(0x1dd)]===this[_0x47bf61(0x19d)]['classSource']))return![];return!![];}[_0x6bd2ca(0x1cb)](_0x496af9){const _0xf909d3=_0x6bd2ca,_0x313b37=_0x496af9[_0xf909d3(0x162)]['toLowerCase']()+'|'+_0x496af9[_0xf909d3(0x1dd)][_0xf909d3(0x134)]();if(this[_0xf909d3(0x19d)][_0xf909d3(0x1b6)]['includes'](_0x313b37))return!![];if(this[_0xf909d3(0x19d)][_0xf909d3(0x1a6)][_0xf909d3(0x190)](_0x313b37))return!![];return![];}['render'](_0xd3891b){const _0x4740e2=_0x6bd2ca;this[_0x4740e2(0x1ab)]=$$`<div class="flex-col manc__list mt-1 mb-3"></div>`,this[_0x4740e2(0x13d)]=$(_0x4740e2(0x17a))[_0x4740e2(0x16b)]();const _0x121190=()=>{const _0x36cb21=_0x4740e2;this[_0x36cb21(0x13d)][_0x36cb21(0x17b)](!this[_0x36cb21(0x187)][_0x36cb21(0x171)][_0x36cb21(0x1cd)]&&_0x203ab2['text']()!==_0x36cb21(0x123));},_0x4cf58d=$(_0x4740e2(0x145));this[_0x4740e2(0x187)]=new List({'$wrpList':this[_0x4740e2(0x1ab)],'fnSort':PageFilterSpells[_0x4740e2(0x179)],'fnSearch':(_0x3e7f65,_0x47b7e6)=>{const _0x44dbcd=_0x4740e2,{ixLearned:_0x4876b5,ixPrepared:_0x1af09b}=this[_0x44dbcd(0x1be)]['_getProps'](_0x3e7f65['ix']);if(this['_state'][_0x4876b5]||this[_0x44dbcd(0x17c)][_0x1af09b])return!![];return _0x3e7f65[_0x44dbcd(0x18e)]['includes'](_0x47b7e6);}}),SortUtil[_0x4740e2(0x150)](_0x4cf58d,this['_list']),this[_0x4740e2(0x187)]['on']('updated',()=>_0x121190());const _0x203ab2=$(_0x4740e2(0x135))['click'](()=>{const _0x287cd2=_0x4740e2;_0x203ab2[_0x287cd2(0x1b5)](_0x203ab2[_0x287cd2(0x1b5)]()===_0x287cd2(0x123)?_0x287cd2(0x1a8):'[+]'),this[_0x287cd2(0x1ab)][_0x287cd2(0x17b)](),_0x4cf58d['toggleVe'](),_0x121190();}),_0x4bb023=$$`<div class="flex-col w-100">
			<div class="split-v-center">
				<div class="bold">${Parser['spLevelToFullLevelText'](this[_0x4740e2(0x12d)])}</div>
				${_0x203ab2}
			</div>
			${_0x4cf58d}
			${this[_0x4740e2(0x13d)]}
			${this['_$wrpRows']}
		</div>`[_0x4740e2(0x19f)](_0xd3891b),_0xa76053=this[_0x4740e2(0x1b4)][_0x4740e2(0x1cd)];for(let _0x2975f3=0x0;_0x2975f3<_0xa76053;++_0x2975f3){const _0x1dc4ab=this[_0x4740e2(0x1b4)][_0x2975f3];if(!this['_isAvailableSpell'](_0x1dc4ab))continue;const _0x4e506e=this[_0x4740e2(0x18d)](_0x1dc4ab,_0x2975f3);if(!_0x4e506e)continue;this[_0x4740e2(0x187)]['addItem'](_0x4e506e);}this[_0x4740e2(0x187)][_0x4740e2(0x18c)]();const _0x565cb8=()=>{const _0x17947e=_0x4740e2,_0x359438=this['_isWithinLevelRange']();_0x4bb023[_0x17947e(0x17b)](_0x359438);if(!_0x359438)this[_0x17947e(0x1d8)]();};this[_0x4740e2(0x19d)][_0x4740e2(0x17e)](_0x565cb8),this['_parent'][_0x4740e2(0x142)](_0x565cb8),this['_parent'][_0x4740e2(0x1b0)](_0x565cb8),_0x565cb8();if(this[_0x4740e2(0x12d)]===0x0)this[_0x4740e2(0x1a4)]();else this['_render_bindLevelledSpellHooks']();}[_0x6bd2ca(0x1a4)](){const _0x364a1d=_0x6bd2ca,_0x2dba0f=()=>{const _0x523f27=_0xfedd;this['_$wrpRows']['toggleClass'](_0x523f27(0x129),!this['_parent'][_0x523f27(0x196)]()),this[_0x523f27(0x1ab)][_0x523f27(0x1cf)](_0x523f27(0x137),this['_parent'][_0x523f27(0x197)]());};this[_0x364a1d(0x19d)][_0x364a1d(0x12c)](_0x2dba0f),_0x2dba0f();}[_0x6bd2ca(0x1a0)](){const _0x296067=_0x6bd2ca,_0x59ecef=()=>this[_0x296067(0x1ab)][_0x296067(0x1cf)](_0x296067(0x144),this[_0x296067(0x19d)][_0x296067(0x17f)]);this[_0x296067(0x19d)][_0x296067(0x169)](_0x59ecef),_0x59ecef();const _0x282e8b=()=>{const _0xe49fb4=_0x296067;let _0x329afb=![],_0x25975d=!![],_0x3dad80=!![];if(this[_0xe49fb4(0x19d)][_0xe49fb4(0x161)](this[_0xe49fb4(0x12d)])){_0x329afb=!![];if(this[_0xe49fb4(0x19d)][_0xe49fb4(0x1b9)](this['_spellLevel']))_0x25975d=![];if(!this['_parent'][_0xe49fb4(0x151)](this[_0xe49fb4(0x12d)]))_0x3dad80=![];}if(this[_0xe49fb4(0x19d)]['isLearnedFixedSpellCasterAtLevel'](this[_0xe49fb4(0x12d)])){_0x329afb=!![];if(this[_0xe49fb4(0x19d)][_0xe49fb4(0x194)](this['_spellLevel']))_0x25975d=![];if(!this['_parent'][_0xe49fb4(0x128)](this['_spellLevel']))_0x3dad80=![];}this['_$wrpRows'][_0xe49fb4(0x1cf)]('manc-sp__is-learn-caster',_0x329afb),this[_0xe49fb4(0x1ab)][_0xe49fb4(0x1cf)](_0xe49fb4(0x1c4),_0x329afb&&_0x25975d),this[_0xe49fb4(0x1ab)]['toggleClass'](_0xe49fb4(0x149),_0x329afb&&_0x3dad80);};this[_0x296067(0x19d)][_0x296067(0x1c7)](_0x282e8b),_0x282e8b();const _0x17aa69=()=>{const _0x343dd2=_0x296067;this[_0x343dd2(0x1ab)][_0x343dd2(0x1cf)](_0x343dd2(0x170),!this[_0x343dd2(0x19d)][_0x343dd2(0x15a)]()),this[_0x343dd2(0x1ab)][_0x343dd2(0x1cf)](_0x343dd2(0x14e),this[_0x343dd2(0x19d)][_0x343dd2(0x1a2)]());};this[_0x296067(0x19d)][_0x296067(0x153)](_0x17aa69),_0x17aa69();}[_0x6bd2ca(0x1d7)](){const _0x398b12=_0x6bd2ca;if(this[_0x398b12(0x12d)]!==0x0&&this[_0x398b12(0x19d)][_0x398b12(0x1ac)]!=null&&this[_0x398b12(0x19d)][_0x398b12(0x1ac)][this[_0x398b12(0x12d)]-0x1])return!![];return(this[_0x398b12(0x12d)]===0x0&&this[_0x398b12(0x19d)][_0x398b12(0x140)]||this[_0x398b12(0x12d)]!==0x0)&&this[_0x398b12(0x12d)]>=(this[_0x398b12(0x19d)][_0x398b12(0x1db)]??Number[_0x398b12(0x12a)])&&this[_0x398b12(0x12d)]<=(this['_parent'][_0x398b12(0x1a7)]??Number[_0x398b12(0x1aa)]);}['_getListItem'](_0x26c270,_0x4523d0){const _0x4139c4=_0x6bd2ca,{ixLearned:_0x29badd,ixPrepared:_0x540739}=this[_0x4139c4(0x1be)][_0x4139c4(0x143)](_0x4523d0),_0x4a8a2d=document[_0x4139c4(0x176)]('div');_0x4a8a2d['className']=_0x4139c4(0x174),_0x4a8a2d['dataset']['ix']=_0x4523d0;const _0x55a427=Parser[_0x4139c4(0x1a1)](_0x26c270[_0x4139c4(0x1dd)]),_0x22e269=PageFilterSpells[_0x4139c4(0x172)](_0x26c270['time'][0x0]),_0x3a4b0d=Parser['spSchoolAndSubschoolsAbvsShort'](_0x26c270['school'],_0x26c270[_0x4139c4(0x19a)]),_0x4082ea=_0x26c270[_0x4139c4(0x198)]?'×':'',_0x2703dd=Parser[_0x4139c4(0x188)](_0x26c270[_0x4139c4(0x13f)]);_0x4a8a2d[_0x4139c4(0x1c3)]=_0x4139c4(0x1b7)+_0x26c270[_0x4139c4(0x162)]+_0x4139c4(0x1ad)+_0x22e269+'</div>\x0a\x09\x09\x09<div\x20class=\x22col-1-2\x20sp__school-'+_0x26c270[_0x4139c4(0x15d)]+_0x4139c4(0x14b)+Parser['spSchoolAndSubschoolsAbvsToFull'](_0x26c270['school'],_0x26c270['subschools'])+'\x22\x20'+Parser[_0x4139c4(0x126)](_0x26c270[_0x4139c4(0x15d)])+'>'+_0x3a4b0d+_0x4139c4(0x1ca)+_0x4082ea+_0x4139c4(0x1df)+_0x2703dd+_0x4139c4(0x175)+(this[_0x4139c4(0x12d)]===0x0?'manc-sp__btn-learn-cantrip':_0x4139c4(0x16a))+'\x20'+(this[_0x4139c4(0x17c)][_0x29badd]?_0x4139c4(0x173):'')+_0x4139c4(0x1c6)+(this[_0x4139c4(0x12d)]===0x0?_0x4139c4(0x164):_0x4139c4(0x19b))+'\x22>Learn</button>\x0a\x0a\x09\x09\x09\x09'+(this[_0x4139c4(0x12d)]!==0x0?_0x4139c4(0x1d6)+(this[_0x4139c4(0x17c)][_0x540739]?_0x4139c4(0x173):'')+_0x4139c4(0x193):'')+_0x4139c4(0x1bb);const _0x16c3cc=new ListItem(_0x4523d0,_0x4a8a2d,_0x26c270[_0x4139c4(0x162)],{'source':_0x55a427,'level':_0x26c270['level'],'time':_0x22e269,'school':Parser[_0x4139c4(0x1b2)](_0x26c270[_0x4139c4(0x15d)]),'concentration':_0x4082ea,'normalisedTime':_0x26c270[_0x4139c4(0x163)],'normalisedRange':_0x26c270[_0x4139c4(0x15f)]}),_0x1d70bc=_0x4a8a2d[_0x4139c4(0x155)](_0x4139c4(0x14f)),[_0x3012ca]=_0x1d70bc;return _0x1d70bc['forEach'](_0x10df08=>{const _0x1eb211=_0x4139c4;_0x10df08[_0x1eb211(0x1e1)](_0x1eb211(0x146),_0x4e5d7f=>{const _0x3a6fb9=_0x1eb211;_0x4e5d7f[_0x3a6fb9(0x158)](),_0x4e5d7f[_0x3a6fb9(0x16e)]();const _0x54db14=_0x10df08[_0x3a6fb9(0x1c2)][_0x3a6fb9(0x186)]('active');switch(_0x10df08[_0x3a6fb9(0x162)]){case'btn-learn-cantrip':{if(!_0x54db14&&!this['_parent'][_0x3a6fb9(0x196)]())return;_0x10df08[_0x3a6fb9(0x1c2)][_0x3a6fb9(0x12b)](_0x3a6fb9(0x173)),this[_0x3a6fb9(0x17c)][_0x29badd]=!this[_0x3a6fb9(0x17c)][_0x29badd];if(this[_0x3a6fb9(0x17c)][_0x29badd])this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x124)]++;else this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x124)]--;break;}case _0x3a6fb9(0x19b):{if(this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x161)](this[_0x3a6fb9(0x12d)]))this[_0x3a6fb9(0x14c)]({'btn':_0x10df08,'isActive':_0x54db14,'ixPrepared':_0x540739,'ixLearned':_0x29badd});else{if(this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x184)](this[_0x3a6fb9(0x12d)]))this[_0x3a6fb9(0x165)]({'btn':_0x10df08,'isActive':_0x54db14,'ixPrepared':_0x540739,'ixLearned':_0x29badd});else throw new Error('Attempted\x20to\x20learn\x20spell\x20when\x20neither\x20a\x20learned\x20caster\x20nor\x20a\x20fixed\x20caster\x20at\x20spell\x20level\x20'+this[_0x3a6fb9(0x12d)]);}break;}case'btn-prepare':{if(!_0x54db14&&!this['_parent'][_0x3a6fb9(0x15a)]())return;if(!_0x54db14&&(this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x161)](this[_0x3a6fb9(0x12d)])||this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x184)](this['_spellLevel']))&&!this[_0x3a6fb9(0x17c)][_0x29badd]){if(this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x161)](this[_0x3a6fb9(0x12d)])){const _0x4a3463=this[_0x3a6fb9(0x14c)]({'btn':_0x3012ca,'isActive':this[_0x3a6fb9(0x17c)][_0x29badd],'ixPrepared':_0x540739,'ixLearned':_0x29badd});if(!_0x4a3463)return;}else{if(this[_0x3a6fb9(0x19d)][_0x3a6fb9(0x184)](this[_0x3a6fb9(0x12d)])){const _0x3d1895=this[_0x3a6fb9(0x165)]({'btn':_0x3012ca,'isActive':this[_0x3a6fb9(0x17c)][_0x29badd],'ixPrepared':_0x540739,'ixLearned':_0x29badd});if(!_0x3d1895)return;}}}_0x10df08['classList'][_0x3a6fb9(0x12b)](_0x3a6fb9(0x173)),this[_0x3a6fb9(0x17c)][_0x540739]=!this['_state'][_0x540739];if(this[_0x3a6fb9(0x17c)][_0x540739])this[_0x3a6fb9(0x19d)]['cntPrepared']++;else this['_parent'][_0x3a6fb9(0x18f)]--;break;}default:throw new Error(_0x3a6fb9(0x167)+_0x10df08[_0x3a6fb9(0x162)]+'\x22');}});}),_0x4a8a2d['addEventListener'](_0x4139c4(0x146),_0x6489ca=>{const _0x138d42=_0x4139c4;_0x6489ca[_0x138d42(0x158)](),_0x6489ca[_0x138d42(0x16e)]();if(this[_0x138d42(0x19d)][_0x138d42(0x1d0)])this[_0x138d42(0x19d)]['cacheSelectedListItem'][_0x138d42(0x152)][_0x138d42(0x1c2)][_0x138d42(0x191)](_0x138d42(0x1ae));_0x4a8a2d[_0x138d42(0x1c2)][_0x138d42(0x1ce)](_0x138d42(0x1ae)),this[_0x138d42(0x19d)][_0x138d42(0x15b)]=_0x4523d0,this[_0x138d42(0x19d)]['cacheSelectedListItem']=_0x16c3cc;}),_0x16c3cc;}['_handleListItemBtnClick_isAbleToLearnMoreSpells'](){const _0x11731b=_0x6bd2ca;if(this[_0x11731b(0x19d)][_0x11731b(0x161)](this[_0x11731b(0x12d)])&&this[_0x11731b(0x19d)]['canLearnMoreSpellsOfLevel'](this[_0x11731b(0x12d)]))return!![];if(this[_0x11731b(0x19d)][_0x11731b(0x184)](this[_0x11731b(0x12d)])&&this[_0x11731b(0x19d)]['canLearnMoreFixedSpellsOfLevel'](this[_0x11731b(0x12d)]))return!![];return![];}[_0x6bd2ca(0x14c)]({btn:_0x3e85bd,isActive:_0x47f615,ixPrepared:_0x215212,ixLearned:_0x18a219}){const _0x263cbb=_0x6bd2ca;if(!_0x47f615&&!this[_0x263cbb(0x19d)][_0x263cbb(0x1b9)](this[_0x263cbb(0x12d)]))return![];this[_0x263cbb(0x12f)]({'btn':_0x3e85bd,'isActive':_0x47f615,'ixPrepared':_0x215212,'ixLearned':_0x18a219});if(this[_0x263cbb(0x17c)][_0x18a219])this[_0x263cbb(0x19d)][_0x263cbb(0x1c8)]++;else this[_0x263cbb(0x19d)][_0x263cbb(0x1c8)]--;}[_0x6bd2ca(0x12f)]({btn:_0x5f120f,isActive:_0x1052e3,ixPrepared:_0x2ace91,ixLearned:_0x5c0018}){const _0xe7489e=_0x6bd2ca;_0x1052e3&&this[_0xe7489e(0x19d)]['isPreparedCaster']&&this[_0xe7489e(0x17c)][_0x2ace91]&&(this[_0xe7489e(0x17c)][_0x2ace91]=![],this[_0xe7489e(0x19d)]['cntPrepared']--),_0x5f120f[_0xe7489e(0x1c2)][_0xe7489e(0x12b)](_0xe7489e(0x173)),this[_0xe7489e(0x17c)][_0x5c0018]=!this[_0xe7489e(0x17c)][_0x5c0018];}['_handleListItemBtnLearnClick_doFixed']({btn:_0x8f6182,isActive:_0x5930cc,ixPrepared:_0xf203ca,ixLearned:_0x362211}){const _0x1f7c19=_0x6bd2ca;if(!_0x5930cc&&!this[_0x1f7c19(0x19d)][_0x1f7c19(0x194)](this['_spellLevel']))return![];this[_0x1f7c19(0x12f)]({'btn':_0x8f6182,'isActive':_0x5930cc,'ixPrepared':_0xf203ca,'ixLearned':_0x362211}),this[_0x1f7c19(0x19d)][_0x1f7c19(0x1dc)]=!this[_0x1f7c19(0x19d)][_0x1f7c19(0x1dc)];}[_0x6bd2ca(0x199)](_0x24d596){this['_list']['filter'](_0x66c107=>{const _0x288a16=_0xfedd,_0x232f7b=this[_0x288a16(0x1b4)][_0x66c107['ix']];if(!this[_0x288a16(0x189)](_0x232f7b)&&!this[_0x288a16(0x1cb)](_0x232f7b))return![];const {ixLearned:_0x6f1ec9,ixPrepared:_0x36a587}=this[_0x288a16(0x1be)][_0x288a16(0x143)](_0x66c107['ix']);if(this[_0x288a16(0x17c)][_0x6f1ec9]||this['_state'][_0x36a587])return!![];return this[_0x288a16(0x19d)]['pageFilter'][_0x288a16(0x1a9)](_0x24d596,_0x232f7b);});}[_0x6bd2ca(0x19c)](_0x43f493){const _0x5862c8=_0x6bd2ca;this[_0x5862c8(0x187)][_0x5862c8(0x12e)](_0x43f493);}static[_0x6bd2ca(0x143)](_0x26a7c6){const _0x28a09e=_0x6bd2ca;return{'ixLearned':_0x28a09e(0x168)+_0x26a7c6,'ixPrepared':_0x28a09e(0x156)+_0x26a7c6};}[_0x6bd2ca(0x1d8)](){const _0x36a3c3=_0x6bd2ca;let _0x2cbc60=0x0,_0x32bd72=0x0;const _0x1e26ae={},_0x2da21c=this[_0x36a3c3(0x1b4)]['length'];for(let _0x25d6bf=0x0;_0x25d6bf<_0x2da21c;++_0x25d6bf){const _0x2ba0b2=this[_0x36a3c3(0x1b4)][_0x25d6bf];if(!this[_0x36a3c3(0x1da)](_0x2ba0b2))continue;const {ixLearned:_0x8e1fdc,ixPrepared:_0x57c9fb}=this[_0x36a3c3(0x1be)][_0x36a3c3(0x143)](_0x25d6bf);this[_0x36a3c3(0x17c)][_0x8e1fdc]&&(_0x1e26ae[_0x8e1fdc]=![],_0x2cbc60++),this[_0x36a3c3(0x17c)][_0x57c9fb]&&(_0x1e26ae[_0x57c9fb]=![],_0x32bd72++);}this['_proxyAssignSimple'](_0x36a3c3(0x1bd),_0x1e26ae),_0x2cbc60&&(this[_0x36a3c3(0x12d)]===0x0?(this[_0x36a3c3(0x19d)][_0x36a3c3(0x124)]-=_0x2cbc60,this[_0x36a3c3(0x1ab)][0x0][_0x36a3c3(0x155)]('.manc-sp__btn-learn-cantrip')['forEach'](_0x268112=>_0x268112['classList'][_0x36a3c3(0x191)](_0x36a3c3(0x173)))):(this[_0x36a3c3(0x19d)]['cntLearnedSpells']-=_0x2cbc60,this[_0x36a3c3(0x1ab)][0x0]['querySelectorAll']('.manc-sp__btn-learn-spell')[_0x36a3c3(0x16c)](_0x1c062b=>_0x1c062b['classList'][_0x36a3c3(0x191)](_0x36a3c3(0x173))))),_0x32bd72&&(this[_0x36a3c3(0x19d)][_0x36a3c3(0x18f)]-=_0x32bd72,this[_0x36a3c3(0x1ab)][0x0]['querySelectorAll'](_0x36a3c3(0x177))[_0x36a3c3(0x16c)](_0xa4321e=>_0xa4321e[_0x36a3c3(0x1c2)][_0x36a3c3(0x191)]('active')));}[_0x6bd2ca(0x183)](){const _0x2e6ac6=_0x6bd2ca;if(!this[_0x2e6ac6(0x1d7)]()||this['_spellLevel']===0x0)return[];const _0x102f99=[],_0x4c8039=this[_0x2e6ac6(0x1b4)][_0x2e6ac6(0x1cd)];for(let _0x4fbd02=0x0;_0x4fbd02<_0x4c8039;++_0x4fbd02){const _0x22073=this[_0x2e6ac6(0x1b4)][_0x4fbd02];if(!this[_0x2e6ac6(0x1da)](_0x22073))continue;if(!this[_0x2e6ac6(0x189)](_0x22073)&&!this['_isAvailableExpandedSpell'](_0x22073))continue;const {ixLearned:_0x16a3c2}=this[_0x2e6ac6(0x1be)][_0x2e6ac6(0x143)](_0x4fbd02);if(!this['_state'][_0x16a3c2])continue;_0x102f99[_0x2e6ac6(0x133)]({'ix':_0x4fbd02,'spell':this[_0x2e6ac6(0x1b4)][_0x4fbd02]});}return _0x102f99;}['getFormSubData'](_0x13dda3){const _0x3e06e7=_0x6bd2ca;if(!this['_isWithinLevelRange']())return[];const _0x30aede=[],_0xd4aed2=this[_0x3e06e7(0x1b4)][_0x3e06e7(0x1cd)];for(let _0x3e1be4=0x0;_0x3e1be4<_0xd4aed2;++_0x3e1be4){const _0x3618ea=this[_0x3e06e7(0x1b4)][_0x3e1be4];if(!this[_0x3e06e7(0x1da)](_0x3618ea))continue;if(!this[_0x3e06e7(0x189)](_0x3618ea)&&!this['_isAvailableExpandedSpell'](_0x3618ea))continue;const {ixLearned:_0xba5e07,ixPrepared:_0x1f0871}=this[_0x3e06e7(0x1be)][_0x3e06e7(0x143)](_0x3e1be4),_0xde30ea=this[_0x3e06e7(0x17c)][_0xba5e07],_0x3b4899=this[_0x3e06e7(0x17c)][_0x1f0871]||this[_0x3e06e7(0x12d)]===0x0&&_0xde30ea;if(this[_0x3e06e7(0x12d)]===0x0&&!_0xde30ea)continue;if(!_0xde30ea&&(this[_0x3e06e7(0x19d)][_0x3e06e7(0x161)](this[_0x3e06e7(0x12d)])||this[_0x3e06e7(0x19d)][_0x3e06e7(0x184)](this[_0x3e06e7(0x12d)])))continue;if(this[_0x3e06e7(0x19d)][_0x3e06e7(0x17f)]&&!_0xde30ea&&!_0x3b4899&&!this[_0x3e06e7(0x19d)]['pageFilter'][_0x3e06e7(0x1a9)](_0x13dda3,_0x3618ea))continue;const _0x4194c9=this[_0x3e06e7(0x1c9)]({'isLearned':_0xde30ea});_0x30aede[_0x3e06e7(0x133)](new Charactermancer_Spell_SpellMeta({..._0x4194c9,'ix':_0x3e1be4,'spell':this['_spellDatas'][_0x3e1be4],'isPrepared':_0x3b4899,'isLearned':_0xde30ea}));}return _0x30aede;}[_0x6bd2ca(0x1c9)]({isLearned:_0x3fbb6c}){const _0x245137=_0x6bd2ca;let _0x17d5e9=_0x245137(0x1d1),_0x3a3a7f=null,_0x384473=null,_0x40b87d=null;if(this[_0x245137(0x19d)][_0x245137(0x1c0)]===_0x245137(0x1af)){if(_0x3fbb6c){if(!this[_0x245137(0x19d)][_0x245137(0x161)](this[_0x245137(0x12d)])&&this[_0x245137(0x19d)][_0x245137(0x184)](this[_0x245137(0x12d)]))_0x17d5e9=_0x245137(0x1a5),_0x3a3a7f=0x1,_0x384473=0x1,_0x40b87d='lr';else _0x17d5e9=_0x245137(0x1af);}}else _0x17d5e9=this['_parent'][_0x245137(0x17f)]?_0x245137(0x1ba):_0x245137(0x1d1);return{'preparationMode':_0x17d5e9,'usesCurrent':_0x3a3a7f,'usesMax':_0x384473,'usesPer':_0x40b87d};}}export{Charactermancer_Spell};