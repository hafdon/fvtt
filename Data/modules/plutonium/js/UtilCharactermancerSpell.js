const _0x5ae8=['classList','addHookIsPreparedCaster','1202303bUuPxV','addHookIsMaxLearnedSpells','handleFilterChange','Spells\x20learned:\x20','className','\x0a\x09\x09\x09<div\x20class=\x22col-3-8\x20pl-0\x22>','_list','btn-learn-cantrip','add','includes','_spellDatas','isOverLearnSpellsLimit','level','[+]','dataset','manc-sp__is-prepared-caster','_state','addItem','manc-sp__is-max-learned-cantrips','sortSpells','spSchoolAndSubschoolsAbvsToFull','isPreparedCaster','_parent','toggle','1190602wcSPkN','_$wrpRows','PG_SPELLS','_spellLevel','preventDefault','pageFilter','spLevelToFullLevelText','querySelectorAll','maxLearned','_isConc','sourceJsonToAbv','createElement','updated','maxLearnedSpells','_isWithinLevelRange','active','filter','append','some','handleSearch','spell','spellLevelLow','toggleVe','ix_learned_','\x22\x20name=\x22btn-prepare\x22>Prepare</button>','</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22flex-vh-center\x20col-1-4\x20pr-0\x22>\x0a\x09\x09\x09\x09<button\x20class=\x22btn\x20manc__list-row-button\x20','stopPropagation','MIN_SAFE_INTEGER','1ZJQdMm','<div\x20class=\x22mx-1\x22>—</div>','isOverPrepareLimit','search','cntLearnedCantrips','maxLearnedCantrips','initBtnSortHandlers','\x22>Learn</button>\x0a\x0a\x09\x09\x09\x09','<button\x20class=\x22btn\x20manc__list-row-button\x20manc-sp__btn-prepare\x20','div','6HXVPRB','cacheSelectedListItem','getCombinedClasses','map','_addHookBase','2051690UPPjqj','addEventListener','_resetLevelSpells','\x22\x20name=\x22','addHookMaxLearnedCantrips','cntLearnedSpells','spSchoolAbvToFull','name','source','canPrepareMore','_getDefaultState','flex-v-center\x20manc__list-row\x20clickable\x20imp__row','btn-prepare','addHookSpellLevelLow','_className','canLearnMoreCantrips','_getProps','_classSource','forEach','_compsLevel','parent','389379LPVzla','state','\x20text-center\x22\x20title=\x22','$wrpPreparedLearned','click','constructor','ixViewedSpell','_normalisedTime','isOverLearnCantripsLimit','_normalisedRange','.manc-sp__btn-prepare','_cacheSelectedListItem','canLearnMoreSpells','[‒]','addHookSpellLevelHigh','classSource','manc-sp__btn-learn-cantrip','toggleClass','MAX_SAFE_INTEGER','manc-sp__is-max-learned-spells','cntPrepared','length','remove','visibleItems','<div\x20class=\x22flex-v-stretch\x20input-group\x20no-shrink\x22>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-3-8\x20pr-1\x20sort\x22\x20data-sort=\x22name\x22>Name</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-2-4\x20px-1\x20sort\x22\x20data-sort=\x22time\x22>Time</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-1-2\x20px-1\x20sort\x22\x20data-sort=\x22school\x22>School</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-0-6\x20px-1\x20sort\x22\x20data-sort=\x22concentration\x22\x20title=\x22Concentration\x22>C.</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-2-6\x20px-1\x20sort\x22\x20data-sort=\x22range\x22>Range</button>\x0a\x09\x09\x09<button\x20class=\x22btn-5et\x20btn-xxs\x20col-1-4\x20pl-1\x22\x20disabled>&nbsp;</button>\x0a\x09\x09</div>','spSchoolAndSubschoolsAbvsShort','getFormSubData','1PofCXF','maxPrepared','_$dispNoRows','8275ovfHjI','254269wpgoQh','_getListItem','_isAvailableSpell','_$wrpPreparedLearned','\x0a\x09\x09\x09</div>\x0a\x09\x09','push','139KxvWGN','empty','html','school','hover','toDisplay','hideVe','.manc-sp__btn-learn-spell','Unhandled\x20button\x20name:\x20\x22','_pageFilter','subschools','spellLevelHigh','manc-sp__is-max-prepared-spells','addHookIsMaxLearnedCantrips','<div\x20class=\x22flex-vh-center\x20w-100\x20h-100\x20italic\x20ve-muted\x22>Select\x20a\x20spell\x20to\x20view</div>','btn-learn-spell','text','218701XSecYl','.manc-sp__btn-learn-cantrip','render','spellDatas'];const _0x4725=function(_0x22a7d8,_0x32329d){_0x22a7d8=_0x22a7d8-0x18d;let _0x5ae890=_0x5ae8[_0x22a7d8];return _0x5ae890;};const _0x4efc88=_0x4725;(function(_0x1228b5,_0x2d7643){const _0x521ab1=_0x4725;while(!![]){try{const _0x1f0c55=-parseInt(_0x521ab1(0x1a9))*-parseInt(_0x521ab1(0x1e2))+-parseInt(_0x521ab1(0x1ff))*-parseInt(_0x521ab1(0x1de))+parseInt(_0x521ab1(0x1c3))+-parseInt(_0x521ab1(0x1f9))+parseInt(_0x521ab1(0x1e8))*parseInt(_0x521ab1(0x1e1))+parseInt(_0x521ab1(0x19f))*-parseInt(_0x521ab1(0x217))+-parseInt(_0x521ab1(0x1ae));if(_0x1f0c55===_0x2d7643)break;else _0x1228b5['push'](_0x1228b5['shift']());}catch(_0x4f7eb9){_0x1228b5['push'](_0x1228b5['shift']());}}}(_0x5ae8,0xc4e80));class Charactermancer_Spell extends BaseComponent{constructor(_0x53dc9a){const _0x1ffe45=_0x4725;_0x53dc9a=_0x53dc9a||{},super(),this[_0x1ffe45(0x209)]=_0x53dc9a[_0x1ffe45(0x1fc)],this[_0x1ffe45(0x1bc)]=_0x53dc9a[_0x1ffe45(0x203)],this[_0x1ffe45(0x1bf)]=_0x53dc9a['classSource'],this[_0x1ffe45(0x1c1)]=[...new Array(0xa)]['map']((_0x33de66,_0x57422c)=>new Charactermancer_Spell_Level({'spellDatas':_0x53dc9a[_0x1ffe45(0x1fc)],'spellLevel':_0x57422c,'parent':this})),this[_0x1ffe45(0x1f1)]=_0x53dc9a['pageFilter'],this['_$wrpPreparedLearned']=_0x53dc9a[_0x1ffe45(0x1c6)],this[_0x1ffe45(0x1ce)]=null;}get[_0x4efc88(0x203)](){const _0x21406b=_0x4efc88;return this[_0x21406b(0x1bc)];}get[_0x4efc88(0x1d2)](){const _0x2f9e47=_0x4efc88;return this[_0x2f9e47(0x1bf)];}get[_0x4efc88(0x21c)](){return this['_pageFilter'];}get[_0x4efc88(0x1aa)](){return this['_cacheSelectedListItem'];}set['cacheSelectedListItem'](_0x3e61c5){const _0x4d337a=_0x4efc88;this[_0x4d337a(0x1ce)]=_0x3e61c5;}get[_0x4efc88(0x214)](){const _0x757756=_0x4efc88;return this['_state'][_0x757756(0x1df)]!=null;}set[_0x4efc88(0x198)](_0x5812a2){const _0x33062b=_0x4efc88;this['_state'][_0x33062b(0x198)]=_0x5812a2;}get[_0x4efc88(0x198)](){const _0x3fd227=_0x4efc88;return this[_0x3fd227(0x20f)][_0x3fd227(0x198)];}set[_0x4efc88(0x1f3)](_0x4b7e7f){const _0x424249=_0x4efc88;this['_state'][_0x424249(0x1f3)]=_0x4b7e7f;}get[_0x4efc88(0x1f3)](){const _0x417fe3=_0x4efc88;return this[_0x417fe3(0x20f)][_0x417fe3(0x1f3)];}get[_0x4efc88(0x1c9)](){const _0x49a45e=_0x4efc88;return this[_0x49a45e(0x20f)][_0x49a45e(0x1c9)];}set[_0x4efc88(0x1c9)](_0x1689e2){const _0x45941b=_0x4efc88;this[_0x45941b(0x20f)][_0x45941b(0x1c9)]=_0x1689e2;}get['maxLearnedCantrips'](){const _0x235f5e=_0x4efc88;return this['_state'][_0x235f5e(0x1a4)];}set['maxLearnedCantrips'](_0x3201b4){const _0x4a21c9=_0x4efc88;this['_state'][_0x4a21c9(0x1a4)]=_0x3201b4;}set['maxLearnedSpells'](_0x5c0809){const _0x2089d5=_0x4efc88;this[_0x2089d5(0x20f)]['maxLearnedSpells']=_0x5c0809;if(_0x5c0809!=null)this['_state'][_0x2089d5(0x1df)]=null;}set[_0x4efc88(0x1df)](_0x28959b){const _0x4cee82=_0x4efc88;this[_0x4cee82(0x20f)][_0x4cee82(0x1df)]=_0x28959b;if(_0x28959b!=null)this[_0x4cee82(0x20f)][_0x4cee82(0x21f)]=null;}get['cntLearnedSpells'](){const _0x29ae5b=_0x4efc88;return this[_0x29ae5b(0x20f)][_0x29ae5b(0x1b3)];}set[_0x4efc88(0x1b3)](_0x501b84){const _0x3628f6=_0x4efc88;this[_0x3628f6(0x20f)]['cntLearnedSpells']=_0x501b84;}get['cntLearnedCantrips'](){const _0x546d46=_0x4efc88;return this['_state'][_0x546d46(0x1a3)];}set[_0x4efc88(0x1a3)](_0x4ac28d){const _0x30eb1f=_0x4efc88;this[_0x30eb1f(0x20f)][_0x30eb1f(0x1a3)]=_0x4ac28d;}get[_0x4efc88(0x1d7)](){const _0x2143e5=_0x4efc88;return this[_0x2143e5(0x20f)][_0x2143e5(0x1d7)];}set[_0x4efc88(0x1d7)](_0x242c83){const _0x12147b=_0x4efc88;this[_0x12147b(0x20f)][_0x12147b(0x1d7)]=_0x242c83;}['addHookMaxLearnedCantrips'](_0x4e69de){const _0x573bee=_0x4efc88;this['_addHookBase'](_0x573bee(0x1a4),_0x4e69de);}[_0x4efc88(0x1bb)](_0x1c0bed){const _0x123c80=_0x4efc88;this[_0x123c80(0x1ad)]('spellLevelLow',_0x1c0bed);}[_0x4efc88(0x1d1)](_0x1e32e3){const _0x3df17a=_0x4efc88;this[_0x3df17a(0x1ad)](_0x3df17a(0x1f3),_0x1e32e3);}[_0x4efc88(0x1fe)](_0x55086b){const _0x76882c=_0x4efc88;this[_0x76882c(0x1ad)](_0x76882c(0x1df),_0x55086b);}[_0x4efc88(0x200)](_0x193923){const _0x2ef72e=_0x4efc88;this['_addHookBase'](_0x2ef72e(0x1b3),_0x193923),this[_0x2ef72e(0x1ad)](_0x2ef72e(0x190),_0x193923);}[_0x4efc88(0x1f5)](_0x7cac55){const _0x4d2b45=_0x4efc88;this[_0x4d2b45(0x1ad)]('cntLearnedCantrips',_0x7cac55),this[_0x4d2b45(0x1ad)](_0x4d2b45(0x1a4),_0x7cac55);}['addHookIsMaxPrepared'](_0x173fe2){const _0x5a7eaa=_0x4efc88;this['_addHookBase'](_0x5a7eaa(0x1d7),_0x173fe2),this[_0x5a7eaa(0x1ad)]('maxPrepared',_0x173fe2);}[_0x4efc88(0x1cf)](){const _0x14b2da=_0x4efc88;return this['_state']['cntLearnedSpells']<(this['_state'][_0x14b2da(0x190)]||0x0);}[_0x4efc88(0x20a)](){const _0x5448be=_0x4efc88;return this[_0x5448be(0x20f)][_0x5448be(0x1b3)]>(this[_0x5448be(0x20f)]['maxLearnedSpells']||0x0);}[_0x4efc88(0x1bd)](){const _0x232452=_0x4efc88;return this[_0x232452(0x20f)][_0x232452(0x1a3)]<(this[_0x232452(0x20f)]['maxLearnedCantrips']||0x0);}[_0x4efc88(0x1cb)](){const _0x14d980=_0x4efc88;return this[_0x14d980(0x20f)][_0x14d980(0x1a3)]>(this[_0x14d980(0x20f)][_0x14d980(0x1a4)]||0x0);}[_0x4efc88(0x1b7)](){const _0xc96b80=_0x4efc88;return this['_state']['cntPrepared']<(this[_0xc96b80(0x20f)][_0xc96b80(0x1df)]||0x0);}[_0x4efc88(0x1a1)](){const _0x247602=_0x4efc88;return this[_0x247602(0x20f)][_0x247602(0x1d7)]>(this[_0x247602(0x20f)][_0x247602(0x1df)]||0x0);}[_0x4efc88(0x1fb)](_0x5d5ed7,_0x58c1f0){const _0x530150=_0x4efc88,_0x5a1855=()=>{const _0x53e779=_0x4725,_0x4a888e=[this['_state']['maxLearnedCantrips']?'Cantrips\x20learned:\x20'+this['_state'][_0x53e779(0x1a3)]+'/'+this['_state'][_0x53e779(0x1a4)]:null,this[_0x53e779(0x20f)]['maxLearnedSpells']?_0x53e779(0x202)+this[_0x53e779(0x20f)]['cntLearnedSpells']+'/'+this[_0x53e779(0x20f)][_0x53e779(0x190)]:null,this[_0x53e779(0x20f)][_0x53e779(0x1df)]?'Prepared:\x20'+this['_state'][_0x53e779(0x1d7)]+'/'+this[_0x53e779(0x20f)]['maxPrepared']:null][_0x53e779(0x193)](Boolean);this[_0x53e779(0x1e5)][_0x53e779(0x199)](_0x4a888e[_0x53e779(0x1d8)])[_0x53e779(0x1ea)](_0x4a888e['join'](_0x53e779(0x1a0)));};this[_0x530150(0x1ad)](_0x530150(0x1d7),_0x5a1855),this[_0x530150(0x1ad)](_0x530150(0x1df),_0x5a1855),this[_0x530150(0x1ad)](_0x530150(0x1b3),_0x5a1855),this[_0x530150(0x1ad)](_0x530150(0x190),_0x5a1855),this['_addHookBase'](_0x530150(0x1a3),_0x5a1855),this['_addHookBase'](_0x530150(0x1a4),_0x5a1855),this[_0x530150(0x1c1)][_0x530150(0x1c0)](_0x22626d=>_0x22626d[_0x530150(0x1fb)](_0x5d5ed7));const _0x22248b=()=>{const _0x1c85bc=_0x530150;_0x58c1f0[_0x1c85bc(0x1e9)]();const _0x3786a3=this[_0x1c85bc(0x209)][this[_0x1c85bc(0x20f)][_0x1c85bc(0x1c9)]];if(!_0x3786a3)return _0x58c1f0['append'](_0x1c85bc(0x1f6));_0x58c1f0[_0x1c85bc(0x194)](Renderer[_0x1c85bc(0x1ec)]['$getHoverContent_stats'](UrlUtil[_0x1c85bc(0x219)],MiscUtil['copy'](_0x3786a3)));};this[_0x530150(0x1ad)](_0x530150(0x1c9),_0x22248b),_0x22248b();}[_0x4efc88(0x201)](_0x1b17b3){const _0x30586c=_0x4efc88;this[_0x30586c(0x1c1)][_0x30586c(0x1c0)](_0x564c82=>_0x564c82['handleFilterChange'](_0x1b17b3));}[_0x4efc88(0x196)](_0x53d3fe){const _0x3b4371=_0x4efc88;this['_compsLevel'][_0x3b4371(0x1c0)](_0x2eeafa=>_0x2eeafa[_0x3b4371(0x196)](_0x53d3fe));}async['pGetFormData'](_0x302306){const _0x8c04c=_0x4efc88;return{'isFormComplete':(this['_state'][_0x8c04c(0x1a3)]===this['_state'][_0x8c04c(0x1a4)]||0x0)&&(this[_0x8c04c(0x20f)][_0x8c04c(0x1b3)]===this[_0x8c04c(0x20f)][_0x8c04c(0x190)]||0x0)&&(this['_state'][_0x8c04c(0x1d7)]===this['_state'][_0x8c04c(0x1df)]||0x0),'data':{'spells':this['_compsLevel'][_0x8c04c(0x1ac)](_0x129669=>_0x129669[_0x8c04c(0x1dd)](_0x302306))['flat']()}};}[_0x4efc88(0x1b8)](){return{'spellLevelLow':null,'spellLevelHigh':null,'ixViewedSpell':null,'cntLearnedSpells':0x0,'maxLearnedSpells':null,'cntLearnedCantrips':0x0,'maxLearnedCantrips':null,'cntPrepared':0x0,'maxPrepared':null};}}class Charactermancer_Spell_Level extends BaseComponent{constructor(_0x408281){const _0x229a14=_0x4efc88;super(),_0x408281=_0x408281||{},this['_spellDatas']=_0x408281['spellDatas'],this['_spellLevel']=_0x408281['spellLevel'],this[_0x229a14(0x215)]=_0x408281[_0x229a14(0x1c2)],this[_0x229a14(0x218)]=null,this[_0x229a14(0x1e0)]=null,this[_0x229a14(0x205)]=null;}[_0x4efc88(0x1e4)](_0x562b80){const _0x582ec5=_0x4efc88;if(_0x562b80[_0x582ec5(0x20b)]!==this['_spellLevel'])return![];const _0x4d5f4f=Renderer[_0x582ec5(0x197)][_0x582ec5(0x1ab)](_0x562b80,'fromClassList'),_0x93cdb6=Renderer[_0x582ec5(0x197)][_0x582ec5(0x1ab)](_0x562b80,'fromClassListVariant');if(!_0x4d5f4f[_0x582ec5(0x195)](_0x68792d=>_0x68792d[_0x582ec5(0x1b5)]===this[_0x582ec5(0x215)]['className']&&_0x68792d['source']===this[_0x582ec5(0x215)][_0x582ec5(0x1d2)])&&!_0x93cdb6['some'](_0x5181a9=>_0x5181a9['name']===this[_0x582ec5(0x215)][_0x582ec5(0x203)]&&_0x5181a9['source']===this[_0x582ec5(0x215)]['classSource']))return![];return!![];}[_0x4efc88(0x1fb)](_0x4c09dc){const _0x4b82d7=_0x4efc88;this[_0x4b82d7(0x218)]=$$`<div class="flex-col manc__list mt-1 mb-3"></div>`,this['_$dispNoRows']=$('<div\x20class=\x22flex-vh-center\x20italic\x20ve-muted\x20ve-small\x20mt-1\x22>No\x20matching\x20spells</div>')[_0x4b82d7(0x1ee)]();const _0x262bd4=()=>{const _0x42b172=_0x4b82d7;this[_0x42b172(0x1e0)][_0x42b172(0x199)](!this[_0x42b172(0x205)][_0x42b172(0x1da)]['length']&&_0x1b4071[_0x42b172(0x1f8)]()!==_0x42b172(0x20c));},_0x2f4565=$(_0x4b82d7(0x1db));this[_0x4b82d7(0x205)]=new List({'$wrpList':this[_0x4b82d7(0x218)],'fnSort':PageFilterSpells[_0x4b82d7(0x212)],'fnSearch':(_0x4dc59b,_0xb5d6df)=>{const _0x277942=_0x4b82d7,{ixLearned:_0x579cf9,ixPrepared:_0x383248}=this[_0x277942(0x1c8)][_0x277942(0x1be)](_0x4dc59b['ix']);if(this[_0x277942(0x20f)][_0x579cf9]||this['_state'][_0x383248])return!![];return _0x4dc59b['searchText'][_0x277942(0x208)](_0xb5d6df);}}),SortUtil[_0x4b82d7(0x1a5)](_0x2f4565,this['_list']),this['_list']['on'](_0x4b82d7(0x18f),()=>_0x262bd4());const _0x1b4071=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x4b82d7(0x1c7)](()=>{const _0x35f492=_0x4b82d7;_0x1b4071[_0x35f492(0x1f8)](_0x1b4071[_0x35f492(0x1f8)]()==='[+]'?_0x35f492(0x1d0):_0x35f492(0x20c)),this['_$wrpRows']['toggleVe'](),_0x2f4565[_0x35f492(0x199)](),_0x262bd4();}),_0x24d3dc=$$`<div class="flex-col w-100">
			<div class="split-v-center">
				<div class="bold">${Parser[_0x4b82d7(0x21d)](this['_spellLevel'])}</div>
				${_0x1b4071}
			</div>
			${_0x2f4565}
			${this['_$dispNoRows']}
			${this[_0x4b82d7(0x218)]}
		</div>`['appendTo'](_0x4c09dc),_0x706d8d=this[_0x4b82d7(0x209)][_0x4b82d7(0x1d8)];for(let _0x246afc=0x0;_0x246afc<_0x706d8d;++_0x246afc){const _0x46d7d5=this[_0x4b82d7(0x209)][_0x246afc];if(!this[_0x4b82d7(0x1e4)](_0x46d7d5))continue;const _0x5cdabd=this['_getListItem'](_0x46d7d5,_0x246afc);if(!_0x5cdabd)continue;this[_0x4b82d7(0x205)][_0x4b82d7(0x210)](_0x5cdabd);}this[_0x4b82d7(0x205)]['init']();const _0x3878cb=()=>{const _0x38b8b9=_0x4b82d7,_0x8a16f6=this[_0x38b8b9(0x191)]();_0x24d3dc['toggleVe'](_0x8a16f6);if(!_0x8a16f6)this[_0x38b8b9(0x1b0)]();};this['_parent'][_0x4b82d7(0x1b2)](_0x3878cb),this[_0x4b82d7(0x215)][_0x4b82d7(0x1bb)](_0x3878cb),this[_0x4b82d7(0x215)]['addHookSpellLevelHigh'](_0x3878cb),_0x3878cb();const _0x711f9f=()=>this[_0x4b82d7(0x218)][_0x4b82d7(0x1d4)](_0x4b82d7(0x20e),this[_0x4b82d7(0x215)][_0x4b82d7(0x214)]);this[_0x4b82d7(0x215)][_0x4b82d7(0x1fe)](_0x711f9f),_0x711f9f();const _0x2322fa=()=>{const _0x3f8163=_0x4b82d7;this[_0x3f8163(0x218)][_0x3f8163(0x1d4)](_0x3f8163(0x1d6),!this[_0x3f8163(0x215)][_0x3f8163(0x1cf)]()),this[_0x3f8163(0x218)]['toggleClass']('manc-sp__is-max-learned-spells--is-over-limit',this[_0x3f8163(0x215)][_0x3f8163(0x20a)]());};this[_0x4b82d7(0x215)][_0x4b82d7(0x200)](_0x2322fa),_0x2322fa();const _0x5a1a70=()=>{const _0x5b5141=_0x4b82d7;this['_$wrpRows']['toggleClass'](_0x5b5141(0x211),!this[_0x5b5141(0x215)][_0x5b5141(0x1bd)]()),this[_0x5b5141(0x218)][_0x5b5141(0x1d4)]('manc-sp__is-max-learned-cantrips--is-over-limit',this[_0x5b5141(0x215)][_0x5b5141(0x1cb)]());};this[_0x4b82d7(0x215)][_0x4b82d7(0x1f5)](_0x5a1a70),_0x5a1a70();const _0xa69399=()=>{const _0x4ef63e=_0x4b82d7;this['_$wrpRows'][_0x4ef63e(0x1d4)](_0x4ef63e(0x1f4),!this['_parent']['canPrepareMore']()),this[_0x4ef63e(0x218)]['toggleClass']('manc-sp__is-max-prepared-spells--is-over-limit',this[_0x4ef63e(0x215)]['isOverPrepareLimit']());};this[_0x4b82d7(0x215)]['addHookIsMaxPrepared'](_0xa69399),_0xa69399();}[_0x4efc88(0x191)](){const _0x420a77=_0x4efc88;return(this[_0x420a77(0x21a)]===0x0&&this['_parent']['maxLearnedCantrips']||this['_spellLevel']!==0x0)&&this[_0x420a77(0x21a)]>=(this['_parent']['spellLevelLow']==null?Number[_0x420a77(0x1d5)]:this['_parent'][_0x420a77(0x198)])&&this[_0x420a77(0x21a)]<=(this['_parent'][_0x420a77(0x1f3)]==null?Number[_0x420a77(0x19e)]:this[_0x420a77(0x215)][_0x420a77(0x1f3)]);}[_0x4efc88(0x1e3)](_0x41c83f,_0x597755){const _0xc61f00=_0x4efc88,{ixLearned:_0x140e94,ixPrepared:_0x287242}=this['constructor'][_0xc61f00(0x1be)](_0x597755),_0x2a77ed=document[_0xc61f00(0x18e)](_0xc61f00(0x1a8));_0x2a77ed['className']=_0xc61f00(0x1b9),_0x2a77ed[_0xc61f00(0x20d)]['ix']=_0x597755;const _0x10fb5e=Parser[_0xc61f00(0x18d)](_0x41c83f[_0xc61f00(0x1b6)]),_0x41e4f0=PageFilterSpells['getTblTimeStr'](_0x41c83f['time'][0x0]),_0x26db38=Parser[_0xc61f00(0x1dc)](_0x41c83f['school'],_0x41c83f[_0xc61f00(0x1f2)]),_0x53cab0=_0x41c83f[_0xc61f00(0x220)]?'×':'',_0x5ab288=Parser['spRangeToFull'](_0x41c83f['range']);_0x2a77ed['innerHTML']=_0xc61f00(0x204)+_0x41c83f[_0xc61f00(0x1b5)]+'</div>\x0a\x09\x09\x09<div\x20class=\x22col-2-4\x20text-center\x22>'+_0x41e4f0+'</div>\x0a\x09\x09\x09<div\x20class=\x22col-1-2\x20sp__school-'+_0x41c83f['school']+_0xc61f00(0x1c5)+Parser[_0xc61f00(0x213)](_0x41c83f[_0xc61f00(0x1eb)],_0x41c83f[_0xc61f00(0x1f2)])+'\x22\x20'+Parser['spSchoolAbvToStyle'](_0x41c83f['school'])+'>'+_0x26db38+'</div>\x0a\x09\x09\x09<div\x20class=\x22col-0-6\x20text-center\x22\x20title=\x22Concentration\x22>'+_0x53cab0+'</div>\x0a\x09\x09\x09<div\x20class=\x22col-2-6\x20text-right\x22>'+_0x5ab288+_0xc61f00(0x19c)+(this[_0xc61f00(0x21a)]===0x0?_0xc61f00(0x1d3):'manc-sp__btn-learn-spell')+'\x20'+(this[_0xc61f00(0x20f)][_0x140e94]?_0xc61f00(0x192):'')+_0xc61f00(0x1b1)+(this[_0xc61f00(0x21a)]===0x0?'btn-learn-cantrip':'btn-learn-spell')+_0xc61f00(0x1a6)+(this[_0xc61f00(0x21a)]!==0x0?_0xc61f00(0x1a7)+(this[_0xc61f00(0x20f)][_0x287242]?'active':'')+_0xc61f00(0x19b):'')+_0xc61f00(0x1e6);const _0xd5c51=new ListItem(_0x597755,_0x2a77ed,_0x41c83f[_0xc61f00(0x1b5)],{'source':_0x10fb5e,'level':_0x41c83f[_0xc61f00(0x20b)],'time':_0x41e4f0,'school':Parser[_0xc61f00(0x1b4)](_0x41c83f['school']),'concentration':_0x53cab0,'normalisedTime':_0x41c83f[_0xc61f00(0x1ca)],'normalisedRange':_0x41c83f[_0xc61f00(0x1cc)]});return _0x2a77ed[_0xc61f00(0x21e)]('button')['forEach'](_0xfd470=>{_0xfd470['addEventListener']('click',_0x3499b1=>{const _0x20d5b9=_0x4725;_0x3499b1[_0x20d5b9(0x19d)](),_0x3499b1[_0x20d5b9(0x21b)]();const _0x160cb0=_0xfd470[_0x20d5b9(0x1fd)]['contains'](_0x20d5b9(0x192));switch(_0xfd470['name']){case _0x20d5b9(0x206):{if(!_0x160cb0&&!this[_0x20d5b9(0x215)]['canLearnMoreCantrips']())return;_0xfd470[_0x20d5b9(0x1fd)][_0x20d5b9(0x216)](_0x20d5b9(0x192)),this['_state'][_0x140e94]=!this['_state'][_0x140e94];if(this[_0x20d5b9(0x20f)][_0x140e94])this[_0x20d5b9(0x215)][_0x20d5b9(0x1a3)]++;else this['_parent'][_0x20d5b9(0x1a3)]--;break;}case _0x20d5b9(0x1f7):{if(!_0x160cb0&&!this[_0x20d5b9(0x215)]['canLearnMoreSpells']())return;_0xfd470[_0x20d5b9(0x1fd)][_0x20d5b9(0x216)]('active'),this[_0x20d5b9(0x20f)][_0x140e94]=!this['_state'][_0x140e94];if(this[_0x20d5b9(0x20f)][_0x140e94])this[_0x20d5b9(0x215)][_0x20d5b9(0x1b3)]++;else this[_0x20d5b9(0x215)][_0x20d5b9(0x1b3)]--;break;}case _0x20d5b9(0x1ba):{if(!_0x160cb0&&!this[_0x20d5b9(0x215)][_0x20d5b9(0x1b7)]())return;_0xfd470[_0x20d5b9(0x1fd)]['toggle'](_0x20d5b9(0x192)),this[_0x20d5b9(0x20f)][_0x287242]=!this[_0x20d5b9(0x20f)][_0x287242];if(this[_0x20d5b9(0x20f)][_0x287242])this[_0x20d5b9(0x215)]['cntPrepared']++;else this[_0x20d5b9(0x215)][_0x20d5b9(0x1d7)]--;break;}default:throw new Error(_0x20d5b9(0x1f0)+_0xfd470[_0x20d5b9(0x1b5)]+'\x22');}});}),_0x2a77ed[_0xc61f00(0x1af)](_0xc61f00(0x1c7),_0x170eda=>{const _0x34ee34=_0xc61f00;_0x170eda[_0x34ee34(0x19d)](),_0x170eda[_0x34ee34(0x21b)]();if(this[_0x34ee34(0x215)]['cacheSelectedListItem'])this[_0x34ee34(0x215)]['cacheSelectedListItem']['ele'][_0x34ee34(0x1fd)][_0x34ee34(0x1d9)]('list-multi-selected');_0x2a77ed['classList'][_0x34ee34(0x207)]('list-multi-selected'),this['_parent'][_0x34ee34(0x1c9)]=_0x597755,this[_0x34ee34(0x215)]['cacheSelectedListItem']=_0xd5c51;}),_0xd5c51;}['handleFilterChange'](_0x4a61b9){this['_list']['filter'](_0x287c3e=>{const _0x2ffd6c=_0x4725,{ixLearned:_0x3cd7cc,ixPrepared:_0x1e8c88}=this[_0x2ffd6c(0x1c8)][_0x2ffd6c(0x1be)](_0x287c3e['ix']);if(this[_0x2ffd6c(0x20f)][_0x3cd7cc]||this[_0x2ffd6c(0x20f)][_0x1e8c88])return!![];return this[_0x2ffd6c(0x215)][_0x2ffd6c(0x21c)][_0x2ffd6c(0x1ed)](_0x4a61b9,this[_0x2ffd6c(0x209)][_0x287c3e['ix']]);});}[_0x4efc88(0x196)](_0x3bf432){const _0x57d9da=_0x4efc88;this[_0x57d9da(0x205)][_0x57d9da(0x1a2)](_0x3bf432);}static[_0x4efc88(0x1be)](_0x39d023){const _0xb204e5=_0x4efc88;return{'ixLearned':_0xb204e5(0x19a)+_0x39d023,'ixPrepared':'ix_prepared_'+_0x39d023};}[_0x4efc88(0x1b0)](){const _0x2fc9f5=_0x4efc88;let _0xeaea12=0x0,_0x128ffa=0x0;const _0x894906={},_0x592d58=this['_spellDatas'][_0x2fc9f5(0x1d8)];for(let _0x301dd7=0x0;_0x301dd7<_0x592d58;++_0x301dd7){const _0x4f9267=this[_0x2fc9f5(0x209)][_0x301dd7];if(!this[_0x2fc9f5(0x1e4)](_0x4f9267))continue;const {ixLearned:_0x30056b,ixPrepared:_0x4313cb}=this[_0x2fc9f5(0x1c8)][_0x2fc9f5(0x1be)](_0x301dd7);this[_0x2fc9f5(0x20f)][_0x30056b]&&(_0x894906[_0x30056b]=![],_0xeaea12++),this['_state'][_0x4313cb]&&(_0x894906[_0x4313cb]=![],_0x128ffa++);}this['_proxyAssignSimple'](_0x2fc9f5(0x1c4),_0x894906),_0xeaea12&&(this[_0x2fc9f5(0x21a)]===0x0?(this[_0x2fc9f5(0x215)][_0x2fc9f5(0x1a3)]-=_0xeaea12,this[_0x2fc9f5(0x218)][0x0][_0x2fc9f5(0x21e)](_0x2fc9f5(0x1fa))['forEach'](_0x3e3859=>_0x3e3859[_0x2fc9f5(0x1fd)][_0x2fc9f5(0x1d9)](_0x2fc9f5(0x192)))):(this[_0x2fc9f5(0x215)]['cntLearnedSpells']-=_0xeaea12,this['_$wrpRows'][0x0][_0x2fc9f5(0x21e)](_0x2fc9f5(0x1ef))[_0x2fc9f5(0x1c0)](_0x3d6181=>_0x3d6181[_0x2fc9f5(0x1fd)][_0x2fc9f5(0x1d9)](_0x2fc9f5(0x192))))),_0x128ffa&&(this['_parent'][_0x2fc9f5(0x1d7)]-=_0x128ffa,this['_$wrpRows'][0x0][_0x2fc9f5(0x21e)](_0x2fc9f5(0x1cd))[_0x2fc9f5(0x1c0)](_0x2d7280=>_0x2d7280[_0x2fc9f5(0x1fd)]['remove'](_0x2fc9f5(0x192))));}[_0x4efc88(0x1dd)](_0xa50779){const _0xab6372=_0x4efc88,_0x244db7=[];if(this['_isWithinLevelRange']()){const _0x28f400=this['_spellDatas']['length'];for(let _0x4c173d=0x0;_0x4c173d<_0x28f400;++_0x4c173d){const _0x4d8d30=this['_spellDatas'][_0x4c173d];if(!this[_0xab6372(0x1e4)](_0x4d8d30))continue;const {ixLearned:_0x165561,ixPrepared:_0x1c6027}=this[_0xab6372(0x1c8)]['_getProps'](_0x4c173d),_0x1f7d02=this[_0xab6372(0x20f)][_0x165561],_0x5b0177=this[_0xab6372(0x20f)][_0x1c6027]||this[_0xab6372(0x21a)]===0x0&&_0x1f7d02;if(this[_0xab6372(0x21a)]===0x0&&!_0x1f7d02)continue;if(!_0x1f7d02&&!this['_parent'][_0xab6372(0x214)])continue;if(this[_0xab6372(0x215)]['isPreparedCaster']&&!_0x1f7d02&&!_0x5b0177&&!this['_parent'][_0xab6372(0x21c)][_0xab6372(0x1ed)](_0xa50779,_0x4d8d30))continue;_0x244db7[_0xab6372(0x1e7)]({'ix':_0x4c173d,'spell':this[_0xab6372(0x209)][_0x4c173d],'isPrepared':_0x5b0177,'isLearned':_0x1f7d02});}}return _0x244db7;}}export{Charactermancer_Spell};