'use strict';const _0xc909=['unlock','_handleConfigUpdate_showPopoutButton','get','_ID_SHEET_COMPACT_CONTROLS','_handleConfigUpdate_handleGenericCssMod','/css/optional-sheet-popout.css\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>','_TAB_TITLE_DEFAULT','plutonium__compact-chat','isNameTabFromScene','plutonium__compact-scenes','\x22>\x0a\x09\x09\x09\x09','css/optional-compact-items.css','<div\x20class=\x22plutsrv__disp-version\x20text-center\x22\x20id=\x22','_ID_COMPACT_ITEMS','isDisplayBackendStatus','plutonium__backend-version','isShowPopout','_ID_COMPACT_SCENES','title','remove','isHidePlutoniumDirectoryButtons','_handleBackendCheck','isCompactJournal','isCompactChat','plutonium__compact-actors','_handleConfigUpdate','body','612507CcipTu','_ID_COMPACT_JOURNAL','then','_ID_HIDE_PLUT_DIRECTORY_BUTTONS','idStyle','\x22\x20href=\x22','plutonium__compact-journal','_ID_LOGO_GLITCH','scene','isCompactScenes','1286821fGEeCF','configGroup','_ID_SHEET_POPOUT','plutonium.configUpdate','39090IGLBXe','css/optional-compact-actors.css','plutonium__compact-tables','1tRpnxe','_ID_COMPACT_ACTORS','_handleConfigUpdate_compactDirectories','_ID_BACKEND_VERSION','plutonium__sheet-compact-controls','appendTo','css/optional-compact-scenes.css','head','_ID_COMPACT_CHAT','<link\x20id=\x22','isCompactItems','#logo','<style\x20id=\x22','_ID_COMPACT_TABLES','css/optional-compact-journal.css','isCompactActors','isCompactDirectoryButtons','css','isCompactWindowBar','Foundry\x20Virtual\x20Tabletop','/css/optional-sheet-compact-popout.css\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>','isCompactTables','plutonium__logo-glitch','pLock','navName','127697qTnrpA','plutonium__sheet-compact-popout','_LOCK_GLITCH','canvasReady','596421rupBeB','_handleConfigUpdate_hidePlutoniumDirectoryButtons','\x20â€¢\x20','plutonium__compact-items','618764HBHtqd','MODULE_LOCATION','_ID_COMPACT_DIRECTORY_BUTTONS','/css/optional-sheet-compact-controls.css\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>','\x0a\x09\x09\x09</style>','length','172879bwkuZZ','isStreamerMode','_ID_SHEET_COMPACT_POPOUT','2KfJRfr','_handleConfigUpdate_compactSheetControls','plutonium__compact-directory-buttons','P_GET_BACKEND_VERSION','13xioLxR','_handleNameTabFromScene','css/optional-compact-chat.css','tabNameSuffix','css/optional-hide-plut-directory-buttons.css','_handleConfigUpdate_compactDirectoryButtons'];const _0x37b1=function(_0x5df20c,_0x23eb3b){_0x5df20c=_0x5df20c-0x19b;let _0xc90995=_0xc909[_0x5df20c];return _0xc90995;};const _0x187a77=_0x37b1;(function(_0x20ddd0,_0x104378){const _0x42fab6=_0x37b1;while(!![]){try{const _0x4a60ef=-parseInt(_0x42fab6(0x1f0))*-parseInt(_0x42fab6(0x1b5))+-parseInt(_0x42fab6(0x1c6))*parseInt(_0x42fab6(0x1e7))+parseInt(_0x42fab6(0x1f4))*parseInt(_0x42fab6(0x1c3))+-parseInt(_0x42fab6(0x1bf))+parseInt(_0x42fab6(0x1ed))+parseInt(_0x42fab6(0x1e3))+parseInt(_0x42fab6(0x1df));if(_0x4a60ef===_0x104378)break;else _0x20ddd0['push'](_0x20ddd0['shift']());}catch(_0x2ddcf7){_0x20ddd0['push'](_0x20ddd0['shift']());}}}(_0xc909,0xb0e74));import{Config}from'./Config.js';import{SharedConsts}from'../shared/SharedConsts.js';class Styler{static['init'](){const _0x41fa0e=_0x37b1;Hooks['on'](_0x41fa0e(0x1c2),()=>this[_0x41fa0e(0x1b3)]()),this['_handleConfigUpdate'](),Hooks['on'](_0x41fa0e(0x1e2),()=>this[_0x41fa0e(0x1f5)]());}static[_0x187a77(0x1b3)](){const _0x3ed636=_0x187a77;this[_0x3ed636(0x1c8)](),this[_0x3ed636(0x1f9)](),this['_handleConfigUpdate_hidePlutoniumDirectoryButtons'](),this[_0x3ed636(0x19b)](),this[_0x3ed636(0x1f1)](),this['_handleConfigUpdate_compactChat'](),this[_0x3ed636(0x1af)](),this[_0x3ed636(0x1f5)]();}static['_handleConfigUpdate_handleGenericCssMod'](_0xb3da9e){const _0x47625d=_0x187a77;if(!_0xb3da9e[_0x47625d(0x1d7)]&&!_0xb3da9e['file'])throw new Error('One\x20of\x20\x22css\x22\x20or\x20\x22file\x22\x20must\x20be\x20specified!');const _0x193745=$('#'+_0xb3da9e[_0x47625d(0x1b9)]);if(!Config[_0x47625d(0x19c)](_0xb3da9e[_0x47625d(0x1c0)],_0xb3da9e['configGroupKey']))return _0x193745[_0x47625d(0x1ad)]();if(_0x193745[_0x47625d(0x1ec)])return;_0xb3da9e[_0x47625d(0x1d7)]?$('<style\x20id=\x22'+_0xb3da9e[_0x47625d(0x1b9)]+_0x47625d(0x1a4)+_0xb3da9e['css']+_0x47625d(0x1eb))[_0x47625d(0x1cb)](document[_0x47625d(0x1b4)]):$('<link\x20id=\x22'+_0xb3da9e['idStyle']+_0x47625d(0x1ba)+SharedConsts[_0x47625d(0x1e8)]+'/'+_0xb3da9e['file']+'\x22\x20rel=\x22stylesheet\x22\x20type=\x22text/css\x22\x20media=\x22all\x22>')['appendTo'](document[_0x47625d(0x1cd)]);}static[_0x187a77(0x1c8)](){const _0x4b744b=_0x187a77;this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x4b744b(0x1be),'idStyle':Styler['_ID_COMPACT_SCENES'],'file':_0x4b744b(0x1cc)}),this[_0x4b744b(0x19e)]({'configGroup':'ui','configGroupKey':_0x4b744b(0x1d5),'idStyle':Styler[_0x4b744b(0x1c7)],'file':_0x4b744b(0x1c4)}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x4b744b(0x1d0),'idStyle':Styler[_0x4b744b(0x1a7)],'file':_0x4b744b(0x1a5)}),this[_0x4b744b(0x19e)]({'configGroup':'ui','configGroupKey':_0x4b744b(0x1b0),'idStyle':Styler[_0x4b744b(0x1b6)],'file':_0x4b744b(0x1d4)}),this['_handleConfigUpdate_handleGenericCssMod']({'configGroup':'ui','configGroupKey':_0x4b744b(0x1db),'idStyle':Styler[_0x4b744b(0x1d3)],'file':'css/optional-compact-tables.css'});}static['_handleConfigUpdate_compactDirectoryButtons'](){const _0x3a1323=_0x187a77;this[_0x3a1323(0x19e)]({'configGroup':'ui','configGroupKey':_0x3a1323(0x1d6),'idStyle':Styler[_0x3a1323(0x1e9)],'file':'css/optional-compact-directory-buttons.css'});}static[_0x187a77(0x1e4)](){const _0xf5b104=_0x187a77;this[_0xf5b104(0x19e)]({'configGroup':'ui','configGroupKey':_0xf5b104(0x1ae),'idStyle':Styler['_ID_HIDE_PLUT_DIRECTORY_BUTTONS'],'file':_0xf5b104(0x1f8)});}static[_0x187a77(0x19b)](){const _0x2577e0=_0x187a77,_0x262550=$('#'+Styler[_0x2577e0(0x1c1)]);if(!Config[_0x2577e0(0x19c)]('ui',_0x2577e0(0x1aa))||Config[_0x2577e0(0x19c)]('ui',_0x2577e0(0x1d8)))return _0x262550[_0x2577e0(0x1ad)]();if(_0x262550[_0x2577e0(0x1ec)])return;$(_0x2577e0(0x1cf)+Styler[_0x2577e0(0x1c1)]+_0x2577e0(0x1ba)+SharedConsts[_0x2577e0(0x1e8)]+_0x2577e0(0x19f))[_0x2577e0(0x1cb)](document['head']);}static['_handleConfigUpdate_compactSheetControls'](){const _0x4e23ce=_0x187a77;Config[_0x4e23ce(0x19c)]('ui',_0x4e23ce(0x1d8))?!$('#'+Styler['_ID_SHEET_COMPACT_CONTROLS'])['length']&&$(_0x4e23ce(0x1cf)+Styler[_0x4e23ce(0x19d)]+'\x22\x20href=\x22'+SharedConsts[_0x4e23ce(0x1e8)]+_0x4e23ce(0x1ea))[_0x4e23ce(0x1cb)](document[_0x4e23ce(0x1cd)]):$('#'+Styler[_0x4e23ce(0x19d)])['remove'](),Config[_0x4e23ce(0x19c)]('ui','isShowPopout')?!$('#'+Styler[_0x4e23ce(0x1ef)])[_0x4e23ce(0x1ec)]&&$(_0x4e23ce(0x1cf)+Styler[_0x4e23ce(0x1ef)]+_0x4e23ce(0x1ba)+SharedConsts['MODULE_LOCATION']+_0x4e23ce(0x1da))['appendTo'](document[_0x4e23ce(0x1cd)]):$('#'+Styler[_0x4e23ce(0x1ef)])['remove']();}static['_handleConfigUpdate_compactChat'](){const _0x44c665=_0x187a77;this[_0x44c665(0x19e)]({'configGroup':'ui','configGroupKey':_0x44c665(0x1b1),'idStyle':Styler[_0x44c665(0x1ce)],'file':_0x44c665(0x1f6)});}static[_0x187a77(0x1af)](){const _0x134ffa=_0x187a77;Config[_0x134ffa(0x1f3)][_0x134ffa(0x1b7)](async _0x5cde50=>{const _0x5e4c7a=_0x134ffa;if(!_0x5cde50)return;await Styler[_0x5e4c7a(0x1e1)][_0x5e4c7a(0x1dd)]();try{const _0x16be84=$('#'+Styler[_0x5e4c7a(0x1bc)]),_0x2a3df6=$('#'+Styler[_0x5e4c7a(0x1c9)]),_0x8830b9=$(_0x5e4c7a(0x1d1));if(!Config['get']('ui',_0x5e4c7a(0x1a8))||Config[_0x5e4c7a(0x19c)]('ui',_0x5e4c7a(0x1ee))){_0x8830b9[_0x5e4c7a(0x1ac)](''),_0x16be84['remove'](),_0x2a3df6['remove']();return;}!_0x16be84[_0x5e4c7a(0x1ec)]&&(_0x8830b9['title']('++++\x20Plutonium\x20server\x20v'+_0x5cde50+':\x20[online]\x20++++'),$(_0x5e4c7a(0x1d2)+Styler['_ID_LOGO_GLITCH']+'\x22>\x0a\x09\x09\x09\x09\x09\x09\x09#logo\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09filter:\x20hue-rotate(100deg)\x20saturate(1.5);\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09</style>')[_0x5e4c7a(0x1cb)](document[_0x5e4c7a(0x1b4)])),!_0x2a3df6[_0x5e4c7a(0x1ec)]&&$(_0x5e4c7a(0x1a6)+Styler[_0x5e4c7a(0x1c9)]+'\x22>'+_0x5cde50+'</div>')[_0x5e4c7a(0x1cb)](document[_0x5e4c7a(0x1b4)]);}finally{Styler['_LOCK_GLITCH'][_0x5e4c7a(0x1fa)]();}});}static[_0x187a77(0x1f5)](){const _0xbaabda=_0x187a77;if(Styler['_TAB_TITLE_DEFAULT']==null)Styler['_TAB_TITLE_DEFAULT']=document[_0xbaabda(0x1ac)];if(!Config[_0xbaabda(0x19c)]('ui',_0xbaabda(0x1a2))){document[_0xbaabda(0x1ac)]=Styler[_0xbaabda(0x1a0)];return;}const _0x41c90b=MiscUtil['get'](canvas,_0xbaabda(0x1bd),'data'),_0x486fb2=Config[_0xbaabda(0x19c)]('ui',_0xbaabda(0x1f7)),_0x2819cc=_0x486fb2&&_0x486fb2['trim']()?_0x486fb2:_0xbaabda(0x1d9);if(_0x41c90b){const _0x597c4e=_0x41c90b[_0xbaabda(0x1de)]||canvas['scene']['name'];document[_0xbaabda(0x1ac)]=_0x597c4e+_0xbaabda(0x1e5)+_0x2819cc;}else document[_0xbaabda(0x1ac)]=_0x2819cc;}}Styler['_ID_COMPACT_ACTORS']=_0x187a77(0x1b2),Styler['_ID_COMPACT_ITEMS']=_0x187a77(0x1e6),Styler[_0x187a77(0x1b6)]=_0x187a77(0x1bb),Styler[_0x187a77(0x1d3)]=_0x187a77(0x1c5),Styler[_0x187a77(0x1ab)]=_0x187a77(0x1a3),Styler[_0x187a77(0x1ce)]=_0x187a77(0x1a1),Styler[_0x187a77(0x1e9)]=_0x187a77(0x1f2),Styler[_0x187a77(0x1b8)]='plutonium__hide-plutonium-directory-buttons',Styler[_0x187a77(0x1c1)]='plutonium__sheet-popout',Styler['_ID_SHEET_COMPACT_CONTROLS']=_0x187a77(0x1ca),Styler[_0x187a77(0x1ef)]=_0x187a77(0x1e0),Styler[_0x187a77(0x1e1)]=new VeLock(),Styler[_0x187a77(0x1bc)]=_0x187a77(0x1dc),Styler[_0x187a77(0x1c9)]=_0x187a77(0x1a9),Styler[_0x187a77(0x1a0)]=null;export{Styler};