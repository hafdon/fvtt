const _0x5966=['compSpellAdditionalSpellRace','_spell_getApproximateNumberCol','copy','subclasses','filterBoxSpells','spells','_hk_onChangeAbilityScores','innate','some','spellLevelHigh','_CUR_SPELL_LEVEL','full','_spell_renderClassSection','every','345890xRsKUH','spellLevelLow','class_ixMax','feat_getActiveFeatIxProps','stripTags','entries','feat','spell','<$level$>\x20','57TWIWNX','_compSpellAdditionalSpellRace','compClass','cha_mod','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Save\x20a\x20copy\x20of\x20the\x20current\x20filters,\x20to\x20use\x20when\x20filtering\x20spell\x20lists\x20during\x20import\x20of\x20&quot;prepared\x20spell&quot;\x20casters.\x20For\x20example,\x20if\x20you\x20want\x20your\x20Cleric\x27s\x20spell\x20list\x20to\x20include\x20only\x20PHB\x20spells,\x20you\x20would\x20filter\x20(using\x20the\x20interface\x20above)\x20for\x20PHB\x20spells,\x20then\x20click\x20this\x20button.\x20Note\x20that\x20all\x20the\x20spells\x20that\x20you\x20have\x20selected\x20as\x20learned\x20or\x20that\x20you\x20have\x20selected\x20as\x20prepared\x20will\x20be\x20imported\x20regardless.\x22>Set\x20Prepared\x20Spell\x20Filter</button>','612280KIeuON','_spell_renderFeatSection','_spell_getApproximateSpellsKnownProgression','feat_cntFeatsCustom','Could\x20not\x20evaluate\x20expression\x20\x22','bindTypingEnd','appendTo','class','max','keyup','str','click','int_mod','feat_ixMaxAbility','ActorCharactermancer.spells','colLabels','hasSourceJson','filterValuesSpellsCache','rows','data','additionalSpells','[+]','constructor','_modalFilterSpells','expandedSpellsRace','_spell_handleFilterChange','forEach','_hk_onChangeSubclass','empty','_spell_isCasterClassAtLevel_additionalSpellsBlock','bind','<button\x20class=\x22btn-5et\x20veapp__btn-filter\x22>Filter</button>','name','text','spellsKnownProgressionFixedByLevel','_lastSearchTermSpells','race','_parent','render','custom','ActorCharactermancer.spells_page','spellsKnownProgressionFixedAllowLowerLevel','spellsExpanded','con','split','getTotals','pPreloadHidden','_compsSpellSpells','level','con_mod','cha','<button\x20class=\x22btn\x20btn-5et\x22\x20title=\x22Toggle\x20Filter\x20Summary\x20Display\x22><span\x20class=\x22glyphicon\x20glyphicon-resize-small\x22></span></button>','targetLevel','Unknown\x20variable\x20\x22','prepared','[‒]','pInitFilterBox','exec','1032731YmtFzy','CASTER_TYPE_TO_PROGRESSION','str_mod','48085CpFtZF','class_getProps','race_ixRace','_pageFilterSpells','_filterBoxSpells','1593993RDnLUe','1RFgbQz','cantripProgression','addHookPulseFixedLearnedProgression','spellcastingAbility','cantrips\x20known','compAbility','spellsKnownProgression','mutateAndAddToFilters','trim','map','source','class_totalLevels','ability_cntFeats','_spell_renderFeatSections','_compsSpellSpellSlotLevelSelect','ability','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','maxLearnedCantrips','compFeat','feat_ixMaxCustom','_spell_getMaxLearnedSpells','pact','toLowerCase','val','notifications','_spell_getFixedLearnedProgression','wis_mod','getFormData','showVe','wis','compsSpellAdditionalSpellFeat','subclassTableGroups','casterProgression','replace','_data','_compsSpellAdditionalSpellFeat','class_getMaxSpellLevel','addHookExpandedSpells','compRace','classTableGroups','getValues','pRender','_spell_getMaxLearnedCantrips','<h2\x20class=\x22m-0\x20b-0\x20py-1\x22></h2>','feat_getProps','_addHookBase','spellsKnownProgressionFixed','filter','race_cntFeats','getAbilityModNumber','<div\x20class=\x22bold\x20mb-2\x22>Subclass\x20Spells\x20(','findIndex','24801oungrL','state','_spell_isClassCaster','_CUR_LEVEL','feat_ixMaxRace','hideVe','addHookBase','maxLearnedSpells',')</div>','append','fixedLearnedProgression','expandedSpellsSubclass','mode','expanded','<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22>Reset</button>','_filterValuesSpellsCache','_actor','keys','totals','_spell_renderRaceSection','includes','parent','_spell_getMaxPreparedSpells','preparedSpells','maxPrepared','addHookAbilityScores','toggleVe','flat','_spell_pRenderFilterBox','handleSearch','spells\x20known','_spell_isCasterClassAtLevel_additionalSpells','dex_mod','_hk_onChangeLevel','currentLevel','_compsSpellAdditionalSpellSubclass','695396TeQnCL'];const _0x39c9=function(_0x4accb5,_0x4848bf){_0x4accb5=_0x4accb5-0x72;let _0x5966fd=_0x5966[_0x4accb5];return _0x5966fd;};const _0x54d114=_0x39c9;(function(_0x138276,_0x51a946){const _0x934a51=_0x39c9;while(!![]){try{const _0x50c02f=-parseInt(_0x934a51(0xbf))+parseInt(_0x934a51(0xcd))+-parseInt(_0x934a51(0xb0))+parseInt(_0x934a51(0x8c))*-parseInt(_0x934a51(0xc8))+parseInt(_0x934a51(0x10a))+parseInt(_0x934a51(0x107))+-parseInt(_0x934a51(0x110))*-parseInt(_0x934a51(0x10f));if(_0x50c02f===_0x51a946)break;else _0x138276['push'](_0x138276['shift']());}catch(_0x51e360){_0x138276['push'](_0x138276['shift']());}}}(_0x5966,0xcb292));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilActors}from'./UtilActors.js';import{LGT}from'./Util.js';import{Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_Spell}from'./UtilCharactermancerSpell.js';import{Charactermancer_Spell_SlotLevelSelect}from'./UtilCharactermancerSpellSlotLevelSelect.js';class ActorCharactermancerSpell extends ActorCharactermancerBaseComponent{constructor(_0x273feb){const _0x31920f=_0x39c9;_0x273feb=_0x273feb||{},super(),this[_0x31920f(0x9c)]=_0x273feb['actor'],this['_data']=_0x273feb[_0x31920f(0xe0)],this[_0x31920f(0xf2)]=_0x273feb[_0x31920f(0xa1)],this['_pageFilterSpells']=new PageFilterSpells(),this[_0x31920f(0xe4)]=new ModalFilterSpells({'namespace':_0x31920f(0xdb),'isRadio':!![],'allData':this[_0x31920f(0x7a)]['spell']}),this[_0x31920f(0x9b)]=null,this[_0x31920f(0x10e)]=null,this[_0x31920f(0xf0)]='',this[_0x31920f(0xfc)]=[],this[_0x31920f(0x11e)]=[],this['_compSpellAdditionalSpellRace']=null,this[_0x31920f(0xaf)]=[],this[_0x31920f(0x7b)]={'ability':[],'race':[],'custom':[]};}get[_0x54d114(0xde)](){const _0x108d6f=_0x54d114;return this[_0x108d6f(0x9b)];}get[_0x54d114(0xb5)](){const _0x3046dc=_0x54d114;return this[_0x3046dc(0x10e)];}get['compsSpellSpells'](){const _0x1f3d76=_0x54d114;return this[_0x1f3d76(0xfc)];}get[_0x54d114(0xb1)](){const _0x28f515=_0x54d114;return this[_0x28f515(0xc9)];}get['compsSpellAdditionalSpellSubclass'](){const _0x1dcbfa=_0x54d114;return this[_0x1dcbfa(0xaf)];}get[_0x54d114(0x76)](){const _0x37feb8=_0x54d114;return this[_0x37feb8(0x7b)];}async['pLoad'](){const _0x480387=_0x54d114;await this['_modalFilterSpells'][_0x480387(0xfb)]();}async[_0x54d114(0x81)](_0x378e55){const _0x461020=_0x54d114,_0x5303bd=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry smooth-scroll"></div>`,_0x2d75bf=$$`<div class="flex-col w-100 h-100"></div>`;await this[_0x461020(0xa8)](_0x5303bd);for(let _0xc663b9=0x0;_0xc663b9<this[_0x461020(0xf2)][_0x461020(0xca)]['state'][_0x461020(0xc1)]+0x1;++_0xc663b9)this[_0x461020(0xbd)](_0x5303bd,_0x2d75bf,_0xc663b9);const _0x53d080=()=>{const _0x2416e0=_0x461020;this['_spell_renderClassSection'](_0x5303bd,_0x2d75bf,this['_parent'][_0x2416e0(0xca)]['state']['class_ixMax']);};this[_0x461020(0xf2)][_0x461020(0xca)][_0x461020(0x92)](_0x461020(0xc1),_0x53d080),this[_0x461020(0x9f)](_0x5303bd),this['_spell_renderFeatSections'](_0x5303bd,_0x2d75bf,_0x461020(0xda),'ability'),this['_spell_renderFeatSections'](_0x5303bd,_0x2d75bf,_0x461020(0x90),_0x461020(0xf1)),this['_spell_renderFeatSections'](_0x5303bd,_0x2d75bf,_0x461020(0x123),'custom'),this['_spell_handleFilterChange'](),$$`<div class="flex w-100 h-100">
			${_0x5303bd}

			<div class="vr-1"></div>

			<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry">
				${_0x2d75bf}
			</div>
		</div>`[_0x461020(0xd3)](_0x378e55);}[_0x54d114(0x11d)](_0x5260de,_0xda95fb,_0x2faa53,_0x3996d2){const _0x2e56ed=_0x54d114;let _0x1235d0=this[_0x2e56ed(0xf2)]['compFeat']['state'][_0x2faa53]+0x1;const _0x51ac18=()=>{const _0x357c93=_0x2e56ed;for(let _0xc3b57b=_0x1235d0;_0xc3b57b<this[_0x357c93(0xf2)]['compFeat']['state'][_0x2faa53]+0x1;++_0xc3b57b)this[_0x357c93(0xce)](_0x5260de,_0xda95fb,_0xc3b57b,_0x3996d2);_0x1235d0=this[_0x357c93(0xf2)][_0x357c93(0x122)][_0x357c93(0x8d)][_0x2faa53]+0x1;};this[_0x2e56ed(0x85)](_0x2faa53,_0x51ac18),_0x51ac18();}[_0x54d114(0xce)](_0x47f17a,_0x16e7b0,_0x526bfd,_0x5ee096){const _0xf16f2c=_0x54d114,{propIxFeat:_0x35b409}=ActorCharactermancerBaseComponent[_0xf16f2c(0x84)](_0x526bfd,_0x5ee096),_0x580bcf=$$`<div class="flex-col"></div>`['hideVe'](),_0x57a4ce=()=>{const _0x33ec4a=_0xf16f2c,_0x2f7df1=ActorCharactermancerBaseComponent['_CUR_LEVEL'],_0x27036e=this[_0x33ec4a(0xf2)]['compClass'][_0x33ec4a(0x8d)][_0x33ec4a(0x11b)],_0x5d9a98=this[_0x33ec4a(0x7b)][_0x5ee096][_0x526bfd];_0x5d9a98&&(_0x5d9a98[_0x33ec4a(0xae)]=_0x2f7df1,_0x5d9a98[_0x33ec4a(0x101)]=Math[_0x33ec4a(0xd5)](0x1,_0x27036e),_0x5d9a98['spellLevelLow']=ActorCharactermancerBaseComponent[_0x33ec4a(0xbb)],_0x5d9a98['spellLevelHigh']=this[_0x33ec4a(0xf2)][_0x33ec4a(0xca)][_0x33ec4a(0x7c)]());};this[_0xf16f2c(0xf2)][_0xf16f2c(0xca)][_0xf16f2c(0x92)](_0xf16f2c(0x11b),_0x57a4ce);const _0x3258d4=()=>{const _0x50fa0f=_0xf16f2c,_0x2ed5eb=this['_parent'][_0x50fa0f(0x122)]['feat_getActiveFeatIxProps']()[_0x50fa0f(0xa0)](_0x35b409),_0x4a905c=_0x2ed5eb?this[_0x50fa0f(0x7a)][_0x50fa0f(0xc5)][this[_0x50fa0f(0xf2)]['compFeat'][_0x50fa0f(0x8d)][_0x35b409]]:null;let _0x133806=![];if(_0x2ed5eb){if(_0x4a905c&&_0x4a905c[_0x50fa0f(0xe1)])_0x133806=!![];}_0x440f16[_0x50fa0f(0xa6)](_0x133806);};if(_0x5ee096===_0xf16f2c(0x11f))this[_0xf16f2c(0xf2)][_0xf16f2c(0x115)][_0xf16f2c(0x92)](_0xf16f2c(0x11c),_0x3258d4);if(_0x5ee096==='race')this[_0xf16f2c(0xf2)][_0xf16f2c(0x7e)]['addHookBase'](_0xf16f2c(0x88),_0x3258d4);if(_0x5ee096===_0xf16f2c(0xf4))this[_0xf16f2c(0xf2)][_0xf16f2c(0x122)]['addHookBase'](_0xf16f2c(0xd0),_0x3258d4);const _0x4d9bf5=()=>{const _0x591b82=_0xf16f2c;_0x580bcf[_0x591b82(0xe9)]();const _0x34ca01=(_0x5ee096===_0x591b82(0x11f)||_0x5ee096===_0x591b82(0xf1))&&!this[_0x591b82(0xf2)][_0x591b82(0x122)][_0x591b82(0xc2)]()[_0x591b82(0xa0)](_0x35b409),_0x4428c2=_0x34ca01?null:this[_0x591b82(0x7a)][_0x591b82(0xc5)][this['_parent'][_0x591b82(0x122)]['state'][_0x35b409]];let _0x275ec5=![];_0x4428c2&&_0x4428c2[_0x591b82(0xe1)]?(_0x275ec5=!![],_0x580bcf['showVe'](),this[_0x591b82(0x7b)][_0x5ee096][_0x526bfd]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x591b82(0x7a)][_0x591b82(0xc6)],'additionalSpells':_0x4428c2[_0x591b82(0xe1)],'modalFilterSpells':this[_0x591b82(0xe4)]}),this[_0x591b82(0x7b)][_0x5ee096][_0x526bfd][_0x591b82(0xf3)](_0x580bcf)):(_0x580bcf[_0x591b82(0x91)](),this[_0x591b82(0x7b)][_0x5ee096][_0x526bfd]=null),_0x275ec5?(_0x440f16[_0x591b82(0x74)](),_0x5dd2bd[_0x591b82(0xee)](_0x4428c2[_0x591b82(0xed)])):_0x440f16[_0x591b82(0x91)](),_0x57a4ce(),_0x3258d4();};this['_parent'][_0xf16f2c(0x122)][_0xf16f2c(0x92)](_0x35b409,_0x4d9bf5);const _0x5dd2bd=$(_0xf16f2c(0x83)),_0x4c3d21=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0xf16f2c(0xd8)](()=>{const _0x349abe=_0xf16f2c;_0x4c3d21[_0x349abe(0xee)](_0x4c3d21['text']()===_0x349abe(0xe2)?_0x349abe(0x104):'[+]'),_0x56f235['toggleVe']();}),_0x56f235=$$`<div class="flex-col w-100">
			${_0x580bcf}
		</div>`,_0x440f16=$$`<div class="flex-col w-100 mb-2">
			<div class="split-v-center">
				${_0x5dd2bd}
				${_0x4c3d21}
			</div>

			${_0x56f235}
		</div>`[_0xf16f2c(0x91)]()[_0xf16f2c(0xd3)](_0x47f17a);_0x4d9bf5();}async[_0x54d114(0xa8)](_0x665ce8){const _0x410d97=_0x54d114,_0x2a99e8=$(_0x410d97(0xec)),_0x451989=$(_0x410d97(0x100)),_0x5cc47c=$('<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20spell...\x22>'),_0x2c9f6c=$(_0x410d97(0x9a))['click'](()=>_0x5cc47c['val']('')[_0x410d97(0xd6)]()),_0xfc1eb8=$('<div\x20class=\x22fltr__mini-view\x20btn-group\x22></div>'),_0x526cfb=$(_0x410d97(0xcc))[_0x410d97(0xd8)](()=>{const _0x15a535=_0x410d97;this[_0x15a535(0x9b)]=this[_0x15a535(0x10e)][_0x15a535(0x80)](),ui[_0x15a535(0x128)]['info']('Set!');});$$(_0x665ce8)`
			<div class="flex-v-stretch input-group input-group--top no-shrink">
				${_0x2a99e8}
				${_0x451989}
				${_0x5cc47c}
				${_0x2c9f6c}
			</div>
			${_0xfc1eb8}
			<div class="flex-v-stretch input-group input-group--bottom mb-1 no-shrink">
				<button class="btn-5et w-100" disabled></button>
			</div>

			<div class="mb-1">${_0x526cfb}</div>
		`,this[_0x410d97(0x10e)]=await this[_0x410d97(0x10d)][_0x410d97(0x105)]({'$iptSearch':_0x5cc47c,'$btnReset':_0x2c9f6c,'$btnOpen':_0x2a99e8,'$btnToggleSummaryHidden':_0x451989,'$wrpMiniPills':_0xfc1eb8,'namespace':_0x410d97(0xf5)}),this['_data'][_0x410d97(0xc6)][_0x410d97(0xe7)](_0x21d5d4=>this['_pageFilterSpells'][_0x410d97(0x117)](_0x21d5d4)),this[_0x410d97(0x10e)][_0x410d97(0xf3)](),this[_0x410d97(0x9b)]=this['_filterBoxSpells'][_0x410d97(0x80)](),UiUtil[_0x410d97(0xd2)]({'$ipt':_0x5cc47c,'fnKeyup':()=>{const _0x4d2da6=_0x410d97,_0x5d5c8d=List['getCleanSearchTerm'](_0x5cc47c[_0x4d2da6(0x127)]());if(this[_0x4d2da6(0xf0)]===_0x5d5c8d)return;this[_0x4d2da6(0xf0)]=_0x5d5c8d,this[_0x4d2da6(0xfc)][_0x4d2da6(0x87)](Boolean)[_0x4d2da6(0xe7)](_0xfadbad=>_0xfadbad[_0x4d2da6(0xa9)](_0x5d5c8d));}}),this[_0x410d97(0x10e)]['on'](FilterBox['EVNT_VALCHANGE'],this[_0x410d97(0xe6)][_0x410d97(0xeb)](this));}['_spell_handleFilterChange'](){const _0x30fbde=_0x54d114,_0x19d949=this[_0x30fbde(0x10e)][_0x30fbde(0x80)]();this[_0x30fbde(0xfc)][_0x30fbde(0x87)](Boolean)[_0x30fbde(0xe7)](_0x2e3ea1=>_0x2e3ea1['handleFilterChange'](_0x19d949));}[_0x54d114(0x82)](_0x447f4f,_0xc2a68d){const _0xfe3b7f=_0x54d114;if(!_0x447f4f||_0xc2a68d==null)return null;let _0x36d446=_0x447f4f[_0xfe3b7f(0x111)];if(BrewUtil[_0xfe3b7f(0xdd)](_0x447f4f[_0xfe3b7f(0x11a)]))_0x36d446=_0x36d446||this[_0xfe3b7f(0xe3)]['_spell_getApproximateCantripProgression'](_0x447f4f);if(!_0x36d446)return null;return _0x36d446[_0xc2a68d-0x1];}[_0x54d114(0x124)](_0x398f86,_0xa58a22){const _0x210c78=_0x54d114;if(!_0x398f86||_0xa58a22==null)return null;let _0x1dcb21=_0x398f86['spellsKnownProgression'];if(BrewUtil[_0x210c78(0xdd)](_0x398f86['source']))_0x1dcb21=_0x1dcb21||this[_0x210c78(0xe3)]['_spell_getApproximateSpellsKnownProgression'](_0x398f86);if(!_0x1dcb21)return null;return _0x1dcb21[_0xa58a22-0x1];}static['_spell_getApproximateCantripProgression'](_0x520230){const _0x19725f=_0x54d114;return this['_spell_getApproximateNumberCol'](_0x520230,_0x19725f(0x114));}static[_0x54d114(0xcf)](_0x2b3209){const _0x5e701a=_0x54d114;return this[_0x5e701a(0xb2)](_0x2b3209,_0x5e701a(0xaa));}static[_0x54d114(0xb2)](_0x288dc5,_0x26d56c){const _0x6cce4c=_0x54d114,_0x399e02=_0x288dc5['classTableGroups']||_0x288dc5[_0x6cce4c(0x77)];if(!_0x399e02)return;for(const _0x4f574d of _0x399e02){const _0xaa1d0b=(_0x4f574d['colLabels']||[])[_0x6cce4c(0x8b)](_0x29165a=>(''+_0x29165a)['toLowerCase']()[_0x6cce4c(0xa0)](_0x26d56c));if(!~_0xaa1d0b)continue;const _0x1fc49c=(_0x4f574d[_0x6cce4c(0xdf)]||[])[_0x6cce4c(0x119)](_0x237c3c=>_0x237c3c[_0x6cce4c(0x87)]((_0x327c62,_0x5cbcc6)=>_0x5cbcc6===_0xaa1d0b))[_0x6cce4c(0xa7)]();if(_0x1fc49c[_0x6cce4c(0xbe)](_0x5b322d=>!isNaN(_0x5b322d)))return _0x1fc49c[_0x6cce4c(0x119)](_0x2da44e=>Number(_0x2da44e));}}[_0x54d114(0x129)](_0x272865,_0x3f303e){const _0x5347bd=_0x54d114;if(_0x3f303e==null)return null;const {propIxClass:_0x155395}=ActorCharactermancerBaseComponent[_0x5347bd(0x10b)](_0x272865),_0xb23b8c=this['_data'][_0x5347bd(0xd4)][this[_0x5347bd(0xf2)][_0x5347bd(0xca)][_0x5347bd(0x8d)][_0x155395]];if(!_0xb23b8c[_0x5347bd(0x78)]||!UtilActors[_0x5347bd(0x108)][_0xb23b8c['casterProgression']])return null;const _0x59b09a=[...new Array(0x9)][_0x5347bd(0x119)](()=>0x0);let _0x5d64c0=![];if(this[_0x5347bd(0x11e)][_0x272865]){const _0x5b44e8=this[_0x5347bd(0x11e)][_0x272865][_0x5347bd(0x73)]();_0x5d64c0=_0x5d64c0||_0x5b44e8?.['isAnyData'];if(_0x5b44e8?.[_0x5347bd(0xe0)])_0x5b44e8[_0x5347bd(0xe0)][_0x5347bd(0xe7)]((_0x3842a8,_0x1dcae4)=>_0x59b09a[_0x1dcae4]+=_0x3842a8);}_0xb23b8c['spellsKnownProgressionFixedByLevel']&&(_0x5d64c0=!![],Object['entries'](_0xb23b8c[_0x5347bd(0xef)])[_0x5347bd(0xe7)](([_0x336a07,_0x29658f])=>{const _0x35593c=_0x5347bd;if(Number(_0x336a07)>_0x3f303e)return;Object[_0x35593c(0xc4)](_0x29658f)['forEach'](([_0x380c1a,_0x5c91b8])=>{_0x380c1a=Number(_0x380c1a),_0x59b09a[_0x380c1a-0x1]+=_0x5c91b8;});}));if(!_0x5d64c0)return null;return _0x59b09a;}[_0x54d114(0xa2)](_0x5f4f70,_0x54d7ad){const _0x58b9dd=_0x54d114;if(!_0x5f4f70||_0x54d7ad==null)return null;if(!_0x5f4f70['casterProgression']||!UtilActors['CASTER_TYPE_TO_PROGRESSION'][_0x5f4f70[_0x58b9dd(0x78)]])return null;const _0x43a516=UtilActors[_0x58b9dd(0x108)][_0x5f4f70[_0x58b9dd(0x78)]][_0x54d7ad-0x1];if(!_0x43a516)return null;if(!_0x43a516[_0x58b9dd(0xb9)](Boolean))return null;let _0x5d9b57=_0x5f4f70[_0x58b9dd(0xa3)];BrewUtil[_0x58b9dd(0xdd)](_0x5f4f70['source'])&&(_0x5d9b57=_0x5d9b57||this[_0x58b9dd(0xe3)]['_spell_getApproximatePreparedFormula'](_0x5f4f70));if(!_0x5d9b57)return null;const _0x5e3991=this[_0x58b9dd(0xf2)]['compAbility'][_0x58b9dd(0xfa)](),_0x8da463=_0x5d9b57[_0x58b9dd(0x79)](/<\$([^$]+)\$>/g,(..._0xf5d04d)=>{const _0x5bcd6a=_0x58b9dd;switch(_0xf5d04d[0x1]){case _0x5bcd6a(0xfd):return _0x54d7ad;case _0x5bcd6a(0x109):return Parser['getAbilityModNumber'](_0x5e3991?.[_0x5bcd6a(0x9e)]?.[_0x5e3991[_0x5bcd6a(0x98)]]?.[_0x5bcd6a(0xd7)]||0x0);case _0x5bcd6a(0xac):return Parser[_0x5bcd6a(0x89)](_0x5e3991?.[_0x5bcd6a(0x9e)]?.[_0x5e3991['mode']]?.['dex']||0x0);case _0x5bcd6a(0xfe):return Parser['getAbilityModNumber'](_0x5e3991?.[_0x5bcd6a(0x9e)]?.[_0x5e3991[_0x5bcd6a(0x98)]]?.[_0x5bcd6a(0xf8)]||0x0);case _0x5bcd6a(0xd9):return Parser[_0x5bcd6a(0x89)](_0x5e3991?.['totals']?.[_0x5e3991[_0x5bcd6a(0x98)]]?.['int']||0x0);case _0x5bcd6a(0x72):return Parser['getAbilityModNumber'](_0x5e3991?.['totals']?.[_0x5e3991['mode']]?.[_0x5bcd6a(0x75)]||0x0);case _0x5bcd6a(0xcb):return Parser[_0x5bcd6a(0x89)](_0x5e3991?.[_0x5bcd6a(0x9e)]?.[_0x5e3991[_0x5bcd6a(0x98)]]?.[_0x5bcd6a(0xff)]||0x0);default:throw new Error(_0x5bcd6a(0x102)+_0xf5d04d[0x1]+'\x22');}}),_0x442b44=eval(_0x8da463);if(isNaN(_0x442b44))return console['warn'](...LGT,_0x58b9dd(0xd1)+_0x8da463+'\x22\x20(originally\x20\x22'+_0x5d9b57+'\x22)\x20as\x20a\x20number!'),null;return Math['max'](0x1,Math['floor'](_0x442b44));}static['_spell_getApproximatePreparedFormula'](_0x5ea20b){const _0x533b10=_0x54d114;if(!_0x5ea20b[_0x533b10(0x78)]||!_0x5ea20b['classTableGroups']||_0x5ea20b[_0x533b10(0x78)]===_0x533b10(0x125))return null;const _0x4520cb=_0x5ea20b[_0x533b10(0x7f)][_0x533b10(0x119)](_0x18e934=>_0x18e934[_0x533b10(0xdc)]||[])[_0x533b10(0xa7)]()[_0x533b10(0x119)](_0x28451c=>Renderer[_0x533b10(0xc3)]((''+_0x28451c)[_0x533b10(0x118)]()))['some'](_0x1d742e=>{const _0x461bd4=_0x533b10,_0x2fc97b=_0x1d742e[_0x461bd4(0x126)]()[_0x461bd4(0xf9)](/[^a-z0-9]/g)['map'](_0x470134=>_0x470134[_0x461bd4(0x118)]())[_0x461bd4(0x87)](Boolean);return _0x2fc97b[_0x461bd4(0xb9)](_0xb87b6a=>_0xb87b6a===_0x461bd4(0xc6)||_0xb87b6a===_0x461bd4(0xb6))&&_0x2fc97b[_0x461bd4(0xb9)](_0x1be9d9=>_0x1be9d9==='known');});if(_0x4520cb)return null;return _0x533b10(0xc7)+(_0x5ea20b[_0x533b10(0x78)]!==_0x533b10(0xbc)?'/\x202\x20':'')+'+\x20'+(_0x5ea20b['spellcastingAbility']?'<$'+_0x5ea20b[_0x533b10(0x113)]+'_mod$>':'5');}[_0x54d114(0xbd)](_0x2a1cd9,_0x464369,_0x2dabd5){const _0x13f28f=_0x54d114,{propIxClass:_0x195857,propIxSubclass:_0x2a5788,propTargetLevel:_0x13a5a8}=ActorCharactermancerBaseComponent[_0x13f28f(0x10b)](_0x2dabd5),_0x3157e0=$(_0x13f28f(0x83)),_0x2f76a7=$$`<div class="mb-1 ve-muted ve-small manc-sp__disp-prepared flex-v-center"></div>`,_0x1f1aa4=$$`<div class="mb-1 flex-col"></div>`,_0x1ab970=$$`<div class="flex-col"></div>`,_0x43c308=$$`<div class="flex-col"></div>`[_0x13f28f(0x91)](),_0x4c43b7=$(_0x13f28f(0x120))[_0x13f28f(0xd8)](()=>{const _0x4bfdca=_0x13f28f;_0x4c43b7['text'](_0x4c43b7[_0x4bfdca(0xee)]()===_0x4bfdca(0xe2)?'[‒]':_0x4bfdca(0xe2)),_0x1f1aa4[_0x4bfdca(0xa6)](),_0x5d478c['toggleVe']();}),_0x5d478c=$$`<div class="flex-col w-100">
			${_0x1ab970}
			${_0x43c308}
		</div>`,_0x1795f8=$$`<div class="flex-col mb-2">
			<div class="split-v-center">
				${_0x3157e0}
				${_0x4c43b7}
			</div>
			${_0x2f76a7}
			${_0x1f1aa4}

			${_0x5d478c}
		</div>`[_0x13f28f(0xd3)](_0x2a1cd9),_0x2cc734=this['_hk_onChangeClass'][_0x13f28f(0xeb)](this,_0x2dabd5,{'$stgClassSpells':_0x1ab970,'$dispClassName':_0x3157e0,'$stgSubclassAdditionalSpells':_0x43c308,'$wrpLeftInner':_0x1795f8,'$dispSpell':_0x464369,'$wrpSlotLevelSelect':_0x1f1aa4,'$wrpPreparedLearned':_0x2f76a7}),_0x4c4b57=this[_0x13f28f(0xe8)][_0x13f28f(0xeb)](this,_0x2dabd5,{'$dispClassName':_0x3157e0,'$stgSubclassAdditionalSpells':_0x43c308,'$wrpLeftInner':_0x1795f8}),_0xc98f53=this[_0x13f28f(0xad)][_0x13f28f(0xeb)](this,_0x2dabd5,{'$wrpLeftInner':_0x1795f8}),_0x16a883=this[_0x13f28f(0xb7)][_0x13f28f(0xeb)](this,_0x2dabd5);this[_0x13f28f(0xf2)]['compClass']['addHookBase'](_0x195857,_0x2cc734),this[_0x13f28f(0xf2)]['compClass'][_0x13f28f(0x92)](_0x2a5788,_0x4c4b57),this[_0x13f28f(0xf2)][_0x13f28f(0xca)]['addHookBase'](_0x13a5a8,_0xc98f53),this[_0x13f28f(0xf2)][_0x13f28f(0x115)][_0x13f28f(0xa5)](_0x16a883),_0x2cc734();}[_0x54d114(0x9f)](_0x316432){const _0xb176ab=_0x54d114,_0x1dc257=$$`<div class="flex-col"></div>`[_0xb176ab(0x91)](),_0x59c517=()=>{const _0x2b315a=_0xb176ab,_0x3b926e=ActorCharactermancerBaseComponent['_CUR_LEVEL'],_0x1566bd=this['_parent'][_0x2b315a(0xca)][_0x2b315a(0x8d)][_0x2b315a(0x11b)];this[_0x2b315a(0xc9)]&&(this[_0x2b315a(0xc9)]['currentLevel']=_0x3b926e,this['_compSpellAdditionalSpellRace'][_0x2b315a(0x101)]=Math[_0x2b315a(0xd5)](0x1,_0x1566bd),this[_0x2b315a(0xc9)][_0x2b315a(0xc0)]=ActorCharactermancerBaseComponent[_0x2b315a(0xbb)],this['_compSpellAdditionalSpellRace'][_0x2b315a(0xba)]=this[_0x2b315a(0xf2)][_0x2b315a(0xca)][_0x2b315a(0x7c)]());};this[_0xb176ab(0xf2)][_0xb176ab(0xca)][_0xb176ab(0x92)]('class_totalLevels',_0x59c517),this['_parent']['compClass']['addHookBase']('class_pulseChange',_0x59c517);const _0x5f23e4=()=>{const _0x7865ed=_0xb176ab;_0x1dc257[_0x7865ed(0xe9)]();const _0xa6cd15=this[_0x7865ed(0x7a)][_0x7865ed(0xf1)][this['_parent'][_0x7865ed(0x7e)][_0x7865ed(0x8d)][_0x7865ed(0x10c)]];let _0x3e55dd=![];if(_0xa6cd15&&_0xa6cd15[_0x7865ed(0xe1)]){_0x3e55dd=!![],_0x1dc257[_0x7865ed(0x74)](),this[_0x7865ed(0xc9)]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x7865ed(0x7a)][_0x7865ed(0xc6)],'additionalSpells':_0xa6cd15[_0x7865ed(0xe1)],'modalFilterSpells':this[_0x7865ed(0xe4)]}),this['_compSpellAdditionalSpellRace'][_0x7865ed(0xf3)](_0x1dc257);const _0x4d515e=()=>{const _0x282629=_0x7865ed;this[_0x282629(0xfc)][_0x282629(0x87)](Boolean)[_0x282629(0xe7)](_0x3db752=>_0x3db752[_0x282629(0xe5)]=MiscUtil[_0x282629(0xb3)](this[_0x282629(0xc9)]['spellsExpanded']));};this['_compSpellAdditionalSpellRace'][_0x7865ed(0x7d)](_0x4d515e),_0x4d515e();}else _0x1dc257[_0x7865ed(0x91)](),this[_0x7865ed(0xc9)]=null,this[_0x7865ed(0xfc)][_0x7865ed(0x87)](Boolean)['forEach'](_0xbcc00f=>_0xbcc00f[_0x7865ed(0xe5)]=[]);_0xa6cd15&&_0x3e55dd?(_0x265d13[_0x7865ed(0x74)](),_0x1a768a[_0x7865ed(0xee)](_0xa6cd15['name'])):_0x265d13[_0x7865ed(0x91)](),_0x59c517();};this[_0xb176ab(0xf2)]['compRace'][_0xb176ab(0x92)](_0xb176ab(0x10c),_0x5f23e4);const _0x1a768a=$(_0xb176ab(0x83)),_0x37ff74=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0xb176ab(0xd8)](()=>{const _0x43462a=_0xb176ab;_0x37ff74[_0x43462a(0xee)](_0x37ff74[_0x43462a(0xee)]()===_0x43462a(0xe2)?_0x43462a(0x104):_0x43462a(0xe2)),_0x33d0bf['toggleVe']();}),_0x33d0bf=$$`<div class="flex-col w-100">
			${_0x1dc257}
		</div>`,_0x265d13=$$`<div class="flex-col w-100 mb-2">
			<div class="split-v-center">
				${_0x1a768a}
				${_0x37ff74}
			</div>

			${_0x33d0bf}
		</div>`[_0xb176ab(0x91)]()[_0xb176ab(0xd3)](_0x316432);_0x5f23e4();}['_hk_onChangeClass'](_0x4698e4,{$stgClassSpells:_0x1dfe6d,$dispClassName:_0x5f4f08,$stgSubclassAdditionalSpells:_0x34d863,$wrpLeftInner:_0x4c6cdb,$dispSpell:_0x18f9f6,$wrpSlotLevelSelect:_0x2e0ca3,$wrpPreparedLearned:_0x3e3147}){const _0x5c913b=_0x54d114,{propIxClass:_0x3b49c0,propIxSubclass:_0x2dd9a8,propTargetLevel:_0x508291}=ActorCharactermancerBaseComponent[_0x5c913b(0x10b)](_0x4698e4),_0x4729af=this[_0x5c913b(0x7a)][_0x5c913b(0xd4)][this['_parent'][_0x5c913b(0xca)][_0x5c913b(0x8d)][_0x3b49c0]],_0xef6d4d=_0x4729af?.[_0x5c913b(0xb4)]?.[this[_0x5c913b(0xf2)][_0x5c913b(0xca)][_0x5c913b(0x8d)][_0x2dd9a8]];_0x1dfe6d[_0x5c913b(0xe9)]();if(!_0x4729af||!this[_0x5c913b(0xe3)][_0x5c913b(0x8e)](_0x4729af,_0xef6d4d)){_0x4c6cdb[_0x5c913b(0x91)](),this[_0x5c913b(0xfc)][_0x4698e4]=null,this[_0x5c913b(0x11e)][_0x4698e4]=null;return;}this['_compsSpellSpells'][_0x4698e4]=new Charactermancer_Spell({'spellDatas':this[_0x5c913b(0x7a)][_0x5c913b(0xc6)],'className':_0x4729af[_0x5c913b(0xed)],'classSource':_0x4729af[_0x5c913b(0x11a)],'pageFilter':this[_0x5c913b(0x10d)],'$wrpPreparedLearned':_0x3e3147}),this[_0x5c913b(0x11e)][_0x4698e4]=new Charactermancer_Spell_SlotLevelSelect();const _0x4b8706=()=>{const _0x102f30=_0x5c913b,_0x3f42fd=this[_0x102f30(0xf2)][_0x102f30(0xca)][_0x102f30(0x8d)][_0x508291];if(this['_compsSpellSpells'][_0x4698e4])this['_compsSpellSpells'][_0x4698e4][_0x102f30(0x96)]=this['_spell_getFixedLearnedProgression'](_0x4698e4,_0x3f42fd);};this[_0x5c913b(0x11e)][_0x4698e4][_0x5c913b(0x112)](_0x4b8706),this[_0x5c913b(0xe8)](_0x4698e4,{'$dispClassName':_0x5f4f08,'$stgSubclassAdditionalSpells':_0x34d863,'$wrpLeftInner':_0x4c6cdb}),this['_compsSpellSpells'][_0x4698e4][_0x5c913b(0xf3)](_0x1dfe6d,_0x18f9f6),this[_0x5c913b(0x11e)][_0x4698e4][_0x5c913b(0xf3)](_0x2e0ca3);const _0x58be38=this[_0x5c913b(0x10e)][_0x5c913b(0x80)]();this[_0x5c913b(0xfc)][_0x4698e4]['handleFilterChange'](_0x58be38);if(this[_0x5c913b(0xc9)])this[_0x5c913b(0xfc)][_0x4698e4][_0x5c913b(0xe5)]=MiscUtil[_0x5c913b(0xb3)](this[_0x5c913b(0xc9)][_0x5c913b(0xf7)]);}[_0x54d114(0xb7)](_0x4fcf27){const _0xa18caf=_0x54d114,{propIxClass:_0x3d6637,propTargetLevel:_0xd50caa}=ActorCharactermancerBaseComponent['class_getProps'](_0x4fcf27),_0x2abc3e=this[_0xa18caf(0x7a)][_0xa18caf(0xd4)][this[_0xa18caf(0xf2)][_0xa18caf(0xca)][_0xa18caf(0x8d)][_0x3d6637]],_0x4aa81d=this[_0xa18caf(0xf2)][_0xa18caf(0xca)][_0xa18caf(0x8d)][_0xd50caa];if(this['_compsSpellSpells'][_0x4fcf27])this['_compsSpellSpells'][_0x4fcf27][_0xa18caf(0xa4)]=this[_0xa18caf(0xa2)](_0x2abc3e,_0x4aa81d);}[_0x54d114(0xe8)](_0x2166a4,{$dispClassName:_0x398813,$stgSubclassAdditionalSpells:_0x26d8ea,$wrpLeftInner:_0x4f7666}){const _0x3e7173=_0x54d114,{propIxClass:_0x18836b,propIxSubclass:_0x1a3673}=ActorCharactermancerBaseComponent[_0x3e7173(0x10b)](_0x2166a4),_0x356b5b=this[_0x3e7173(0x7a)][_0x3e7173(0xd4)][this['_parent'][_0x3e7173(0xca)][_0x3e7173(0x8d)][_0x18836b]],_0x45f81f=_0x356b5b?.[_0x3e7173(0xb4)]?.[this[_0x3e7173(0xf2)][_0x3e7173(0xca)][_0x3e7173(0x8d)][_0x1a3673]];_0x398813['text'](_0x356b5b?''+_0x356b5b['name']+(_0x45f81f?'\x20('+_0x45f81f[_0x3e7173(0xed)]+')':''):''),_0x26d8ea[_0x3e7173(0xe9)]();if(_0x45f81f&&_0x45f81f[_0x3e7173(0xe1)]){_0x26d8ea[_0x3e7173(0x74)]()[_0x3e7173(0x95)](_0x3e7173(0x8a)+_0x45f81f[_0x3e7173(0xed)]+_0x3e7173(0x94)),this[_0x3e7173(0xaf)][_0x2166a4]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x3e7173(0x7a)][_0x3e7173(0xc6)],'additionalSpells':_0x45f81f[_0x3e7173(0xe1)],'modalFilterSpells':this[_0x3e7173(0xe4)]}),this[_0x3e7173(0xaf)][_0x2166a4][_0x3e7173(0xf3)](_0x26d8ea);const _0x3a91ed=()=>{const _0x12f2d3=_0x3e7173;if(this[_0x12f2d3(0xfc)][_0x2166a4])this[_0x12f2d3(0xfc)][_0x2166a4]['expandedSpellsSubclass']=MiscUtil[_0x12f2d3(0xb3)](this[_0x12f2d3(0xaf)][_0x2166a4][_0x12f2d3(0xf7)]);};this[_0x3e7173(0xaf)][_0x2166a4][_0x3e7173(0x7d)](_0x3a91ed);}else _0x26d8ea['hideVe'](),this[_0x3e7173(0xaf)][_0x2166a4]=null;this['_hk_onChangeLevel'](_0x2166a4,{'$wrpLeftInner':_0x4f7666});if(this[_0x3e7173(0xfc)][_0x2166a4])this['_compsSpellSpells'][_0x2166a4][_0x3e7173(0x78)]=_0x45f81f?.[_0x3e7173(0x78)]||_0x356b5b?.[_0x3e7173(0x78)];if(this[_0x3e7173(0x11e)][_0x2166a4])this['_compsSpellSpellSlotLevelSelect'][_0x2166a4][_0x3e7173(0x78)]=_0x45f81f?.[_0x3e7173(0x78)]||_0x356b5b?.[_0x3e7173(0x78)];if(this[_0x3e7173(0xfc)][_0x2166a4]&&this[_0x3e7173(0xaf)][_0x2166a4])this[_0x3e7173(0xfc)][_0x2166a4]['expandedSpellsSubclass']=MiscUtil[_0x3e7173(0xb3)](this[_0x3e7173(0xaf)][_0x2166a4][_0x3e7173(0xf7)]);else{if(this[_0x3e7173(0xfc)][_0x2166a4])this[_0x3e7173(0xfc)][_0x2166a4][_0x3e7173(0x97)]=[];}}[_0x54d114(0xad)](_0x582c89,{$wrpLeftInner:_0x2de6c5}){const _0x3a3865=_0x54d114,{propIxClass:_0x285239,propIxSubclass:_0x2daace,propTargetLevel:_0x43a15e}=ActorCharactermancerBaseComponent['class_getProps'](_0x582c89),_0x565cb7=this[_0x3a3865(0x7a)][_0x3a3865(0xd4)][this[_0x3a3865(0xf2)][_0x3a3865(0xca)][_0x3a3865(0x8d)][_0x285239]],_0x23df2a=_0x565cb7?.[_0x3a3865(0xb4)]?.[this[_0x3a3865(0xf2)][_0x3a3865(0xca)][_0x3a3865(0x8d)][_0x2daace]],_0xcb2ccd=ActorCharactermancerBaseComponent[_0x3a3865(0x8f)],_0x1e3e98=this[_0x3a3865(0xf2)][_0x3a3865(0xca)][_0x3a3865(0x8d)][_0x43a15e],_0x1320a4=Charactermancer_Class_Util['getCasterProgressionMeta']({'casterProgression':_0x565cb7?.['casterProgression'],'curLevel':_0xcb2ccd,'targetLevel':_0x1e3e98}),_0x50c12d=Charactermancer_Class_Util['getCasterProgressionMeta']({'casterProgression':_0x23df2a?.[_0x3a3865(0x78)]||_0x565cb7?.['casterProgression'],'curLevel':_0xcb2ccd,'targetLevel':_0x1e3e98});if(this['_compsSpellSpells'][_0x582c89]){if(_0x1320a4){const {spellLevelLow:_0x2a1a71,spellLevelHigh:_0xf47553}=_0x1320a4;this[_0x3a3865(0xfc)][_0x582c89][_0x3a3865(0xc0)]=_0x2a1a71,this[_0x3a3865(0xfc)][_0x582c89][_0x3a3865(0xba)]=_0xf47553;}else this[_0x3a3865(0xfc)][_0x582c89][_0x3a3865(0xc0)]=null,this[_0x3a3865(0xfc)][_0x582c89]['spellLevelHigh']=null;this['_compsSpellSpells'][_0x582c89][_0x3a3865(0x121)]=this['_spell_getMaxLearnedCantrips'](_0x565cb7,_0x1e3e98),this[_0x3a3865(0xfc)][_0x582c89][_0x3a3865(0x93)]=this[_0x3a3865(0x124)](_0x565cb7,_0x1e3e98),this[_0x3a3865(0xfc)][_0x582c89][_0x3a3865(0x96)]=this['_spell_getFixedLearnedProgression'](_0x582c89,_0x1e3e98);}this[_0x3a3865(0xb7)](_0x582c89);this['_compsSpellSpellSlotLevelSelect'][_0x582c89]&&(this[_0x3a3865(0x11e)][_0x582c89]['currentLevel']=_0xcb2ccd,this['_compsSpellSpellSlotLevelSelect'][_0x582c89]['targetLevel']=_0x1e3e98,this[_0x3a3865(0x11e)][_0x582c89][_0x3a3865(0x116)]=_0x565cb7?.[_0x3a3865(0x116)],this['_compsSpellSpellSlotLevelSelect'][_0x582c89][_0x3a3865(0x78)]=_0x565cb7?.[_0x3a3865(0x78)],this[_0x3a3865(0x11e)][_0x582c89][_0x3a3865(0x86)]=_0x565cb7?.[_0x3a3865(0x86)],this[_0x3a3865(0x11e)][_0x582c89]['spellsKnownProgressionFixedAllowLowerLevel']=_0x565cb7?.[_0x3a3865(0xf6)]);if(this[_0x3a3865(0xaf)][_0x582c89]){this['_compsSpellAdditionalSpellSubclass'][_0x582c89][_0x3a3865(0xae)]=_0xcb2ccd,this[_0x3a3865(0xaf)][_0x582c89]['targetLevel']=_0x1e3e98;if(_0x50c12d){const {spellLevelLow:_0xe3bc31,spellLevelHigh:_0x3f2731}=_0x50c12d;this[_0x3a3865(0xaf)][_0x582c89][_0x3a3865(0xc0)]=_0xe3bc31,this[_0x3a3865(0xaf)][_0x582c89][_0x3a3865(0xba)]=_0x3f2731;}else this['_compsSpellAdditionalSpellSubclass'][_0x582c89][_0x3a3865(0xc0)]=null,this[_0x3a3865(0xaf)][_0x582c89]['spellLevelHigh']=null;}if(_0x565cb7){const _0x1e2811=this[_0x3a3865(0xe3)]['_spell_isCasterClassAtLevel'](_0x565cb7,_0x23df2a,_0x1e3e98);_0x2de6c5[_0x3a3865(0xa6)](_0x1e2811);}}static[_0x54d114(0x8e)](_0x5b61b4,_0x102084){const _0x5481cd=_0x54d114;return _0x5b61b4?.[_0x5481cd(0x78)]||_0x102084?.[_0x5481cd(0x78)]||_0x5b61b4?.['additionalSpells']||_0x102084?.[_0x5481cd(0xe1)];}static['_spell_isCasterClassAtLevel'](_0x1a7a70,_0x3b550d,_0x5dd2d1){const _0x4eb6b6=_0x54d114;if(!this[_0x4eb6b6(0x8e)](_0x1a7a70,_0x3b550d))return![];if(_0x5dd2d1==null)return![];const {spellProgression:_0x154c61}=Charactermancer_Class_Util['getCasterProgression'](_0x1a7a70,_0x3b550d,{'targetLevel':_0x5dd2d1}),_0x533e74=UtilActors['CASTER_TYPE_TO_PROGRESSION'][_0x154c61];if((_0x533e74?.[_0x5dd2d1-0x1]||[])[_0x4eb6b6(0xb9)](Boolean))return!![];if(this[_0x4eb6b6(0xab)](_0x1a7a70?.[_0x4eb6b6(0xe1)],_0x5dd2d1))return!![];if(this[_0x4eb6b6(0xab)](_0x3b550d?.[_0x4eb6b6(0xe1)],_0x5dd2d1))return!![];return![];}static[_0x54d114(0xab)](_0x215cf9,_0x136a2d){const _0x20f024=_0x54d114;if(!_0x215cf9)return![];if(_0x136a2d==null)return![];return _0x215cf9[_0x20f024(0xb9)](_0x42b85a=>this[_0x20f024(0xea)](_0x42b85a,_0x136a2d));}static['_spell_isCasterClassAtLevel_additionalSpellsBlock'](_0xd9c56b,_0x181b7e){const _0x33a8ec=_0x54d114,_0x17d218=Object[_0x33a8ec(0x9d)](_0xd9c56b);for(const _0x30c7df of _0x17d218){switch(_0x30c7df){case _0x33a8ec(0xb8):case _0x33a8ec(0x103):case _0x33a8ec(0x99):{const _0x59db92=Object[_0x33a8ec(0x9d)](_0xd9c56b[_0x30c7df]||{})[_0x33a8ec(0xb9)](_0x169083=>{const _0x5bc64c=_0x33a8ec,_0x3fb854=/^s(\d+)$/i[_0x5bc64c(0x106)](_0x169083);if(_0x3fb854)return![];if(isNaN(_0x169083))return![];return Number(_0x169083)<=_0x181b7e;});if(_0x59db92)return!![];}}}return![];}}export{ActorCharactermancerSpell};