const _0x56ba=['some','getNameWithSourcePart','has','turn','setFirstSection','13009rEqYSw','SYM_UI_SKIP','cacheId','mwak','test','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','mar','SRD_COMPENDIUMS_SPELLS','sideData',')\x5c))?','sort','sourceJsonToAbv','raceFeature','_pGetCacheAndGetCompendiumData_getCompendiums','add','other','instead','723530RcoLWE','isCancelled','index','\x20([^}]+)}','import','_pHandleConfigUpdate_pFlushCompendiumImageCaches','martial\x20weapons','\x20pg.\x20','mode','unitShort','feat','pGetCompendiumImage','pGetUserInput','canHover','number','resources.primary.value','toolProf','_displayName','mystery-man.svg','diseased','_pMutActorUpdate_pMutFromEntries','ITEM_TYPES_ACTOR_WEAPONS','imgCompendiumFeatures','\x5cd+','_isCompendiumCached','warn','pGetIconLookup','getAttackRange','___','37900dzssRa','string','PLUT_CONTEXT','getAdventureJournals','traits','charges','SRD_COMPENDIUMS_CLASS_FEATURES','creature','none','hvy','_pMutActorUpdate_addValidSkills','modeOptions','copy','assign','getDamageTupleMetas','SRD_COMPENDIUMS_CLASSES','short\x20rest','_COMPENDIUM_CACHES','isUseOtherFormulaFieldForSaveHalvesDamage','day','_pMutActorUpdate_pMutFromSideSkillProfs','bonus','modules/','fnGetAliases','SKILL_TO_ATB_ABV','type','class','_SOURCE_PAGE_PREFIX','_pMutActorUpdate_mutFromProficiencySetCustom','_getAdventureBookJournals','TERMS_COUNT','ABIL_ABVS','contents','appendIfNotExistsArr','_doApplyFormData_doCheckAddCustomItem','armorProf','filter','_SOURCE_PAGE_PREFIX_RE','init','WALKER_READONLY_GENERIC','subclassFeature','disease','trim','msak','light','_pMutActorUpdate_mutFromSideMod_handleProp','_COMPENDIUM_ACTOR_CACHES_LOCK','isChannelDivinity','<PLUT_SYM__AT>','SYM_AT','name','importItem','custom','Removed\x20key\x20\x22','hover','SRD_COMPENDIUMS_OPTIONAL_FEATURES','weaponProf','754606GfTrfK','pFillActorImmunityData','scalar','walk','actorTokenMod','getItemSource','</div>','unit','_pMutActorUpdate_pMutFromLanguageProfs','entity','pFillActorLanguageData','getCombinedFoundryFlags','pGetCompendiumData','stripTags','importOptionalFeature','baseCacheId','_getCleanOriginalData_recurse','fnGetMappedItem','getCleanOriginalData','INS','_pMutActorUpdate_mutFromSideDataMod','getAttackActionType','PG_ITEMS','min','deepKeys','action','languages','race','importVehicle','isAddSourceToName','pCacheAndGetHash','player','med','find','flat','isSkipEntrySaveProficiencies','indexOf','SRD_COMPENDIUMS_ITEMS','abilities','toLowerCase','\x20+\x20','length','actorDataMod','_COMPENDIUM_CACHE_KEY_IMAGE','deepEquals','_pMutActorUpdate_pMutFromSkillProfs','every','entries','pFillActorSkillData','source','importRace','proficient','786489nwqFha','importCreature','actor','isSkipEntryLanguageProficiencies','_pMutActorUpdate_mutFromSideMod','simple\x20weapons','skills','SRD_COMPENDIUMS_RACES_AND_FEATURES','tuple','textToNumber','monsterFeature','getItemActorPassive','max','shl','render','get','<div\x20class=\x22w-100\x20overflow-x-hidden\x22>','pLock','isSkipEntryItemProficiencies','Unhandled\x20mode\x20\x22','toTitleCase','importBook','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','9BUFPjY','unpackUid','permission','attributes','\x20(Level\x20','rsak','isSpeedHover','{@dc\x20','collection','adventure','setMax','conditionals','forEach','getSpeedValue','_COMPENDIUM_ACTOR_IMAGE_LAST_VALUES','scalarAdd','classFeature','push','skillProficiencies','getCleanEntityName','_pGetCacheAndGetCompendiumData','getCombinedFoundryData','join','reaction','_getCachedCompendiumData','pMutActorUpdate','1bIacmh','_COMPENDIUM_ACTOR_CACHES','ordinal','fvttType','7355JuGisO','permissions','medium','unlock','size','687587NbpTKj','importAdventure','getWalker','set','getDamagePartsAndOtherFormula','_doApplyFormData','map','Shield','\x22\x20from\x20object','pFillActorResistanceData','vehicle','_COMPENDIUM_CACHE_KEY_DATA','_pMutActorUpdate_mutFromProficiencySetFoundry','getMappedTool','items','_pGetCacheAndGetActorItemCompendiumData','_pMutActorUpdate_mutFromSideTokenMod','spell','img','Unknown\x20cache\x20ID\x20\x22','keys','_pHandleConfigUpdate','bookOrdinalToAbv','_COMPENDIUM_IMAGE_LAST_VALUES','condition','isAddPermission','ascSortLower','getMappedLanguage','SKILL_ABV_TO_FULL','data','exec','item','scalarAddUnit','object','save','monster','SRD_COMPENDIUMS_CREATURES','imgCompendium','heavy\x20armor','16zdpNPo','_COMPENDIUM_CACHES_LOCK','getOrSet','includes','ITEM_TYPES_ACTOR_TOOLS','getSourceWithPagePart','tokens','stringify','URL_TO_HASH_BUILDER','page','split','slice','actorTraitProp','_pCacheCompendium','importClass','getTagUids','count','importSpell','shields','depth','prop','value','getEntryDescription','pGetIconImage','replace','isOnFailSavingThrow','srd','_pCacheActorItemCompendium','1YDpUsf','level','SRD_COMPENDIUMS_CREATURE_FEATURES','skill','ITEM_TYPES_ACTOR_ARMOR','packs'];const _0x546b=function(_0x39cbe0,_0x15c611){_0x39cbe0=_0x39cbe0-0x160;let _0x56ba93=_0x56ba[_0x39cbe0];return _0x56ba93;};const _0xf8e2d4=_0x546b;(function(_0x323d6e,_0x4caeea){const _0x17775e=_0x546b;while(!![]){try{const _0x1bca8e=parseInt(_0x17775e(0x21b))*parseInt(_0x17775e(0x1c6))+-parseInt(_0x17775e(0x1fe))+-parseInt(_0x17775e(0x165))+-parseInt(_0x17775e(0x1ed))+parseInt(_0x17775e(0x19a))*-parseInt(_0x17775e(0x17c))+-parseInt(_0x17775e(0x19f))*-parseInt(_0x17775e(0x196))+parseInt(_0x17775e(0x1e2))*parseInt(_0x17775e(0x254));if(_0x1bca8e===_0x4caeea)break;else _0x323d6e['push'](_0x323d6e['shift']());}catch(_0x31c039){_0x323d6e['push'](_0x323d6e['shift']());}}}(_0x56ba,0x7026a));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillSelect,Charactermancer_LanguageSelect,Charactermancer_ToolSelect}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';import{LGT}from'./Util.js';import{Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect}from'./UtilCharactermancerRace.js';class DataConverter{static[_0xf8e2d4(0x241)](){const _0x59db07=_0xf8e2d4;Hooks['on']('plutonium.configUpdate',()=>this['_pHandleConfigUpdate']()),this[_0x59db07(0x1b4)]();}static async['_pHandleConfigUpdate'](){const _0x15ef72=_0xf8e2d4;await this[_0x15ef72(0x203)]();}static async[_0xf8e2d4(0x203)](){const _0x39f9ad=_0xf8e2d4,_0x3c3623=[[_0x39f9ad(0x166),_0x39f9ad(0x1c4)],[_0x39f9ad(0x270),'imgCompendium'],[_0x39f9ad(0x1d4),_0x39f9ad(0x1c4)],['importClass',_0x39f9ad(0x214)],[_0x39f9ad(0x24e),_0x39f9ad(0x1c4)],[_0x39f9ad(0x1d7),_0x39f9ad(0x1c4)],[_0x39f9ad(0x163),_0x39f9ad(0x214)],[_0x39f9ad(0x262),'imgCompendium']];await DataConverter['_COMPENDIUM_CACHES_LOCK'][_0x39f9ad(0x176)]();try{_0x3c3623[_0x39f9ad(0x188)](_0x53d0f0=>{const _0x286823=_0x39f9ad,_0xb79e6=_0x53d0f0['join'](_0x286823(0x21a)),_0x2a653c=DataConverter['_COMPENDIUM_IMAGE_LAST_VALUES'][_0xb79e6]||'',_0x50a975=Config[_0x286823(0x174)](_0x53d0f0[0x0],_0x53d0f0[0x1])||'';if(_0x2a653c['trim']()!==_0x50a975[_0x286823(0x245)]()){if(DataConverter[_0x286823(0x22c)][DataConverter[_0x286823(0x27f)]])delete DataConverter['_COMPENDIUM_CACHES'][DataConverter[_0x286823(0x27f)]][_0xb79e6];}DataConverter[_0x286823(0x1b6)][_0xb79e6]=_0x50a975;});}finally{DataConverter[_0x39f9ad(0x1c7)][_0x39f9ad(0x19d)]();}}static[_0xf8e2d4(0x1e9)](_0x5dab19,_0x58b48e){const _0x5300c2=_0xf8e2d4;return''+(_0x58b48e||Renderer['stripTags'](_0x5dab19[_0x5300c2(0x20f)]||_0x5dab19[_0x5300c2(0x24d)]||''))+(_0x5dab19['source']&&Config[_0x5300c2(0x174)](_0x5300c2(0x202),_0x5300c2(0x271))?'\x20('+Parser[_0x5300c2(0x1f8)](_0x5dab19['source'])+')':'');}static[_0xf8e2d4(0x1cb)](_0x55857e){const _0x3e32d5=_0xf8e2d4;return''+Parser['sourceJsonToAbv'](_0x55857e[_0x3e32d5(0x162)])+(Config[_0x3e32d5(0x174)](_0x3e32d5(0x202),'isAddPageNumberToSource')&&_0x55857e[_0x3e32d5(0x1cf)]?''+DataConverter[_0x3e32d5(0x236)]+_0x55857e[_0x3e32d5(0x1cf)]:'');}static[_0xf8e2d4(0x259)](_0x592854){const _0x2c21fa=_0xf8e2d4;let _0x129ded=_0x592854[_0x2c21fa(0x1bc)]||{};if(_0x129ded[_0x2c21fa(0x1bc)])_0x129ded=_0x129ded[_0x2c21fa(0x1bc)];let _0x1cc28d=_0x129ded['source'];if(_0x1cc28d instanceof Array)_0x1cc28d=_0x1cc28d[0x0];if(!_0x1cc28d)return _0x1cc28d;return _0x1cc28d[_0x2c21fa(0x1d0)](DataConverter[_0x2c21fa(0x240)])[0x0]['trim']();}static['getTagUids'](_0x238552,_0x480bd7){const _0xf1a457=_0xf8e2d4,_0x57f250=new RegExp('{@'+_0x238552+_0xf1a457(0x201),'gi'),_0x17d11c=[];return _0x480bd7[_0xf1a457(0x1de)](_0x57f250,(..._0x7292cd)=>_0x17d11c['push'](_0x7292cd[0x1])),_0x17d11c;}static async[_0xf8e2d4(0x1dd)](_0x2830b3,_0xa80356){const _0xecd5e9=_0xf8e2d4;switch(_0x2830b3){case _0xecd5e9(0x208):case _0xecd5e9(0x1b0):{const _0x200c93=await Vetools[_0xecd5e9(0x218)](_0x2830b3),_0x2ac723=MiscUtil[_0xecd5e9(0x174)](_0x200c93,_0xa80356['source'],_0xa80356[_0xecd5e9(0x24d)]);if(!_0x2ac723)return null;return _0xecd5e9(0x231)+SharedConsts['MODULE_NAME']+'/'+_0x2ac723;}default:return null;}}static[_0xf8e2d4(0x191)](_0x10fa16,_0x113e1e){const _0x5ecbcf=_0xf8e2d4;if(!_0x113e1e&&!_0x10fa16)return{};const _0x331087=MiscUtil['copy'](_0x113e1e||{});return Object[_0x5ecbcf(0x228)](_0x331087,MiscUtil['copy'](_0x10fa16||{})),_0x331087;}static[_0xf8e2d4(0x25f)](_0x55d232,_0x3dc8ed){const _0x3643b2=_0xf8e2d4;if(!_0x55d232&&!_0x3dc8ed)return{};const _0x461940=MiscUtil[_0x3643b2(0x227)](_0x3dc8ed||{});return Object[_0x3643b2(0x160)](MiscUtil['copy'](_0x55d232||{}))['forEach'](([_0x5a5065,_0x4c5186])=>{const _0x4e8a33=_0x3643b2;if(!_0x461940[_0x5a5065])return _0x461940[_0x5a5065]=_0x4c5186;Object[_0x4e8a33(0x228)](_0x461940[_0x5a5065],_0x4c5186);}),_0x461940;}static async[_0xf8e2d4(0x209)](_0xa329c0,_0x3dbe1f,_0x53f0eb){const _0x4b9900=_0xf8e2d4;return this[_0x4b9900(0x190)](DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE'],_0xa329c0,_0x3dbe1f,_0x53f0eb);}static async['_pGetCacheAndGetCompendiumData'](_0x10a1c9,_0x41dcfe,_0x523f75,_0x4b4822){const _0x28c48e=_0xf8e2d4;_0x4b4822=_0x4b4822||{};if(!_0x4b4822['isIgnoreSrd']&&!_0x523f75[_0x28c48e(0x1e0)])return null;let _0x4448c1=[];if(_0x523f75['name'])_0x4448c1[_0x28c48e(0x18d)]((typeof _0x523f75[_0x28c48e(0x1e0)]==='string'?_0x523f75[_0x28c48e(0x1e0)]:_0x523f75['name'])[_0x28c48e(0x27b)]()[_0x28c48e(0x245)]());if(_0x523f75['_displayName'])_0x4448c1[_0x28c48e(0x18d)](_0x523f75['_displayName'][_0x28c48e(0x27b)]()[_0x28c48e(0x245)]());if(_0x4b4822[_0x28c48e(0x26c)]){_0x4448c1=_0x4448c1['map'](_0x26348e=>({'name':_0x26348e}));if(_0x4b4822[_0x28c48e(0x232)]){const _0xa030e0=_0x4b4822[_0x28c48e(0x232)](_0x523f75);_0xa030e0[_0x28c48e(0x188)](_0x5600ef=>_0x5600ef[_0x28c48e(0x24d)]=_0x5600ef[_0x28c48e(0x24d)]?_0x5600ef[_0x28c48e(0x24d)][_0x28c48e(0x27b)]()[_0x28c48e(0x245)]():_0x5600ef[_0x28c48e(0x24d)]),_0x4448c1['unshift'](..._0xa030e0);}}else{if(_0x4b4822[_0x28c48e(0x232)])_0x4448c1['push'](..._0x4b4822[_0x28c48e(0x232)](_0x523f75)['map'](_0x53a787=>_0x53a787['toLowerCase']()[_0x28c48e(0x245)]()));}let _0x3bc5d5;switch(_0x10a1c9){case DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']:{switch(_0x41dcfe){case'spell':_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x174)]('importSpell',_0x28c48e(0x1c4)));break;case _0x28c48e(0x1c2):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x174)]('importCreature',_0x28c48e(0x1c4)));break;case _0x28c48e(0x1be):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config['get'](_0x28c48e(0x24e),_0x28c48e(0x1c4)));break;case _0x28c48e(0x235):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x174)]('importClass','imgCompendium'));break;case _0x28c48e(0x18c):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config['get'](_0x28c48e(0x1d4),_0x28c48e(0x214)));break;case _0x28c48e(0x243):_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x174)]('importClass',_0x28c48e(0x214)));break;case'optionalfeature':_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x174)]('importOptionalFeature',_0x28c48e(0x1c4)));break;case _0x28c48e(0x26f):_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x174)](_0x28c48e(0x163),_0x28c48e(0x1c4)));break;case _0x28c48e(0x1f9):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x174)](_0x28c48e(0x163),_0x28c48e(0x214)));break;case'monsterFeature':_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x174)](_0x28c48e(0x166),_0x28c48e(0x214)));break;default:return null;}break;}case DataConverter[_0x28c48e(0x1aa)]:{switch(_0x41dcfe){case _0x28c48e(0x1b0):_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x1f4)]);break;case _0x28c48e(0x1c2):_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x1c3)]);break;case _0x28c48e(0x1be):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x279)]);break;case _0x28c48e(0x235):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x22a)]);break;case'classFeature':_0x3bc5d5=this[_0x28c48e(0x1fa)](Config['SRD_COMPENDIUMS_CLASS_FEATURES']);break;case'subclassFeature':_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x221)]);break;case'optionalfeature':_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x252)]);break;case _0x28c48e(0x26f):_0x3bc5d5=this[_0x28c48e(0x1fa)](Config[_0x28c48e(0x16c)]);break;case _0x28c48e(0x1f9):_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x16c)]);break;case'monsterFeature':_0x3bc5d5=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x28c48e(0x1e4)]);break;default:return null;}break;}default:throw new Error(_0x28c48e(0x1b2)+_0x10a1c9+'\x22');}if(!_0x3bc5d5['length'])return null;_0x4b4822['deepKeys']&&(_0x10a1c9={'baseCacheId':_0x10a1c9,'deepKeys':_0x4b4822[_0x28c48e(0x26c)],'cacheId':[_0x10a1c9,..._0x4b4822[_0x28c48e(0x26c)]['sort'](SortUtil[_0x28c48e(0x1b9)])][_0x28c48e(0x192)]('__')});await DataConverter['_COMPENDIUM_CACHES_LOCK']['pLock']();try{for(const _0xf06ac2 of _0x4448c1){for(const _0x54893a of _0x3bc5d5){!this['_isCompendiumCached'](DataConverter[_0x28c48e(0x22c)],_0x10a1c9,_0x54893a)&&await this[_0x28c48e(0x1d3)](DataConverter['_COMPENDIUM_CACHES'],_0x10a1c9,_0x54893a);const _0x5650df=this[_0x28c48e(0x194)](DataConverter[_0x28c48e(0x22c)],_0x10a1c9,_0x54893a,_0xf06ac2);if(_0x5650df)return _0x5650df;}}}finally{DataConverter[_0x28c48e(0x1c7)][_0x28c48e(0x19d)]();}}static[_0xf8e2d4(0x1fa)](_0x50f8ef){const _0x1de281=_0xf8e2d4;return _0x50f8ef=typeof _0x50f8ef===_0x1de281(0x21c)?_0x50f8ef[_0x1de281(0x1d0)](',')[_0x1de281(0x1a5)](_0x236546=>_0x236546[_0x1de281(0x245)]()[_0x1de281(0x27b)]()):_0x50f8ef[_0x1de281(0x1a5)](_0x40d57c=>_0x40d57c[_0x1de281(0x27b)]()),_0x50f8ef[_0x1de281(0x1a5)](_0x3f1aaf=>game[_0x1de281(0x1e7)][_0x1de281(0x275)](_0x196495=>_0x196495[_0x1de281(0x184)][_0x1de281(0x27b)]()===_0x3f1aaf))[_0x1de281(0x23f)](Boolean);}static async['pGetActorItemCompendiumImage'](_0x24a14c,_0x551315,_0xa89663){const _0x360d30=_0xf8e2d4;return this[_0x360d30(0x1ae)](DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE'],_0x24a14c,_0x551315,_0xa89663);}static async['_pGetCacheAndGetActorItemCompendiumData'](_0x14afda,_0x32808c,_0x14516d,_0x59f5e5){const _0x20a7f7=_0xf8e2d4;_0x59f5e5=_0x59f5e5||{};let _0xd59a9d=[];if(_0x14516d[_0x20a7f7(0x24d)])_0xd59a9d[_0x20a7f7(0x18d)]((typeof _0x14516d['srd']===_0x20a7f7(0x21c)?_0x14516d[_0x20a7f7(0x1e0)]:_0x14516d['name'])[_0x20a7f7(0x27b)]()[_0x20a7f7(0x245)]());if(_0x14516d['_displayName'])_0xd59a9d[_0x20a7f7(0x18d)](_0x14516d['_displayName'][_0x20a7f7(0x27b)]()[_0x20a7f7(0x245)]());if(_0x59f5e5[_0x20a7f7(0x232)])_0xd59a9d[_0x20a7f7(0x18d)](..._0x59f5e5[_0x20a7f7(0x232)](_0x14516d)[_0x20a7f7(0x1a5)](_0x2d948a=>_0x2d948a['toLowerCase']()['trim']()));let _0x32d912;switch(_0x14afda){case DataConverter[_0x20a7f7(0x27f)]:{switch(_0x32808c){case _0x20a7f7(0x16f):_0x32d912=this[_0x20a7f7(0x1fa)](Config[_0x20a7f7(0x174)](_0x20a7f7(0x166),_0x20a7f7(0x1c4)));break;default:return null;}break;}case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:{switch(_0x32808c){case _0x20a7f7(0x16f):_0x32d912=this[_0x20a7f7(0x1fa)](Config[_0x20a7f7(0x1c3)]);break;default:return null;}break;}default:throw new Error(_0x20a7f7(0x1b2)+_0x14afda+'\x22');}if(!_0x32d912[_0x20a7f7(0x27d)])return null;await DataConverter[_0x20a7f7(0x249)][_0x20a7f7(0x176)]();try{for(const _0x43be55 of _0xd59a9d){for(const _0x366e69 of _0x32d912){!this[_0x20a7f7(0x216)](DataConverter[_0x20a7f7(0x197)],_0x14afda,_0x366e69)&&await this[_0x20a7f7(0x1e1)](DataConverter['_COMPENDIUM_ACTOR_CACHES'],_0x14afda,_0x366e69);const _0x136b3c=this[_0x20a7f7(0x194)](DataConverter['_COMPENDIUM_ACTOR_CACHES'],_0x14afda,_0x366e69,_0x43be55);if(_0x136b3c)return _0x136b3c;}}}finally{DataConverter[_0x20a7f7(0x249)][_0x20a7f7(0x19d)]();}}static async['getSrdCompendiumEntity'](_0x1194c0,_0x3e7132,_0x37ab61){const _0x2a2fcf=_0xf8e2d4;return this['_pGetCacheAndGetCompendiumData'](DataConverter[_0x2a2fcf(0x1aa)],_0x1194c0,_0x3e7132,_0x37ab61);}static[_0xf8e2d4(0x216)](_0x7d3ea6,_0x1eae44,_0x37a041){const _0x203505=_0xf8e2d4;return _0x1eae44=_0x1eae44[_0x203505(0x1ef)]||_0x1eae44,!!MiscUtil[_0x203505(0x174)](_0x7d3ea6,_0x1eae44,_0x37a041['collection']);}static async['_pCacheCompendium'](_0xadc10e,_0x9d36f1,_0x46104b){const _0x1bdce5=_0xf8e2d4;let _0x2a1b17;if(_0x9d36f1[_0x1bdce5(0x263)])_0x2a1b17=!![];else switch(_0x9d36f1){case DataConverter[_0x1bdce5(0x27f)]:_0x2a1b17=![];break;case DataConverter[_0x1bdce5(0x1aa)]:_0x2a1b17=!![];break;default:throw new Error(_0x1bdce5(0x1b2)+_0x9d36f1+'\x22');}const _0x5c17d5=await UtilCompendium[_0x1bdce5(0x260)](_0x46104b,_0x2a1b17),_0x5dc64d=MiscUtil[_0x1bdce5(0x1c8)](_0xadc10e,_0x9d36f1['cacheId']||_0x9d36f1,_0x46104b[_0x1bdce5(0x184)],{});if(!_0x5c17d5)return;if(_0x9d36f1[_0x1bdce5(0x263)])_0x5c17d5['forEach'](_0x5ad731=>_0x5dc64d[_0x5ad731[_0x1bdce5(0x24d)]['toLowerCase']()]=MiscUtil[_0x1bdce5(0x227)](_0x5ad731[_0x1bdce5(0x1bc)]));else switch(_0x9d36f1){case DataConverter[_0x1bdce5(0x27f)]:_0x5c17d5[_0x1bdce5(0x188)](_0x223143=>_0x5dc64d[_0x223143['name'][_0x1bdce5(0x27b)]()]=_0x223143[_0x1bdce5(0x1b1)]);break;case DataConverter[_0x1bdce5(0x1aa)]:_0x5c17d5['forEach'](_0x55d64c=>_0x5dc64d[_0x55d64c[_0x1bdce5(0x24d)][_0x1bdce5(0x27b)]()]=MiscUtil['copy'](_0x55d64c[_0x1bdce5(0x1bc)]));break;default:throw new Error(_0x1bdce5(0x1b2)+_0x9d36f1+'\x22');}}static async[_0xf8e2d4(0x1e1)](_0x54bb50,_0x6b6883,_0x24ffbc){const _0x4431fe=_0xf8e2d4,_0x4c69f6=await UtilCompendium[_0x4431fe(0x260)](_0x24ffbc,!![]),_0x500ef9=MiscUtil[_0x4431fe(0x1c8)](_0x54bb50,_0x6b6883[_0x4431fe(0x1ef)]||_0x6b6883,_0x24ffbc[_0x4431fe(0x184)],{});if(!_0x4c69f6)return;_0x4c69f6['forEach'](_0x11a3c5=>{const _0xe96ac9=_0x4431fe;(_0x11a3c5[_0xe96ac9(0x1ad)]||[])[_0xe96ac9(0x188)](_0x146921=>{const _0x4879e2=_0xe96ac9,_0x37e579=_0x146921['name']['toLowerCase']();switch(_0x6b6883){case DataConverter[_0x4879e2(0x27f)]:{if(!_0x146921[_0x4879e2(0x1b1)]||_0x146921[_0x4879e2(0x1b1)][_0x4879e2(0x27b)]()['includes'](_0x4879e2(0x210)))return;_0x500ef9[_0x37e579]=_0x500ef9[_0x37e579]||_0x146921[_0x4879e2(0x1b1)];break;}case DataConverter[_0x4879e2(0x1aa)]:_0x500ef9[_0x37e579]=_0x500ef9[_0x37e579]||MiscUtil[_0x4879e2(0x227)](_0x146921[_0x4879e2(0x1bc)]);break;default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x6b6883+'\x22');}});});}static[_0xf8e2d4(0x194)](_0x310bbd,_0x27c9cb,_0x193a45,_0x3d5984){const _0x465ce8=_0xf8e2d4,_0x2ae33e=MiscUtil['get'](_0x310bbd,_0x27c9cb['cacheId']||_0x27c9cb,_0x193a45['collection']);if(!_0x2ae33e)return null;const _0x7e8cba=_0x2ae33e[_0x3d5984['name']||_0x3d5984];if(!_0x7e8cba||typeof _0x3d5984===_0x465ce8(0x21c))return _0x7e8cba;const _0x152c1a=Object[_0x465ce8(0x160)](_0x3d5984)[_0x465ce8(0x23f)](([_0x47f38f])=>_0x47f38f!==_0x465ce8(0x24d))[_0x465ce8(0x282)](([_0x5e4040,_0x37f42a])=>{const _0xf587cf=_0x465ce8;if(typeof _0x37f42a===_0xf587cf(0x21c))_0x37f42a=_0x37f42a[_0xf587cf(0x27b)]()['trim']();let _0xb30383;const _0x4656ed=_0x5e4040[_0xf587cf(0x1d0)]('.');for(const _0x54c96c of _0x4656ed){_0xb30383=(_0xb30383||_0x7e8cba)[_0x54c96c];if(_0xb30383===undefined)return![];}if(typeof _0xb30383===_0xf587cf(0x21c))_0xb30383=_0xb30383[_0xf587cf(0x245)]()['toLowerCase']();return _0xb30383===_0x37f42a;});if(!_0x152c1a)return null;switch(_0x27c9cb[_0x465ce8(0x263)]){case DataConverter[_0x465ce8(0x27f)]:return _0x7e8cba['img'];case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:return _0x7e8cba;default:throw new Error(_0x465ce8(0x1b2)+_0x27c9cb[_0x465ce8(0x263)]+'\x22');}}static[_0xf8e2d4(0x1dc)](_0x413173,_0x4a7e5e){const _0x2715aa=_0xf8e2d4;_0x4a7e5e=_0x4a7e5e||{},_0x4a7e5e[_0x2715aa(0x1da)]=_0x4a7e5e['prop']||_0x2715aa(0x160);let _0x2c5eeb='';return _0x413173[_0x4a7e5e[_0x2715aa(0x1da)]]&&(_0x2c5eeb=Renderer[_0x2715aa(0x174)]()['setFirstSection'](!![])[_0x2715aa(0x173)]({'type':_0x2715aa(0x160),'entries':_0x413173[_0x4a7e5e[_0x2715aa(0x1da)]]},_0x4a7e5e[_0x2715aa(0x1d9)]!=null?_0x4a7e5e[_0x2715aa(0x1d9)]:0x2)),_0x2c5eeb;}static async[_0xf8e2d4(0x195)](_0x64b6a7,_0xd2ef09,_0x5953bd,_0x240999){const _0xda4a82=_0xf8e2d4;_0x240999=_0x240999||{},this[_0xda4a82(0x268)](_0x64b6a7,_0xd2ef09,_0x240999),this[_0xda4a82(0x1af)](_0x64b6a7,_0xd2ef09,_0x240999),await this['_pMutActorUpdate_pMutFromSideSkillProfs'](_0x64b6a7,_0xd2ef09,_0x5953bd,_0x240999);if(_0x240999['isCancelled'])return;await this[_0xda4a82(0x212)](_0x64b6a7,_0xd2ef09,_0x5953bd,_0x240999);}static[_0xf8e2d4(0x268)](_0x4c05e4,_0x238756,_0x25768a){const _0x499d17=_0xf8e2d4;return this[_0x499d17(0x169)](_0x4c05e4,_0x238756,_0x25768a,_0x499d17(0x27e),'data');}static[_0xf8e2d4(0x1af)](_0xa89cb0,_0x2d565e,_0x55c595){const _0x5a3590=_0xf8e2d4;return this[_0x5a3590(0x169)](_0xa89cb0,_0x2d565e,_0x55c595,_0x5a3590(0x258),'token');}static[_0xf8e2d4(0x169)](_0x387b1e,_0x138e02,_0x26aede,_0x4ee5e2,_0x224453){const _0x50373b=_0xf8e2d4;if(!_0x26aede[_0x50373b(0x1f5)]||!_0x26aede['sideData'][_0x4ee5e2])return;Object['entries'](_0x26aede[_0x50373b(0x1f5)][_0x4ee5e2])['forEach'](([_0x47b394,_0x35186b])=>this['_pMutActorUpdate_mutFromSideMod_handleProp'](_0x387b1e,_0x138e02,_0x26aede,_0x4ee5e2,_0x224453,_0x47b394,_0x35186b));}static[_0xf8e2d4(0x248)](_0x39914b,_0x456c29,_0x4dd690,_0x1dd154,_0x54e820,_0x499b48,_0x35fc14){const _0x2bc49d=_0xf8e2d4,_0x33a5ac=_0x499b48[_0x2bc49d(0x1d0)]('.');if(_0x499b48==='_'){_0x35fc14[_0x2bc49d(0x188)](_0x502591=>{const _0x46f594=_0x2bc49d;switch(_0x502591['mode']){case'conditionals':{for(const _0x2788a1 of _0x502591[_0x46f594(0x187)]){window[_0x46f594(0x21d)]={'actor':_0x39914b};if(_0x2788a1[_0x46f594(0x1b7)]&&!eval(_0x2788a1[_0x46f594(0x1b7)]))continue;Object[_0x46f594(0x160)](_0x2788a1['mod'])['forEach'](([_0x4b77fb,_0x1bc7d0])=>this['_pMutActorUpdate_mutFromSideMod_handleProp'](_0x39914b,_0x456c29,_0x4dd690,_0x1dd154,_0x54e820,_0x4b77fb,_0x1bc7d0));break;}break;}default:throw new Error(_0x46f594(0x178)+_0x502591[_0x46f594(0x206)]+'\x22');}});return;}const _0x369c4a=MiscUtil[_0x2bc49d(0x174)](_0x39914b,_0x2bc49d(0x1bc),_0x54e820,..._0x33a5ac),_0x301909=MiscUtil[_0x2bc49d(0x174)](_0x456c29,_0x54e820,..._0x33a5ac),_0x1b1626=_0x301909||_0x369c4a;_0x35fc14[_0x2bc49d(0x188)](_0x273d41=>{const _0x2b6ae5=_0x2bc49d;switch(_0x273d41[_0x2b6ae5(0x206)]){case _0x2b6ae5(0x23c):{const _0xe487ac=MiscUtil['copy'](_0x1b1626||[]),_0x2c9d6b=[..._0xe487ac];_0x2c9d6b[_0x2b6ae5(0x18d)](..._0x273d41[_0x2b6ae5(0x1ad)][_0x2b6ae5(0x23f)](_0xd863e3=>!_0xe487ac[_0x2b6ae5(0x1e8)](_0x525d65=>CollectionUtil[_0x2b6ae5(0x280)](_0xd863e3,_0x525d65)))),MiscUtil[_0x2b6ae5(0x1a2)](_0x456c29,_0x54e820,..._0x33a5ac,_0x2c9d6b);break;}case _0x2b6ae5(0x18b):{MiscUtil[_0x2b6ae5(0x1a2)](_0x456c29,_0x54e820,..._0x33a5ac,_0x273d41[_0x2b6ae5(0x256)]+_0x1b1626||0x0);break;}case _0x2b6ae5(0x1bf):{const _0x572bc6=(''+(_0x1b1626||0x0))[_0x2b6ae5(0x27b)](),_0x25b549=_0x421631=>{const _0x5810c7=_0x2b6ae5,_0x40c1c9=_0x572bc6[_0x5810c7(0x278)](_0x421631[_0x5810c7(0x27b)]());let _0x16f16a=_0x1b1626[_0x5810c7(0x1d1)](0x0,_0x40c1c9);const _0x1482ac=_0x1b1626[_0x5810c7(0x1d1)](_0x40c1c9),_0x211f17=_0x16f16a['endsWith']('\x20');_0x16f16a=_0x16f16a[_0x5810c7(0x245)]();if(!isNaN(_0x16f16a)){const _0xc62383=''+(_0x273d41[_0x5810c7(0x256)]+Number(_0x16f16a))+(_0x211f17?'\x20':'')+_0x1482ac;MiscUtil[_0x5810c7(0x1a2)](_0x456c29,_0x54e820,..._0x33a5ac,_0xc62383);}};if(!_0x1b1626)MiscUtil['set'](_0x456c29,_0x54e820,..._0x33a5ac,_0x273d41['scalar']+'\x20'+(_0x273d41['unitShort']||_0x273d41[_0x2b6ae5(0x25b)]));else{if(_0x273d41['unit']&&_0x572bc6[_0x2b6ae5(0x1c9)](_0x273d41['unit']['toLowerCase']()))_0x25b549(_0x273d41[_0x2b6ae5(0x25b)]);else _0x273d41['unitShort']&&_0x572bc6[_0x2b6ae5(0x1c9)](_0x273d41[_0x2b6ae5(0x207)][_0x2b6ae5(0x27b)]())&&_0x25b549(_0x273d41[_0x2b6ae5(0x207)]);}break;}case _0x2b6ae5(0x186):{const _0x268e02=(''+(_0x1b1626||0x0))[_0x2b6ae5(0x27b)]();let _0x34e2f5=Number(_0x268e02);if(isNaN(_0x34e2f5))_0x34e2f5=0x0;const _0x5bae30=Math[_0x2b6ae5(0x171)](_0x34e2f5,_0x273d41[_0x2b6ae5(0x1db)]);MiscUtil[_0x2b6ae5(0x1a2)](_0x456c29,_0x54e820,..._0x33a5ac,_0x5bae30);break;}case'set':{MiscUtil[_0x2b6ae5(0x1a2)](_0x456c29,_0x54e820,..._0x33a5ac,MiscUtil['copy'](_0x273d41[_0x2b6ae5(0x1db)]));break;}default:throw new Error('Unhandled\x20mode\x20\x22'+_0x273d41[_0x2b6ae5(0x206)]+'\x22');}});}static[_0xf8e2d4(0x22f)](_0x41f41f,_0x5bd407,_0x53b37d,_0x33b586){const _0x12a957=_0xf8e2d4;if(!_0x33b586[_0x12a957(0x1f5)]||!_0x33b586[_0x12a957(0x1f5)][_0x12a957(0x18e)])return;return this['_pMutActorUpdate_pMutFromSkillProfs'](_0x41f41f,_0x5bd407,_0x53b37d,_0x33b586[_0x12a957(0x1f5)]['skillProficiencies'],_0x33b586);}static async[_0xf8e2d4(0x281)](_0x5e3d3f,_0x341756,_0x59012f,_0x5a85e1,_0x260329){const _0x2d6335=_0xf8e2d4,_0x48a58c=MiscUtil[_0x2d6335(0x1c8)](_0x341756,_0x2d6335(0x1bc),{});await DataConverter[_0x2d6335(0x161)](MiscUtil[_0x2d6335(0x174)](_0x5e3d3f,'data',_0x2d6335(0x1bc),_0x2d6335(0x16b)),_0x5a85e1,_0x48a58c,_0x260329,{'titlePrefix':_0x59012f[_0x2d6335(0x24d)]+'\x20(Level\x20'+_0x59012f[_0x2d6335(0x1e3)]+')'});}static async[_0xf8e2d4(0x25c)](_0x24e103,_0x5adbcd,_0x21b9a1,_0x3403ce,_0x76efbe){const _0x5929b6=_0xf8e2d4,_0x3da788=MiscUtil[_0x5929b6(0x1c8)](_0x5adbcd,'data',{});await DataConverter[_0x5929b6(0x25e)](MiscUtil['get'](_0x24e103,_0x5929b6(0x1bc),'data',_0x5929b6(0x21f),_0x5929b6(0x26e)),_0x3403ce,_0x3da788,_0x76efbe,{'titlePrefix':_0x21b9a1[_0x5929b6(0x24d)]+_0x5929b6(0x180)+_0x21b9a1[_0x5929b6(0x1e3)]+')'});}static async['_pMutActorUpdate_pMutFromEntries'](_0x286b36,_0x1f5432,_0x2dae4c,_0x51a2e7){const _0x505cc0=_0xf8e2d4;_0x51a2e7=_0x51a2e7||{};if(!_0x2dae4c[_0x505cc0(0x160)])return;const _0x44b894=new Set(),_0x549644=new Set(),_0x375a5a=new Set(),_0x549704=new Set(),_0x3d268e=new Set(),_0x21de5c=new Set(),_0x92a6e8=new Set(),_0x7e4f22=new Set(),_0x3a7b91=[],_0x2e14b5=[],_0x25960d=new Set();DataConverter['WALKER_READONLY_GENERIC'][_0x505cc0(0x257)](_0x2dae4c[_0x505cc0(0x160)],{'string':_0x6c8646=>{const _0x32ddd6=_0x505cc0;_0x6c8646[_0x32ddd6(0x1de)](/(?:you|s?he or s?he) ([^.!?]*? )?gains? proficiency (?:with|in (?:either )?(?: the)?)(.*?)(?:[.!?]|$)/gi,(..._0x974bcf)=>{const _0x2c2625=_0x32ddd6,[,_0x591c91,_0x267b45]=_0x974bcf;if(_0x591c91&&_0x591c91['split'](/\W/g)['some'](_0xc9c17a=>_0xc9c17a[_0x2c2625(0x245)]()[_0x2c2625(0x27b)]()===_0x2c2625(0x1fd)))return;const _0x180e88=this[_0x2c2625(0x1d5)](_0x2c2625(0x1be),_0x267b45);for(const _0xb3c042 of _0x180e88){const _0x1042a2=DataUtil['generic'][_0x2c2625(0x17d)](_0xb3c042,_0x2c2625(0x1be)),_0x4ac212=UrlUtil[_0x2c2625(0x1ce)][UrlUtil[_0x2c2625(0x26a)]](_0x1042a2);_0x44b894[_0x2c2625(0x1fb)](_0x4ac212);}const _0x34e659=_0x267b45['split'](/,? and |,? or |, /gi);_0x34e659['map'](_0xf7893f=>_0xf7893f[_0x2c2625(0x245)]()[_0x2c2625(0x1de)](/^\W+/,'')['replace'](/\W+$/,''))[_0x2c2625(0x23f)](Boolean)[_0x2c2625(0x188)](_0x2123a3=>{const _0x53fa89=_0x2c2625;_0x2123a3=_0x2123a3[_0x53fa89(0x27b)]()[_0x53fa89(0x245)]();switch(_0x2123a3){case _0x53fa89(0x204):_0x549704['add'](_0x53fa89(0x1f3));break;case _0x53fa89(0x16a):_0x549704[_0x53fa89(0x1fb)]('sim');break;case _0x53fa89(0x247):case'light\x20armor':_0x21de5c[_0x53fa89(0x1fb)]('lgt');break;case _0x53fa89(0x19c):case'medium\x20armor':_0x21de5c[_0x53fa89(0x1fb)](_0x53fa89(0x274));break;case'heavy':case _0x53fa89(0x1c5):_0x21de5c['add'](_0x53fa89(0x224));break;case _0x53fa89(0x1d8):_0x21de5c[_0x53fa89(0x1fb)](_0x53fa89(0x172));break;}});let _0x303d0a=![];_0x267b45['replace'](/(?:(one|two|three|four|five|six) )skills? of your choice/gi,(..._0x3240ba)=>{const _0x3e0be0=_0x2c2625;_0x303d0a=!![];const _0xd8f34d=Parser[_0x3e0be0(0x16e)](_0x3240ba[0x1]);if(isNaN(_0xd8f34d))return;_0x3a7b91[_0x3e0be0(0x18d)]([{'choose':{'from':Object['keys'](Parser[_0x3e0be0(0x233)]),'count':_0xd8f34d}}]);}),!/(^|\W)choice(\W|$)/i[_0x2c2625(0x1f1)](_0x267b45)&&(_0x303d0a=!![],this['_pMutActorUpdate_addValidSkills'](_0x267b45,_0x7e4f22)),!_0x303d0a&&_0x267b45['replace'](/ or (.*?) skills?(\W|$)/i,(..._0x4bf37d)=>{const _0x191803=_0x2c2625,_0x555b0e=new Set();this[_0x191803(0x225)](_0x4bf37d[0x2],_0x555b0e);if(_0x555b0e[_0x191803(0x19e)])_0x3a7b91[_0x191803(0x18d)]([{'choose':{'from':[..._0x555b0e],'count':count}}]);}),_0x267b45['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throws/i,(..._0x41ac0b)=>{const _0x5073eb=_0x2c2625;_0x25960d[_0x5073eb(0x1fb)](_0x41ac0b[0x1][_0x5073eb(0x27b)]()[_0x5073eb(0x1d1)](0x0,0x3));});}),_0x6c8646['replace'](/you (?:[^.!?]*? )proficien[^ ]+ in (one|two|three|four|five|six) [^.!?]* skills [^.!?:]*:(.*?)(?:[.!?]|$)/gi,(..._0x2f2145)=>{const _0x42bc2f=_0x32ddd6,_0x35966a=Parser[_0x42bc2f(0x16e)](_0x2f2145[0x1]);if(isNaN(_0x35966a))return;const _0x7bcc00=new Set();this['_pMutActorUpdate_addValidSkills'](_0x2f2145[0x2],_0x7bcc00);if(_0x7bcc00['size'])_0x3a7b91[_0x42bc2f(0x18d)]([{'choose':{'from':[..._0x7bcc00],'count':_0x35966a}}]);}),_0x6c8646[_0x32ddd6(0x1de)](/you (?:[^.!?]*? )proficien[^ ]+ (?:[^.!?]*? )choice of (two|three|four|five|six) (?:[^.!?]*? )skills:(.*?)(?:[.!?]|$)/gi,(..._0x1884ca)=>{const _0x3da4db=_0x32ddd6,_0x2f459f=Parser[_0x3da4db(0x16e)](_0x1884ca[0x1]);if(isNaN(_0x2f459f))return;const _0x28b8b3=new Set();this['_pMutActorUpdate_addValidSkills'](_0x1884ca[0x2],_0x28b8b3);if(_0x28b8b3[_0x3da4db(0x19e)])_0x3a7b91['push']([{'choose':{'from':[..._0x28b8b3],'count':_0x2f459f}}]);}),_0x6c8646[_0x32ddd6(0x1de)](/gain proficiency (?:[^.!?]*?) (one|two|three|four|five|six) (?:[^.!?]*?) following skills(?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x19fd14)=>{const _0x337671=_0x32ddd6,_0x413e57=Parser[_0x337671(0x16e)](_0x19fd14[0x1]);if(isNaN(_0x413e57))return;const _0xb60341=new Set();this[_0x337671(0x225)](_0x19fd14[0x2],_0xb60341);if(_0xb60341['size'])_0x3a7b91[_0x337671(0x18d)]([{'choose':{'from':[..._0xb60341],'count':_0x413e57}}]);}),_0x6c8646[_0x32ddd6(0x1de)](/you learn (an|one|two|three|four|five|six)(?: additional)? language of your choice/gi,(..._0x1d5946)=>{const _0x494c76=_0x32ddd6,_0x1b40fa=Parser['textToNumber'](_0x1d5946[0x1]);if(isNaN(_0x1b40fa))return;_0x2e14b5[_0x494c76(0x18d)]([{'any':_0x1b40fa}]);});}});if(!_0x51a2e7[_0x505cc0(0x177)]){for(const _0x14562a of _0x44b894){const _0x1fdabe=await Renderer[_0x505cc0(0x251)][_0x505cc0(0x272)](UrlUtil[_0x505cc0(0x26a)],_0x14562a);if(DataConverter[_0x505cc0(0x1ca)][_0x505cc0(0x1ea)](_0x1fdabe[_0x505cc0(0x234)])){const _0x4d3e09=UtilActors[_0x505cc0(0x1ac)](_0x1fdabe[_0x505cc0(0x24d)]);if(_0x4d3e09)_0x549644[_0x505cc0(0x1fb)](_0x4d3e09);else _0x375a5a[_0x505cc0(0x1fb)](_0x1fdabe[_0x505cc0(0x24d)]['toLowerCase']());}DataConverter['ITEM_TYPES_ACTOR_WEAPONS'][_0x505cc0(0x1ea)](_0x1fdabe['type'])&&_0x3d268e[_0x505cc0(0x1fb)](_0x1fdabe['name'][_0x505cc0(0x27b)]()+'s');if(DataConverter[_0x505cc0(0x1e6)][_0x505cc0(0x1ea)](_0x1fdabe[_0x505cc0(0x234)])){if(_0x1fdabe['name']===_0x505cc0(0x1a6))_0x21de5c[_0x505cc0(0x1fb)](_0x505cc0(0x172));else _0x92a6e8[_0x505cc0(0x1fb)](_0x1fdabe[_0x505cc0(0x24d)][_0x505cc0(0x27b)]());}}this[_0x505cc0(0x1ab)](_0x286b36,_0x1f5432,_0x549704,_0x505cc0(0x1bc),_0x505cc0(0x21f),_0x505cc0(0x253),'value'),this[_0x505cc0(0x237)](_0x286b36,_0x1f5432,_0x3d268e,_0x505cc0(0x1bc),_0x505cc0(0x21f),_0x505cc0(0x253),'custom'),this['_pMutActorUpdate_mutFromProficiencySetFoundry'](_0x286b36,_0x1f5432,_0x21de5c,_0x505cc0(0x1bc),_0x505cc0(0x21f),_0x505cc0(0x23e),_0x505cc0(0x1db)),this[_0x505cc0(0x237)](_0x286b36,_0x1f5432,_0x92a6e8,_0x505cc0(0x1bc),'traits',_0x505cc0(0x23e),_0x505cc0(0x24f)),this[_0x505cc0(0x1ab)](_0x286b36,_0x1f5432,_0x549644,_0x505cc0(0x1bc),_0x505cc0(0x21f),_0x505cc0(0x20e),'value'),this['_pMutActorUpdate_mutFromProficiencySetCustom'](_0x286b36,_0x1f5432,_0x375a5a,_0x505cc0(0x1bc),_0x505cc0(0x21f),_0x505cc0(0x20e),_0x505cc0(0x24f));}if(!_0x51a2e7['isSkipEntrySkillProficiencies']){if(_0x7e4f22['size']){const _0x1ba633=[[..._0x7e4f22]['mergeMap'](_0x25290b=>({[_0x25290b]:!![]}))];await this[_0x505cc0(0x281)](_0x286b36,_0x1f5432,_0x2dae4c,_0x1ba633,_0x51a2e7);}if(_0x3a7b91[_0x505cc0(0x27d)])for(const _0x4f9061 of _0x3a7b91){await this[_0x505cc0(0x281)](_0x286b36,_0x1f5432,_0x2dae4c,_0x4f9061,_0x51a2e7);}}if(!_0x51a2e7[_0x505cc0(0x168)]){if(_0x2e14b5[_0x505cc0(0x27d)])for(const _0x5aaffc of _0x2e14b5){await this[_0x505cc0(0x25c)](_0x286b36,_0x1f5432,_0x2dae4c,_0x5aaffc,_0x51a2e7);}}!_0x51a2e7[_0x505cc0(0x277)]&&(_0x25960d[_0x505cc0(0x19e)]&&_0x25960d['forEach'](_0x2ba9fb=>MiscUtil['set'](_0x1f5432,'data',_0x505cc0(0x27a),_0x2ba9fb,_0x505cc0(0x164),0x1)));}static['_pMutActorUpdate_addValidSkills'](_0x4c8a98,_0x466e6f){const _0xb3226c=_0xf8e2d4,_0xdd37b=this[_0xb3226c(0x1d5)](_0xb3226c(0x1e5),_0x4c8a98);for(const _0x20490b of _0xdd37b){const _0x52caa1=_0x20490b[_0xb3226c(0x1d0)]('|')[0x0]['toLowerCase'](),_0x11299e=!!Parser[_0xb3226c(0x233)][_0x52caa1];if(!_0x11299e)continue;_0x466e6f['add'](_0x52caa1);}}static[_0xf8e2d4(0x1ab)](_0x43b511,_0x32cd8d,_0x3cefa8,..._0x1a11c6){const _0x11ad28=_0xf8e2d4;if(!_0x3cefa8['size'])return;const _0x17189b=MiscUtil[_0x11ad28(0x227)](MiscUtil[_0x11ad28(0x174)](_0x43b511,_0x11ad28(0x1bc),..._0x1a11c6)||[]),_0x32dca7=MiscUtil['getOrSet'](_0x32cd8d,..._0x1a11c6,_0x17189b),_0x4e1876=new Set([..._0x32dca7,..._0x3cefa8]);MiscUtil[_0x11ad28(0x1a2)](_0x32cd8d,..._0x1a11c6,[..._0x4e1876]);}static[_0xf8e2d4(0x237)](_0x15c0a3,_0x3be98d,_0x47c234,..._0x201cfa){const _0x499c2d=_0xf8e2d4;if(!_0x47c234['size'])return;const _0x588693=MiscUtil['copy'](MiscUtil['get'](_0x15c0a3,_0x499c2d(0x1bc),..._0x201cfa)||''),_0x92d106=MiscUtil[_0x499c2d(0x174)](_0x3be98d,..._0x201cfa)||_0x588693,_0xa9344e=_0x92d106[_0x499c2d(0x1d0)](';')[_0x499c2d(0x1a5)](_0x272577=>_0x272577[_0x499c2d(0x245)]())[_0x499c2d(0x23f)](Boolean);[..._0x47c234]['filter'](_0x59ca16=>!_0xa9344e['some'](_0x3fd0ee=>_0x3fd0ee[_0x499c2d(0x27b)]()[_0x499c2d(0x245)]()===_0x59ca16[_0x499c2d(0x27b)]()[_0x499c2d(0x245)]()))[_0x499c2d(0x188)](_0x4171ab=>_0xa9344e['push'](_0x4171ab)),MiscUtil[_0x499c2d(0x1a2)](_0x3be98d,..._0x201cfa,_0xa9344e[_0x499c2d(0x192)](';'));}static[_0xf8e2d4(0x170)](_0x4de19b,_0x2c9479){const _0x15bbca=_0xf8e2d4;_0x2c9479=_0x2c9479||{},_0x2c9479['modeOptions']=_0x2c9479[_0x15bbca(0x226)]||{};let {description:_0x796a45,activationType:_0x398f99,activationCost:_0x50fb47,activationCondition:_0x50fec7,saveAbility:_0xcd40c,saveDc:_0x262177,saveScaling:_0x25a598,damageParts:_0x15cda8,attackBonus:_0x225883,requirements:_0x2225a5,actionType:_0x16aced,durationValue:_0x4d7c5c,durationUnits:_0x5eed65,consumeType:_0x401c77,consumeTarget:_0x5ac8ff,consumeAmount:_0x253462,formula:_0x408495,targetValue:_0x1aadc9,targetUnits:_0x1b804c,targetType:_0x485ffa,foundryData:_0x1d2c2c,_foundryData:_0x4433ff,foundryFlags:_0x1c9337,_foundryFlags:_0x20ed92}=_0x2c9479;const _0x3406b3=DataConverter[_0x15bbca(0x191)](_0x1d2c2c,_0x4433ff),_0x57a66e=DataConverter[_0x15bbca(0x25f)](_0x1c9337,_0x20ed92);_0x796a45=_0x796a45||(_0x2c9479['isSkipDescription']?'':DataConverter[_0x15bbca(0x1dc)](_0x4de19b,{'depth':_0x2c9479['renderDepth']})),_0x398f99=_0x398f99||'',_0x50fb47=_0x50fb47||0x0,_0x50fec7=_0x50fec7||'',_0xcd40c=_0xcd40c||'',_0x262177=_0x262177||null,_0x25a598=_0x25a598||'',_0x15cda8=_0x15cda8||[],_0x225883=_0x225883||0x0,_0x2225a5=_0x2225a5||'',_0x16aced=_0x16aced||'',_0x4d7c5c=_0x4d7c5c||null,_0x5eed65=_0x5eed65||'',_0x401c77=_0x401c77||null,_0x5ac8ff=_0x5ac8ff||null,_0x253462=_0x253462||null,_0x408495=_0x408495||'',_0x1aadc9=_0x1aadc9||null,_0x1b804c=_0x1b804c||'',_0x485ffa=_0x485ffa||'';let _0xc7182f=UtilApplications[_0x15bbca(0x18f)](DataConverter['getNameWithSourcePart'](_0x4de19b));const _0x4b54af=_0x4de19b[_0x15bbca(0x160)]?JSON[_0x15bbca(0x1cd)](_0x4de19b[_0x15bbca(0x160)]):null;let _0x55fa68=null;if(_0x4de19b['name']){const _0x369787=/{@recharge( \d+)?}/gi['exec'](_0x4de19b['name']);_0x369787&&(_0x55fa68=_0x369787[0x1]?Number(_0x369787[0x1]['trim']()):0x6,_0xc7182f=_0xc7182f[_0x15bbca(0x1de)](/\(Recharge \d+(â€“\d+)?\)/gi,'')[_0x15bbca(0x245)]()[_0x15bbca(0x1de)](/[ ]+/g,'\x20'));}if(_0x4de19b['entries']){/(?:^|\W)bonus action(?:\W|$)/i[_0x15bbca(0x1f1)](_0x4b54af)&&(_0x398f99=_0x398f99||_0x15bbca(0x230),_0x50fb47=_0x50fb47||0x1);if(_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x273)){if(!_0x398f99&&!_0x50fb47){const _0x21d065=DataConverter['WALKER_READONLY_GENERIC'];_0x21d065[_0x15bbca(0x257)](_0x4de19b[_0x15bbca(0x160)],{'string':_0x255f6b=>{const _0x32e498=_0x15bbca;if(_0x398f99)return _0x255f6b;const _0x2390e8=_0x255f6b[_0x32e498(0x1d0)](/[.?!]/g)['map'](_0x271c5f=>_0x271c5f[_0x32e498(0x245)]());for(const _0x14751b of _0x2390e8){if(/as an action|can take an action/i[_0x32e498(0x1f1)](_0x14751b)){_0x398f99=_0x398f99||_0x32e498(0x26d),_0x50fb47=_0x50fb47||0x1;break;}const _0x442603=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x32e498(0x1bd)](_0x14751b);if(_0x442603){_0x398f99=_0x398f99||_0x32e498(0x193),_0x50fb47=_0x50fb47||0x1;let _0x23b876=_0x14751b['slice'](0x0,_0x442603[_0x32e498(0x200)])[_0x32e498(0x245)]()[_0x32e498(0x1de)](/,$/,'');const _0x482f3a=/(^|\W)(?:if|when)(?:|\W)/i[_0x32e498(0x1bd)](_0x23b876);_0x482f3a&&(_0x23b876=_0x23b876['slice'](_0x482f3a[_0x32e498(0x200)]+_0x482f3a[0x1][_0x32e498(0x27d)])[_0x32e498(0x245)](),_0x50fec7=_0x50fec7||_0x23b876);break;}}}});}}}let _0x5a4513=0x0,_0x107e96=null;_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x222)&&_0x4de19b[_0x15bbca(0x24d)]&&(_0xc7182f=_0xc7182f[_0x15bbca(0x1de)](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x309c29)=>{const _0x4b8fbf=_0x15bbca;_0x5a4513=Number(_0x309c29[0x1]);const _0x1eb56e=_0x309c29[0x2][_0x4b8fbf(0x245)]()[_0x4b8fbf(0x27b)]();switch(_0x1eb56e){case'day':_0x107e96=_0x4b8fbf(0x22e);break;case _0x4b8fbf(0x22b):_0x107e96='sr';break;case'long\x20rest':_0x107e96='lr';break;}return'';}),!_0x107e96&&(_0xc7182f=_0xc7182f[_0x15bbca(0x1de)](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x5d6e56)=>{const _0x3b9199=_0x15bbca;return _0x5a4513=Number(_0x5d6e56[0x1]),_0x107e96=_0x3b9199(0x220),'';})),_0x107e96&&(_0xc7182f=_0xc7182f[_0x15bbca(0x245)]()[_0x15bbca(0x1de)](/[ ]+/g,'\x20'),_0x398f99=_0x398f99||_0x15bbca(0x223),_0x4de19b[_0x15bbca(0x160)]&&typeof _0x4de19b[_0x15bbca(0x160)][0x0]==='string'&&/^(?:If |When )/i['test'](_0x4de19b[_0x15bbca(0x160)][0x0][_0x15bbca(0x245)]())&&(_0x50fec7=_0x4de19b[_0x15bbca(0x160)][0x0][_0x15bbca(0x245)]())),/legendary resistance/gi[_0x15bbca(0x1f1)](_0xc7182f)&&(_0x5a4513=0x0,_0x107e96=null));if(_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x273)&&_0x4de19b[_0x15bbca(0x160)]){const _0x2b32bd=/finish a short rest/[_0x15bbca(0x1f1)](_0x4b54af)||/finish a short or long rest/['test'](_0x4b54af)||/finish a short rest or a long rest/[_0x15bbca(0x1f1)](_0x4b54af)||/finish a short or long rest/[_0x15bbca(0x1f1)](_0x4b54af),_0x2ef4f7=!_0x2b32bd&&/finish a long rest/[_0x15bbca(0x1f1)](_0x4b54af);if(_0x2b32bd)_0x107e96='sr';else{if(_0x2ef4f7)_0x107e96='lr';}const _0x52e560=new RegExp(_0x15bbca(0x1f2)+Consts[_0x15bbca(0x239)]['map'](_0x48eed7=>_0x48eed7[_0x15bbca(0x1cc)][_0x15bbca(0x192)]('\x20'))[_0x15bbca(0x192)]('|')+'))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20('+Consts[_0x15bbca(0x239)][_0x15bbca(0x1a5)](_0x5a530b=>_0x5a530b['tokens'][_0x15bbca(0x192)]('\x20'))[_0x15bbca(0x192)]('|')+_0x15bbca(0x1f6),'i'),_0x4f47b8=_0x52e560[_0x15bbca(0x1bd)](_0x4b54af);if(_0x4f47b8&&_0x2c9479[_0x15bbca(0x167)]){const _0x57e46a=_0x4f47b8[0x2][_0x15bbca(0x1d1)](0x0,0x3)[_0x15bbca(0x27b)](),_0x15061a=MiscUtil[_0x15bbca(0x174)](_0x2c9479[_0x15bbca(0x167)],_0x15bbca(0x1bc),'data','abilities',_0x57e46a,_0x15bbca(0x1db));if(_0x15061a!=null){let _0x21563d=Parser['getAbilityModNumber'](_0x15061a);if(_0x4f47b8[0x1]){const _0x486614=(Consts[_0x15bbca(0x239)][_0x15bbca(0x275)](_0x4e2eed=>_0x4e2eed[_0x15bbca(0x1cc)][_0x15bbca(0x192)]('\x20')===_0x4f47b8[0x1][_0x15bbca(0x245)]()['toLowerCase']())||{})[_0x15bbca(0x1d6)]||0x1;_0x21563d=_0x21563d*_0x486614;}if(_0x4f47b8[0x3]){const _0x6cb9f4=(Consts[_0x15bbca(0x239)]['find'](_0x532bb4=>_0x532bb4[_0x15bbca(0x1cc)][_0x15bbca(0x192)]('\x20')===_0x4f47b8[0x3][_0x15bbca(0x245)]()['toLowerCase']())||{})[_0x15bbca(0x1d6)]||0x1;_0x21563d=Math[_0x15bbca(0x171)](_0x6cb9f4,_0x21563d);}_0x5a4513=_0x21563d;}}}_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x273)&&_0x4de19b['entries']&&DataConverter[_0x15bbca(0x242)]['walk'](_0x4de19b[_0x15bbca(0x160)],{'object':_0x21cb17=>{const _0x4fff75=_0x15bbca;if(_0x21cb17['type']!=='abilityDc')return _0x21cb17;if(_0x16aced&&_0x25a598)return _0x21cb17;return _0x16aced=_0x16aced||'save',_0x25a598=_0x21cb17[_0x4fff75(0x17f)][0x0],_0x21cb17;},'string':_0x12e1e0=>{const _0x4d4a5d=_0x15bbca;if(_0x16aced&&_0xcd40c&&_0x25a598)return _0x12e1e0;return _0x12e1e0[_0x4d4a5d(0x1de)](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x1259c4)=>{const _0x33315e=_0x4d4a5d,_0x3e31d6=[];_0x1259c4[0x1]['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x288bdb)=>{const _0x58b112=_0x546b;_0x3e31d6[_0x58b112(0x18d)](_0x288bdb[0x1]['toLowerCase']()[_0x58b112(0x1d1)](0x0,0x3));});if(!_0x3e31d6[_0x33315e(0x27d)])return;_0x16aced=_0x16aced||'save',_0x25a598=_0x3e31d6[0x0];}),_0x12e1e0['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x9de52a)=>{const _0x43b075=_0x4d4a5d;_0x16aced=_0x16aced||_0x43b075(0x1c1),_0xcd40c=_0xcd40c||_0x9de52a[0x1][_0x43b075(0x27b)]()[_0x43b075(0x1d1)](0x0,0x3),_0x25a598=_0x25a598||_0x43b075(0x1b0);}),_0x2c9479[_0x4d4a5d(0x226)][_0x4d4a5d(0x24a)]&&_0x12e1e0[_0x4d4a5d(0x1de)](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0xca401f)=>{const _0x5817da=_0x4d4a5d;_0x16aced=_0x16aced||_0x5817da(0x1c1),_0xcd40c=_0xcd40c||_0xca401f[0x1]['toLowerCase']()[_0x5817da(0x1d1)](0x0,0x3),_0x25a598=_0x25a598||_0x5817da(0x1b0);}),_0x12e1e0;}});_0x2c9479[_0x15bbca(0x206)]==='creature'&&_0x4de19b[_0x15bbca(0x160)]&&_0x4b54af[_0x15bbca(0x1de)](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x3a6ce8)=>{const _0x179375=_0x15bbca,_0x1b74eb=Number(_0x3a6ce8[0x1]['replace'](/\s*/g,''));if(isNaN(_0x1b74eb))return;_0x16aced=_0x16aced||_0x179375(0x1c1),_0xcd40c=_0xcd40c||_0x3a6ce8[0x2][_0x179375(0x27b)]()['slice'](0x0,0x3),_0x262177=_0x1b74eb;if(_0x2c9479['pb']==null||_0x2c9479['entity']==null||Parser[_0x179375(0x23a)]['some'](_0x54a55e=>_0x2c9479[_0x179375(0x25d)][_0x54a55e]==null)){_0x25a598=_0x179375(0x276);return;}const _0x289807=_0x1b74eb-_0x2c9479['pb']-0x8,_0x52ea78=Parser[_0x179375(0x23a)][_0x179375(0x1a5)](_0xff9daf=>({'ability':_0xff9daf,'bonus':Parser['getAbilityModNumber'](_0x2c9479[_0x179375(0x25d)][_0xff9daf])})),_0x4ec899=_0x52ea78[_0x179375(0x23f)](_0x41e09d=>_0x41e09d[_0x179375(0x230)]===_0x289807);if(_0x4ec899[_0x179375(0x27d)]===0x1)_0x25a598=_0x25a598||_0x4ec899[0x0]['ability'];else _0x25a598=_0x179375(0x276);});_0x2c9479[_0x15bbca(0x206)]==='player'&&_0x4de19b[_0x15bbca(0x160)]&&DataConverter[_0x15bbca(0x242)]['walk'](_0x4de19b[_0x15bbca(0x160)],{'string':_0x5503ba=>{const _0x411410=_0x15bbca;if(_0x4d7c5c||_0x5eed65)return;_0x5503ba['replace'](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x47fdff)=>{_0x4d7c5c=Number(_0x47fdff[0x1]),_0x5eed65=_0x47fdff[0x2]['toLowerCase']();}),_0x5503ba[_0x411410(0x1de)](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x2a2412)=>{const _0x5497db=_0x411410;_0x4d7c5c=Number(_0x2a2412[0x1]),_0x5eed65=_0x2a2412[0x2][_0x5497db(0x27b)]();}),_0x5503ba[_0x411410(0x1de)](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x17d2df)=>{const _0x5ce1d6=_0x411410;_0x4d7c5c=Number(_0x17d2df[0x1]),_0x5eed65=_0x17d2df[0x2][_0x5ce1d6(0x27b)]();}),_0x5503ba[_0x411410(0x1de)](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x5f28ff)=>{const _0xb95558=_0x411410;_0x4d7c5c=Number(_0x5f28ff[0x1]),_0x5eed65=_0x5f28ff[0x2][_0xb95558(0x27b)]();}),_0x5503ba['replace'](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0x1a537f=_0x411410;_0x4d7c5c=0x1,_0x5eed65=_0x1a537f(0x1eb);}),Renderer[_0x411410(0x261)](_0x5503ba)[_0x411410(0x1de)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x3fad62)=>{const _0xd5a888=_0x411410;_0x4d7c5c=Number(_0x3fad62[0x1]),_0x5eed65=_0x3fad62[0x2][_0xd5a888(0x27b)]();});}});_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x273)&&_0x4de19b['entries']&&DataConverter[_0x15bbca(0x242)][_0x15bbca(0x257)](_0x4de19b['entries'],{'string':_0x1ad959=>{const _0x234d61=_0x15bbca;if(_0x401c77||_0x5ac8ff||_0x253462)return;_0x1ad959[_0x234d61(0x1de)](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x32b0ce)=>{const _0x4b4cff=_0x234d61;_0x401c77='attribute',_0x5ac8ff=_0x4b4cff(0x20d),_0x253462=Number(_0x32b0ce[0x1]||_0x32b0ce[0x2]);});}});let _0x267203=_0x4b54af;if((_0x2c9479[_0x15bbca(0x206)]==='player'||_0x2c9479['mode']==='vehicle')&&_0x4de19b[_0x15bbca(0x160)]&&!_0x15cda8[_0x15bbca(0x27d)]){const {str:_0x45353a,damageTupleMetas:_0x307f69}=DataConverter[_0x15bbca(0x229)](_0x4b54af);_0x267203=_0x45353a;const {damageParts:_0x55807d,formula:_0x1736a4}=DataConverter[_0x15bbca(0x1a3)](_0x307f69);_0x15cda8=_0x55807d,_0x408495=_0x408495||_0x1736a4;}return(_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x273)||_0x2c9479[_0x15bbca(0x206)]===_0x15bbca(0x1a9))&&_0x4de19b[_0x15bbca(0x160)]&&!_0x408495&&_0x267203[_0x15bbca(0x1de)](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x4ddcdf)=>{const [_0x51108f]=_0x4ddcdf[0x1]['split']('|');_0x408495=_0x51108f;}),_0x4b54af&&_0x4b54af[_0x15bbca(0x1de)](/exhales [^.]*a (\d+)-foot[- ](cone|line)/,(..._0x310902)=>{_0x1aadc9=_0x1aadc9||Number(_0x310902[0x1]),_0x1b804c=_0x1b804c||'ft',_0x485ffa=_0x485ffa||_0x310902[0x2];}),{'name':_0xc7182f,'type':_0x2c9479[_0x15bbca(0x199)],'data':{'source':_0x2c9479[_0x15bbca(0x162)]?Parser[_0x15bbca(0x1f8)](_0x2c9479[_0x15bbca(0x162)]):'','description':{'value':_0x796a45,'chat':'','unidentified':''},'damage':{'parts':_0x15cda8,'versatile':''},'duration':{'value':_0x4d7c5c,'units':_0x5eed65},'range':{'value':null,'long':null,'units':''},'requirements':_0x2225a5,'save':{'ability':_0xcd40c,'dc':_0x262177,'scaling':_0x25a598||_0x15bbca(0x276)},'activation':{'type':_0x398f99,'cost':_0x50fb47,'condition':_0x50fec7},'target':{'value':_0x1aadc9,'units':_0x1b804c,'type':_0x485ffa},'uses':{'value':_0x5a4513,'max':_0x5a4513,'per':_0x107e96},'ability':'','actionType':_0x16aced||_0x15bbca(0x1fc),'attackBonus':_0x225883,'chatFlavor':'','critical':null,'formula':_0x408495,'recharge':{'value':_0x55fa68,'charged':_0x55fa68!=null},'consume':{'type':_0x401c77,'target':_0x5ac8ff,'amount':_0x253462},..._0x3406b3||{},..._0x2c9479['additionalData']||{}},'img':_0x2c9479[_0x15bbca(0x1b1)],'flags':{..._0x57a66e||{}},'effects':[]};}static[_0xf8e2d4(0x238)](_0x2e5f96,_0x3ec362,_0x1253a8,_0x742e23){const _0x2c4f53=_0xf8e2d4,_0x277b1a=_0x1253a8===_0x2c4f53(0x185)?_0x2c4f53(0x1a0):_0x2c4f53(0x17a),_0x131960=[],_0x42cb38=_0x3ec362[_0x2c4f53(0x23b)],_0x529c7a=Math[_0x2c4f53(0x26b)](_0x42cb38[_0x2c4f53(0x27d)],_0x2e5f96[_0x2c4f53(0x27d)]);for(let _0x2e8a86=0x0;_0x2e8a86<_0x529c7a;++_0x2e8a86){const _0x2f6c8d=_0x42cb38[_0x2e8a86],_0x52c35d=_0x2e5f96[_0x2e8a86],_0x285524={'name':UtilApplications[_0x2c4f53(0x18f)](''+Parser[_0x2c4f53(0x1b5)](_0x2f6c8d[_0x2c4f53(0x198)])+_0x2f6c8d[_0x2c4f53(0x24d)]),'permission':{'default':0x0},'entryTime':Date['now'](),'content':(_0x2c4f53(0x175)+Renderer[_0x2c4f53(0x174)]()[_0x2c4f53(0x1ec)](!![])[_0x2c4f53(0x173)](_0x52c35d)+_0x2c4f53(0x25a))['replace'](new RegExp(DataConverter[_0x2c4f53(0x24c)],'g'),'@')};if(_0x742e23[_0x2c4f53(0x1b8)])_0x285524[_0x2c4f53(0x17e)]={'default':Config[_0x2c4f53(0x174)](_0x277b1a,_0x2c4f53(0x19b))};_0x131960[_0x2c4f53(0x18d)](_0x285524);}return _0x131960;}static[_0xf8e2d4(0x21e)](_0x53c597,_0x4b467b,_0x120d71){const _0x2b94ad=_0xf8e2d4;return this[_0x2b94ad(0x238)](_0x53c597,_0x4b467b,'adventure',_0x120d71);}static['getBookJournals'](_0x5da3e4,_0x11f5a1,_0x4f3ba3){const _0x143434=_0xf8e2d4;return this[_0x143434(0x238)](_0x5da3e4,_0x11f5a1,'book',_0x4f3ba3);}static async['pFillActorSkillData'](_0x32a0a7,_0x584e2a,_0x4b9302,_0x22afe4,_0xa79a82){const _0x4cb820=_0xf8e2d4;_0xa79a82=_0xa79a82||{};if(!_0x584e2a)return{};const _0x510af8=await Charactermancer_SkillSelect[_0x4cb820(0x20a)]({..._0xa79a82,'existingProficienciesFvtt':_0x32a0a7,'availableProficiencies':_0x584e2a});if(!_0x510af8)return _0x22afe4[_0x4cb820(0x1ff)]=!![];if(_0x510af8===VeCt[_0x4cb820(0x1ee)])return;const _0x56c2b5={};return _0x4b9302['skills']=_0x4b9302['skills']||{},Object[_0x4cb820(0x160)](UtilActors[_0x4cb820(0x1bb)])[_0x4cb820(0x23f)](([_0x390d1f,_0x218b69])=>_0x510af8[_0x4cb820(0x1bc)][_0x218b69])[_0x4cb820(0x188)](([_0x3edc12,_0x31accc])=>{const _0x582bb1=_0x4cb820;_0x56c2b5[_0x3edc12]=_0x510af8[_0x582bb1(0x1bc)][_0x31accc];const _0x288aac=Math[_0x582bb1(0x171)]((_0x32a0a7[_0x3edc12]||{})['value']||0x0,_0x510af8['data'][_0x31accc]?0x1:0x0,(_0x4b9302[_0x582bb1(0x16b)][_0x3edc12]||{})[_0x582bb1(0x1db)]||0x0),_0x173e31=_0x288aac>(MiscUtil[_0x582bb1(0x174)](_0x4b9302[_0x582bb1(0x16b)],_0x3edc12,_0x582bb1(0x1db))||0x0);if(_0x173e31)(_0x4b9302['skills'][_0x3edc12]=_0x4b9302['skills'][_0x3edc12]||{})[_0x582bb1(0x1db)]=_0x288aac;}),_0x56c2b5;}static async[_0xf8e2d4(0x25e)](_0x4c7664,_0x2d5480,_0x44b2cc,_0x44e627,_0x32a5ba){const _0x2bc536=_0xf8e2d4;_0x32a5ba=_0x32a5ba||{};const _0x2012c9=await Charactermancer_LanguageSelect['pGetUserInput']({..._0x32a5ba,'existingProficienciesFvtt':_0x4c7664,'availableProficiencies':_0x2d5480});if(!_0x2012c9)return _0x44e627[_0x2bc536(0x1ff)]=!![];if(_0x2012c9===VeCt[_0x2bc536(0x1ee)])return;this[_0x2bc536(0x1a4)](_0x4c7664,_0x2012c9,_0x44b2cc,{'fnGetMappedItem':_0xceeaf0=>UtilActors[_0x2bc536(0x1ba)](_0xceeaf0),'actorTraitProp':_0x2bc536(0x26e)});}static async['pFillActorToolData'](_0x1f8987,_0x2b7925,_0x4bd5fd,_0x53ecbf,_0x338fe1){const _0x7f6b8e=_0xf8e2d4;_0x338fe1=_0x338fe1||{};const _0x326b24=await Charactermancer_ToolSelect['pGetUserInput']({..._0x338fe1,'existingProficienciesFvtt':_0x1f8987,'availableProficiencies':_0x2b7925});if(!_0x326b24)return _0x53ecbf[_0x7f6b8e(0x1ff)]=!![];if(_0x326b24===VeCt[_0x7f6b8e(0x1ee)])return;this['_doApplyFormData'](_0x1f8987,_0x326b24,_0x4bd5fd,{'fnGetMappedItem':_0x5120e8=>UtilActors[_0x7f6b8e(0x1ac)](_0x5120e8),'actorTraitProp':_0x7f6b8e(0x20e)});}static[_0xf8e2d4(0x1a4)](_0x3436ba,_0x369f14,_0x1c4b7e,_0x1b1cfa){const _0x44343b=_0xf8e2d4;if(!_0x369f14)return![];_0x3436ba=_0x3436ba||{};if(!_0x369f14[_0x44343b(0x1bc)]||!Object[_0x44343b(0x1b3)](_0x369f14['data'])[_0x44343b(0x27d)])return![];const _0x20f71a=MiscUtil[_0x44343b(0x227)](_0x369f14[_0x44343b(0x1bc)]),_0x1393e2=new Set();Object['keys'](_0x20f71a)[_0x44343b(0x23f)](_0x13e772=>_0x20f71a[_0x13e772])['forEach'](_0x35e89b=>_0x1393e2[_0x44343b(0x1fb)](_0x35e89b));const _0x1eb325=new Set(),_0x317b96=[];(_0x3436ba['value']||[])[_0x44343b(0x188)](_0x4039b4=>_0x1eb325[_0x44343b(0x1fb)](_0x4039b4)),(_0x3436ba[_0x44343b(0x24f)]||'')['split'](';')[_0x44343b(0x1a5)](_0x387609=>_0x387609['trim']())[_0x44343b(0x23f)](Boolean)[_0x44343b(0x188)](_0x139652=>this[_0x44343b(0x23d)](_0x317b96,_0x139652)),_0x1393e2[_0x44343b(0x188)](_0x3b34a5=>{const _0x5e429d=_0x44343b,_0x5e01fb=_0x1b1cfa[_0x5e429d(0x265)](_0x3b34a5);if(_0x5e01fb)_0x1eb325[_0x5e429d(0x1fb)](_0x5e01fb);else this[_0x5e429d(0x23d)](_0x317b96,_0x3b34a5[_0x5e429d(0x179)]());});const _0x15403c=(_0x1c4b7e[_0x44343b(0x21f)]=_0x1c4b7e['traits']||{})[_0x1b1cfa[_0x44343b(0x1d2)]]=_0x1c4b7e[_0x44343b(0x21f)][_0x1b1cfa[_0x44343b(0x1d2)]]||{};_0x15403c[_0x44343b(0x1db)]=[..._0x1eb325][_0x44343b(0x1a5)](_0x321dc5=>_0x321dc5[_0x44343b(0x27b)]())[_0x44343b(0x1f7)](SortUtil[_0x44343b(0x1b9)]),_0x15403c['custom']=_0x317b96[_0x44343b(0x192)](';');}static[_0xf8e2d4(0x23d)](_0x1ef0d9,_0x18f771){const _0x2f6253=_0xf8e2d4,_0x590719=_0x18f771[_0x2f6253(0x245)]()[_0x2f6253(0x27b)]();if(!_0x1ef0d9[_0x2f6253(0x1e8)](_0x2ee892=>_0x2ee892[_0x2f6253(0x245)]()[_0x2f6253(0x27b)]()===_0x590719))_0x1ef0d9[_0x2f6253(0x18d)](_0x18f771);}static async[_0xf8e2d4(0x255)](_0x525c18,_0x13faca,_0xe4c687,_0x19623f){const _0x2cac84=_0xf8e2d4,_0x52a75d=await Charactermancer_Race_DamageImmunitySelect[_0x2cac84(0x20a)]({'existingFvtt':_0x525c18,'available':_0x13faca});if(!_0x52a75d)return _0x19623f[_0x2cac84(0x1ff)]=!![];if(_0x52a75d===VeCt[_0x2cac84(0x1ee)])return;const _0x8ccffc=MiscUtil[_0x2cac84(0x1c8)](_0xe4c687,'traits','di',{});_0x8ccffc[_0x2cac84(0x1db)]=[...Object[_0x2cac84(0x1b3)](_0x52a75d[_0x2cac84(0x1bc)]||{})];}static async[_0xf8e2d4(0x1a8)](_0x53fa58,_0x4751ff,_0x3e2c78,_0x5ac577){const _0xb5b977=_0xf8e2d4,_0x14bb9b=await Charactermancer_Race_DamageResistanceSelect[_0xb5b977(0x20a)]({'existingFvtt':_0x53fa58,'available':_0x4751ff});if(!_0x14bb9b)return _0x5ac577[_0xb5b977(0x1ff)]=!![];if(_0x14bb9b===VeCt[_0xb5b977(0x1ee)])return;const _0x2090b6=MiscUtil['getOrSet'](_0x3e2c78,_0xb5b977(0x21f),'dr',{});_0x2090b6[_0xb5b977(0x1db)]=[...Object['keys'](_0x14bb9b['data']||{})];}static async['pFillActorVulnerabilityData'](_0x461866,_0x4e872c,_0x90f880,_0x3f2d90){const _0x5a11ed=_0xf8e2d4,_0x3bd5b2=await Charactermancer_Race_DamageVulnerabilitySelect[_0x5a11ed(0x20a)]({'existingFvtt':_0x461866,'available':_0x4e872c});if(!_0x3bd5b2)return _0x3f2d90[_0x5a11ed(0x1ff)]=!![];if(_0x3bd5b2===VeCt[_0x5a11ed(0x1ee)])return;const _0x501e7e=MiscUtil[_0x5a11ed(0x1c8)](_0x90f880,_0x5a11ed(0x21f),'dv',{});_0x501e7e[_0x5a11ed(0x1db)]=[...Object[_0x5a11ed(0x1b3)](_0x3bd5b2['data']||{})];}static async['pFillActorConditionImmunityData'](_0xda3b59,_0x40c043,_0xc782f0,_0x39037c){const _0x54362a=_0xf8e2d4,_0x1cc9d3=await Charactermancer_Race_ConditionImmunitySelect['pGetUserInput']({'existingFvtt':_0xda3b59,'available':_0x40c043});if(!_0x1cc9d3)return _0x39037c[_0x54362a(0x1ff)]=!![];if(_0x1cc9d3===VeCt[_0x54362a(0x1ee)])return;const _0x52901f=MiscUtil[_0x54362a(0x1c8)](_0xc782f0,_0x54362a(0x21f),'ci',{});_0x52901f[_0x54362a(0x1db)]=[...Object['keys'](_0x1cc9d3['data']||{})[_0x54362a(0x1a5)](_0x4f0fd7=>_0x4f0fd7===_0x54362a(0x244)?_0x54362a(0x211):_0x4f0fd7)];}static[_0xf8e2d4(0x229)](_0x46bdca){const _0x4d3caa=_0xf8e2d4,_0x1a6ed9=[],_0xfdc2d=_0x46bdca[_0x4d3caa(0x278)](_0x4d3caa(0x183)),_0x182e0b=_0x46bdca['replace'](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x49f49c)=>{const _0x4e749d=_0x4d3caa,[,_0x292f1c,_0x1eae75,_0x521ebb,_0x3f9669,_0x5f5d01]=_0x49f49c,_0x2d2f5a=_0x292f1c!=null,_0xc904a1=_0x2d2f5a?_0x292f1c:_0x521ebb?_0x1eae75+_0x4e749d(0x27c)+_0x521ebb:_0x1eae75;if(_0x2d2f5a){const _0x196f9b=_0x46bdca[_0x4e749d(0x1d0)](/( )/g);let _0xfbc2e3=0x0;const _0x1bb9a3=[];for(let _0x4715b4=0x0;_0x4715b4<_0x196f9b[_0x4e749d(0x27d)];++_0x4715b4){_0x1bb9a3['push'](_0x196f9b[_0x4715b4]),_0xfbc2e3+=_0x196f9b[_0x4715b4][_0x4e749d(0x27d)];if(_0xfbc2e3===_0x5f5d01){const _0x262705=_0x1bb9a3[_0x4e749d(0x1d1)](-0x4);if(/^by dealing$/i['test'](_0x262705[_0x4e749d(0x192)]('')[_0x4e749d(0x245)]()))return'';}}}const _0x2b2f21={'tuple':[_0xc904a1,_0x3f9669]};return~_0xfdc2d&&_0x5f5d01>=_0xfdc2d&&(_0x2b2f21[_0x4e749d(0x1df)]=!![]),_0x1a6ed9[_0x4e749d(0x18d)](_0x2b2f21),'';});return{'str':_0x182e0b,'damageTupleMetas':_0x1a6ed9['filter'](_0x5d90fc=>_0x5d90fc['tuple'][_0x4d3caa(0x27d)])};}static[_0xf8e2d4(0x1a3)](_0x2a7480){const _0x205ca6=_0xf8e2d4;_0x2a7480=_0x2a7480||[];if(!Config['get'](_0x205ca6(0x202),_0x205ca6(0x22d)))return{'damageParts':_0x2a7480[_0x205ca6(0x1a5)](_0x12e457=>_0x12e457[_0x205ca6(0x16d)]),'formula':''};const _0x57bab2=[];let _0x23e9aa='';return _0x2a7480['forEach'](_0x20b031=>{const _0x2378b3=_0x205ca6;if(_0x23e9aa||!_0x20b031[_0x2378b3(0x1df)])return _0x57bab2[_0x2378b3(0x18d)](_0x20b031[_0x2378b3(0x16d)]);_0x23e9aa=''+_0x20b031[_0x2378b3(0x16d)][0x0]+(_0x20b031[_0x2378b3(0x16d)][0x1]?'['+_0x20b031['tuple'][0x1]+']':'');}),{'damageParts':_0x57bab2,'formula':_0x23e9aa};}static[_0xf8e2d4(0x189)](_0x251f00,_0x28043f){const _0xd9c11d=_0xf8e2d4;if(typeof _0x251f00==='number')return _0x28043f===_0xd9c11d(0x257)?_0x251f00:null;_0x251f00=_0x251f00[_0x28043f];if(_0x251f00==null)return null;if(_0x251f00[_0xd9c11d(0x20c)]!=null)return _0x251f00['number'];return Number(_0x251f00);}static[_0xf8e2d4(0x182)](_0x4462bc){const _0x5a2bce=_0xf8e2d4;if(typeof _0x4462bc===_0x5a2bce(0x20c))return![];return!!_0x4462bc[_0x5a2bce(0x20b)];}static[_0xf8e2d4(0x219)](_0x23e0a2){const _0xe18665=_0xf8e2d4;let _0x1d6326=0x0,_0x19c593=0x0;const _0x3ac31c=/range (\d+)\/(\d+) ft/gi[_0xe18665(0x1bd)](_0x23e0a2);if(_0x3ac31c)_0x1d6326=Number(_0x3ac31c[0x1]),_0x19c593=Number(_0x3ac31c[0x2]);else{const _0x5ab602=/reach (\d+) ft/gi[_0xe18665(0x1bd)](_0x23e0a2);_0x5ab602&&(_0x1d6326=Number(_0x5ab602[0x1]));}return{'rangeShort':_0x1d6326,'rangeLong':_0x19c593};}static[_0xf8e2d4(0x269)](_0x1d4ca5){const _0x32248e=_0xf8e2d4;let _0x4c9ed1='',_0x5ea0ab=![];const _0x28cc21=/{@atk ([^}]+)}/gi['exec'](_0x1d4ca5);if(_0x28cc21){_0x5ea0ab=!![];if(_0x28cc21[0x1]['includes']('s')){if(_0x28cc21[0x1][_0x32248e(0x1c9)]('m'))_0x4c9ed1=_0x32248e(0x246);else _0x4c9ed1=_0x32248e(0x181);}else{if(_0x28cc21[0x1][_0x32248e(0x1c9)]('m'))_0x4c9ed1=_0x32248e(0x1f0);else{if(_0x28cc21[0x1][_0x32248e(0x1c9)]('r'))_0x4c9ed1='rwak';}}}return{'actionType':_0x4c9ed1,'isAttack':_0x5ea0ab};}static[_0xf8e2d4(0x266)](_0x4f3756){const _0x195708=_0xf8e2d4;return _0x4f3756=MiscUtil[_0x195708(0x227)](_0x4f3756),Object[_0x195708(0x1b3)](_0x4f3756)[_0x195708(0x23f)](_0x2d5861=>/^_f[A-Z]/[_0x195708(0x1f1)](_0x2d5861))[_0x195708(0x188)](_0x1b692d=>delete _0x4f3756[_0x1b692d]),this[_0x195708(0x264)](_0x4f3756),_0x4f3756;}static['_getCleanOriginalData_recurse'](_0x7938b8){const _0x4219e9=_0xf8e2d4;if(_0x7938b8==null)return;if(typeof _0x7938b8!==_0x4219e9(0x1c0))return;_0x7938b8 instanceof Array?_0x7938b8['forEach'](_0x5cfaf1=>this[_0x4219e9(0x264)](_0x5cfaf1)):Object['entries'](_0x7938b8)[_0x4219e9(0x188)](([_0x1d867a,_0x6ea6f2])=>{const _0x1f92c4=_0x4219e9;if(_0x1d867a[_0x1f92c4(0x1c9)]('$'))delete _0x7938b8[_0x1d867a],console[_0x1f92c4(0x217)](...LGT,_0x1f92c4(0x250)+_0x1d867a+_0x1f92c4(0x1a7));else this[_0x1f92c4(0x264)](_0x6ea6f2);});}}DataConverter['WALKER_READONLY_GENERIC']=MiscUtil[_0xf8e2d4(0x1a1)]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0xf8e2d4(0x17b)]}),DataConverter[_0xf8e2d4(0x24c)]=_0xf8e2d4(0x24b),DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']=_0xf8e2d4(0x1b1),DataConverter['_COMPENDIUM_CACHE_KEY_DATA']='data',DataConverter['_COMPENDIUM_IMAGE_LAST_VALUES']={},DataConverter[_0xf8e2d4(0x22c)]={},DataConverter[_0xf8e2d4(0x1c7)]=new VeLock(),DataConverter[_0xf8e2d4(0x18a)]={},DataConverter['_COMPENDIUM_ACTOR_CACHES']={},DataConverter[_0xf8e2d4(0x249)]=new VeLock(),DataConverter['_SOURCE_PAGE_PREFIX']=_0xf8e2d4(0x205),DataConverter[_0xf8e2d4(0x240)]=new RegExp(DataConverter[_0xf8e2d4(0x236)]+_0xf8e2d4(0x215)),DataConverter['ITEM_TYPES_ACTOR_TOOLS']=new Set(['AT','GS',_0xf8e2d4(0x267),'T']),DataConverter[_0xf8e2d4(0x213)]=new Set(['M','R']),DataConverter[_0xf8e2d4(0x1e6)]=new Set(['LA','MA','HA','S']);export{DataConverter};