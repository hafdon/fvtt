const _0x362d=['conditionals','getAdventureJournals','ordinal','getItemSource','get','player','toLowerCase','bonus','copy','_pMutActorUpdate_mutFromSideMod_handleProp','some','_doApplyFormData_doCheckAddCustomItem','pGetUserInput','_pMutActorUpdate_mutFromProficiencySetCustom','actorTokenMod','pGetIconLookup','type','map','replace','name','isAddPageNumberToSource','class','_pGetCacheAndGetCompendiumData_getCompendiums','importOptionalFeature','render','cacheId','getDamageTuples','_pGetCacheAndGetCompendiumData','unshift','ITEM_TYPES_ACTOR_TOOLS','tokens','set','mod','split','sort','min','img','ascSortLower','scalarAdd','optionalfeature','getCleanEntityName','_SOURCE_PAGE_PREFIX_RE','ITEM_TYPES_ACTOR_WEAPONS','\x5cd+','getOrSet','fnGetMappedItem','value','importItem','SYM_UI_SKIP','walk','pFillActorLanguageData',')\x5c))?','raceFeature','isSkipDescription','_SOURCE_PAGE_PREFIX','\x20([^}]+)}','isAddPermission','getSourceWithPagePart','toolProf','_getCachedCompendiumData','SKILL_ABV_TO_FULL','entity','_pMutActorUpdate_addValidSkills','importCreature','pFillActorToolData','textToNumber','getTagUids','lgt','\x20(Level\x20','URL_TO_HASH_BUILDER','_pHandleConfigUpdate','srd','pFillActorVulnerabilityData','pFillActorImmunityData','day','custom','Unknown\x20cache\x20ID\x20\x22','heavy','_pMutActorUpdate_pMutFromSideSkillProfs','toTitleCase','skill','SRD_COMPENDIUMS_SPELLS','_COMPENDIUM_CACHE_KEY_IMAGE','init','size','add','_doApplyFormData','length','subclassFeature','disease','hover','_COMPENDIUM_IMAGE_LAST_VALUES','_pMutActorUpdate_pMutFromSkillProfs','page','SRD_COMPENDIUMS_RACES_AND_FEATURES','race','importVehicle','mergeMap','other','importBook','actor','index','feat','test','generic','SRD_COMPENDIUMS_CLASSES','traits','pFillActorResistanceData','abilities','sim','imgCompendiumFeatures','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','_pMutActorUpdate_mutFromProficiencySetFoundry','imgCompendium','adventure','ability','string','<PLUT_SYM__AT>','prop','getMappedLanguage','\x20pg.\x20','stripTags','_pMutActorUpdate_pMutFromEntries','max','_COMPENDIUM_CACHES_LOCK','heavy\x20armor','renderDepth','flat','proficient','mar','SKILL_TO_ATB_ABV','unit','importRace','import','action','depth','INS','contents','<div\x20class=\x22w-100\x20overflow-x-hidden\x22>','pLock','med','resources.primary.value','keys','weaponProf','TERMS_COUNT','baseCacheId','_getAdventureBookJournals','indexOf','skillProficiencies','___','hvy','languages','scalar','classFeature','PG_ITEMS','join','getNameWithSourcePart','SYM_AT','getAbilityScore','importClass','importSpell','pGetCompendiumData','pCacheAndGetHash','WALKER_READONLY_GENERIC','modeOptions','fvttType','_pMutActorUpdate_mutFromSideDataMod','count','short\x20rest','isChannelDivinity','none','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','skills','sourceJsonToAbv','spell','actorDataMod','filter','level','packs','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','Unhandled\x20mode\x20\x22','includes','SRD_COMPENDIUMS_ITEMS','_COMPENDIUM_CACHES','_pMutActorUpdate_mutFromSideMod','data','monster','condition','isAddSourceToName','unitShort','light\x20armor','isCancelled','slice','unpackUid','has','now','SRD_COMPENDIUMS_CLASS_FEATURES','getMappedTool','forEach','ABIL_ABVS','trim','_pMutActorUpdate_mutFromSideTokenMod','mode','simple\x20weapons','medium','push','scalarAddUnit','actorTraitProp','exec','getEntryDescription','attributes','pMutActorUpdate','creature','item','martial\x20weapons','collection','unlock','_COMPENDIUM_CACHE_KEY_DATA','setFirstSection','SRD_COMPENDIUMS_CREATURES','source','getAbilityModNumber','stringify','_displayName','fnGetAliases','reaction','save','getItemActorPassive','_pHandleConfigUpdate_pFlushCompendiumImageCaches','deepKeys','diseased','pFillActorSkillData','items','every','pFillActorConditionImmunityData','light','armorProf','_pCacheCompendium','entries','token','additionalData','sideData','getSrdCompendiumEntity','</div>'];(function(_0x521032,_0x362d22){const _0x4d9a97=function(_0x3384c2){while(--_0x3384c2){_0x521032['push'](_0x521032['shift']());}};_0x4d9a97(++_0x362d22);}(_0x362d,0xc6));const _0x4d9a=function(_0x521032,_0x362d22){_0x521032=_0x521032-0x0;let _0x4d9a97=_0x362d[_0x521032];return _0x4d9a97;};const _0x5521ad=_0x4d9a;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillSelect,Charactermancer_AbilityScoreSelect,Charactermancer_LanguageSelect,Charactermancer_ToolSelect,Charactermancer_DamageImmunitySelect,Charactermancer_DamageResistanceSelect,Charactermancer_DamageVulnerabilitySelect,Charactermancer_ConditionImmunitySelect}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';class DataConverter{static[_0x5521ad('0x81')](){const _0x1a5a79=_0x5521ad;Hooks['on']('plutonium.configUpdate',()=>this[_0x1a5a79('0x74')]()),this[_0x1a5a79('0x74')]();}static async[_0x5521ad('0x74')](){const _0x620d6=_0x5521ad;await this[_0x620d6('0x1e')]();}static async[_0x5521ad('0x1e')](){const _0x57758b=_0x5521ad,_0x3384c2=[[_0x57758b('0x6d'),_0x57758b('0x9f')],[_0x57758b('0x8e'),_0x57758b('0x9f')],[_0x57758b('0xcd'),_0x57758b('0x9f')],['importClass',_0x57758b('0x9c')],[_0x57758b('0x5d'),'imgCompendium'],[_0x57758b('0xce'),_0x57758b('0x9f')],[_0x57758b('0xb2'),_0x57758b('0x9c')],[_0x57758b('0x45'),_0x57758b('0x9f')]];await DataConverter[_0x57758b('0xaa')][_0x57758b('0xb9')]();try{_0x3384c2[_0x57758b('0x0')](_0x2b6887=>{const _0x54e4b8=_0x57758b,_0x140f64=_0x2b6887[_0x54e4b8('0xc9')](_0x54e4b8('0xc3')),_0x5d73b5=DataConverter[_0x54e4b8('0x89')][_0x140f64]||'',_0x1fbaa6=Config[_0x54e4b8('0x32')](_0x2b6887[0x0],_0x2b6887[0x1])||'';if(_0x5d73b5[_0x54e4b8('0x2')]()!==_0x1fbaa6[_0x54e4b8('0x2')]()){if(DataConverter[_0x54e4b8('0xe5')][DataConverter[_0x54e4b8('0x80')]])delete DataConverter[_0x54e4b8('0xe5')][DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']][_0x140f64];}DataConverter[_0x54e4b8('0x89')][_0x140f64]=_0x1fbaa6;});}finally{DataConverter[_0x57758b('0xaa')][_0x57758b('0x12')]();}}static[_0x5521ad('0xca')](_0x3f9cd2,_0x4e4cd7){const _0x862c26=_0x5521ad;return''+(_0x4e4cd7||Renderer[_0x862c26('0xa7')](_0x3f9cd2[_0x862c26('0x19')]||_0x3f9cd2[_0x862c26('0x41')]||''))+(_0x3f9cd2[_0x862c26('0x16')]&&Config[_0x862c26('0x32')](_0x862c26('0xb3'),_0x862c26('0xea'))?'\x20('+Parser[_0x862c26('0xdb')](_0x3f9cd2[_0x862c26('0x16')])+')':'');}static[_0x5521ad('0x67')](_0x161fda){const _0x16a2fc=_0x5521ad;return''+Parser[_0x16a2fc('0xdb')](_0x161fda[_0x16a2fc('0x16')])+(Config[_0x16a2fc('0x32')](_0x16a2fc('0xb3'),_0x16a2fc('0x42'))&&_0x161fda[_0x16a2fc('0x8b')]?''+DataConverter[_0x16a2fc('0x64')]+_0x161fda['page']:'');}static[_0x5521ad('0x31')](_0x410972){const _0x26102c=_0x5521ad;let _0x36ad4f=_0x410972[_0x26102c('0xe7')]||{};if(_0x36ad4f['data'])_0x36ad4f=_0x36ad4f[_0x26102c('0xe7')];const _0x5da86e=_0x36ad4f[_0x26102c('0x16')];if(!_0x5da86e)return _0x5da86e;return _0x5da86e[_0x26102c('0x4f')](DataConverter[_0x26102c('0x57')])[0x0]['trim']();}static[_0x5521ad('0x70')](_0x465505,_0x55daa1){const _0x1233e1=_0x5521ad,_0x157ba5=new RegExp('{@'+_0x465505+_0x1233e1('0x65'),'gi'),_0x3f2ed9=[];return _0x55daa1[_0x1233e1('0x40')](_0x157ba5,(..._0x210027)=>_0x3f2ed9[_0x1233e1('0x7')](_0x210027[0x1])),_0x3f2ed9;}static async['pGetIconImage'](_0x311370,_0x4e612d){const _0x13f095=_0x5521ad;switch(_0x311370){case _0x13f095('0x94'):case _0x13f095('0xdc'):{const _0x585165=await Vetools[_0x13f095('0x3d')](_0x311370),_0x5597ef=MiscUtil[_0x13f095('0x32')](_0x585165,_0x4e612d[_0x13f095('0x16')],_0x4e612d[_0x13f095('0x41')]);if(!_0x5597ef)return null;return'modules/'+SharedConsts['MODULE_NAME']+'/'+_0x5597ef;}default:return null;}}static async['pGetCompendiumImage'](_0x4fd1e4,_0xd742d2,_0x3c9c1f){const _0x293509=_0x5521ad;return this[_0x293509('0x49')](DataConverter[_0x293509('0x80')],_0x4fd1e4,_0xd742d2,_0x3c9c1f);}static async[_0x5521ad('0x49')](_0x2b94d8,_0x24a725,_0x22db8e,_0x52d935){const _0x4f99af=_0x5521ad;_0x52d935=_0x52d935||{};if(!_0x22db8e[_0x4f99af('0x75')])return null;let _0x2c7f01=[(typeof _0x22db8e[_0x4f99af('0x75')]===_0x4f99af('0xa2')?_0x22db8e['srd']:_0x22db8e['name'])[_0x4f99af('0x34')]()[_0x4f99af('0x2')]()];if(_0x22db8e[_0x4f99af('0x19')])_0x2c7f01[_0x4f99af('0x7')](_0x22db8e[_0x4f99af('0x19')][_0x4f99af('0x34')]()[_0x4f99af('0x2')]());if(_0x52d935[_0x4f99af('0x1f')]){_0x2c7f01=_0x2c7f01['map'](_0x55aa0d=>({'name':_0x55aa0d}));if(_0x52d935[_0x4f99af('0x1a')]){const _0x2d527a=_0x52d935[_0x4f99af('0x1a')](_0x22db8e);_0x2d527a['forEach'](_0x627823=>_0x627823[_0x4f99af('0x41')]=_0x627823[_0x4f99af('0x41')]?_0x627823['name'][_0x4f99af('0x34')]()['trim']():_0x627823['name']),_0x2c7f01[_0x4f99af('0x4a')](..._0x2d527a);}}else{if(_0x52d935[_0x4f99af('0x1a')])_0x2c7f01[_0x4f99af('0x7')](..._0x52d935[_0x4f99af('0x1a')](_0x22db8e)[_0x4f99af('0x3f')](_0x1a27d7=>_0x1a27d7[_0x4f99af('0x34')]()['trim']()));}let _0x31d7dc;switch(_0x2b94d8){case DataConverter[_0x4f99af('0x80')]:{switch(_0x24a725){case'spell':_0x31d7dc=this[_0x4f99af('0x44')](Config['get'](_0x4f99af('0xce'),_0x4f99af('0x9f')));break;case _0x4f99af('0xe8'):_0x31d7dc=this[_0x4f99af('0x44')](Config['get'](_0x4f99af('0x6d'),_0x4f99af('0x9f')));break;case _0x4f99af('0xf'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')]('importItem',_0x4f99af('0x9f')));break;case _0x4f99af('0x43'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')](_0x4f99af('0xcd'),_0x4f99af('0x9f')));break;case _0x4f99af('0xc7'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')](_0x4f99af('0xcd'),_0x4f99af('0x9c')));break;case _0x4f99af('0x86'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')](_0x4f99af('0xcd'),_0x4f99af('0x9c')));break;case _0x4f99af('0x55'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')](_0x4f99af('0x45'),'imgCompendium'));break;case _0x4f99af('0x8d'):_0x31d7dc=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x4f99af('0x32')](_0x4f99af('0xb2'),_0x4f99af('0x9f')));break;case'raceFeature':_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x32')]('importRace',_0x4f99af('0x9c')));break;default:return null;}break;}case DataConverter[_0x4f99af('0x13')]:{switch(_0x24a725){case _0x4f99af('0xdc'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x7f')]);break;case _0x4f99af('0xe8'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x15')]);break;case _0x4f99af('0xf'):_0x31d7dc=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x4f99af('0xe4')]);break;case _0x4f99af('0x43'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x97')]);break;case _0x4f99af('0xc7'):_0x31d7dc=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x4f99af('0xf2')]);break;case _0x4f99af('0x86'):_0x31d7dc=this[_0x4f99af('0x44')](Config['SRD_COMPENDIUMS_CLASS_FEATURES']);break;case _0x4f99af('0x55'):_0x31d7dc=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['SRD_COMPENDIUMS_OPTIONAL_FEATURES']);break;case'race':_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x8c')]);break;case _0x4f99af('0x62'):_0x31d7dc=this[_0x4f99af('0x44')](Config[_0x4f99af('0x8c')]);break;default:return null;}break;}default:throw new Error(_0x4f99af('0x7a')+_0x2b94d8+'\x22');}if(!_0x31d7dc[_0x4f99af('0x85')])return null;_0x52d935[_0x4f99af('0x1f')]&&(_0x2b94d8={'baseCacheId':_0x2b94d8,'deepKeys':_0x52d935[_0x4f99af('0x1f')],'cacheId':[_0x2b94d8,..._0x52d935['deepKeys'][_0x4f99af('0x50')](SortUtil[_0x4f99af('0x53')])][_0x4f99af('0xc9')]('__')});await DataConverter['_COMPENDIUM_CACHES_LOCK']['pLock']();try{for(const _0x159b11 of _0x2c7f01){for(const _0x308525 of _0x31d7dc){if(!this['_isCompendiumCached'](_0x2b94d8,_0x308525))await this[_0x4f99af('0x27')](_0x2b94d8,_0x308525);const _0x1764be=this[_0x4f99af('0x69')](_0x2b94d8,_0x308525,_0x159b11);if(_0x1764be)return _0x1764be;}}}finally{DataConverter[_0x4f99af('0xaa')][_0x4f99af('0x12')]();}}static['_pGetCacheAndGetCompendiumData_getCompendiums'](_0x5dd1ba){const _0x1fd3d7=_0x5521ad;return _0x5dd1ba=typeof _0x5dd1ba===_0x1fd3d7('0xa2')?_0x5dd1ba['split'](',')[_0x1fd3d7('0x3f')](_0x3b4067=>_0x3b4067['trim']()[_0x1fd3d7('0x34')]()):_0x5dd1ba[_0x1fd3d7('0x3f')](_0x4917fa=>_0x4917fa['toLowerCase']()),_0x5dd1ba[_0x1fd3d7('0x3f')](_0x5bee74=>game[_0x1fd3d7('0xe0')]['find'](_0x52990a=>_0x52990a[_0x1fd3d7('0x11')][_0x1fd3d7('0x34')]()===_0x5bee74))[_0x1fd3d7('0xde')](Boolean);}static async[_0x5521ad('0x2c')](_0x213f73,_0x59be9d,_0x4ae21a){const _0x1e703d=_0x5521ad;return this['_pGetCacheAndGetCompendiumData'](DataConverter[_0x1e703d('0x13')],_0x213f73,_0x59be9d,_0x4ae21a);}static['_isCompendiumCached'](_0x2bf8e0,_0x1b9414){const _0x1c28b2=_0x5521ad;return _0x2bf8e0=_0x2bf8e0[_0x1c28b2('0x47')]||_0x2bf8e0,!!MiscUtil[_0x1c28b2('0x32')](DataConverter[_0x1c28b2('0xe5')],_0x2bf8e0,_0x1b9414[_0x1c28b2('0x11')]);}static async[_0x5521ad('0x27')](_0x998d9e,_0x443d16){const _0xb22ceb=_0x5521ad;let _0x17cb0a;if(_0x998d9e[_0xb22ceb('0xbf')])_0x17cb0a=!![];else switch(_0x998d9e){case DataConverter[_0xb22ceb('0x80')]:_0x17cb0a=![];break;case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:_0x17cb0a=!![];break;default:throw new Error(_0xb22ceb('0x7a')+_0x998d9e+'\x22');}const _0x1c831e=await UtilCompendium[_0xb22ceb('0xcf')](_0x443d16,_0x17cb0a),_0x371a91={};MiscUtil[_0xb22ceb('0x5a')](DataConverter[_0xb22ceb('0xe5')],_0x998d9e[_0xb22ceb('0x47')]||_0x998d9e,_0x443d16['collection'],_0x371a91);if(!_0x1c831e)return;if(_0x998d9e['baseCacheId'])_0x1c831e[_0xb22ceb('0x0')](_0x3e564b=>_0x371a91[_0x3e564b[_0xb22ceb('0x41')]['toLowerCase']()]=MiscUtil['copy'](_0x3e564b[_0xb22ceb('0xe7')]));else switch(_0x998d9e){case DataConverter[_0xb22ceb('0x80')]:_0x1c831e['forEach'](_0x3107de=>_0x371a91[_0x3107de[_0xb22ceb('0x41')][_0xb22ceb('0x34')]()]=_0x3107de[_0xb22ceb('0x52')]);break;case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:_0x1c831e[_0xb22ceb('0x0')](_0x201e03=>_0x371a91[_0x201e03['name']['toLowerCase']()]=MiscUtil[_0xb22ceb('0x36')](_0x201e03[_0xb22ceb('0xe7')]));break;default:throw new Error(_0xb22ceb('0x7a')+_0x998d9e+'\x22');}}static['_getCachedCompendiumData'](_0x21c1b0,_0x25f555,_0x33498c){const _0x54ac9c=_0x5521ad,_0x2928dc=MiscUtil['get'](DataConverter[_0x54ac9c('0xe5')],_0x21c1b0['cacheId']||_0x21c1b0,_0x25f555[_0x54ac9c('0x11')]);if(!_0x2928dc)return null;const _0x1bf69a=_0x2928dc[_0x33498c[_0x54ac9c('0x41')]||_0x33498c];if(!_0x1bf69a||typeof _0x33498c===_0x54ac9c('0xa2'))return _0x1bf69a;const _0x10b6af=Object['entries'](_0x33498c)[_0x54ac9c('0xde')](([_0x1cfeba])=>_0x1cfeba!==_0x54ac9c('0x41'))[_0x54ac9c('0x23')](([_0x463646,_0x52a528])=>{const _0xf8d039=_0x54ac9c;if(typeof _0x52a528===_0xf8d039('0xa2'))_0x52a528=_0x52a528[_0xf8d039('0x34')]()['trim']();let _0x269c55;const _0x649629=_0x463646[_0xf8d039('0x4f')]('.');for(const _0x547a5c of _0x649629){_0x269c55=(_0x269c55||_0x1bf69a)[_0x547a5c];if(_0x269c55===undefined)return![];}if(typeof _0x269c55===_0xf8d039('0xa2'))_0x269c55=_0x269c55['trim']()[_0xf8d039('0x34')]();return _0x269c55===_0x52a528;});if(!_0x10b6af)return null;switch(_0x21c1b0['baseCacheId']){case DataConverter[_0x54ac9c('0x80')]:return _0x1bf69a[_0x54ac9c('0x52')];case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:return _0x1bf69a;default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x21c1b0[_0x54ac9c('0xbf')]+'\x22');}}static[_0x5521ad('0xb')](_0x134e4b,_0x517fa4){const _0x245452=_0x5521ad;_0x517fa4=_0x517fa4||{},_0x517fa4[_0x245452('0xa4')]=_0x517fa4[_0x245452('0xa4')]||_0x245452('0x28');let _0x141f96='';return _0x134e4b[_0x517fa4[_0x245452('0xa4')]]&&(_0x141f96=Renderer['get']()[_0x245452('0x14')](!![])[_0x245452('0x46')]({'type':'entries','entries':_0x134e4b[_0x517fa4['prop']]},_0x517fa4[_0x245452('0xb5')]!=null?_0x517fa4[_0x245452('0xb5')]:0x2)),_0x141f96;}static async[_0x5521ad('0xd')](_0xc0ae2a,_0x5c5b76,_0x88de8e,_0x2cf305){const _0x2514bb=_0x5521ad;_0x2cf305=_0x2cf305||{},this[_0x2514bb('0xd4')](_0xc0ae2a,_0x5c5b76,_0x2cf305),this[_0x2514bb('0x3')](_0xc0ae2a,_0x5c5b76,_0x2cf305),await this[_0x2514bb('0x7c')](_0xc0ae2a,_0x5c5b76,_0x88de8e,_0x2cf305);if(_0x2cf305[_0x2514bb('0xed')])return;await this[_0x2514bb('0xa8')](_0xc0ae2a,_0x5c5b76,_0x88de8e,_0x2cf305);}static[_0x5521ad('0xd4')](_0x22879a,_0x5a2ff6,_0x2240c1){const _0x4f6cc6=_0x5521ad;return this[_0x4f6cc6('0xe6')](_0x22879a,_0x5a2ff6,_0x2240c1,_0x4f6cc6('0xdd'),_0x4f6cc6('0xe7'));}static[_0x5521ad('0x3')](_0x2e8514,_0xfa524b,_0x5e5a1b){const _0x2f2d13=_0x5521ad;return this[_0x2f2d13('0xe6')](_0x2e8514,_0xfa524b,_0x5e5a1b,_0x2f2d13('0x3c'),_0x2f2d13('0x29'));}static['_pMutActorUpdate_mutFromSideMod'](_0x3ac6aa,_0x49d27d,_0x5a4d33,_0x1a34e3,_0x39eeed){const _0x169e7f=_0x5521ad;if(!_0x5a4d33[_0x169e7f('0x2b')]||!_0x5a4d33[_0x169e7f('0x2b')][_0x1a34e3])return;Object['entries'](_0x5a4d33[_0x169e7f('0x2b')][_0x1a34e3])[_0x169e7f('0x0')](([_0x4ab51d,_0x468f93])=>this[_0x169e7f('0x37')](_0x3ac6aa,_0x49d27d,_0x5a4d33,_0x1a34e3,_0x39eeed,_0x4ab51d,_0x468f93));}static[_0x5521ad('0x37')](_0x3e4897,_0x5c563c,_0x14210b,_0x265c1f,_0x53250d,_0x552577,_0x28a68b){const _0x3dc84b=_0x5521ad,_0x394e41=_0x552577[_0x3dc84b('0x4f')]('.');if(_0x552577==='_'){_0x28a68b[_0x3dc84b('0x0')](_0x235af6=>{const _0x500b98=_0x3dc84b;switch(_0x235af6['mode']){case _0x500b98('0x2e'):{for(const _0x1cc040 of _0x235af6[_0x500b98('0x2e')]){window['PLUT_CONTEXT']={'actor':_0x3e4897};if(_0x1cc040['condition']&&!eval(_0x1cc040[_0x500b98('0xe9')]))continue;Object[_0x500b98('0x28')](_0x1cc040[_0x500b98('0x4e')])['forEach'](([_0x37ed39,_0x5d2427])=>this[_0x500b98('0x37')](_0x3e4897,_0x5c563c,_0x14210b,_0x265c1f,_0x53250d,_0x37ed39,_0x5d2427));break;}break;}default:throw new Error(_0x500b98('0xe2')+_0x235af6[_0x500b98('0x4')]+'\x22');}});return;}const _0x257024=MiscUtil[_0x3dc84b('0x32')](_0x3e4897,_0x3dc84b('0xe7'),_0x53250d,..._0x394e41),_0x4245c6=MiscUtil[_0x3dc84b('0x32')](_0x5c563c,_0x53250d,..._0x394e41),_0x5aced0=_0x4245c6||_0x257024;_0x28a68b[_0x3dc84b('0x0')](_0x3d3b6f=>{const _0x57436e=_0x3dc84b;switch(_0x3d3b6f['mode']){case'appendIfNotExistsArr':{const _0x341a6c=MiscUtil['copy'](_0x5aced0||[]),_0x59256b=[..._0x341a6c];_0x59256b[_0x57436e('0x7')](..._0x3d3b6f[_0x57436e('0x22')]['filter'](_0x1a78ae=>!_0x341a6c[_0x57436e('0x38')](_0x4ecc33=>CollectionUtil['deepEquals'](_0x1a78ae,_0x4ecc33)))),MiscUtil[_0x57436e('0x4d')](_0x5c563c,_0x53250d,..._0x394e41,_0x59256b);break;}case _0x57436e('0x54'):{MiscUtil[_0x57436e('0x4d')](_0x5c563c,_0x53250d,..._0x394e41,_0x3d3b6f['scalar']+_0x5aced0||0x0);break;}case _0x57436e('0x8'):{const _0x1d5d12=(''+(_0x5aced0||0x0))[_0x57436e('0x34')](),_0x1a9c1e=_0x513b1f=>{const _0x172ede=_0x57436e,_0x4aae31=_0x1d5d12[_0x172ede('0xc1')](_0x513b1f['toLowerCase']());let _0x4a68de=_0x5aced0['slice'](0x0,_0x4aae31);const _0x1e052a=_0x5aced0[_0x172ede('0xee')](_0x4aae31),_0x124364=_0x4a68de['endsWith']('\x20');_0x4a68de=_0x4a68de[_0x172ede('0x2')]();if(!isNaN(_0x4a68de)){const _0x6e0391=''+(_0x3d3b6f[_0x172ede('0xc6')]+Number(_0x4a68de))+(_0x124364?'\x20':'')+_0x1e052a;MiscUtil[_0x172ede('0x4d')](_0x5c563c,_0x53250d,..._0x394e41,_0x6e0391);}};if(!_0x5aced0)MiscUtil[_0x57436e('0x4d')](_0x5c563c,_0x53250d,..._0x394e41,_0x3d3b6f[_0x57436e('0xc6')]+'\x20'+(_0x3d3b6f[_0x57436e('0xeb')]||_0x3d3b6f[_0x57436e('0xb1')]));else{if(_0x3d3b6f['unit']&&_0x1d5d12['includes'](_0x3d3b6f[_0x57436e('0xb1')][_0x57436e('0x34')]()))_0x1a9c1e(_0x3d3b6f['unit']);else _0x3d3b6f[_0x57436e('0xeb')]&&_0x1d5d12[_0x57436e('0xe3')](_0x3d3b6f[_0x57436e('0xeb')][_0x57436e('0x34')]())&&_0x1a9c1e(_0x3d3b6f[_0x57436e('0xeb')]);}break;}case _0x57436e('0x4d'):{MiscUtil[_0x57436e('0x4d')](_0x5c563c,_0x53250d,..._0x394e41,MiscUtil[_0x57436e('0x36')](_0x3d3b6f['value']));break;}default:throw new Error(_0x57436e('0xe2')+_0x3d3b6f[_0x57436e('0x4')]+'\x22');}});}static['_pMutActorUpdate_pMutFromSideSkillProfs'](_0x559b56,_0x5264a0,_0x570c44,_0x5d3921){const _0x4eb05b=_0x5521ad;if(!_0x5d3921[_0x4eb05b('0x2b')]||!_0x5d3921[_0x4eb05b('0x2b')][_0x4eb05b('0xc2')])return;return this[_0x4eb05b('0x8a')](_0x559b56,_0x5264a0,_0x570c44,_0x5d3921[_0x4eb05b('0x2b')][_0x4eb05b('0xc2')],_0x5d3921);}static async[_0x5521ad('0x8a')](_0x5e0906,_0x4fca10,_0x48a321,_0x50e5f7,_0x479b59){const _0x294985=_0x5521ad,_0x191bf8=MiscUtil[_0x294985('0x5a')](_0x4fca10,_0x294985('0xe7'),{});await DataConverter['pFillActorSkillData'](MiscUtil[_0x294985('0x32')](_0x5e0906,_0x294985('0xe7'),'data',_0x294985('0xda')),_0x50e5f7,_0x191bf8,_0x479b59,{'titlePrefix':_0x48a321[_0x294985('0x41')]+_0x294985('0x72')+_0x48a321[_0x294985('0xdf')]+')'});}static async['_pMutActorUpdate_pMutFromLanguageProfs'](_0x26a865,_0x3dc168,_0x2b6611,_0x40606f,_0x41313b){const _0x3299ef=_0x5521ad,_0x1e4d30=MiscUtil[_0x3299ef('0x5a')](_0x3dc168,_0x3299ef('0xe7'),{});await DataConverter['pFillActorLanguageData'](MiscUtil[_0x3299ef('0x32')](_0x26a865,_0x3299ef('0xe7'),_0x3299ef('0xe7'),_0x3299ef('0x98'),_0x3299ef('0xc5')),_0x40606f,_0x1e4d30,_0x41313b,{'titlePrefix':_0x2b6611['name']+_0x3299ef('0x72')+_0x2b6611['level']+')'});}static async[_0x5521ad('0xa8')](_0x381972,_0xa9dde1,_0x2a0c43,_0x197516){const _0x1a6399=_0x5521ad;if(!_0x2a0c43[_0x1a6399('0x28')])return;const _0x9d4306=new Set(),_0x5f3349=new Set(),_0x53aab2=new Set(),_0x50ad73=new Set(),_0x4900d7=new Set(),_0x2d4d4a=new Set(),_0xd5f87f=new Set(),_0x4832b1=new Set(),_0x1845a7=[],_0x5ae1fc=[],_0x32fbce=new Set();DataConverter[_0x1a6399('0xd1')][_0x1a6399('0x5f')](_0x2a0c43[_0x1a6399('0x28')],{'string':_0x44834b=>{const _0x20e494=_0x1a6399;_0x44834b[_0x20e494('0x40')](/(?:you|s?he or s?he) ([^.!?]*? )?gains? proficiency (?:with|in (?:either )?(?: the)?)(.*?)(?:[.!?]|$)/gi,(..._0x22d387)=>{const _0x5bdabe=_0x20e494,[_0xf8123e,_0x5881de,_0x45f66a]=_0x22d387;if(_0x5881de&&_0x5881de['split'](/\W/g)[_0x5bdabe('0x38')](_0x478ac0=>_0x478ac0[_0x5bdabe('0x2')]()['toLowerCase']()==='instead'))return;const _0x2c5735=this['getTagUids'](_0x5bdabe('0xf'),_0x45f66a);for(const _0x252cf0 of _0x2c5735){const _0x820c6b=DataUtil[_0x5bdabe('0x96')][_0x5bdabe('0xef')](_0x252cf0,_0x5bdabe('0xf')),_0x47128c=UrlUtil[_0x5bdabe('0x73')][UrlUtil[_0x5bdabe('0xc8')]](_0x820c6b);_0x9d4306[_0x5bdabe('0x83')](_0x47128c);}const _0x725ce5=_0x45f66a['split'](/,? and |,? or |, /gi);_0x725ce5['map'](_0x3f86c1=>_0x3f86c1[_0x5bdabe('0x2')]()[_0x5bdabe('0x40')](/^\W+/,'')[_0x5bdabe('0x40')](/\W+$/,''))[_0x5bdabe('0xde')](Boolean)[_0x5bdabe('0x0')](_0xfd557f=>{const _0x4952d3=_0x5bdabe;_0xfd557f=_0xfd557f['toLowerCase']()[_0x4952d3('0x2')]();switch(_0xfd557f){case _0x4952d3('0x10'):_0x50ad73[_0x4952d3('0x83')](_0x4952d3('0xaf'));break;case _0x4952d3('0x5'):_0x50ad73[_0x4952d3('0x83')](_0x4952d3('0x9b'));break;case _0x4952d3('0x25'):case _0x4952d3('0xec'):_0x2d4d4a['add'](_0x4952d3('0x71'));break;case _0x4952d3('0x6'):case'medium\x20armor':_0x2d4d4a[_0x4952d3('0x83')](_0x4952d3('0xba'));break;case _0x4952d3('0x7b'):case _0x4952d3('0xab'):_0x2d4d4a[_0x4952d3('0x83')](_0x4952d3('0xc4'));break;case'shields':_0x2d4d4a['add']('shl');break;}});let _0x5803bb=![];_0x45f66a[_0x5bdabe('0x40')](/(?:(one|two|three|four|five|six) )skills? of your choice/gi,(..._0x7af8dc)=>{const _0x5e1422=_0x5bdabe;_0x5803bb=!![];const _0x41cf90=Parser[_0x5e1422('0x6f')](_0x7af8dc[0x1]);if(isNaN(_0x41cf90))return;_0x1845a7[_0x5e1422('0x7')]([{'choose':{'from':Object[_0x5e1422('0xbc')](Parser[_0x5e1422('0xb0')]),'count':_0x41cf90}}]);}),!/(^|\W)choice(\W|$)/i['test'](_0x45f66a)&&(_0x5803bb=!![],this[_0x5bdabe('0x6c')](_0x45f66a,_0x4832b1)),!_0x5803bb&&_0x45f66a[_0x5bdabe('0x40')](/ or (.*?) skills?(\W|$)/i,(..._0x57fb67)=>{const _0x316024=_0x5bdabe,_0x4e57f4=new Set();this[_0x316024('0x6c')](_0x57fb67[0x2],_0x4e57f4);if(_0x4e57f4[_0x316024('0x82')])_0x1845a7[_0x316024('0x7')]([{'choose':{'from':[..._0x4e57f4],'count':count}}]);}),_0x45f66a[_0x5bdabe('0x40')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throws/i,(..._0x201bab)=>{const _0x5b4617=_0x5bdabe;_0x32fbce[_0x5b4617('0x83')](_0x201bab[0x1][_0x5b4617('0x34')]()['slice'](0x0,0x3));});}),_0x44834b[_0x20e494('0x40')](/you (?:[^.!?]*? )proficien[^ ]+ in (one|two|three|four|five|six)(?:[^.!?]+? )*skills (?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x482e21)=>{const _0x50dee3=_0x20e494,_0x4e8105=Parser[_0x50dee3('0x6f')](_0x482e21[0x1]);if(isNaN(_0x4e8105))return;const _0x23ff87=new Set();this[_0x50dee3('0x6c')](_0x482e21[0x2],_0x23ff87);if(_0x23ff87[_0x50dee3('0x82')])_0x1845a7[_0x50dee3('0x7')]([{'choose':{'from':[..._0x23ff87],'count':_0x4e8105}}]);}),_0x44834b['replace'](/you (?:[^.!?]*? )proficien[^ ]+ (?:[^.!?]*? )choice of (two|three|four|five|six) (?:[^.!?]*? )skills:(.*?)(?:[.!?]|$)/gi,(..._0x107e86)=>{const _0x1482ce=_0x20e494,_0x22562a=Parser['textToNumber'](_0x107e86[0x1]);if(isNaN(_0x22562a))return;const _0x19c328=new Set();this[_0x1482ce('0x6c')](_0x107e86[0x2],_0x19c328);if(_0x19c328[_0x1482ce('0x82')])_0x1845a7['push']([{'choose':{'from':[..._0x19c328],'count':_0x22562a}}]);}),_0x44834b[_0x20e494('0x40')](/gain proficiency (?:[^.!?]*?) (one|two|three|four|five|six) (?:[^.!?]*?) following skills(?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x3eaa55)=>{const _0xfc066a=_0x20e494,_0x1c71f3=Parser[_0xfc066a('0x6f')](_0x3eaa55[0x1]);if(isNaN(_0x1c71f3))return;const _0x589934=new Set();this[_0xfc066a('0x6c')](_0x3eaa55[0x2],_0x589934);if(_0x589934['size'])_0x1845a7[_0xfc066a('0x7')]([{'choose':{'from':[..._0x589934],'count':_0x1c71f3}}]);}),_0x44834b[_0x20e494('0x40')](/you learn (an|one|two|three|four|five|six)(?: additional)? language of your choice/gi,(..._0x3f288f)=>{const _0x1aa3c1=_0x20e494,_0x3d4452=Parser[_0x1aa3c1('0x6f')](_0x3f288f[0x1]);if(isNaN(_0x3d4452))return;_0x5ae1fc[_0x1aa3c1('0x7')]([{'any':_0x3d4452}]);});}});for(const _0x291c7e of _0x9d4306){const _0x1e156c=await Renderer[_0x1a6399('0x88')][_0x1a6399('0xd0')](UrlUtil[_0x1a6399('0xc8')],_0x291c7e);if(DataConverter['ITEM_TYPES_ACTOR_TOOLS'][_0x1a6399('0xf0')](_0x1e156c[_0x1a6399('0x3e')])){const _0x39fc1c=UtilActors[_0x1a6399('0xf3')](_0x1e156c[_0x1a6399('0x41')]);if(_0x39fc1c)_0x5f3349['add'](_0x39fc1c);else _0x53aab2[_0x1a6399('0x83')](_0x1e156c[_0x1a6399('0x41')]['toLowerCase']());}DataConverter[_0x1a6399('0x58')][_0x1a6399('0xf0')](_0x1e156c['type'])&&_0x4900d7['add'](_0x1e156c['name'][_0x1a6399('0x34')]()+'s');if(DataConverter['ITEM_TYPES_ACTOR_ARMOR'][_0x1a6399('0xf0')](_0x1e156c['type'])){if(_0x1e156c[_0x1a6399('0x41')]==='Shield')_0x2d4d4a[_0x1a6399('0x83')]('shl');else _0xd5f87f[_0x1a6399('0x83')](_0x1e156c[_0x1a6399('0x41')][_0x1a6399('0x34')]());}}this[_0x1a6399('0x9e')](_0x381972,_0xa9dde1,_0x50ad73,_0x1a6399('0xe7'),_0x1a6399('0x98'),_0x1a6399('0xbd'),_0x1a6399('0x5c')),this[_0x1a6399('0x3b')](_0x381972,_0xa9dde1,_0x4900d7,_0x1a6399('0xe7'),'traits','weaponProf','custom'),this[_0x1a6399('0x9e')](_0x381972,_0xa9dde1,_0x2d4d4a,_0x1a6399('0xe7'),'traits',_0x1a6399('0x26'),_0x1a6399('0x5c')),this[_0x1a6399('0x3b')](_0x381972,_0xa9dde1,_0xd5f87f,_0x1a6399('0xe7'),_0x1a6399('0x98'),_0x1a6399('0x26'),_0x1a6399('0x79')),this[_0x1a6399('0x9e')](_0x381972,_0xa9dde1,_0x5f3349,_0x1a6399('0xe7'),_0x1a6399('0x98'),'toolProf','value'),this[_0x1a6399('0x3b')](_0x381972,_0xa9dde1,_0x53aab2,_0x1a6399('0xe7'),_0x1a6399('0x98'),_0x1a6399('0x68'),_0x1a6399('0x79'));if(_0x4832b1['size']){const _0x43ea31=[[..._0x4832b1][_0x1a6399('0x8f')](_0x28e244=>({[_0x28e244]:!![]}))];await this[_0x1a6399('0x8a')](_0x381972,_0xa9dde1,_0x2a0c43,_0x43ea31,_0x197516);}if(_0x1845a7[_0x1a6399('0x85')])for(const _0x540ba9 of _0x1845a7){await this[_0x1a6399('0x8a')](_0x381972,_0xa9dde1,_0x2a0c43,_0x540ba9,_0x197516);}if(_0x5ae1fc[_0x1a6399('0x85')])for(const _0x4a60cc of _0x5ae1fc){await this['_pMutActorUpdate_pMutFromLanguageProfs'](_0x381972,_0xa9dde1,_0x2a0c43,_0x4a60cc,_0x197516);}_0x32fbce[_0x1a6399('0x82')]&&_0x32fbce['forEach'](_0x2aa94c=>MiscUtil[_0x1a6399('0x4d')](_0xa9dde1,_0x1a6399('0xe7'),_0x1a6399('0x9a'),_0x2aa94c,_0x1a6399('0xae'),0x1));}static['_pMutActorUpdate_addValidSkills'](_0x58585d,_0x47c213){const _0x13c35c=_0x5521ad,_0x43aeef=this[_0x13c35c('0x70')](_0x13c35c('0x7e'),_0x58585d);for(const _0x221bbc of _0x43aeef){const _0x587654=_0x221bbc[_0x13c35c('0x4f')]('|')[0x0]['toLowerCase'](),_0x42f0c1=!!Parser[_0x13c35c('0xb0')][_0x587654];if(!_0x42f0c1)continue;_0x47c213[_0x13c35c('0x83')](_0x587654);}}static[_0x5521ad('0x9e')](_0x3bf869,_0x4ad5e7,_0x110aab,..._0x49c072){const _0x195ecf=_0x5521ad;if(!_0x110aab[_0x195ecf('0x82')])return;const _0x3c020b=MiscUtil['copy'](MiscUtil[_0x195ecf('0x32')](_0x3bf869,_0x195ecf('0xe7'),..._0x49c072)||[]),_0x4eb419=MiscUtil['getOrSet'](_0x4ad5e7,..._0x49c072,_0x3c020b),_0x290a10=new Set([..._0x4eb419,..._0x110aab]);MiscUtil[_0x195ecf('0x4d')](_0x4ad5e7,..._0x49c072,[..._0x290a10]);}static[_0x5521ad('0x3b')](_0x39ac14,_0x55905a,_0x1a3462,..._0x91b850){const _0x1a7fb3=_0x5521ad;if(!_0x1a3462[_0x1a7fb3('0x82')])return;const _0x5a9b3b=MiscUtil[_0x1a7fb3('0x36')](MiscUtil[_0x1a7fb3('0x32')](_0x39ac14,'data',..._0x91b850)||''),_0x4c0c2c=MiscUtil[_0x1a7fb3('0x32')](_0x55905a,..._0x91b850)||_0x5a9b3b,_0x12e9e=_0x4c0c2c[_0x1a7fb3('0x4f')](';')['map'](_0x55401a=>_0x55401a[_0x1a7fb3('0x2')]())[_0x1a7fb3('0xde')](Boolean);[..._0x1a3462][_0x1a7fb3('0xde')](_0x2293fe=>!_0x12e9e[_0x1a7fb3('0x38')](_0x27aba8=>_0x27aba8[_0x1a7fb3('0x34')]()[_0x1a7fb3('0x2')]()===_0x2293fe['toLowerCase']()[_0x1a7fb3('0x2')]()))[_0x1a7fb3('0x0')](_0x468062=>_0x12e9e[_0x1a7fb3('0x7')](_0x468062)),MiscUtil[_0x1a7fb3('0x4d')](_0x55905a,..._0x91b850,_0x12e9e[_0x1a7fb3('0xc9')](';'));}static[_0x5521ad('0x1d')](_0x237488,_0xd80d62){const _0x19ab1f=_0x5521ad;_0xd80d62=_0xd80d62||{},_0xd80d62[_0x19ab1f('0xd2')]=_0xd80d62[_0x19ab1f('0xd2')]||{};let {description:_0x166924,activationType:_0x4f4ccb,activationCost:_0x32cae7,activationCondition:_0x57af00,saveAbility:_0x410ef5,saveDc:_0x42a040,saveScaling:_0x22138c,damageParts:_0x2ef715,attackBonus:_0x3d734c,requirements:_0x15b351,actionType:_0x19bbbc,durationValue:_0x1988c7,durationUnits:_0x447724,consumeType:_0x18b685,consumeTarget:_0x338705,consumeAmount:_0x1c4e3d,formula:_0xe7317e,targetValue:_0x5832c0,targetUnits:_0x16e8c0,targetType:_0x2779b7}=_0xd80d62;_0x166924=_0x166924||(_0xd80d62[_0x19ab1f('0x63')]?'':DataConverter[_0x19ab1f('0xb')](_0x237488,{'depth':_0xd80d62[_0x19ab1f('0xac')]})),_0x4f4ccb=_0x4f4ccb||'',_0x32cae7=_0x32cae7||0x0,_0x57af00=_0x57af00||'',_0x410ef5=_0x410ef5||'',_0x42a040=_0x42a040||null,_0x22138c=_0x22138c||'',_0x2ef715=_0x2ef715||[],_0x3d734c=_0x3d734c||0x0,_0x15b351=_0x15b351||'',_0x19bbbc=_0x19bbbc||'',_0x1988c7=_0x1988c7||null,_0x447724=_0x447724||'',_0x18b685=_0x18b685||null,_0x338705=_0x338705||null,_0x1c4e3d=_0x1c4e3d||null,_0xe7317e=_0xe7317e||'',_0x5832c0=_0x5832c0||null,_0x16e8c0=_0x16e8c0||'',_0x2779b7=_0x2779b7||'';let _0x5c212f=UtilApplications['getCleanEntityName'](DataConverter[_0x19ab1f('0xca')](_0x237488));const _0x1f043c=_0x237488[_0x19ab1f('0x28')]?JSON[_0x19ab1f('0x18')](_0x237488['entries']):null;let _0x3d8002=null;if(_0x237488[_0x19ab1f('0x41')]){const _0x5ef410=/{@recharge( \d+)?}/gi['exec'](_0x237488[_0x19ab1f('0x41')]);_0x5ef410&&(_0x3d8002=_0x5ef410[0x1]?Number(_0x5ef410[0x1][_0x19ab1f('0x2')]()):0x6,_0x5c212f=_0x5c212f['replace'](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x19ab1f('0x2')]()[_0x19ab1f('0x40')](/[ ]+/g,'\x20'));}if(_0x237488['entries']){/(?:^|\W)bonus action(?:\W|$)/i[_0x19ab1f('0x95')](_0x1f043c)&&(_0x4f4ccb=_0x4f4ccb||_0x19ab1f('0x35'),_0x32cae7=_0x32cae7||0x1);if(_0xd80d62['mode']===_0x19ab1f('0x33')){if(!_0x4f4ccb&&!_0x32cae7){const _0x39437b=DataConverter[_0x19ab1f('0xd1')];_0x39437b[_0x19ab1f('0x5f')](_0x237488[_0x19ab1f('0x28')],{'string':_0x1e8dd9=>{const _0x375ece=_0x19ab1f;if(_0x4f4ccb)return _0x1e8dd9;const _0xa5a274=_0x1e8dd9[_0x375ece('0x4f')](/[.?!]/g)[_0x375ece('0x3f')](_0x43e28c=>_0x43e28c[_0x375ece('0x2')]());for(const _0x810730 of _0xa5a274){if(/as an action|can take an action/i[_0x375ece('0x95')](_0x810730)){_0x4f4ccb=_0x4f4ccb||_0x375ece('0xb4'),_0x32cae7=_0x32cae7||0x1;break;}const _0x7277c5=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x375ece('0xa')](_0x810730);if(_0x7277c5){_0x4f4ccb=_0x4f4ccb||_0x375ece('0x1b'),_0x32cae7=_0x32cae7||0x1;let _0x32e073=_0x810730[_0x375ece('0xee')](0x0,_0x7277c5[_0x375ece('0x93')])[_0x375ece('0x2')]()[_0x375ece('0x40')](/,$/,'');const _0x527945=/(^|\W)(?:if|when)(?:|\W)/i[_0x375ece('0xa')](_0x32e073);_0x527945&&(_0x32e073=_0x32e073[_0x375ece('0xee')](_0x527945[_0x375ece('0x93')]+_0x527945[0x1][_0x375ece('0x85')])[_0x375ece('0x2')](),_0x57af00=_0x57af00||_0x32e073);break;}}}});}}}let _0x57bd39=0x0,_0x4b3c5e=null;_0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0xe')&&_0x237488[_0x19ab1f('0x41')]&&(_0x5c212f=_0x5c212f[_0x19ab1f('0x40')](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x3cc096)=>{const _0x5c4ce5=_0x19ab1f;_0x57bd39=Number(_0x3cc096[0x1]);const _0x57fb9e=_0x3cc096[0x2][_0x5c4ce5('0x2')]()[_0x5c4ce5('0x34')]();switch(_0x57fb9e){case _0x5c4ce5('0x78'):_0x4b3c5e='day';break;case _0x5c4ce5('0xd6'):_0x4b3c5e='sr';break;case'long\x20rest':_0x4b3c5e='lr';break;}return'';}),!_0x4b3c5e&&(_0x5c212f=_0x5c212f['replace'](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x44101e)=>{return _0x57bd39=Number(_0x44101e[0x1]),_0x4b3c5e='charges','';})),_0x4b3c5e&&(_0x5c212f=_0x5c212f[_0x19ab1f('0x2')]()[_0x19ab1f('0x40')](/[ ]+/g,'\x20'),_0x4f4ccb=_0x4f4ccb||_0x19ab1f('0xd8'),_0x237488[_0x19ab1f('0x28')]&&typeof _0x237488[_0x19ab1f('0x28')][0x0]===_0x19ab1f('0xa2')&&/^(?:If |When )/i['test'](_0x237488[_0x19ab1f('0x28')][0x0][_0x19ab1f('0x2')]())&&(_0x57af00=_0x237488[_0x19ab1f('0x28')][0x0][_0x19ab1f('0x2')]())));if(_0xd80d62[_0x19ab1f('0x4')]==='player'&&_0x237488['entries']){const _0x317805=/finish a short rest/[_0x19ab1f('0x95')](_0x1f043c)||/finish a short or long rest/[_0x19ab1f('0x95')](_0x1f043c)||/finish a short rest or a long rest/[_0x19ab1f('0x95')](_0x1f043c)||/finish a short or long rest/[_0x19ab1f('0x95')](_0x1f043c),_0x10b803=!_0x317805&&/finish a long rest/[_0x19ab1f('0x95')](_0x1f043c);if(_0x317805)_0x4b3c5e='sr';else{if(_0x10b803)_0x4b3c5e='lr';}const _0x5ed39e=new RegExp(_0x19ab1f('0xe1')+Consts['TERMS_COUNT']['map'](_0x5825de=>_0x5825de[_0x19ab1f('0x4c')]['join']('\x20'))[_0x19ab1f('0xc9')]('|')+_0x19ab1f('0xd9')+Consts[_0x19ab1f('0xbe')][_0x19ab1f('0x3f')](_0x46abf4=>_0x46abf4['tokens'][_0x19ab1f('0xc9')]('\x20'))[_0x19ab1f('0xc9')]('|')+_0x19ab1f('0x61'),'i'),_0x3f89cc=_0x5ed39e[_0x19ab1f('0xa')](_0x1f043c);if(_0x3f89cc&&_0xd80d62[_0x19ab1f('0x92')]){const _0x503e20=_0x3f89cc[0x2][_0x19ab1f('0xee')](0x0,0x3)[_0x19ab1f('0x34')](),_0x327539=MiscUtil[_0x19ab1f('0x32')](_0xd80d62[_0x19ab1f('0x92')],_0x19ab1f('0xe7'),_0x19ab1f('0xe7'),'abilities',_0x503e20,_0x19ab1f('0x5c'));if(_0x327539!=null){let _0x3b4740=Parser[_0x19ab1f('0x17')](_0x327539);if(_0x3f89cc[0x1]){const _0x2810d4=(Consts[_0x19ab1f('0xbe')]['find'](_0x13bd29=>_0x13bd29['tokens'][_0x19ab1f('0xc9')]('\x20')===_0x3f89cc[0x1][_0x19ab1f('0x2')]()[_0x19ab1f('0x34')]())||{})['count']||0x1;_0x3b4740=_0x3b4740*_0x2810d4;}if(_0x3f89cc[0x3]){const _0x17d915=(Consts['TERMS_COUNT']['find'](_0x4e3e03=>_0x4e3e03[_0x19ab1f('0x4c')][_0x19ab1f('0xc9')]('\x20')===_0x3f89cc[0x3][_0x19ab1f('0x2')]()[_0x19ab1f('0x34')]())||{})[_0x19ab1f('0xd5')]||0x1;_0x3b4740=Math[_0x19ab1f('0xa9')](_0x17d915,_0x3b4740);}_0x57bd39=_0x3b4740;}}}_0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0x33')&&_0x237488[_0x19ab1f('0x28')]&&DataConverter[_0x19ab1f('0xd1')][_0x19ab1f('0x5f')](_0x237488['entries'],{'object':_0x575218=>{const _0x2c9b3b=_0x19ab1f;if(_0x575218[_0x2c9b3b('0x3e')]!=='abilityDc')return _0x575218;if(_0x19bbbc&&_0x22138c)return _0x575218;return _0x19bbbc=_0x19bbbc||_0x2c9b3b('0x1c'),_0x22138c=_0x575218[_0x2c9b3b('0xc')][0x0],_0x575218;},'string':_0x10c878=>{const _0x4aac0e=_0x19ab1f;if(_0x19bbbc&&_0x410ef5&&_0x22138c)return _0x10c878;return _0x10c878['replace'](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0xb3e36b)=>{const _0xd56b3a=_0x4d9a,_0x412f3a=[];_0xb3e36b[0x1]['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0xe086f5)=>{const _0x5a79e4=_0x4d9a;_0x412f3a[_0x5a79e4('0x7')](_0xe086f5[0x1][_0x5a79e4('0x34')]()[_0x5a79e4('0xee')](0x0,0x3));});if(!_0x412f3a[_0xd56b3a('0x85')])return;_0x19bbbc=_0x19bbbc||_0xd56b3a('0x1c'),_0x22138c=_0x412f3a[0x0];}),_0x10c878[_0x4aac0e('0x40')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x457d9e)=>{const _0x41b740=_0x4aac0e;_0x19bbbc=_0x19bbbc||_0x41b740('0x1c'),_0x410ef5=_0x410ef5||_0x457d9e[0x1][_0x41b740('0x34')]()['slice'](0x0,0x3),_0x22138c=_0x22138c||_0x41b740('0xdc');}),_0xd80d62[_0x4aac0e('0xd2')][_0x4aac0e('0xd7')]&&_0x10c878[_0x4aac0e('0x40')](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x2bfe29)=>{const _0x3e4795=_0x4aac0e;_0x19bbbc=_0x19bbbc||_0x3e4795('0x1c'),_0x410ef5=_0x410ef5||_0x2bfe29[0x1]['toLowerCase']()[_0x3e4795('0xee')](0x0,0x3),_0x22138c=_0x22138c||_0x3e4795('0xdc');}),_0x10c878;}});_0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0xe')&&_0x237488[_0x19ab1f('0x28')]&&_0x1f043c[_0x19ab1f('0x40')](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x208f9e)=>{const _0x2efb99=_0x19ab1f,_0x4e3222=Number(_0x208f9e[0x1][_0x2efb99('0x40')](/\s*/g,''));if(isNaN(_0x4e3222))return;_0x19bbbc=_0x19bbbc||'save',_0x410ef5=_0x410ef5||_0x208f9e[0x2][_0x2efb99('0x34')]()['slice'](0x0,0x3),_0x42a040=_0x4e3222;if(_0xd80d62['pb']==null||_0xd80d62[_0x2efb99('0x6b')]==null||Parser[_0x2efb99('0x1')][_0x2efb99('0x38')](_0x4ff296=>_0xd80d62[_0x2efb99('0x6b')][_0x4ff296]==null)){_0x22138c=_0x2efb99('0xad');return;}const _0x3890d2=_0x4e3222-_0xd80d62['pb']-0x8,_0xd919dd=Parser['ABIL_ABVS']['map'](_0x3dc7ac=>({'ability':_0x3dc7ac,'bonus':Parser[_0x2efb99('0x17')](_0xd80d62[_0x2efb99('0x6b')][_0x3dc7ac])})),_0x46eddb=_0xd919dd[_0x2efb99('0xde')](_0xadf976=>_0xadf976[_0x2efb99('0x35')]===_0x3890d2);if(_0x46eddb[_0x2efb99('0x85')]===0x1)_0x22138c=_0x22138c||_0x46eddb[0x0][_0x2efb99('0xa1')];else _0x22138c=_0x2efb99('0xad');});_0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0x33')&&_0x237488['entries']&&DataConverter[_0x19ab1f('0xd1')][_0x19ab1f('0x5f')](_0x237488[_0x19ab1f('0x28')],{'string':_0x2aed9d=>{const _0x1dca68=_0x19ab1f;if(_0x1988c7||_0x447724)return;_0x2aed9d['replace'](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x17109d)=>{_0x1988c7=Number(_0x17109d[0x1]),_0x447724=_0x17109d[0x2]['toLowerCase']();}),_0x2aed9d[_0x1dca68('0x40')](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x38f13f)=>{_0x1988c7=Number(_0x38f13f[0x1]),_0x447724=_0x38f13f[0x2]['toLowerCase']();}),_0x2aed9d[_0x1dca68('0x40')](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0xf259ec)=>{const _0x4554e3=_0x1dca68;_0x1988c7=Number(_0xf259ec[0x1]),_0x447724=_0xf259ec[0x2][_0x4554e3('0x34')]();}),_0x2aed9d[_0x1dca68('0x40')](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x16df6f)=>{const _0x5abe51=_0x1dca68;_0x1988c7=Number(_0x16df6f[0x1]),_0x447724=_0x16df6f[0x2][_0x5abe51('0x34')]();}),_0x2aed9d[_0x1dca68('0x40')](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{_0x1988c7=0x1,_0x447724='turn';}),Renderer[_0x1dca68('0xa7')](_0x2aed9d)[_0x1dca68('0x40')](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x536b64)=>{const _0x56558d=_0x1dca68;_0x1988c7=Number(_0x536b64[0x1]),_0x447724=_0x536b64[0x2][_0x56558d('0x34')]();});}});_0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0x33')&&_0x237488[_0x19ab1f('0x28')]&&DataConverter[_0x19ab1f('0xd1')][_0x19ab1f('0x5f')](_0x237488[_0x19ab1f('0x28')],{'string':_0x2b5560=>{const _0x57424d=_0x19ab1f;if(_0x18b685||_0x338705||_0x1c4e3d)return;_0x2b5560[_0x57424d('0x40')](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x73f9cb)=>{const _0x83d5bf=_0x57424d;_0x18b685='attribute',_0x338705=_0x83d5bf('0xbb'),_0x1c4e3d=Number(_0x73f9cb[0x1]||_0x73f9cb[0x2]);});}});let _0x1eaa50=_0x1f043c;if(_0xd80d62['mode']===_0x19ab1f('0x33')&&_0x237488[_0x19ab1f('0x28')]&&!_0x2ef715[_0x19ab1f('0x85')]){const {str:_0x3949ae,damageTuples:_0x36a704}=DataConverter['getDamageTuples'](_0x1f043c);_0x1eaa50=_0x3949ae,_0x2ef715=_0x36a704;}return _0xd80d62[_0x19ab1f('0x4')]===_0x19ab1f('0x33')&&_0x237488[_0x19ab1f('0x28')]&&!_0xe7317e&&_0x1eaa50['replace'](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x343ad1)=>{const _0x2f4714=_0x19ab1f,[_0x49c593]=_0x343ad1[0x1][_0x2f4714('0x4f')]('|');_0xe7317e=_0x49c593;}),_0x1f043c&&_0x1f043c[_0x19ab1f('0x40')](/exhales [^.]*in a (\d+)-foot[- ](cone|line)/,(..._0x55d501)=>{_0x5832c0=_0x5832c0||Number(_0x55d501[0x1]),_0x16e8c0=_0x16e8c0||'ft',_0x2779b7=_0x2779b7||_0x55d501[0x2];}),{'name':_0x5c212f,'type':_0xd80d62[_0x19ab1f('0xd3')],'data':{'source':_0xd80d62[_0x19ab1f('0x16')]?Parser['sourceJsonToAbv'](_0xd80d62[_0x19ab1f('0x16')]):'','description':{'value':_0x166924,'chat':'','unidentified':''},'damage':{'parts':_0x2ef715,'versatile':''},'duration':{'value':_0x1988c7,'units':_0x447724},'range':{'value':null,'long':null,'units':''},'requirements':_0x15b351,'save':{'ability':_0x410ef5,'dc':_0x42a040,'scaling':_0x22138c||_0x19ab1f('0xad')},'activation':{'type':_0x4f4ccb,'cost':_0x32cae7,'condition':_0x57af00},'target':{'value':_0x5832c0,'units':_0x16e8c0,'type':_0x2779b7},'uses':{'value':_0x57bd39,'max':_0x57bd39,'per':_0x4b3c5e},'ability':'','actionType':_0x19bbbc||_0x19ab1f('0x90'),'attackBonus':_0x3d734c,'chatFlavor':'','critical':null,'formula':_0xe7317e,'recharge':{'value':_0x3d8002,'charged':_0x3d8002!=null},'consume':{'type':_0x18b685,'target':_0x338705,'amount':_0x1c4e3d},..._0xd80d62[_0x19ab1f('0x2a')]||{}},'img':_0xd80d62[_0x19ab1f('0x52')],'flags':{},'effects':[]};}static['_getAdventureBookJournals'](_0x3edc39,_0x22788b,_0x2e3029,_0x491df4){const _0x2b1faa=_0x5521ad,_0x4c71bd=_0x2e3029===_0x2b1faa('0xa0')?'importAdventure':_0x2b1faa('0x91'),_0x1fdc8c=[],_0x251ea1=_0x22788b[_0x2b1faa('0xb7')],_0x3b6836=Math[_0x2b1faa('0x51')](_0x251ea1['length'],_0x3edc39[_0x2b1faa('0x85')]);for(let _0x5cd426=0x0;_0x5cd426<_0x3b6836;++_0x5cd426){const _0x5f4215=_0x251ea1[_0x5cd426],_0x9a7984=_0x3edc39[_0x5cd426],_0x22bf30={'name':UtilApplications[_0x2b1faa('0x56')](''+Parser['bookOrdinalToAbv'](_0x5f4215[_0x2b1faa('0x30')])+_0x5f4215['name']),'permission':{'default':0x0},'entryTime':Date[_0x2b1faa('0xf1')](),'content':(_0x2b1faa('0xb8')+Renderer[_0x2b1faa('0x32')]()[_0x2b1faa('0x14')](!![])[_0x2b1faa('0x46')](_0x9a7984)+_0x2b1faa('0x2d'))[_0x2b1faa('0x40')](new RegExp(DataConverter[_0x2b1faa('0xcb')],'g'),'@')};if(_0x491df4[_0x2b1faa('0x66')])_0x22bf30['permission']={'default':Config[_0x2b1faa('0x32')](_0x4c71bd,'permissions')};_0x1fdc8c['push'](_0x22bf30);}return _0x1fdc8c;}static[_0x5521ad('0x2f')](_0x29ecf4,_0xad44f9,_0x566d06){const _0x209f6d=_0x5521ad;return this[_0x209f6d('0xc0')](_0x29ecf4,_0xad44f9,_0x209f6d('0xa0'),_0x566d06);}static['getBookJournals'](_0x336d7e,_0x3f7b6e,_0x10d926){const _0x1c95a5=_0x5521ad;return this[_0x1c95a5('0xc0')](_0x336d7e,_0x3f7b6e,'book',_0x10d926);}static async['pFillActorAbilityData'](_0x2f33f6,_0x33b1d2,_0x3939eb,_0xa913ef){const _0x3bf51f=_0x5521ad;if(!_0x33b1d2||!_0x33b1d2[_0x3bf51f('0x85')])return;const _0x239421=await Charactermancer_AbilityScoreSelect[_0x3bf51f('0x3a')](_0x33b1d2);if(!_0x239421)return _0xa913ef['isCancelled']=!![];if(_0x239421===VeCt[_0x3bf51f('0x5e')])return;_0x3939eb[_0x3bf51f('0x9a')]=_0x3939eb[_0x3bf51f('0x9a')]||{},Parser['ABIL_ABVS']['filter'](_0x8d7db0=>_0x239421[_0x3bf51f('0xe7')][_0x8d7db0])[_0x3bf51f('0x0')](_0x1ed97e=>_0x3939eb[_0x3bf51f('0x9a')][_0x1ed97e]={'value':UtilActors[_0x3bf51f('0xcc')](_0x2f33f6,_0x1ed97e)+_0x239421[_0x3bf51f('0xe7')][_0x1ed97e]});}static async[_0x5521ad('0x21')](_0x5b4d3f,_0x34762c,_0x4b1749,_0x463809,_0x128537){const _0xa20c4c=_0x5521ad;_0x128537=_0x128537||{};if(!_0x34762c)return{};const _0x591f4b=await Charactermancer_SkillSelect[_0xa20c4c('0x3a')]({..._0x128537,'existingProficienciesFvtt':_0x5b4d3f,'availableProficiencies':_0x34762c});if(!_0x591f4b)return _0x463809['isCancelled']=!![];if(_0x591f4b===VeCt[_0xa20c4c('0x5e')])return;const _0x21a70f={};return _0x4b1749[_0xa20c4c('0xda')]=_0x4b1749[_0xa20c4c('0xda')]||{},Object[_0xa20c4c('0x28')](UtilActors[_0xa20c4c('0x6a')])[_0xa20c4c('0xde')](([_0x6bdd70,_0x30aad5])=>_0x591f4b['data'][_0x30aad5])[_0xa20c4c('0x0')](([_0xf8ce11,_0x497f96])=>{const _0x5abc09=_0xa20c4c;_0x21a70f[_0xf8ce11]=_0x591f4b[_0x5abc09('0xe7')][_0x497f96];const _0x37e015=Math[_0x5abc09('0xa9')]((_0x5b4d3f[_0xf8ce11]||{})[_0x5abc09('0x5c')]||0x0,_0x591f4b[_0x5abc09('0xe7')][_0x497f96]?0x1:0x0,(_0x4b1749[_0x5abc09('0xda')][_0xf8ce11]||{})[_0x5abc09('0x5c')]||0x0),_0x1a389b=_0x37e015>(MiscUtil['get'](_0x4b1749['skills'],_0xf8ce11,'value')||0x0);if(_0x1a389b)(_0x4b1749[_0x5abc09('0xda')][_0xf8ce11]=_0x4b1749[_0x5abc09('0xda')][_0xf8ce11]||{})[_0x5abc09('0x5c')]=_0x37e015;}),_0x21a70f;}static async[_0x5521ad('0x60')](_0x3d5be5,_0xb56ab6,_0x238167,_0x46bd49,_0x51cdc0){const _0x376051=_0x5521ad;_0x51cdc0=_0x51cdc0||{};const _0x39bde3=await Charactermancer_LanguageSelect[_0x376051('0x3a')]({..._0x51cdc0,'existingProficienciesFvtt':_0x3d5be5,'availableProficiencies':_0xb56ab6});if(!_0x39bde3)return _0x46bd49['isCancelled']=!![];if(_0x39bde3===VeCt[_0x376051('0x5e')])return;this[_0x376051('0x84')](_0x3d5be5,_0x39bde3,_0x238167,{'fnGetMappedItem':_0x2f874b=>UtilActors[_0x376051('0xa5')](_0x2f874b),'actorTraitProp':_0x376051('0xc5')});}static async[_0x5521ad('0x6e')](_0x2c9ad7,_0xc0f955,_0x3af691,_0x3d4d8d,_0x59c33b){const _0x32063a=_0x5521ad;_0x59c33b=_0x59c33b||{};const _0x39c143=await Charactermancer_ToolSelect[_0x32063a('0x3a')]({..._0x59c33b,'existingProficienciesFvtt':_0x2c9ad7,'availableProficiencies':_0xc0f955});if(!_0x39c143)return _0x3d4d8d['isCancelled']=!![];if(_0x39c143===VeCt[_0x32063a('0x5e')])return;this[_0x32063a('0x84')](_0x2c9ad7,_0x39c143,_0x3af691,{'fnGetMappedItem':_0x3042fe=>UtilActors['getMappedTool'](_0x3042fe),'actorTraitProp':'toolProf'});}static[_0x5521ad('0x84')](_0x1d1f9e,_0x34031b,_0x583631,_0x4ab73a){const _0x36a3b4=_0x5521ad;if(!_0x34031b)return![];_0x1d1f9e=_0x1d1f9e||{};const _0x947efb=MiscUtil[_0x36a3b4('0x36')](_0x34031b[_0x36a3b4('0xe7')]),_0x51ec1e=new Set();Object['keys'](_0x947efb)[_0x36a3b4('0xde')](_0x5c5bf3=>_0x947efb[_0x5c5bf3])[_0x36a3b4('0x0')](_0x47f698=>_0x51ec1e[_0x36a3b4('0x83')](_0x47f698));const _0x329ece=new Set(),_0x479607=[];(_0x1d1f9e[_0x36a3b4('0x5c')]||[])[_0x36a3b4('0x0')](_0x33ceff=>_0x329ece[_0x36a3b4('0x83')](_0x33ceff)),(_0x1d1f9e['custom']||'')[_0x36a3b4('0x4f')](';')['map'](_0x2b004d=>_0x2b004d[_0x36a3b4('0x2')]())['filter'](Boolean)[_0x36a3b4('0x0')](_0x1571fe=>this[_0x36a3b4('0x39')](_0x479607,_0x1571fe)),_0x51ec1e['forEach'](_0x3d55ae=>{const _0x1d0d0a=_0x36a3b4,_0x48998a=_0x4ab73a[_0x1d0d0a('0x5b')](_0x3d55ae);if(_0x48998a)_0x329ece[_0x1d0d0a('0x83')](_0x48998a);else this[_0x1d0d0a('0x39')](_0x479607,_0x3d55ae[_0x1d0d0a('0x7d')]());});const _0x3a50aa=(_0x583631[_0x36a3b4('0x98')]=_0x583631[_0x36a3b4('0x98')]||{})[_0x4ab73a[_0x36a3b4('0x9')]]=_0x583631['traits'][_0x4ab73a['actorTraitProp']]||{};_0x3a50aa[_0x36a3b4('0x5c')]=[..._0x329ece][_0x36a3b4('0x3f')](_0xc8a981=>_0xc8a981['toLowerCase']())[_0x36a3b4('0x50')](SortUtil[_0x36a3b4('0x53')]),_0x3a50aa[_0x36a3b4('0x79')]=_0x479607['join'](';');}static[_0x5521ad('0x39')](_0x30da78,_0x356f33){const _0x492b91=_0x5521ad,_0x576b21=_0x356f33[_0x492b91('0x2')]()['toLowerCase']();if(!_0x30da78[_0x492b91('0x38')](_0x383802=>_0x383802[_0x492b91('0x2')]()['toLowerCase']()===_0x576b21))_0x30da78['push'](_0x356f33);}static async[_0x5521ad('0x77')](_0x419b88,_0x18b413,_0x1914c3,_0x34c8eb){const _0x356459=_0x5521ad,_0x1c673a=await Charactermancer_DamageImmunitySelect[_0x356459('0x3a')]({'existingFvtt':_0x419b88,'available':_0x18b413});if(!_0x1c673a)return _0x34c8eb[_0x356459('0xed')]=!![];if(_0x1c673a===VeCt['SYM_UI_SKIP'])return;const _0x171617=MiscUtil[_0x356459('0x5a')](_0x1914c3,_0x356459('0x98'),'di',{});_0x171617[_0x356459('0x5c')]=[...Object[_0x356459('0xbc')](_0x1c673a[_0x356459('0xe7')]||{})];}static async[_0x5521ad('0x99')](_0x1e0218,_0x3b24b3,_0x469d3c,_0x398d43){const _0x39fdc7=_0x5521ad,_0x127001=await Charactermancer_DamageResistanceSelect[_0x39fdc7('0x3a')]({'existingFvtt':_0x1e0218,'available':_0x3b24b3});if(!_0x127001)return _0x398d43['isCancelled']=!![];if(_0x127001===VeCt[_0x39fdc7('0x5e')])return;const _0x4b2b0a=MiscUtil['getOrSet'](_0x469d3c,_0x39fdc7('0x98'),'dr',{});_0x4b2b0a[_0x39fdc7('0x5c')]=[...Object[_0x39fdc7('0xbc')](_0x127001[_0x39fdc7('0xe7')]||{})];}static async[_0x5521ad('0x76')](_0x5a3466,_0x1b2a3a,_0x431db4,_0x392f6e){const _0x2785a2=_0x5521ad,_0x320dc5=await Charactermancer_DamageVulnerabilitySelect[_0x2785a2('0x3a')]({'existingFvtt':_0x5a3466,'available':_0x1b2a3a});if(!_0x320dc5)return _0x392f6e[_0x2785a2('0xed')]=!![];if(_0x320dc5===VeCt[_0x2785a2('0x5e')])return;const _0x14d123=MiscUtil['getOrSet'](_0x431db4,_0x2785a2('0x98'),'dv',{});_0x14d123[_0x2785a2('0x5c')]=[...Object['keys'](_0x320dc5[_0x2785a2('0xe7')]||{})];}static async[_0x5521ad('0x24')](_0x253256,_0x3f0930,_0x47da94,_0x1d62ef){const _0x9ec99c=_0x5521ad,_0x36b646=await Charactermancer_ConditionImmunitySelect[_0x9ec99c('0x3a')]({'existingFvtt':_0x253256,'available':_0x3f0930});if(!_0x36b646)return _0x1d62ef[_0x9ec99c('0xed')]=!![];if(_0x36b646===VeCt[_0x9ec99c('0x5e')])return;const _0x3a7b67=MiscUtil[_0x9ec99c('0x5a')](_0x47da94,_0x9ec99c('0x98'),'ci',{});_0x3a7b67['value']=[...Object[_0x9ec99c('0xbc')](_0x36b646[_0x9ec99c('0xe7')]||{})[_0x9ec99c('0x3f')](_0x3342c3=>_0x3342c3===_0x9ec99c('0x87')?_0x9ec99c('0x20'):_0x3342c3)];}static[_0x5521ad('0x48')](_0x2deece){const _0x41670f=_0x5521ad,_0x51d519=[],_0x587db4=_0x2deece[_0x41670f('0x40')](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x3e44d8)=>{const _0x216417=_0x41670f,_0x39490b=_0x3e44d8[0x1]!=null,_0x1412ae=_0x39490b?_0x3e44d8[0x1]:_0x3e44d8[0x3]?_0x3e44d8[0x2]+'\x20+\x20'+_0x3e44d8[0x3]:_0x3e44d8[0x2];if(_0x39490b){const _0x337185=_0x3e44d8[0x5],_0x51e551=_0x2deece[_0x216417('0x4f')](/( )/g);let _0x28a117=0x0;const _0x2adbda=[];for(let _0x1e9fba=0x0;_0x1e9fba<_0x51e551[_0x216417('0x85')];++_0x1e9fba){_0x2adbda['push'](_0x51e551[_0x1e9fba]),_0x28a117+=_0x51e551[_0x1e9fba][_0x216417('0x85')];if(_0x28a117===_0x337185){const _0x30cf10=_0x2adbda[_0x216417('0xee')](-0x4);if(/^by dealing$/i['test'](_0x30cf10['join']('')['trim']()))return'';}}}const _0x66af4f=_0x3e44d8[0x4];return _0x51d519[_0x216417('0x7')]([_0x1412ae,_0x66af4f]),'';});return{'str':_0x587db4,'damageTuples':_0x51d519['filter'](_0x486465=>_0x486465[_0x41670f('0x85')])};}}DataConverter[_0x5521ad('0xd1')]=MiscUtil['getWalker']({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x5521ad('0x9d')]}),DataConverter[_0x5521ad('0xcb')]=_0x5521ad('0xa3'),DataConverter[_0x5521ad('0x80')]='img',DataConverter[_0x5521ad('0x13')]=_0x5521ad('0xe7'),DataConverter[_0x5521ad('0x89')]={},DataConverter[_0x5521ad('0xe5')]={},DataConverter[_0x5521ad('0xaa')]=new VeLock(),DataConverter['_SOURCE_PAGE_PREFIX']=_0x5521ad('0xa6'),DataConverter[_0x5521ad('0x57')]=new RegExp(DataConverter[_0x5521ad('0x64')]+_0x5521ad('0x59')),DataConverter[_0x5521ad('0x4b')]=new Set(['AT','GS',_0x5521ad('0xb6'),'T']),DataConverter['ITEM_TYPES_ACTOR_WEAPONS']=new Set(['M','R']),DataConverter['ITEM_TYPES_ACTOR_ARMOR']=new Set(['LA','MA','HA','S']);export{DataConverter};