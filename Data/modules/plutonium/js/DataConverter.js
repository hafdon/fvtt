'use strict';const _0x2a55=['raceFeature','pGetCompendiumData','\x22\x20from\x20object','baseCacheId','mergeMap','getDamagePartsAndOtherFormula','\x20pg.\x20','getDamageTupleMetas','page','additionalData','_isCompendiumCached','canHover','filter','SRD_COMPENDIUMS_CLASS_FEATURES','WALKER_READONLY_GENERIC','generic','pGetUserInput','long\x20rest','string','isChannelDivinity','MODULE_NAME','ITEM_TYPES_ACTOR_TOOLS','stripTags','mar','max','med','subclassFeature','3xmhGBr','_COMPENDIUM_CACHES','modules/','getMappedTool','_pMutActorUpdate_mutFromSideMod','65551FCtbod','importItem','weaponProf','sort','spell','pFillActorToolData','hvy','deepKeys','getAttackRange','value','items','entity','adventure','get','day','simple\x20weapons','unit','Unhandled\x20mode\x20\x22','importClass','_pHandleConfigUpdate','medium','_pMutActorUpdate_pMutFromSkillProfs','_pMutActorUpdate_pMutFromSideSkillProfs','index','race','now','lgt','push','getTagUids','getCombinedFoundryFlags','_pGetCacheAndGetActorItemCompendiumData','tuple','_pMutActorUpdate_mutFromSideTokenMod','map','_SOURCE_PAGE_PREFIX','walk','_pMutActorUpdate_mutFromSideMod_handleProp','srd','_pMutActorUpdate_mutFromProficiencySetFoundry','actorDataMod','instead','getOrSet','skillProficiencies','ability','img','shl','cacheId','slice','scalarAdd','isUseOtherFormulaFieldForSaveHalvesDamage','889405ZNeOEB','isOnFailSavingThrow','SRD_COMPENDIUMS_CLASSES',')\x5c))?','338077WNKHdq','getAbilityModNumber','isIgnoreSrd','setMax','languages','SKILL_TO_ATB_ABV','unitShort','importCreature','mystery-man.svg','getMappedLanguage','fvttType','sideData','getBookJournals','item','SKILL_ABV_TO_FULL','_pCacheActorItemCompendium','charges','unlock','deepEquals','TERMS_COUNT','trim','condition','getWalker','level','Removed\x20key\x20\x22','importSpell','actorTraitProp','getSrdCompendiumEntity','packs','set','<div\x20class=\x22w-100\x20overflow-x-hidden\x22>','save','toolProf','armorProf','getCleanEntityName','getItemActorPassive','37419bbaNGl','player','getCleanOriginalData','pCacheAndGetHash','_pMutActorUpdate_mutFromProficiencySetCustom','source','heavy','attributes','every','toTitleCase','_COMPENDIUM_IMAGE_LAST_VALUES','INS','action','init','unpackUid','isAddPageNumberToSource','126257tQtxei','pLock','_pGetCacheAndGetCompendiumData','permission','resources.primary.value','add','_COMPENDIUM_CACHES_LOCK','sourceJsonToAbv','pMutActorUpdate','fnGetAliases','warn','importVehicle','number','traits','optionalfeature','exec','ITEM_TYPES_ACTOR_WEAPONS','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','medium\x20armor','\x20(Level\x20','importRace','_getAdventureBookJournals','count','ABIL_ABVS','imgCompendiumFeatures','mode','_pHandleConfigUpdate_pFlushCompendiumImageCaches','imgCompendium','___','_COMPENDIUM_ACTOR_CACHES_LOCK','PG_ITEMS','plutonium.configUpdate','pFillActorResistanceData','keys','SRD_COMPENDIUMS_CREATURES','getCombinedFoundryData','entries','none','name','msak','copy','collection','getEntryDescription','prop','class','hover','mwak','has','setFirstSection','diseased','_pMutActorUpdate_addValidSkills','scalar','_doApplyFormData','_COMPENDIUM_CACHE_KEY_DATA','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','isAddPermission','ordinal','renderDepth','depth','reaction','forEach','indexOf','includes','conditionals','split','isCancelled','data','_displayName','importBook','_pGetCacheAndGetCompendiumData_getCompendiums','size','SRD_COMPENDIUMS_SPELLS','some','fnGetMappedItem','</div>','125419tnidix','length','turn','toLowerCase','SYM_AT','URL_TO_HASH_BUILDER','ascSortLower','Unknown\x20cache\x20ID\x20\x22','getAttackActionType','tokens','light','7ULiBnM','9MNeyDm','creature','permissions','import','monsterFeature','bonus','replace','stringify','custom','rwak','pFillActorSkillData','vehicle','_pCacheCompendium','skill','modeOptions','importOptionalFeature','disease','<PLUT_SYM__AT>','flat','abilityDc','find','_COMPENDIUM_ACTOR_CACHES','appendIfNotExistsArr','type','_getCachedCompendiumData','join','textToNumber','SYM_UI_SKIP','222544cCSCrq','\x20+\x20','_COMPENDIUM_CACHE_KEY_IMAGE','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','pFillActorLanguageData','skills','SRD_COMPENDIUMS_RACES_AND_FEATURES','token','abilities','\x5cd+','pGetActorItemCompendiumImage','pGetIconImage','object','importAdventure','_doApplyFormData_doCheckAddCustomItem','light\x20armor','sim','pFillActorImmunityData','mod','monster','test','actorTokenMod','ITEM_TYPES_ACTOR_ARMOR','_getCleanOriginalData_recurse'];const _0x51c5=function(_0x4ffeb1,_0x3c73c1){_0x4ffeb1=_0x4ffeb1-0xbe;let _0x2a5519=_0x2a55[_0x4ffeb1];return _0x2a5519;};const _0x37a6ad=_0x51c5;(function(_0x2a5dbd,_0x42832c){const _0x2cc1b3=_0x51c5;while(!![]){try{const _0xe61c28=parseInt(_0x2cc1b3(0x11b))+parseInt(_0x2cc1b3(0xc0))*-parseInt(_0x2cc1b3(0x127))+-parseInt(_0x2cc1b3(0x17b))*-parseInt(_0x2cc1b3(0x126))+parseInt(_0x2cc1b3(0x143))+parseInt(_0x2cc1b3(0x1b1))+parseInt(_0x2cc1b3(0x176))*parseInt(_0x2cc1b3(0xd0))+-parseInt(_0x2cc1b3(0x1ad));if(_0xe61c28===_0x42832c)break;else _0x2a5dbd['push'](_0x2a5dbd['shift']());}catch(_0x5d6a9b){_0x2a5dbd['push'](_0x2a5dbd['shift']());}}}(_0x2a55,0x48a14));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillSelect,Charactermancer_LanguageSelect,Charactermancer_ToolSelect}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';import{LGT}from'./Util.js';import{Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect}from'./UtilCharactermancerRace.js';class DataConverter{static[_0x37a6ad(0xcd)](){const _0x492845=_0x37a6ad;Hooks['on'](_0x492845(0xef),()=>this[_0x492845(0x18e)]()),this['_pHandleConfigUpdate']();}static async[_0x37a6ad(0x18e)](){const _0x8ef484=_0x37a6ad;await this[_0x8ef484(0xea)]();}static async[_0x37a6ad(0xea)](){const _0x5226fd=_0x37a6ad,_0x556977=[[_0x5226fd(0x1b8),'imgCompendium'],[_0x5226fd(0xdb),_0x5226fd(0xeb)],[_0x5226fd(0x18d),_0x5226fd(0xeb)],[_0x5226fd(0x18d),_0x5226fd(0xe8)],[_0x5226fd(0x17c),'imgCompendium'],['importSpell',_0x5226fd(0xeb)],[_0x5226fd(0xe4),_0x5226fd(0xe8)],[_0x5226fd(0x136),_0x5226fd(0xeb)]];await DataConverter[_0x5226fd(0xd6)][_0x5226fd(0xd1)]();try{_0x556977['forEach'](_0x55dcb5=>{const _0x4eec6a=_0x5226fd,_0x158616=_0x55dcb5[_0x4eec6a(0x140)](_0x4eec6a(0xec)),_0x1b0945=DataConverter[_0x4eec6a(0xca)][_0x158616]||'',_0x4efaec=Config[_0x4eec6a(0x188)](_0x55dcb5[0x0],_0x55dcb5[0x1])||'';if(_0x1b0945[_0x4eec6a(0x1c5)]()!==_0x4efaec[_0x4eec6a(0x1c5)]()){if(DataConverter[_0x4eec6a(0x177)][DataConverter[_0x4eec6a(0x145)]])delete DataConverter[_0x4eec6a(0x177)][DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']][_0x158616];}DataConverter[_0x4eec6a(0xca)][_0x158616]=_0x4efaec;});}finally{DataConverter['_COMPENDIUM_CACHES_LOCK']['unlock']();}}static['getNameWithSourcePart'](_0x23b3c3,_0x40794c){const _0x10c4e6=_0x37a6ad;return''+(_0x40794c||Renderer[_0x10c4e6(0x171)](_0x23b3c3['_displayName']||_0x23b3c3['name']||''))+(_0x23b3c3[_0x10c4e6(0xc5)]&&Config[_0x10c4e6(0x188)]('import','isAddSourceToName')?'\x20('+Parser[_0x10c4e6(0xd7)](_0x23b3c3['source'])+')':'');}static['getSourceWithPagePart'](_0x2ec111){const _0x259c70=_0x37a6ad;return''+Parser[_0x259c70(0xd7)](_0x2ec111[_0x259c70(0xc5)])+(Config[_0x259c70(0x188)]('import',_0x259c70(0xcf))&&_0x2ec111[_0x259c70(0x163)]?''+DataConverter[_0x259c70(0x19d)]+_0x2ec111[_0x259c70(0x163)]:'');}static['getItemSource'](_0x4a77f3){const _0x21f956=_0x37a6ad;let _0x4d8d0a=_0x4a77f3[_0x21f956(0x112)]||{};if(_0x4d8d0a[_0x21f956(0x112)])_0x4d8d0a=_0x4d8d0a[_0x21f956(0x112)];let _0x405970=_0x4d8d0a[_0x21f956(0xc5)];if(_0x405970 instanceof Array)_0x405970=_0x405970[0x0];if(!_0x405970)return _0x405970;return _0x405970[_0x21f956(0x110)](DataConverter['_SOURCE_PAGE_PREFIX_RE'])[0x0][_0x21f956(0x1c5)]();}static[_0x37a6ad(0x197)](_0x5391d5,_0x515fca){const _0x52df30=_0x37a6ad,_0x147f25=new RegExp('{@'+_0x5391d5+'\x20([^}]+)}','gi'),_0x7dea3d=[];return _0x515fca['replace'](_0x147f25,(..._0x475df1)=>_0x7dea3d[_0x52df30(0x196)](_0x475df1[0x1])),_0x7dea3d;}static async[_0x37a6ad(0x14e)](_0x5d9b71,_0x218735){const _0x2396f7=_0x37a6ad;switch(_0x5d9b71){case'feat':case'spell':{const _0x109f2b=await Vetools['pGetIconLookup'](_0x5d9b71),_0x7e998c=MiscUtil[_0x2396f7(0x188)](_0x109f2b,_0x218735[_0x2396f7(0xc5)],_0x218735['name']);if(!_0x7e998c)return null;return _0x2396f7(0x178)+SharedConsts[_0x2396f7(0x16f)]+'/'+_0x7e998c;}default:return null;}}static[_0x37a6ad(0xf3)](_0x5b3cdc,_0x271c58){const _0x240a55=_0x37a6ad;if(!_0x271c58&&!_0x5b3cdc)return{};const _0x2f85fb=MiscUtil[_0x240a55(0xf8)](_0x271c58||{});return Object['assign'](_0x2f85fb,MiscUtil[_0x240a55(0xf8)](_0x5b3cdc||{})),_0x2f85fb;}static[_0x37a6ad(0x198)](_0x4869ca,_0x2a1494){const _0x3723f1=_0x37a6ad;if(!_0x4869ca&&!_0x2a1494)return{};const _0x450819=MiscUtil[_0x3723f1(0xf8)](_0x2a1494||{});return Object[_0x3723f1(0xf4)](MiscUtil[_0x3723f1(0xf8)](_0x4869ca||{}))[_0x3723f1(0x10c)](([_0x569cb9,_0x307c15])=>{if(!_0x450819[_0x569cb9])return _0x450819[_0x569cb9]=_0x307c15;Object['assign'](_0x450819[_0x569cb9],_0x307c15);}),_0x450819;}static async['pGetCompendiumImage'](_0x26dca1,_0x409a7f,_0x478ccd){return this['_pGetCacheAndGetCompendiumData'](DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE'],_0x26dca1,_0x409a7f,_0x478ccd);}static async['_pGetCacheAndGetCompendiumData'](_0x3595bd,_0x1e8cd5,_0x15b310,_0x1b8c1b){const _0x53c275=_0x37a6ad;_0x1b8c1b=_0x1b8c1b||{};if(!_0x1b8c1b[_0x53c275(0x1b3)]&&!_0x15b310[_0x53c275(0x1a0)])return null;let _0x44cb48=[];if(_0x15b310[_0x53c275(0xf6)])_0x44cb48[_0x53c275(0x196)]((typeof _0x15b310[_0x53c275(0x1a0)]===_0x53c275(0x16d)?_0x15b310['srd']:_0x15b310[_0x53c275(0xf6)])['toLowerCase']()[_0x53c275(0x1c5)]());if(_0x15b310[_0x53c275(0x113)])_0x44cb48['push'](_0x15b310[_0x53c275(0x113)][_0x53c275(0x11e)]()[_0x53c275(0x1c5)]());if(_0x1b8c1b[_0x53c275(0x182)]){_0x44cb48=_0x44cb48[_0x53c275(0x19c)](_0x5905fb=>({'name':_0x5905fb}));if(_0x1b8c1b[_0x53c275(0xd9)]){const _0x19f392=_0x1b8c1b[_0x53c275(0xd9)](_0x15b310);_0x19f392['forEach'](_0x28bc7d=>_0x28bc7d[_0x53c275(0xf6)]=_0x28bc7d[_0x53c275(0xf6)]?_0x28bc7d[_0x53c275(0xf6)][_0x53c275(0x11e)]()[_0x53c275(0x1c5)]():_0x28bc7d[_0x53c275(0xf6)]),_0x44cb48['unshift'](..._0x19f392);}}else{if(_0x1b8c1b['fnGetAliases'])_0x44cb48[_0x53c275(0x196)](..._0x1b8c1b[_0x53c275(0xd9)](_0x15b310)['map'](_0x4345ef=>_0x4345ef[_0x53c275(0x11e)]()[_0x53c275(0x1c5)]()));}let _0x41ab83;switch(_0x3595bd){case DataConverter[_0x53c275(0x145)]:{switch(_0x1e8cd5){case _0x53c275(0x17f):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x53c275(0x188)](_0x53c275(0x1ca),'imgCompendium'));break;case _0x53c275(0x156):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['get'](_0x53c275(0x1b8),_0x53c275(0xeb)));break;case _0x53c275(0x1be):_0x41ab83=this[_0x53c275(0x115)](Config['get'](_0x53c275(0x17c),_0x53c275(0xeb)));break;case _0x53c275(0xfc):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x53c275(0x188)](_0x53c275(0x18d),_0x53c275(0xeb)));break;case'classFeature':_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x188)]('importClass',_0x53c275(0xe8)));break;case _0x53c275(0x175):_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x188)](_0x53c275(0x18d),_0x53c275(0xe8)));break;case _0x53c275(0xde):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x53c275(0x188)](_0x53c275(0x136),_0x53c275(0xeb)));break;case _0x53c275(0x193):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x53c275(0x188)](_0x53c275(0xe4),_0x53c275(0xeb)));break;case _0x53c275(0x15b):_0x41ab83=this[_0x53c275(0x115)](Config['get'](_0x53c275(0xe4),_0x53c275(0xe8)));break;case'monsterFeature':_0x41ab83=this[_0x53c275(0x115)](Config['get'](_0x53c275(0x1b8),_0x53c275(0xe8)));break;default:return null;}break;}case DataConverter[_0x53c275(0x105)]:{switch(_0x1e8cd5){case _0x53c275(0x17f):_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x117)]);break;case _0x53c275(0x156):_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0xf2)]);break;case _0x53c275(0x1be):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['SRD_COMPENDIUMS_ITEMS']);break;case _0x53c275(0xfc):_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config[_0x53c275(0x1af)]);break;case'classFeature':_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x168)]);break;case _0x53c275(0x175):_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x168)]);break;case'optionalfeature':_0x41ab83=this[_0x53c275(0x115)](Config['SRD_COMPENDIUMS_OPTIONAL_FEATURES']);break;case'race':_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x149)]);break;case _0x53c275(0x15b):_0x41ab83=this[_0x53c275(0x115)](Config[_0x53c275(0x149)]);break;case'monsterFeature':_0x41ab83=this['_pGetCacheAndGetCompendiumData_getCompendiums'](Config['SRD_COMPENDIUMS_CREATURE_FEATURES']);break;default:return null;}break;}default:throw new Error(_0x53c275(0x122)+_0x3595bd+'\x22');}if(!_0x41ab83[_0x53c275(0x11c)])return null;_0x1b8c1b['deepKeys']&&(_0x3595bd={'baseCacheId':_0x3595bd,'deepKeys':_0x1b8c1b[_0x53c275(0x182)],'cacheId':[_0x3595bd,..._0x1b8c1b[_0x53c275(0x182)][_0x53c275(0x17e)](SortUtil[_0x53c275(0x121)])][_0x53c275(0x140)]('__')});await DataConverter[_0x53c275(0xd6)][_0x53c275(0xd1)]();try{for(const _0x1ed26b of _0x44cb48){for(const _0x2f1db0 of _0x41ab83){!this[_0x53c275(0x165)](DataConverter[_0x53c275(0x177)],_0x3595bd,_0x2f1db0)&&await this[_0x53c275(0x133)](DataConverter['_COMPENDIUM_CACHES'],_0x3595bd,_0x2f1db0);const _0x2610e0=this[_0x53c275(0x13f)](DataConverter[_0x53c275(0x177)],_0x3595bd,_0x2f1db0,_0x1ed26b);if(_0x2610e0)return _0x2610e0;}}}finally{DataConverter['_COMPENDIUM_CACHES_LOCK'][_0x53c275(0x1c2)]();}}static[_0x37a6ad(0x115)](_0xf90e1f){const _0x3fc7dd=_0x37a6ad;return _0xf90e1f=typeof _0xf90e1f===_0x3fc7dd(0x16d)?_0xf90e1f[_0x3fc7dd(0x110)](',')[_0x3fc7dd(0x19c)](_0x5adf7d=>_0x5adf7d[_0x3fc7dd(0x1c5)]()[_0x3fc7dd(0x11e)]()):_0xf90e1f[_0x3fc7dd(0x19c)](_0x266ebd=>_0x266ebd['toLowerCase']()),_0xf90e1f[_0x3fc7dd(0x19c)](_0x208fc1=>game[_0x3fc7dd(0x1cd)]['find'](_0x204912=>_0x204912[_0x3fc7dd(0xf9)][_0x3fc7dd(0x11e)]()===_0x208fc1))[_0x3fc7dd(0x167)](Boolean);}static async[_0x37a6ad(0x14d)](_0x5eef20,_0x4516c7,_0x544b5f){const _0x298db6=_0x37a6ad;return this[_0x298db6(0x199)](DataConverter[_0x298db6(0x145)],_0x5eef20,_0x4516c7,_0x544b5f);}static async[_0x37a6ad(0x199)](_0x4dcd65,_0x55da8e,_0x3e72ff,_0xe7faa3){const _0x2c9c74=_0x37a6ad;_0xe7faa3=_0xe7faa3||{};let _0x4b576c=[];if(_0x3e72ff['name'])_0x4b576c[_0x2c9c74(0x196)]((typeof _0x3e72ff[_0x2c9c74(0x1a0)]===_0x2c9c74(0x16d)?_0x3e72ff[_0x2c9c74(0x1a0)]:_0x3e72ff[_0x2c9c74(0xf6)])[_0x2c9c74(0x11e)]()['trim']());if(_0x3e72ff['_displayName'])_0x4b576c['push'](_0x3e72ff['_displayName']['toLowerCase']()[_0x2c9c74(0x1c5)]());if(_0xe7faa3[_0x2c9c74(0xd9)])_0x4b576c[_0x2c9c74(0x196)](..._0xe7faa3[_0x2c9c74(0xd9)](_0x3e72ff)[_0x2c9c74(0x19c)](_0x196d29=>_0x196d29[_0x2c9c74(0x11e)]()[_0x2c9c74(0x1c5)]()));let _0x55de85;switch(_0x4dcd65){case DataConverter[_0x2c9c74(0x145)]:{switch(_0x55da8e){case _0x2c9c74(0x12b):_0x55de85=this[_0x2c9c74(0x115)](Config['get'](_0x2c9c74(0x1b8),'imgCompendium'));break;default:return null;}break;}case DataConverter[_0x2c9c74(0x105)]:{switch(_0x55da8e){case _0x2c9c74(0x12b):_0x55de85=this[_0x2c9c74(0x115)](Config['SRD_COMPENDIUMS_CREATURES']);break;default:return null;}break;}default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x4dcd65+'\x22');}if(!_0x55de85[_0x2c9c74(0x11c)])return null;await DataConverter['_COMPENDIUM_ACTOR_CACHES_LOCK']['pLock']();try{for(const _0x4293a6 of _0x4b576c){for(const _0x44d692 of _0x55de85){!this[_0x2c9c74(0x165)](DataConverter[_0x2c9c74(0x13c)],_0x4dcd65,_0x44d692)&&await this[_0x2c9c74(0x1c0)](DataConverter[_0x2c9c74(0x13c)],_0x4dcd65,_0x44d692);const _0xfe4136=this[_0x2c9c74(0x13f)](DataConverter['_COMPENDIUM_ACTOR_CACHES'],_0x4dcd65,_0x44d692,_0x4293a6);if(_0xfe4136)return _0xfe4136;}}}finally{DataConverter[_0x2c9c74(0xed)][_0x2c9c74(0x1c2)]();}}static async[_0x37a6ad(0x1cc)](_0x32333b,_0x571be2,_0x79f96d){const _0x4203ad=_0x37a6ad;return this[_0x4203ad(0xd2)](DataConverter[_0x4203ad(0x105)],_0x32333b,_0x571be2,_0x79f96d);}static[_0x37a6ad(0x165)](_0x39b088,_0x4edd91,_0x56dbb0){const _0x14da5e=_0x37a6ad;return _0x4edd91=_0x4edd91[_0x14da5e(0x1a9)]||_0x4edd91,!!MiscUtil[_0x14da5e(0x188)](_0x39b088,_0x4edd91,_0x56dbb0['collection']);}static async[_0x37a6ad(0x133)](_0x4ccfc0,_0x7220fd,_0x1143ef){const _0xaf1027=_0x37a6ad;let _0xa14a95;if(_0x7220fd['baseCacheId'])_0xa14a95=!![];else switch(_0x7220fd){case DataConverter[_0xaf1027(0x145)]:_0xa14a95=![];break;case DataConverter[_0xaf1027(0x105)]:_0xa14a95=!![];break;default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x7220fd+'\x22');}const _0x429240=await UtilCompendium[_0xaf1027(0x15c)](_0x1143ef,_0xa14a95),_0x528f5a=MiscUtil[_0xaf1027(0x1a4)](_0x4ccfc0,_0x7220fd[_0xaf1027(0x1a9)]||_0x7220fd,_0x1143ef[_0xaf1027(0xf9)],{});if(!_0x429240)return;if(_0x7220fd[_0xaf1027(0x15e)])_0x429240[_0xaf1027(0x10c)](_0x3fc70a=>_0x528f5a[_0x3fc70a['name']['toLowerCase']()]=MiscUtil[_0xaf1027(0xf8)](_0x3fc70a[_0xaf1027(0x112)]));else switch(_0x7220fd){case DataConverter[_0xaf1027(0x145)]:_0x429240['forEach'](_0x48e5e0=>_0x528f5a[_0x48e5e0['name'][_0xaf1027(0x11e)]()]=_0x48e5e0[_0xaf1027(0x1a7)]);break;case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:_0x429240['forEach'](_0x4049b0=>_0x528f5a[_0x4049b0[_0xaf1027(0xf6)][_0xaf1027(0x11e)]()]=MiscUtil[_0xaf1027(0xf8)](_0x4049b0[_0xaf1027(0x112)]));break;default:throw new Error('Unknown\x20cache\x20ID\x20\x22'+_0x7220fd+'\x22');}}static async[_0x37a6ad(0x1c0)](_0x563677,_0x32ab00,_0x482183){const _0x5b84fc=_0x37a6ad,_0x14beb3=await UtilCompendium[_0x5b84fc(0x15c)](_0x482183,!![]),_0x418c02=MiscUtil[_0x5b84fc(0x1a4)](_0x563677,_0x32ab00[_0x5b84fc(0x1a9)]||_0x32ab00,_0x482183[_0x5b84fc(0xf9)],{});if(!_0x14beb3)return;_0x14beb3[_0x5b84fc(0x10c)](_0x5ecf7d=>{const _0x4432ba=_0x5b84fc;(_0x5ecf7d[_0x4432ba(0x185)]||[])['forEach'](_0x4c6659=>{const _0x574099=_0x4432ba,_0x26dc55=_0x4c6659[_0x574099(0xf6)][_0x574099(0x11e)]();switch(_0x32ab00){case DataConverter[_0x574099(0x145)]:{if(!_0x4c6659['img']||_0x4c6659['img']['toLowerCase']()[_0x574099(0x10e)](_0x574099(0x1b9)))return;_0x418c02[_0x26dc55]=_0x418c02[_0x26dc55]||_0x4c6659[_0x574099(0x1a7)];break;}case DataConverter['_COMPENDIUM_CACHE_KEY_DATA']:_0x418c02[_0x26dc55]=_0x418c02[_0x26dc55]||MiscUtil[_0x574099(0xf8)](_0x4c6659[_0x574099(0x112)]);break;default:throw new Error(_0x574099(0x122)+_0x32ab00+'\x22');}});});}static[_0x37a6ad(0x13f)](_0x3a0d0a,_0xf05edb,_0x380105,_0x271a86){const _0x3bb13b=_0x37a6ad,_0x447a75=MiscUtil['get'](_0x3a0d0a,_0xf05edb[_0x3bb13b(0x1a9)]||_0xf05edb,_0x380105[_0x3bb13b(0xf9)]);if(!_0x447a75)return null;const _0xbd2d02=_0x447a75[_0x271a86[_0x3bb13b(0xf6)]||_0x271a86];if(!_0xbd2d02||typeof _0x271a86==='string')return _0xbd2d02;const _0x51177b=Object[_0x3bb13b(0xf4)](_0x271a86)['filter'](([_0x53e66a])=>_0x53e66a!==_0x3bb13b(0xf6))[_0x3bb13b(0xc8)](([_0x4857b3,_0x5251a3])=>{const _0x278a49=_0x3bb13b;if(typeof _0x5251a3==='string')_0x5251a3=_0x5251a3[_0x278a49(0x11e)]()[_0x278a49(0x1c5)]();let _0x1c7e79;const _0x1f55e2=_0x4857b3[_0x278a49(0x110)]('.');for(const _0x28e5ce of _0x1f55e2){_0x1c7e79=(_0x1c7e79||_0xbd2d02)[_0x28e5ce];if(_0x1c7e79===undefined)return![];}if(typeof _0x1c7e79===_0x278a49(0x16d))_0x1c7e79=_0x1c7e79[_0x278a49(0x1c5)]()['toLowerCase']();return _0x1c7e79===_0x5251a3;});if(!_0x51177b)return null;switch(_0xf05edb[_0x3bb13b(0x15e)]){case DataConverter[_0x3bb13b(0x145)]:return _0xbd2d02[_0x3bb13b(0x1a7)];case DataConverter[_0x3bb13b(0x105)]:return _0xbd2d02;default:throw new Error(_0x3bb13b(0x122)+_0xf05edb[_0x3bb13b(0x15e)]+'\x22');}}static[_0x37a6ad(0xfa)](_0x5afeca,_0x571c2e){const _0x41fbb4=_0x37a6ad;_0x571c2e=_0x571c2e||{},_0x571c2e[_0x41fbb4(0xfb)]=_0x571c2e[_0x41fbb4(0xfb)]||_0x41fbb4(0xf4);let _0x561198='';return _0x5afeca[_0x571c2e['prop']]&&(_0x561198=Renderer['get']()[_0x41fbb4(0x100)](!![])['render']({'type':_0x41fbb4(0xf4),'entries':_0x5afeca[_0x571c2e[_0x41fbb4(0xfb)]]},_0x571c2e[_0x41fbb4(0x10a)]!=null?_0x571c2e[_0x41fbb4(0x10a)]:0x2)),_0x561198;}static async[_0x37a6ad(0xd8)](_0x36e792,_0x4f53e6,_0x1b6a8e,_0x4a233){const _0x5386a2=_0x37a6ad;_0x4a233=_0x4a233||{},this['_pMutActorUpdate_mutFromSideDataMod'](_0x36e792,_0x4f53e6,_0x4a233),this[_0x5386a2(0x19b)](_0x36e792,_0x4f53e6,_0x4a233),await this[_0x5386a2(0x191)](_0x36e792,_0x4f53e6,_0x1b6a8e,_0x4a233);if(_0x4a233[_0x5386a2(0x111)])return;await this['_pMutActorUpdate_pMutFromEntries'](_0x36e792,_0x4f53e6,_0x1b6a8e,_0x4a233);}static['_pMutActorUpdate_mutFromSideDataMod'](_0x53cb69,_0x39096a,_0x41f191){const _0x2aec8e=_0x37a6ad;return this['_pMutActorUpdate_mutFromSideMod'](_0x53cb69,_0x39096a,_0x41f191,_0x2aec8e(0x1a2),_0x2aec8e(0x112));}static[_0x37a6ad(0x19b)](_0x277df2,_0x13e10d,_0x5ba5ef){const _0x3e1646=_0x37a6ad;return this['_pMutActorUpdate_mutFromSideMod'](_0x277df2,_0x13e10d,_0x5ba5ef,_0x3e1646(0x158),_0x3e1646(0x14a));}static[_0x37a6ad(0x17a)](_0x197490,_0x3e2c42,_0x20895a,_0x4cd372,_0x43238c){const _0x3a747e=_0x37a6ad;if(!_0x20895a[_0x3a747e(0x1bc)]||!_0x20895a[_0x3a747e(0x1bc)][_0x4cd372])return;Object['entries'](_0x20895a['sideData'][_0x4cd372])[_0x3a747e(0x10c)](([_0x52cd1a,_0x11da3e])=>this[_0x3a747e(0x19f)](_0x197490,_0x3e2c42,_0x20895a,_0x4cd372,_0x43238c,_0x52cd1a,_0x11da3e));}static[_0x37a6ad(0x19f)](_0x14186e,_0x35f0fe,_0x558be6,_0x28d565,_0x1f3c27,_0x32b31a,_0x21f446){const _0x5c1824=_0x37a6ad,_0x1a7b93=_0x32b31a[_0x5c1824(0x110)]('.');if(_0x32b31a==='_'){_0x21f446['forEach'](_0x521b53=>{const _0x516bd3=_0x5c1824;switch(_0x521b53[_0x516bd3(0xe9)]){case _0x516bd3(0x10f):{for(const _0xf2c605 of _0x521b53[_0x516bd3(0x10f)]){window['PLUT_CONTEXT']={'actor':_0x14186e};if(_0xf2c605[_0x516bd3(0x1c6)]&&!eval(_0xf2c605[_0x516bd3(0x1c6)]))continue;Object[_0x516bd3(0xf4)](_0xf2c605[_0x516bd3(0x155)])[_0x516bd3(0x10c)](([_0x482fa9,_0x37da4f])=>this[_0x516bd3(0x19f)](_0x14186e,_0x35f0fe,_0x558be6,_0x28d565,_0x1f3c27,_0x482fa9,_0x37da4f));break;}break;}default:throw new Error(_0x516bd3(0x18c)+_0x521b53['mode']+'\x22');}});return;}const _0x44dc6e=MiscUtil[_0x5c1824(0x188)](_0x14186e,_0x5c1824(0x112),_0x1f3c27,..._0x1a7b93),_0x2238c4=MiscUtil[_0x5c1824(0x188)](_0x35f0fe,_0x1f3c27,..._0x1a7b93),_0x1dd2aa=_0x2238c4||_0x44dc6e;_0x21f446[_0x5c1824(0x10c)](_0xd69704=>{const _0x376e61=_0x5c1824;switch(_0xd69704[_0x376e61(0xe9)]){case _0x376e61(0x13d):{const _0x232280=MiscUtil[_0x376e61(0xf8)](_0x1dd2aa||[]),_0x1b62ff=[..._0x232280];_0x1b62ff['push'](..._0xd69704[_0x376e61(0x185)][_0x376e61(0x167)](_0x203d4c=>!_0x232280['some'](_0x27d6cb=>CollectionUtil[_0x376e61(0x1c3)](_0x203d4c,_0x27d6cb)))),MiscUtil[_0x376e61(0x1ce)](_0x35f0fe,_0x1f3c27,..._0x1a7b93,_0x1b62ff);break;}case _0x376e61(0x1ab):{MiscUtil['set'](_0x35f0fe,_0x1f3c27,..._0x1a7b93,_0xd69704[_0x376e61(0x103)]+_0x1dd2aa||0x0);break;}case'scalarAddUnit':{const _0x5ebca5=(''+(_0x1dd2aa||0x0))[_0x376e61(0x11e)](),_0x14e884=_0x437d8a=>{const _0x335293=_0x376e61,_0x2dcab2=_0x5ebca5[_0x335293(0x10d)](_0x437d8a[_0x335293(0x11e)]());let _0x12b826=_0x1dd2aa[_0x335293(0x1aa)](0x0,_0x2dcab2);const _0xf565d5=_0x1dd2aa[_0x335293(0x1aa)](_0x2dcab2),_0x1a359f=_0x12b826['endsWith']('\x20');_0x12b826=_0x12b826[_0x335293(0x1c5)]();if(!isNaN(_0x12b826)){const _0x123d08=''+(_0xd69704[_0x335293(0x103)]+Number(_0x12b826))+(_0x1a359f?'\x20':'')+_0xf565d5;MiscUtil['set'](_0x35f0fe,_0x1f3c27,..._0x1a7b93,_0x123d08);}};if(!_0x1dd2aa)MiscUtil['set'](_0x35f0fe,_0x1f3c27,..._0x1a7b93,_0xd69704[_0x376e61(0x103)]+'\x20'+(_0xd69704[_0x376e61(0x1b7)]||_0xd69704[_0x376e61(0x18b)]));else{if(_0xd69704['unit']&&_0x5ebca5[_0x376e61(0x10e)](_0xd69704[_0x376e61(0x18b)]['toLowerCase']()))_0x14e884(_0xd69704['unit']);else _0xd69704['unitShort']&&_0x5ebca5[_0x376e61(0x10e)](_0xd69704[_0x376e61(0x1b7)][_0x376e61(0x11e)]())&&_0x14e884(_0xd69704[_0x376e61(0x1b7)]);}break;}case _0x376e61(0x1b4):{const _0x2fb471=(''+(_0x1dd2aa||0x0))[_0x376e61(0x11e)]();let _0x3a335f=Number(_0x2fb471);if(isNaN(_0x3a335f))_0x3a335f=0x0;const _0x4e7395=Math[_0x376e61(0x173)](_0x3a335f,_0xd69704[_0x376e61(0x184)]);MiscUtil['set'](_0x35f0fe,_0x1f3c27,..._0x1a7b93,_0x4e7395);break;}case _0x376e61(0x1ce):{MiscUtil[_0x376e61(0x1ce)](_0x35f0fe,_0x1f3c27,..._0x1a7b93,MiscUtil[_0x376e61(0xf8)](_0xd69704['value']));break;}default:throw new Error(_0x376e61(0x18c)+_0xd69704['mode']+'\x22');}});}static['_pMutActorUpdate_pMutFromSideSkillProfs'](_0x4cceaa,_0x588926,_0x5b4eb6,_0x103a38){const _0x56a168=_0x37a6ad;if(!_0x103a38[_0x56a168(0x1bc)]||!_0x103a38[_0x56a168(0x1bc)][_0x56a168(0x1a5)])return;return this[_0x56a168(0x190)](_0x4cceaa,_0x588926,_0x5b4eb6,_0x103a38['sideData'][_0x56a168(0x1a5)],_0x103a38);}static async[_0x37a6ad(0x190)](_0x530f28,_0x533b38,_0x4d638c,_0x5bbedd,_0x1b017b){const _0xfa76f3=_0x37a6ad,_0x376e35=MiscUtil['getOrSet'](_0x533b38,_0xfa76f3(0x112),{});await DataConverter[_0xfa76f3(0x131)](MiscUtil['get'](_0x530f28,_0xfa76f3(0x112),'data',_0xfa76f3(0x148)),_0x5bbedd,_0x376e35,_0x1b017b,{'titlePrefix':_0x4d638c[_0xfa76f3(0xf6)]+_0xfa76f3(0xe3)+_0x4d638c[_0xfa76f3(0x1c8)]+')'});}static async['_pMutActorUpdate_pMutFromLanguageProfs'](_0x3a12f8,_0x179c33,_0x5cf4c5,_0x91a7e3,_0x3abb16){const _0x559cfe=_0x37a6ad,_0x40e110=MiscUtil[_0x559cfe(0x1a4)](_0x179c33,_0x559cfe(0x112),{});await DataConverter[_0x559cfe(0x147)](MiscUtil[_0x559cfe(0x188)](_0x3a12f8,_0x559cfe(0x112),_0x559cfe(0x112),_0x559cfe(0xdd),_0x559cfe(0x1b5)),_0x91a7e3,_0x40e110,_0x3abb16,{'titlePrefix':_0x5cf4c5['name']+_0x559cfe(0xe3)+_0x5cf4c5['level']+')'});}static async['_pMutActorUpdate_pMutFromEntries'](_0x3d84b7,_0xf116c9,_0x4da9d4,_0x323bb4){const _0x4d2929=_0x37a6ad;if(!_0x4da9d4[_0x4d2929(0xf4)])return;const _0x189e89=new Set(),_0x9e4b9d=new Set(),_0x433040=new Set(),_0x3d354b=new Set(),_0x549d89=new Set(),_0x449358=new Set(),_0x1de4b6=new Set(),_0x1eb702=new Set(),_0x306760=[],_0x18ae5a=[],_0x5ee329=new Set();DataConverter[_0x4d2929(0x169)][_0x4d2929(0x19e)](_0x4da9d4[_0x4d2929(0xf4)],{'string':_0x239897=>{const _0x54cbcc=_0x4d2929;_0x239897[_0x54cbcc(0x12d)](/(?:you|s?he or s?he) ([^.!?]*? )?gains? proficiency (?:with|in (?:either )?(?: the)?)(.*?)(?:[.!?]|$)/gi,(..._0x384101)=>{const _0x4ec670=_0x54cbcc,[,_0x39b354,_0x1341e3]=_0x384101;if(_0x39b354&&_0x39b354[_0x4ec670(0x110)](/\W/g)['some'](_0x5d950f=>_0x5d950f[_0x4ec670(0x1c5)]()['toLowerCase']()===_0x4ec670(0x1a3)))return;const _0x274bcb=this[_0x4ec670(0x197)]('item',_0x1341e3);for(const _0x7506e1 of _0x274bcb){const _0x55ddac=DataUtil[_0x4ec670(0x16a)][_0x4ec670(0xce)](_0x7506e1,'item'),_0x38a701=UrlUtil[_0x4ec670(0x120)][UrlUtil[_0x4ec670(0xee)]](_0x55ddac);_0x189e89[_0x4ec670(0xd5)](_0x38a701);}const _0x3dabcf=_0x1341e3[_0x4ec670(0x110)](/,? and |,? or |, /gi);_0x3dabcf[_0x4ec670(0x19c)](_0x4741ea=>_0x4741ea[_0x4ec670(0x1c5)]()[_0x4ec670(0x12d)](/^\W+/,'')[_0x4ec670(0x12d)](/\W+$/,''))[_0x4ec670(0x167)](Boolean)[_0x4ec670(0x10c)](_0x1804f6=>{const _0x4dffd3=_0x4ec670;_0x1804f6=_0x1804f6['toLowerCase']()[_0x4dffd3(0x1c5)]();switch(_0x1804f6){case'martial\x20weapons':_0x3d354b[_0x4dffd3(0xd5)](_0x4dffd3(0x172));break;case _0x4dffd3(0x18a):_0x3d354b[_0x4dffd3(0xd5)](_0x4dffd3(0x153));break;case _0x4dffd3(0x125):case _0x4dffd3(0x152):_0x449358[_0x4dffd3(0xd5)](_0x4dffd3(0x195));break;case _0x4dffd3(0x18f):case _0x4dffd3(0xe2):_0x449358[_0x4dffd3(0xd5)](_0x4dffd3(0x174));break;case _0x4dffd3(0xc6):case'heavy\x20armor':_0x449358[_0x4dffd3(0xd5)](_0x4dffd3(0x181));break;case'shields':_0x449358['add'](_0x4dffd3(0x1a8));break;}});let _0x184865=![];_0x1341e3[_0x4ec670(0x12d)](/(?:(one|two|three|four|five|six) )skills? of your choice/gi,(..._0x49f5aa)=>{const _0x15c944=_0x4ec670;_0x184865=!![];const _0x1972ac=Parser['textToNumber'](_0x49f5aa[0x1]);if(isNaN(_0x1972ac))return;_0x306760[_0x15c944(0x196)]([{'choose':{'from':Object[_0x15c944(0xf1)](Parser[_0x15c944(0x1b6)]),'count':_0x1972ac}}]);}),!/(^|\W)choice(\W|$)/i['test'](_0x1341e3)&&(_0x184865=!![],this[_0x4ec670(0x102)](_0x1341e3,_0x1eb702)),!_0x184865&&_0x1341e3[_0x4ec670(0x12d)](/ or (.*?) skills?(\W|$)/i,(..._0x239b2a)=>{const _0x331e1b=_0x4ec670,_0x32e489=new Set();this[_0x331e1b(0x102)](_0x239b2a[0x2],_0x32e489);if(_0x32e489['size'])_0x306760['push']([{'choose':{'from':[..._0x32e489],'count':count}}]);}),_0x1341e3[_0x4ec670(0x12d)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throws/i,(..._0x32b8d3)=>{const _0xa204dd=_0x4ec670;_0x5ee329[_0xa204dd(0xd5)](_0x32b8d3[0x1]['toLowerCase']()[_0xa204dd(0x1aa)](0x0,0x3));});}),_0x239897['replace'](/you (?:[^.!?]*? )proficien[^ ]+ in (one|two|three|four|five|six) [^.!?]* skills [^.!?:]*:(.*?)(?:[.!?]|$)/gi,(..._0x4e63dd)=>{const _0x1e50f8=_0x54cbcc,_0x286b8f=Parser[_0x1e50f8(0x141)](_0x4e63dd[0x1]);if(isNaN(_0x286b8f))return;const _0x49daa2=new Set();this[_0x1e50f8(0x102)](_0x4e63dd[0x2],_0x49daa2);if(_0x49daa2[_0x1e50f8(0x116)])_0x306760[_0x1e50f8(0x196)]([{'choose':{'from':[..._0x49daa2],'count':_0x286b8f}}]);}),_0x239897[_0x54cbcc(0x12d)](/you (?:[^.!?]*? )proficien[^ ]+ (?:[^.!?]*? )choice of (two|three|four|five|six) (?:[^.!?]*? )skills:(.*?)(?:[.!?]|$)/gi,(..._0x457fa8)=>{const _0x81846c=_0x54cbcc,_0x18a1b4=Parser[_0x81846c(0x141)](_0x457fa8[0x1]);if(isNaN(_0x18a1b4))return;const _0x3c215e=new Set();this[_0x81846c(0x102)](_0x457fa8[0x2],_0x3c215e);if(_0x3c215e['size'])_0x306760[_0x81846c(0x196)]([{'choose':{'from':[..._0x3c215e],'count':_0x18a1b4}}]);}),_0x239897[_0x54cbcc(0x12d)](/gain proficiency (?:[^.!?]*?) (one|two|three|four|five|six) (?:[^.!?]*?) following skills(?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x3fa7fe)=>{const _0x4da4d9=_0x54cbcc,_0x3efe8d=Parser[_0x4da4d9(0x141)](_0x3fa7fe[0x1]);if(isNaN(_0x3efe8d))return;const _0x1d0ce5=new Set();this['_pMutActorUpdate_addValidSkills'](_0x3fa7fe[0x2],_0x1d0ce5);if(_0x1d0ce5[_0x4da4d9(0x116)])_0x306760[_0x4da4d9(0x196)]([{'choose':{'from':[..._0x1d0ce5],'count':_0x3efe8d}}]);}),_0x239897['replace'](/you learn (an|one|two|three|four|five|six)(?: additional)? language of your choice/gi,(..._0xdd12ee)=>{const _0x37f47a=_0x54cbcc,_0x2b84d8=Parser['textToNumber'](_0xdd12ee[0x1]);if(isNaN(_0x2b84d8))return;_0x18ae5a[_0x37f47a(0x196)]([{'any':_0x2b84d8}]);});}});for(const _0x2bf918 of _0x189e89){const _0x3e23f3=await Renderer[_0x4d2929(0xfd)][_0x4d2929(0xc3)](UrlUtil['PG_ITEMS'],_0x2bf918);if(DataConverter['ITEM_TYPES_ACTOR_TOOLS']['has'](_0x3e23f3[_0x4d2929(0x13e)])){const _0x2b6c1b=UtilActors[_0x4d2929(0x179)](_0x3e23f3[_0x4d2929(0xf6)]);if(_0x2b6c1b)_0x9e4b9d[_0x4d2929(0xd5)](_0x2b6c1b);else _0x433040[_0x4d2929(0xd5)](_0x3e23f3['name'][_0x4d2929(0x11e)]());}DataConverter[_0x4d2929(0xe0)][_0x4d2929(0xff)](_0x3e23f3[_0x4d2929(0x13e)])&&_0x549d89[_0x4d2929(0xd5)](_0x3e23f3[_0x4d2929(0xf6)][_0x4d2929(0x11e)]()+'s');if(DataConverter[_0x4d2929(0x159)][_0x4d2929(0xff)](_0x3e23f3[_0x4d2929(0x13e)])){if(_0x3e23f3[_0x4d2929(0xf6)]==='Shield')_0x449358[_0x4d2929(0xd5)](_0x4d2929(0x1a8));else _0x1de4b6[_0x4d2929(0xd5)](_0x3e23f3['name'][_0x4d2929(0x11e)]());}}this[_0x4d2929(0x1a1)](_0x3d84b7,_0xf116c9,_0x3d354b,'data',_0x4d2929(0xdd),_0x4d2929(0x17d),'value'),this[_0x4d2929(0xc4)](_0x3d84b7,_0xf116c9,_0x549d89,_0x4d2929(0x112),_0x4d2929(0xdd),'weaponProf','custom'),this[_0x4d2929(0x1a1)](_0x3d84b7,_0xf116c9,_0x449358,_0x4d2929(0x112),'traits',_0x4d2929(0x1d2),_0x4d2929(0x184)),this[_0x4d2929(0xc4)](_0x3d84b7,_0xf116c9,_0x1de4b6,_0x4d2929(0x112),_0x4d2929(0xdd),_0x4d2929(0x1d2),_0x4d2929(0x12f)),this['_pMutActorUpdate_mutFromProficiencySetFoundry'](_0x3d84b7,_0xf116c9,_0x9e4b9d,_0x4d2929(0x112),_0x4d2929(0xdd),'toolProf',_0x4d2929(0x184)),this[_0x4d2929(0xc4)](_0x3d84b7,_0xf116c9,_0x433040,'data','traits',_0x4d2929(0x1d1),_0x4d2929(0x12f));if(_0x1eb702[_0x4d2929(0x116)]){const _0x3fb518=[[..._0x1eb702][_0x4d2929(0x15f)](_0x1874f4=>({[_0x1874f4]:!![]}))];await this[_0x4d2929(0x190)](_0x3d84b7,_0xf116c9,_0x4da9d4,_0x3fb518,_0x323bb4);}if(_0x306760[_0x4d2929(0x11c)])for(const _0x531c96 of _0x306760){await this[_0x4d2929(0x190)](_0x3d84b7,_0xf116c9,_0x4da9d4,_0x531c96,_0x323bb4);}if(_0x18ae5a[_0x4d2929(0x11c)])for(const _0x25fe6e of _0x18ae5a){await this['_pMutActorUpdate_pMutFromLanguageProfs'](_0x3d84b7,_0xf116c9,_0x4da9d4,_0x25fe6e,_0x323bb4);}_0x5ee329[_0x4d2929(0x116)]&&_0x5ee329[_0x4d2929(0x10c)](_0x580da6=>MiscUtil[_0x4d2929(0x1ce)](_0xf116c9,'data',_0x4d2929(0x14b),_0x580da6,'proficient',0x1));}static[_0x37a6ad(0x102)](_0x22cba5,_0x27c748){const _0x3bfede=_0x37a6ad,_0x34b8f5=this[_0x3bfede(0x197)](_0x3bfede(0x134),_0x22cba5);for(const _0x22afab of _0x34b8f5){const _0x54abf2=_0x22afab[_0x3bfede(0x110)]('|')[0x0][_0x3bfede(0x11e)](),_0x470125=!!Parser[_0x3bfede(0x1b6)][_0x54abf2];if(!_0x470125)continue;_0x27c748['add'](_0x54abf2);}}static[_0x37a6ad(0x1a1)](_0xcb52d6,_0x563d9e,_0x456b7c,..._0x2b1b5f){const _0x454693=_0x37a6ad;if(!_0x456b7c[_0x454693(0x116)])return;const _0x146ef9=MiscUtil['copy'](MiscUtil[_0x454693(0x188)](_0xcb52d6,_0x454693(0x112),..._0x2b1b5f)||[]),_0xcd6593=MiscUtil[_0x454693(0x1a4)](_0x563d9e,..._0x2b1b5f,_0x146ef9),_0x360ea5=new Set([..._0xcd6593,..._0x456b7c]);MiscUtil[_0x454693(0x1ce)](_0x563d9e,..._0x2b1b5f,[..._0x360ea5]);}static[_0x37a6ad(0xc4)](_0x55e409,_0x27ca5c,_0x31042a,..._0x4570c0){const _0x19d0fb=_0x37a6ad;if(!_0x31042a[_0x19d0fb(0x116)])return;const _0x4d5323=MiscUtil[_0x19d0fb(0xf8)](MiscUtil['get'](_0x55e409,_0x19d0fb(0x112),..._0x4570c0)||''),_0x45e36a=MiscUtil[_0x19d0fb(0x188)](_0x27ca5c,..._0x4570c0)||_0x4d5323,_0x1bb653=_0x45e36a[_0x19d0fb(0x110)](';')[_0x19d0fb(0x19c)](_0x214a37=>_0x214a37[_0x19d0fb(0x1c5)]())[_0x19d0fb(0x167)](Boolean);[..._0x31042a][_0x19d0fb(0x167)](_0x30a260=>!_0x1bb653[_0x19d0fb(0x118)](_0x19b5b1=>_0x19b5b1[_0x19d0fb(0x11e)]()[_0x19d0fb(0x1c5)]()===_0x30a260['toLowerCase']()[_0x19d0fb(0x1c5)]()))[_0x19d0fb(0x10c)](_0x23a204=>_0x1bb653['push'](_0x23a204)),MiscUtil[_0x19d0fb(0x1ce)](_0x27ca5c,..._0x4570c0,_0x1bb653[_0x19d0fb(0x140)](';'));}static[_0x37a6ad(0xbf)](_0x76dc8,_0x27cf47){const _0x16ef60=_0x37a6ad;_0x27cf47=_0x27cf47||{},_0x27cf47[_0x16ef60(0x135)]=_0x27cf47[_0x16ef60(0x135)]||{};let {description:_0x19b69e,activationType:_0x4375d2,activationCost:_0xf26f28,activationCondition:_0x27dc84,saveAbility:_0xcec2b9,saveDc:_0x30f16c,saveScaling:_0x4520dd,damageParts:_0x1e7f9a,attackBonus:_0x449a45,requirements:_0x35e8e2,actionType:_0x3209b9,durationValue:_0x4bcafe,durationUnits:_0xddc91e,consumeType:_0x135775,consumeTarget:_0x3ab741,consumeAmount:_0x30a797,formula:_0x788822,targetValue:_0x44a528,targetUnits:_0x59ed86,targetType:_0x249234,foundryData:_0x37f1ce,_foundryData:_0x497768,foundryFlags:_0x5e3226,_foundryFlags:_0x31d672}=_0x27cf47;const _0x1fbde5=DataConverter['getCombinedFoundryData'](_0x37f1ce,_0x497768),_0x5cdad3=DataConverter[_0x16ef60(0x198)](_0x5e3226,_0x31d672);_0x19b69e=_0x19b69e||(_0x27cf47['isSkipDescription']?'':DataConverter[_0x16ef60(0xfa)](_0x76dc8,{'depth':_0x27cf47[_0x16ef60(0x109)]})),_0x4375d2=_0x4375d2||'',_0xf26f28=_0xf26f28||0x0,_0x27dc84=_0x27dc84||'',_0xcec2b9=_0xcec2b9||'',_0x30f16c=_0x30f16c||null,_0x4520dd=_0x4520dd||'',_0x1e7f9a=_0x1e7f9a||[],_0x449a45=_0x449a45||0x0,_0x35e8e2=_0x35e8e2||'',_0x3209b9=_0x3209b9||'',_0x4bcafe=_0x4bcafe||null,_0xddc91e=_0xddc91e||'',_0x135775=_0x135775||null,_0x3ab741=_0x3ab741||null,_0x30a797=_0x30a797||null,_0x788822=_0x788822||'',_0x44a528=_0x44a528||null,_0x59ed86=_0x59ed86||'',_0x249234=_0x249234||'';let _0xfba0cd=UtilApplications[_0x16ef60(0xbe)](DataConverter['getNameWithSourcePart'](_0x76dc8));const _0x345bd5=_0x76dc8[_0x16ef60(0xf4)]?JSON[_0x16ef60(0x12e)](_0x76dc8[_0x16ef60(0xf4)]):null;let _0x196b29=null;if(_0x76dc8['name']){const _0x397a8f=/{@recharge( \d+)?}/gi['exec'](_0x76dc8[_0x16ef60(0xf6)]);_0x397a8f&&(_0x196b29=_0x397a8f[0x1]?Number(_0x397a8f[0x1][_0x16ef60(0x1c5)]()):0x6,_0xfba0cd=_0xfba0cd[_0x16ef60(0x12d)](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x16ef60(0x1c5)]()[_0x16ef60(0x12d)](/[ ]+/g,'\x20'));}if(_0x76dc8[_0x16ef60(0xf4)]){/(?:^|\W)bonus action(?:\W|$)/i[_0x16ef60(0x157)](_0x345bd5)&&(_0x4375d2=_0x4375d2||_0x16ef60(0x12c),_0xf26f28=_0xf26f28||0x1);if(_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0xc1)){if(!_0x4375d2&&!_0xf26f28){const _0x2662fc=DataConverter[_0x16ef60(0x169)];_0x2662fc['walk'](_0x76dc8[_0x16ef60(0xf4)],{'string':_0x41d4fb=>{const _0x4e2184=_0x16ef60;if(_0x4375d2)return _0x41d4fb;const _0x34b629=_0x41d4fb[_0x4e2184(0x110)](/[.?!]/g)['map'](_0x3a3c01=>_0x3a3c01[_0x4e2184(0x1c5)]());for(const _0x21f37e of _0x34b629){if(/as an action|can take an action/i[_0x4e2184(0x157)](_0x21f37e)){_0x4375d2=_0x4375d2||_0x4e2184(0xcc),_0xf26f28=_0xf26f28||0x1;break;}const _0x503c8a=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x4e2184(0xdf)](_0x21f37e);if(_0x503c8a){_0x4375d2=_0x4375d2||_0x4e2184(0x10b),_0xf26f28=_0xf26f28||0x1;let _0x3e56dd=_0x21f37e['slice'](0x0,_0x503c8a[_0x4e2184(0x192)])['trim']()[_0x4e2184(0x12d)](/,$/,'');const _0x3dd90a=/(^|\W)(?:if|when)(?:|\W)/i[_0x4e2184(0xdf)](_0x3e56dd);_0x3dd90a&&(_0x3e56dd=_0x3e56dd[_0x4e2184(0x1aa)](_0x3dd90a[_0x4e2184(0x192)]+_0x3dd90a[0x1][_0x4e2184(0x11c)])[_0x4e2184(0x1c5)](),_0x27dc84=_0x27dc84||_0x3e56dd);break;}}}});}}}let _0x2fae79=0x0,_0x14ed45=null;_0x27cf47[_0x16ef60(0xe9)]==='creature'&&_0x76dc8['name']&&(_0xfba0cd=_0xfba0cd[_0x16ef60(0x12d)](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x17514c)=>{const _0xde5c70=_0x16ef60;_0x2fae79=Number(_0x17514c[0x1]);const _0xa37a4e=_0x17514c[0x2][_0xde5c70(0x1c5)]()['toLowerCase']();switch(_0xa37a4e){case _0xde5c70(0x189):_0x14ed45=_0xde5c70(0x189);break;case'short\x20rest':_0x14ed45='sr';break;case _0xde5c70(0x16c):_0x14ed45='lr';break;}return'';}),!_0x14ed45&&(_0xfba0cd=_0xfba0cd[_0x16ef60(0x12d)](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x257b2b)=>{const _0xdff6ac=_0x16ef60;return _0x2fae79=Number(_0x257b2b[0x1]),_0x14ed45=_0xdff6ac(0x1c1),'';})),_0x14ed45&&(_0xfba0cd=_0xfba0cd[_0x16ef60(0x1c5)]()[_0x16ef60(0x12d)](/[ ]+/g,'\x20'),_0x4375d2=_0x4375d2||_0x16ef60(0xf5),_0x76dc8['entries']&&typeof _0x76dc8[_0x16ef60(0xf4)][0x0]===_0x16ef60(0x16d)&&/^(?:If |When )/i[_0x16ef60(0x157)](_0x76dc8[_0x16ef60(0xf4)][0x0][_0x16ef60(0x1c5)]())&&(_0x27dc84=_0x76dc8[_0x16ef60(0xf4)][0x0][_0x16ef60(0x1c5)]())),/legendary resistance/gi['test'](_0xfba0cd)&&(_0x2fae79=0x0,_0x14ed45=null));if(_0x27cf47['mode']===_0x16ef60(0xc1)&&_0x76dc8[_0x16ef60(0xf4)]){const _0x33adc2=/finish a short rest/[_0x16ef60(0x157)](_0x345bd5)||/finish a short or long rest/[_0x16ef60(0x157)](_0x345bd5)||/finish a short rest or a long rest/[_0x16ef60(0x157)](_0x345bd5)||/finish a short or long rest/[_0x16ef60(0x157)](_0x345bd5),_0x2a53c3=!_0x33adc2&&/finish a long rest/[_0x16ef60(0x157)](_0x345bd5);if(_0x33adc2)_0x14ed45='sr';else{if(_0x2a53c3)_0x14ed45='lr';}const _0xb2eb7e=new RegExp(_0x16ef60(0xe1)+Consts[_0x16ef60(0x1c4)]['map'](_0x4f3bc8=>_0x4f3bc8[_0x16ef60(0x124)][_0x16ef60(0x140)]('\x20'))['join']('|')+_0x16ef60(0x106)+Consts['TERMS_COUNT'][_0x16ef60(0x19c)](_0x3aef90=>_0x3aef90[_0x16ef60(0x124)][_0x16ef60(0x140)]('\x20'))[_0x16ef60(0x140)]('|')+_0x16ef60(0x1b0),'i'),_0xe4efb4=_0xb2eb7e['exec'](_0x345bd5);if(_0xe4efb4&&_0x27cf47['actor']){const _0xe735e5=_0xe4efb4[0x2][_0x16ef60(0x1aa)](0x0,0x3)[_0x16ef60(0x11e)](),_0x1c2095=MiscUtil[_0x16ef60(0x188)](_0x27cf47['actor'],'data',_0x16ef60(0x112),_0x16ef60(0x14b),_0xe735e5,_0x16ef60(0x184));if(_0x1c2095!=null){let _0x2d5bba=Parser[_0x16ef60(0x1b2)](_0x1c2095);if(_0xe4efb4[0x1]){const _0x591e0b=(Consts['TERMS_COUNT'][_0x16ef60(0x13b)](_0x4775e4=>_0x4775e4[_0x16ef60(0x124)][_0x16ef60(0x140)]('\x20')===_0xe4efb4[0x1][_0x16ef60(0x1c5)]()[_0x16ef60(0x11e)]())||{})[_0x16ef60(0xe6)]||0x1;_0x2d5bba=_0x2d5bba*_0x591e0b;}if(_0xe4efb4[0x3]){const _0x5dc3d4=(Consts[_0x16ef60(0x1c4)][_0x16ef60(0x13b)](_0x46bacf=>_0x46bacf['tokens']['join']('\x20')===_0xe4efb4[0x3][_0x16ef60(0x1c5)]()[_0x16ef60(0x11e)]())||{})[_0x16ef60(0xe6)]||0x1;_0x2d5bba=Math[_0x16ef60(0x173)](_0x5dc3d4,_0x2d5bba);}_0x2fae79=_0x2d5bba;}}}_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0xc1)&&_0x76dc8[_0x16ef60(0xf4)]&&DataConverter[_0x16ef60(0x169)][_0x16ef60(0x19e)](_0x76dc8[_0x16ef60(0xf4)],{'object':_0x47847b=>{const _0x79c209=_0x16ef60;if(_0x47847b[_0x79c209(0x13e)]!==_0x79c209(0x13a))return _0x47847b;if(_0x3209b9&&_0x4520dd)return _0x47847b;return _0x3209b9=_0x3209b9||'save',_0x4520dd=_0x47847b[_0x79c209(0xc7)][0x0],_0x47847b;},'string':_0xa7cc7c=>{const _0x43d912=_0x16ef60;if(_0x3209b9&&_0xcec2b9&&_0x4520dd)return _0xa7cc7c;return _0xa7cc7c['replace'](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x1aac73)=>{const _0x587ebe=_0x51c5,_0x2d0aff=[];_0x1aac73[0x1][_0x587ebe(0x12d)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x6f8ad7)=>{const _0x271575=_0x587ebe;_0x2d0aff[_0x271575(0x196)](_0x6f8ad7[0x1][_0x271575(0x11e)]()[_0x271575(0x1aa)](0x0,0x3));});if(!_0x2d0aff[_0x587ebe(0x11c)])return;_0x3209b9=_0x3209b9||_0x587ebe(0x1d0),_0x4520dd=_0x2d0aff[0x0];}),_0xa7cc7c[_0x43d912(0x12d)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x4f47a2)=>{const _0x594570=_0x43d912;_0x3209b9=_0x3209b9||_0x594570(0x1d0),_0xcec2b9=_0xcec2b9||_0x4f47a2[0x1]['toLowerCase']()[_0x594570(0x1aa)](0x0,0x3),_0x4520dd=_0x4520dd||_0x594570(0x17f);}),_0x27cf47[_0x43d912(0x135)][_0x43d912(0x16e)]&&_0xa7cc7c[_0x43d912(0x12d)](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x3b387a)=>{const _0x114ffa=_0x43d912;_0x3209b9=_0x3209b9||'save',_0xcec2b9=_0xcec2b9||_0x3b387a[0x1][_0x114ffa(0x11e)]()[_0x114ffa(0x1aa)](0x0,0x3),_0x4520dd=_0x4520dd||_0x114ffa(0x17f);}),_0xa7cc7c;}});_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0x128)&&_0x76dc8[_0x16ef60(0xf4)]&&_0x345bd5['replace'](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x4ccffd)=>{const _0x1328f8=_0x16ef60,_0x59a6ad=Number(_0x4ccffd[0x1]['replace'](/\s*/g,''));if(isNaN(_0x59a6ad))return;_0x3209b9=_0x3209b9||'save',_0xcec2b9=_0xcec2b9||_0x4ccffd[0x2][_0x1328f8(0x11e)]()['slice'](0x0,0x3),_0x30f16c=_0x59a6ad;if(_0x27cf47['pb']==null||_0x27cf47['entity']==null||Parser['ABIL_ABVS'][_0x1328f8(0x118)](_0x40ce06=>_0x27cf47[_0x1328f8(0x186)][_0x40ce06]==null)){_0x4520dd=_0x1328f8(0x139);return;}const _0x56f807=_0x59a6ad-_0x27cf47['pb']-0x8,_0x485590=Parser[_0x1328f8(0xe7)][_0x1328f8(0x19c)](_0x1cbcea=>({'ability':_0x1cbcea,'bonus':Parser[_0x1328f8(0x1b2)](_0x27cf47[_0x1328f8(0x186)][_0x1cbcea])})),_0x38f1b5=_0x485590[_0x1328f8(0x167)](_0x506a94=>_0x506a94[_0x1328f8(0x12c)]===_0x56f807);if(_0x38f1b5['length']===0x1)_0x4520dd=_0x4520dd||_0x38f1b5[0x0][_0x1328f8(0x1a6)];else _0x4520dd='flat';});_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0xc1)&&_0x76dc8[_0x16ef60(0xf4)]&&DataConverter[_0x16ef60(0x169)][_0x16ef60(0x19e)](_0x76dc8[_0x16ef60(0xf4)],{'string':_0x5ea1a6=>{const _0x616f24=_0x16ef60;if(_0x4bcafe||_0xddc91e)return;_0x5ea1a6[_0x616f24(0x12d)](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x47503c)=>{const _0x3e702f=_0x616f24;_0x4bcafe=Number(_0x47503c[0x1]),_0xddc91e=_0x47503c[0x2][_0x3e702f(0x11e)]();}),_0x5ea1a6['replace'](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x228136)=>{const _0x59e737=_0x616f24;_0x4bcafe=Number(_0x228136[0x1]),_0xddc91e=_0x228136[0x2][_0x59e737(0x11e)]();}),_0x5ea1a6['replace'](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x4c3aa6)=>{_0x4bcafe=Number(_0x4c3aa6[0x1]),_0xddc91e=_0x4c3aa6[0x2]['toLowerCase']();}),_0x5ea1a6['replace'](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1f6b41)=>{const _0x56ba99=_0x616f24;_0x4bcafe=Number(_0x1f6b41[0x1]),_0xddc91e=_0x1f6b41[0x2][_0x56ba99(0x11e)]();}),_0x5ea1a6[_0x616f24(0x12d)](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0xf20de=_0x616f24;_0x4bcafe=0x1,_0xddc91e=_0xf20de(0x11d);}),Renderer['stripTags'](_0x5ea1a6)[_0x616f24(0x12d)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x5d0b05)=>{_0x4bcafe=Number(_0x5d0b05[0x1]),_0xddc91e=_0x5d0b05[0x2]['toLowerCase']();});}});_0x27cf47['mode']===_0x16ef60(0xc1)&&_0x76dc8[_0x16ef60(0xf4)]&&DataConverter[_0x16ef60(0x169)][_0x16ef60(0x19e)](_0x76dc8[_0x16ef60(0xf4)],{'string':_0x292f4a=>{const _0x1e5370=_0x16ef60;if(_0x135775||_0x3ab741||_0x30a797)return;_0x292f4a[_0x1e5370(0x12d)](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x56fb54)=>{const _0xdbfa96=_0x1e5370;_0x135775='attribute',_0x3ab741=_0xdbfa96(0xd4),_0x30a797=Number(_0x56fb54[0x1]||_0x56fb54[0x2]);});}});let _0x550144=_0x345bd5;if((_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0xc1)||_0x27cf47[_0x16ef60(0xe9)]==='vehicle')&&_0x76dc8['entries']&&!_0x1e7f9a[_0x16ef60(0x11c)]){const {str:_0x59000c,damageTupleMetas:_0x1e5455}=DataConverter[_0x16ef60(0x162)](_0x345bd5);_0x550144=_0x59000c;const {damageParts:_0x2a924f,formula:_0x3184ad}=DataConverter[_0x16ef60(0x160)](_0x1e5455);_0x1e7f9a=_0x2a924f,_0x788822=_0x788822||_0x3184ad;}return(_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0xc1)||_0x27cf47[_0x16ef60(0xe9)]===_0x16ef60(0x132))&&_0x76dc8[_0x16ef60(0xf4)]&&!_0x788822&&_0x550144['replace'](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x512713)=>{const _0x5af47f=_0x16ef60,[_0x3779a2]=_0x512713[0x1][_0x5af47f(0x110)]('|');_0x788822=_0x3779a2;}),_0x345bd5&&_0x345bd5[_0x16ef60(0x12d)](/exhales [^.]*a (\d+)-foot[- ](cone|line)/,(..._0x1416e4)=>{_0x44a528=_0x44a528||Number(_0x1416e4[0x1]),_0x59ed86=_0x59ed86||'ft',_0x249234=_0x249234||_0x1416e4[0x2];}),{'name':_0xfba0cd,'type':_0x27cf47[_0x16ef60(0x1bb)],'data':{'source':_0x27cf47['source']?Parser[_0x16ef60(0xd7)](_0x27cf47[_0x16ef60(0xc5)]):'','description':{'value':_0x19b69e,'chat':'','unidentified':''},'damage':{'parts':_0x1e7f9a,'versatile':''},'duration':{'value':_0x4bcafe,'units':_0xddc91e},'range':{'value':null,'long':null,'units':''},'requirements':_0x35e8e2,'save':{'ability':_0xcec2b9,'dc':_0x30f16c,'scaling':_0x4520dd||_0x16ef60(0x139)},'activation':{'type':_0x4375d2,'cost':_0xf26f28,'condition':_0x27dc84},'target':{'value':_0x44a528,'units':_0x59ed86,'type':_0x249234},'uses':{'value':_0x2fae79,'max':_0x2fae79,'per':_0x14ed45},'ability':'','actionType':_0x3209b9||'other','attackBonus':_0x449a45,'chatFlavor':'','critical':null,'formula':_0x788822,'recharge':{'value':_0x196b29,'charged':_0x196b29!=null},'consume':{'type':_0x135775,'target':_0x3ab741,'amount':_0x30a797},..._0x1fbde5||{},..._0x27cf47[_0x16ef60(0x164)]||{}},'img':_0x27cf47[_0x16ef60(0x1a7)],'flags':{..._0x5cdad3||{}},'effects':[]};}static[_0x37a6ad(0xe5)](_0x745eca,_0x122875,_0x3c0aa1,_0x53dc0d){const _0x10c511=_0x37a6ad,_0x3de196=_0x3c0aa1===_0x10c511(0x187)?_0x10c511(0x150):_0x10c511(0x114),_0x153a9c=[],_0x23350f=_0x122875['contents'],_0x18cca8=Math['min'](_0x23350f[_0x10c511(0x11c)],_0x745eca[_0x10c511(0x11c)]);for(let _0x139aba=0x0;_0x139aba<_0x18cca8;++_0x139aba){const _0x58dbb3=_0x23350f[_0x139aba],_0x27338e=_0x745eca[_0x139aba],_0x21ba18={'name':UtilApplications['getCleanEntityName'](''+Parser['bookOrdinalToAbv'](_0x58dbb3[_0x10c511(0x108)])+_0x58dbb3[_0x10c511(0xf6)]),'permission':{'default':0x0},'entryTime':Date[_0x10c511(0x194)](),'content':(_0x10c511(0x1cf)+Renderer[_0x10c511(0x188)]()[_0x10c511(0x100)](!![])['render'](_0x27338e)+_0x10c511(0x11a))[_0x10c511(0x12d)](new RegExp(DataConverter['SYM_AT'],'g'),'@')};if(_0x53dc0d[_0x10c511(0x107)])_0x21ba18[_0x10c511(0xd3)]={'default':Config[_0x10c511(0x188)](_0x3de196,_0x10c511(0x129))};_0x153a9c['push'](_0x21ba18);}return _0x153a9c;}static['getAdventureJournals'](_0x2dae76,_0x51c3ff,_0x219605){const _0x5e542d=_0x37a6ad;return this['_getAdventureBookJournals'](_0x2dae76,_0x51c3ff,_0x5e542d(0x187),_0x219605);}static[_0x37a6ad(0x1bd)](_0x542450,_0x1e5917,_0x132d0c){const _0x97c01c=_0x37a6ad;return this[_0x97c01c(0xe5)](_0x542450,_0x1e5917,'book',_0x132d0c);}static async['pFillActorSkillData'](_0x5891eb,_0x395b65,_0x2ee06a,_0x37e808,_0x57df23){const _0x565967=_0x37a6ad;_0x57df23=_0x57df23||{};if(!_0x395b65)return{};const _0xb23e5e=await Charactermancer_SkillSelect[_0x565967(0x16b)]({..._0x57df23,'existingProficienciesFvtt':_0x5891eb,'availableProficiencies':_0x395b65});if(!_0xb23e5e)return _0x37e808[_0x565967(0x111)]=!![];if(_0xb23e5e===VeCt[_0x565967(0x142)])return;const _0x5e4cbe={};return _0x2ee06a['skills']=_0x2ee06a[_0x565967(0x148)]||{},Object[_0x565967(0xf4)](UtilActors[_0x565967(0x1bf)])[_0x565967(0x167)](([_0x312481,_0x20cc50])=>_0xb23e5e['data'][_0x20cc50])[_0x565967(0x10c)](([_0x5ecd32,_0x2096ab])=>{const _0x9f0280=_0x565967;_0x5e4cbe[_0x5ecd32]=_0xb23e5e[_0x9f0280(0x112)][_0x2096ab];const _0x21597c=Math[_0x9f0280(0x173)]((_0x5891eb[_0x5ecd32]||{})['value']||0x0,_0xb23e5e[_0x9f0280(0x112)][_0x2096ab]?0x1:0x0,(_0x2ee06a[_0x9f0280(0x148)][_0x5ecd32]||{})['value']||0x0),_0x4486fe=_0x21597c>(MiscUtil[_0x9f0280(0x188)](_0x2ee06a[_0x9f0280(0x148)],_0x5ecd32,_0x9f0280(0x184))||0x0);if(_0x4486fe)(_0x2ee06a[_0x9f0280(0x148)][_0x5ecd32]=_0x2ee06a['skills'][_0x5ecd32]||{})[_0x9f0280(0x184)]=_0x21597c;}),_0x5e4cbe;}static async['pFillActorLanguageData'](_0x5b64d7,_0x348901,_0x37d9fc,_0x358036,_0x50df87){const _0x5ca374=_0x37a6ad;_0x50df87=_0x50df87||{};const _0x4c74f2=await Charactermancer_LanguageSelect[_0x5ca374(0x16b)]({..._0x50df87,'existingProficienciesFvtt':_0x5b64d7,'availableProficiencies':_0x348901});if(!_0x4c74f2)return _0x358036[_0x5ca374(0x111)]=!![];if(_0x4c74f2===VeCt['SYM_UI_SKIP'])return;this['_doApplyFormData'](_0x5b64d7,_0x4c74f2,_0x37d9fc,{'fnGetMappedItem':_0x33705b=>UtilActors[_0x5ca374(0x1ba)](_0x33705b),'actorTraitProp':_0x5ca374(0x1b5)});}static async[_0x37a6ad(0x180)](_0x41e481,_0x1bfacb,_0x250b99,_0x446153,_0x22854c){const _0x14cf50=_0x37a6ad;_0x22854c=_0x22854c||{};const _0x392cb0=await Charactermancer_ToolSelect['pGetUserInput']({..._0x22854c,'existingProficienciesFvtt':_0x41e481,'availableProficiencies':_0x1bfacb});if(!_0x392cb0)return _0x446153[_0x14cf50(0x111)]=!![];if(_0x392cb0===VeCt[_0x14cf50(0x142)])return;this[_0x14cf50(0x104)](_0x41e481,_0x392cb0,_0x250b99,{'fnGetMappedItem':_0x5df347=>UtilActors[_0x14cf50(0x179)](_0x5df347),'actorTraitProp':_0x14cf50(0x1d1)});}static[_0x37a6ad(0x104)](_0x231400,_0x3c816f,_0x2865d7,_0xee7b43){const _0x3ffa21=_0x37a6ad;if(!_0x3c816f)return![];_0x231400=_0x231400||{};if(!_0x3c816f[_0x3ffa21(0x112)]||!Object[_0x3ffa21(0xf1)](_0x3c816f['data'])[_0x3ffa21(0x11c)])return![];const _0x65df60=MiscUtil['copy'](_0x3c816f[_0x3ffa21(0x112)]),_0x3d26e8=new Set();Object[_0x3ffa21(0xf1)](_0x65df60)[_0x3ffa21(0x167)](_0x31a715=>_0x65df60[_0x31a715])[_0x3ffa21(0x10c)](_0x20af69=>_0x3d26e8[_0x3ffa21(0xd5)](_0x20af69));const _0x4cc3ec=new Set(),_0xa8ffa3=[];(_0x231400[_0x3ffa21(0x184)]||[])['forEach'](_0x6a1e1c=>_0x4cc3ec[_0x3ffa21(0xd5)](_0x6a1e1c)),(_0x231400[_0x3ffa21(0x12f)]||'')[_0x3ffa21(0x110)](';')[_0x3ffa21(0x19c)](_0xb3f90e=>_0xb3f90e[_0x3ffa21(0x1c5)]())[_0x3ffa21(0x167)](Boolean)['forEach'](_0x5ebef5=>this['_doApplyFormData_doCheckAddCustomItem'](_0xa8ffa3,_0x5ebef5)),_0x3d26e8[_0x3ffa21(0x10c)](_0x1ff4a0=>{const _0x44a4d3=_0x3ffa21,_0x1b1780=_0xee7b43[_0x44a4d3(0x119)](_0x1ff4a0);if(_0x1b1780)_0x4cc3ec['add'](_0x1b1780);else this[_0x44a4d3(0x151)](_0xa8ffa3,_0x1ff4a0[_0x44a4d3(0xc9)]());});const _0x1e1423=(_0x2865d7[_0x3ffa21(0xdd)]=_0x2865d7[_0x3ffa21(0xdd)]||{})[_0xee7b43['actorTraitProp']]=_0x2865d7[_0x3ffa21(0xdd)][_0xee7b43[_0x3ffa21(0x1cb)]]||{};_0x1e1423[_0x3ffa21(0x184)]=[..._0x4cc3ec][_0x3ffa21(0x19c)](_0x199ec1=>_0x199ec1[_0x3ffa21(0x11e)]())['sort'](SortUtil['ascSortLower']),_0x1e1423[_0x3ffa21(0x12f)]=_0xa8ffa3['join'](';');}static[_0x37a6ad(0x151)](_0x17c9af,_0x4488b2){const _0x28b87b=_0x37a6ad,_0x2c2741=_0x4488b2[_0x28b87b(0x1c5)]()[_0x28b87b(0x11e)]();if(!_0x17c9af['some'](_0x5c6bde=>_0x5c6bde[_0x28b87b(0x1c5)]()[_0x28b87b(0x11e)]()===_0x2c2741))_0x17c9af['push'](_0x4488b2);}static async[_0x37a6ad(0x154)](_0x413951,_0x1ea327,_0x1b4421,_0x16d4a5){const _0x3170f8=_0x37a6ad,_0x531cbb=await Charactermancer_Race_DamageImmunitySelect['pGetUserInput']({'existingFvtt':_0x413951,'available':_0x1ea327});if(!_0x531cbb)return _0x16d4a5[_0x3170f8(0x111)]=!![];if(_0x531cbb===VeCt[_0x3170f8(0x142)])return;const _0x3210c3=MiscUtil[_0x3170f8(0x1a4)](_0x1b4421,_0x3170f8(0xdd),'di',{});_0x3210c3[_0x3170f8(0x184)]=[...Object[_0x3170f8(0xf1)](_0x531cbb['data']||{})];}static async[_0x37a6ad(0xf0)](_0x50bada,_0x25f34a,_0x575dfb,_0x48bbfc){const _0x241781=_0x37a6ad,_0x2d1e83=await Charactermancer_Race_DamageResistanceSelect[_0x241781(0x16b)]({'existingFvtt':_0x50bada,'available':_0x25f34a});if(!_0x2d1e83)return _0x48bbfc[_0x241781(0x111)]=!![];if(_0x2d1e83===VeCt[_0x241781(0x142)])return;const _0xdbf875=MiscUtil[_0x241781(0x1a4)](_0x575dfb,_0x241781(0xdd),'dr',{});_0xdbf875['value']=[...Object[_0x241781(0xf1)](_0x2d1e83[_0x241781(0x112)]||{})];}static async['pFillActorVulnerabilityData'](_0x280072,_0x4eedeb,_0x15c5f8,_0x1193cd){const _0x16fa0f=_0x37a6ad,_0x1833f2=await Charactermancer_Race_DamageVulnerabilitySelect['pGetUserInput']({'existingFvtt':_0x280072,'available':_0x4eedeb});if(!_0x1833f2)return _0x1193cd[_0x16fa0f(0x111)]=!![];if(_0x1833f2===VeCt['SYM_UI_SKIP'])return;const _0x167528=MiscUtil[_0x16fa0f(0x1a4)](_0x15c5f8,'traits','dv',{});_0x167528[_0x16fa0f(0x184)]=[...Object['keys'](_0x1833f2['data']||{})];}static async['pFillActorConditionImmunityData'](_0x46749e,_0x10bd1d,_0x301e3b,_0xf674bd){const _0x406d5e=_0x37a6ad,_0x3e6c99=await Charactermancer_Race_ConditionImmunitySelect['pGetUserInput']({'existingFvtt':_0x46749e,'available':_0x10bd1d});if(!_0x3e6c99)return _0xf674bd[_0x406d5e(0x111)]=!![];if(_0x3e6c99===VeCt[_0x406d5e(0x142)])return;const _0x11fbc1=MiscUtil[_0x406d5e(0x1a4)](_0x301e3b,_0x406d5e(0xdd),'ci',{});_0x11fbc1['value']=[...Object[_0x406d5e(0xf1)](_0x3e6c99[_0x406d5e(0x112)]||{})[_0x406d5e(0x19c)](_0x21ade4=>_0x21ade4===_0x406d5e(0x137)?_0x406d5e(0x101):_0x21ade4)];}static[_0x37a6ad(0x162)](_0x462411){const _0x4f0a29=_0x37a6ad,_0x45203a=[],_0x2f2212=_0x462411[_0x4f0a29(0x10d)]('{@dc\x20'),_0x2f4317=_0x462411[_0x4f0a29(0x12d)](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0xa95139)=>{const _0x216869=_0x4f0a29,[,_0x333591,_0x4df17d,_0x5d3822,_0x519f62,_0x19b696]=_0xa95139,_0x4049af=_0x333591!=null,_0x4146db=_0x4049af?_0x333591:_0x5d3822?_0x4df17d+_0x216869(0x144)+_0x5d3822:_0x4df17d;if(_0x4049af){const _0x2e8b41=_0x462411[_0x216869(0x110)](/( )/g);let _0x5b75d8=0x0;const _0x3998c9=[];for(let _0x3ec74a=0x0;_0x3ec74a<_0x2e8b41[_0x216869(0x11c)];++_0x3ec74a){_0x3998c9[_0x216869(0x196)](_0x2e8b41[_0x3ec74a]),_0x5b75d8+=_0x2e8b41[_0x3ec74a][_0x216869(0x11c)];if(_0x5b75d8===_0x19b696){const _0x5901d6=_0x3998c9['slice'](-0x4);if(/^by dealing$/i[_0x216869(0x157)](_0x5901d6[_0x216869(0x140)]('')[_0x216869(0x1c5)]()))return'';}}}const _0x1db850={'tuple':[_0x4146db,_0x519f62]};return~_0x2f2212&&_0x19b696>=_0x2f2212&&(_0x1db850[_0x216869(0x1ae)]=!![]),_0x45203a[_0x216869(0x196)](_0x1db850),'';});return{'str':_0x2f4317,'damageTupleMetas':_0x45203a[_0x4f0a29(0x167)](_0x2f8527=>_0x2f8527[_0x4f0a29(0x19a)][_0x4f0a29(0x11c)])};}static['getDamagePartsAndOtherFormula'](_0x6fe7c5){const _0x940a4e=_0x37a6ad;_0x6fe7c5=_0x6fe7c5||[];if(!Config[_0x940a4e(0x188)](_0x940a4e(0x12a),_0x940a4e(0x1ac)))return{'damageParts':_0x6fe7c5[_0x940a4e(0x19c)](_0x4644dd=>_0x4644dd['tuple']),'formula':''};const _0x3c6482=[];let _0x543b79='';return _0x6fe7c5[_0x940a4e(0x10c)](_0x1c16b0=>{const _0x3e4269=_0x940a4e;if(_0x543b79||!_0x1c16b0[_0x3e4269(0x1ae)])return _0x3c6482[_0x3e4269(0x196)](_0x1c16b0[_0x3e4269(0x19a)]);_0x543b79=''+_0x1c16b0[_0x3e4269(0x19a)][0x0]+(_0x1c16b0[_0x3e4269(0x19a)][0x1]?'['+_0x1c16b0[_0x3e4269(0x19a)][0x1]+']':'');}),{'damageParts':_0x3c6482,'formula':_0x543b79};}static['getSpeedValue'](_0x36ee67,_0x4f179a){const _0x276543=_0x37a6ad;if(typeof _0x36ee67===_0x276543(0xdc))return _0x4f179a==='walk'?_0x36ee67:null;_0x36ee67=_0x36ee67[_0x4f179a];if(_0x36ee67==null)return null;if(_0x36ee67['number']!=null)return _0x36ee67[_0x276543(0xdc)];return Number(_0x36ee67);}static['isSpeedHover'](_0x101c35){const _0x16d0f1=_0x37a6ad;if(typeof _0x101c35==='number')return![];return!!_0x101c35[_0x16d0f1(0x166)];}static[_0x37a6ad(0x183)](_0x358e2a){const _0xeeefd8=_0x37a6ad;let _0x5f1596=0x0,_0x1f27d6=0x0;const _0x2dce6f=/range (\d+)\/(\d+) ft/gi[_0xeeefd8(0xdf)](_0x358e2a);if(_0x2dce6f)_0x5f1596=Number(_0x2dce6f[0x1]),_0x1f27d6=Number(_0x2dce6f[0x2]);else{const _0x2065eb=/reach (\d+) ft/gi[_0xeeefd8(0xdf)](_0x358e2a);_0x2065eb&&(_0x5f1596=Number(_0x2065eb[0x1]));}return{'rangeShort':_0x5f1596,'rangeLong':_0x1f27d6};}static[_0x37a6ad(0x123)](_0xd574e8){const _0x57651d=_0x37a6ad;let _0x4ed69f='',_0x23de71=![];const _0x42cc54=/{@atk ([^}]+)}/gi[_0x57651d(0xdf)](_0xd574e8);if(_0x42cc54){_0x23de71=!![];if(_0x42cc54[0x1][_0x57651d(0x10e)]('s')){if(_0x42cc54[0x1][_0x57651d(0x10e)]('m'))_0x4ed69f=_0x57651d(0xf7);else _0x4ed69f='rsak';}else{if(_0x42cc54[0x1][_0x57651d(0x10e)]('m'))_0x4ed69f=_0x57651d(0xfe);else{if(_0x42cc54[0x1][_0x57651d(0x10e)]('r'))_0x4ed69f=_0x57651d(0x130);}}}return{'actionType':_0x4ed69f,'isAttack':_0x23de71};}static[_0x37a6ad(0xc2)](_0x4d2630){const _0x3e73c3=_0x37a6ad;return _0x4d2630=MiscUtil[_0x3e73c3(0xf8)](_0x4d2630),Object['keys'](_0x4d2630)['filter'](_0x4c07ad=>/^_f[A-Z]/[_0x3e73c3(0x157)](_0x4c07ad))[_0x3e73c3(0x10c)](_0x550bfb=>delete _0x4d2630[_0x550bfb]),this['_getCleanOriginalData_recurse'](_0x4d2630),_0x4d2630;}static['_getCleanOriginalData_recurse'](_0x17bfa5){const _0x4f5072=_0x37a6ad;if(_0x17bfa5==null)return;if(typeof _0x17bfa5!==_0x4f5072(0x14f))return;_0x17bfa5 instanceof Array?_0x17bfa5['forEach'](_0x38c88a=>this[_0x4f5072(0x15a)](_0x38c88a)):Object[_0x4f5072(0xf4)](_0x17bfa5)[_0x4f5072(0x10c)](([_0x43879f,_0x1d557b])=>{const _0x328691=_0x4f5072;if(_0x43879f['includes']('$'))delete _0x17bfa5[_0x43879f],console[_0x328691(0xda)](...LGT,_0x328691(0x1c9)+_0x43879f+_0x328691(0x15d));else this[_0x328691(0x15a)](_0x1d557b);});}}DataConverter[_0x37a6ad(0x169)]=MiscUtil[_0x37a6ad(0x1c7)]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x37a6ad(0x146)]}),DataConverter[_0x37a6ad(0x11f)]=_0x37a6ad(0x138),DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']=_0x37a6ad(0x1a7),DataConverter[_0x37a6ad(0x105)]=_0x37a6ad(0x112),DataConverter[_0x37a6ad(0xca)]={},DataConverter[_0x37a6ad(0x177)]={},DataConverter[_0x37a6ad(0xd6)]=new VeLock(),DataConverter['_COMPENDIUM_ACTOR_IMAGE_LAST_VALUES']={},DataConverter[_0x37a6ad(0x13c)]={},DataConverter[_0x37a6ad(0xed)]=new VeLock(),DataConverter[_0x37a6ad(0x19d)]=_0x37a6ad(0x161),DataConverter['_SOURCE_PAGE_PREFIX_RE']=new RegExp(DataConverter[_0x37a6ad(0x19d)]+_0x37a6ad(0x14c)),DataConverter[_0x37a6ad(0x170)]=new Set(['AT','GS',_0x37a6ad(0xcb),'T']),DataConverter[_0x37a6ad(0xe0)]=new Set(['M','R']),DataConverter['ITEM_TYPES_ACTOR_ARMOR']=new Set(['LA','MA','HA','S']);export{DataConverter};