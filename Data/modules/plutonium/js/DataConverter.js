const _0x4380=['_pFillProficiencyData','_COMPENDIUM_CACHES','\x5cd+','SKILL_TO_ATB_ABV','bind','_displayName','count','fvttType','getItemSource','hour','isRollableTable','add','entries','getMappedLanguage','getVariantRuleJournal','rows','_pMutActorUpdate_mutFromProficiencySetFoundry','test','unlock','getNameWithSourcePart','_pMutActorUpdate_mutFromSideMod','ATB_ABV_TO_FULL','getTypeOrderString','init','getTagUids','actorTraitProp','stripTags','(Other\x20tool\x20proficiency)','anyOptions','resourceConsumption','data','\x22></i>)</div>','find','int','\x20Set','_getPsionicItems_getTalentItem','condition','from','scalar','isAddPageNumberToSource','minute','trim','\x20from\x20','titlePrefix','mar','modeOptions','Exotic\x20Languages','list-hang-notitle','getAdventureJournals','_pMutActorUpdate_mutFromSideTokenMod','contents','SYM_AT','setFirstSection','Currently\x20Half-Proficient','monster','Choose\x20','lgt','valueGroups','flat','pDelay','srd','</div>','getAbilityModNumber','race','type','scalarAddUnit','modules/','skills','exec','getTableRollableTable','min','\x0a\x09\x09\x09\x09</div>','</i></p>','\x20-\x20','optionalfeature','_pMutActorUpdate_pMutFromSkillProfs','_getCachedCompendiumData','_isCompendiumCached','other','isChannelDivinity','map','unitShort','_COMPENDIUM_CACHE_KEY_IMAGE','hvy','now','<PLUT_SYM__AT>','<div>\x0a\x09\x09\x09\x09\x09\x09\x09','_pMutActorUpdate_mutFromProficiencySetCustom','RollTable[','armorProf','getBodyText','actor','importConditionDisease',')\x5c))?','CUSTOM_','medium\x20armor','_pMutActorUpdate_addValidSkills','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','row','\x20-\x20Focus','shields','img','Tool\x20Proficiencies','_getTableRollableTable_isRollTable','_pMutActorUpdate_pMutFromEntries','cost','values','size','actionReaction','Shield','/Tool','collection','charges','_getPsionicItems_getSaveFromString','ITEM_TYPES_ACTOR_TOOLS','__prop','getPsionicItems','push','source','isCancelled','getMappedTool','attribute','isAddSourceToName','traits','getItemActorPassive','classFeature','object','page','Secret\x20Languages','_COMPENDIUM_IMAGE_LAST_VALUES','(Other\x20language)','duration','Language','/media/icon/','importRule','importSpell','PROF_TO_ICON_CLASS','long\x20rest','class','copy','SRD_COMPENDIUMS_OPTIONAL_FEATURES','_pCacheCompendium','SRD_COMPENDIUMS_CLASS_FEATURES','_getPsionicItems_getDisciplineFocusItem','LANGUAGES_ALL','SRD_COMPENDIUMS_CLASSES','mod','skill','Select\x20Skill\x20Set','tokens','item','<div\x20class=\x22w-100\x20overflow-x-hidden\x22>','spell','ascSortLower','subclassFeature','stringify','importOptionalFeature','evo','turn','importAdventure','string','indexOf','modes','psi)','pCacheAndGetHash','adventure','importItem','pLock','With\x20your\x20DM\x27s\x20permission,\x20you\x20can\x20choose\x20an\x20exotic\x20language.','_SOURCE_PAGE_PREFIX_RE','fnGetAliases','token','ordinal','_SOURCE_PAGE_PREFIX','importBackground','deepEquals','toLowerCase','<br>','items','sort','bookOrdinalToAbv','martial\x20weapons','languages','_getPsionicItems_getDamageTypeFromString','getCleanEntityName','\x0a\x09\x09\x09\x09\x09\x09</div>','level','actorDataMod','_PSI_DURATION_MAP','_pHandleConfigUpdate','prop','appendIfNotExistsArr','pFillActorSkillData','fnGetMappedItem','render','___','get','replace','abilityDc','reaction','getSrdCompendiumEntity','index','walk','unit','titlePlural','INS','renderDepth','resources.primary.value','packs','getSourceWithPagePart','_getPsionicItems_getDisciplineActiveItems','light','/media/icon/farmer.svg','_getPsionicItems_getActionTypeFromString','getConditionDiseaseItem','hover','SRD_COMPENDIUMS_CREATURES','With\x20your\x20DM\x27s\x20permission,\x20you\x20can\x20choose\x20a\x20secret\x20language.','import','getBackgroundItem','choose','getBookJournals','getEntryDescription','toolProf','LANGUAGES_EXOTIC','title','plutonium.configUpdate','keys','getDamageTuples','forEach','\x20(Level\x20','abilities','saves','max','getWalker','save','toTitleCase','action','pGetUserEnum','fnCheckValidItem','MODULE_NAME','importTable','day','generic','pFillActorLanguageData','book','sourceJsonToAbv','weaponProf','_pGetCacheAndGetCompendiumData','player','Standard\x20Languages','value','_WALKER_READONLY_GENERIC','knockout.svg','_COMPENDIUM_CACHES_LOCK','endsWith','additionalData','instead','name','join','length','split','colLabels','permission','permissions','list','\x20+\x20','some','SKILL_ABV_TO_FULL','bonus','_COMPENDIUM_CACHE_KEY_DATA','short\x20rest','depth','filter','getPsionicItem','submodes','none','TERMS_COUNT','conditionals','Languages','_getAdventureBookJournals','SRD_COMPENDIUMS_ITEMS','PG_ITEMS','isAddPermission','sideData','tool','concentration','importClass','<div>','_getTableRollableTable_isOtherTable','_pMutActorUpdate_mutFromSideDataMod','scalarAdd','DMG_TYPES','skillProficiencies','\x20|\x20','getOrSet','slice','mode','Unhandled\x20mode\x20\x22','_pMutActorUpdate_pMutFromSideSkillProfs','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','importCreature','set','imgCompendiumFeatures','custom','med','prepared','_pHandleConfigUpdate_pFlushCompendiumImageCaches','LANGUAGES_STANDARD','isGrouped','Tool\x20Proficiency','includes','SRD_COMPENDIUMS_SPELLS','medium','ITEM_TYPES_ACTOR_WEAPONS','numberToText','\x20<div\x20title=\x22Currently\x20Proficient\x22\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22>(<i\x20class=\x22fas\x20','pGetIconImage','_pMutActorUpdate_mutFromSideMod_handleProp','Unknown\x20cache\x20ID\x20\x22','psionic','\x20<div\x20title=\x22','Currently\x20Proficient\x20with\x20Expertise','/media/icon/brain.svg','pMutActorUpdate','sim','Currently\x20Proficient','textToNumber','feat','shl','importBook','ITEM_TYPES_ACTOR_ARMOR','_pMutActorUpdate_pMutFromLanguageProfs','imgCompendium','pGetUserMultipleChoice'];(function(_0x9dbbc7,_0x43808a){const _0x3b6adc=function(_0x216c1c){while(--_0x216c1c){_0x9dbbc7['push'](_0x9dbbc7['shift']());}};_0x3b6adc(++_0x43808a);}(_0x4380,0x8d));const _0x3b6a=function(_0x9dbbc7,_0x43808a){_0x9dbbc7=_0x9dbbc7-0x0;let _0x3b6adc=_0x4380[_0x9dbbc7];return _0x3b6adc;};'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';class DataConverter{static[_0x3b6a('0xd9')](){Hooks['on'](_0x3b6a('0x55'),()=>this[_0x3b6a('0x30')]()),this[_0x3b6a('0x30')]();}static async[_0x3b6a('0x30')](){await this[_0x3b6a('0xa6')]();}static async[_0x3b6a('0xa6')](){const _0xf1f0fc=[[_0x3b6a('0xa0'),_0x3b6a('0xc0')],['importClass',_0x3b6a('0xc0')],[_0x3b6a('0x92'),_0x3b6a('0xa2')],[_0x3b6a('0x19'),_0x3b6a('0xc0')],[_0x3b6a('0x149'),_0x3b6a('0xc0')]];await DataConverter['_COMPENDIUM_CACHES_LOCK'][_0x3b6a('0x1a')]();try{_0xf1f0fc['forEach'](_0xc191e4=>{const _0xae372f=_0xc191e4['join'](_0x3b6a('0x36')),_0x5c230b=DataConverter['_COMPENDIUM_IMAGE_LAST_VALUES'][_0xae372f]||'',_0x5b39fa=Config['get'](_0xc191e4[0x0],_0xc191e4[0x1])||'';if(_0x5c230b[_0x3b6a('0xeb')]()!==_0x5b39fa[_0x3b6a('0xeb')]()){if(DataConverter['_COMPENDIUM_CACHES'][DataConverter[_0x3b6a('0x114')]])delete DataConverter['_COMPENDIUM_CACHES'][DataConverter[_0x3b6a('0x114')]][_0xae372f];}DataConverter['_COMPENDIUM_IMAGE_LAST_VALUES'][_0xae372f]=_0x5b39fa;});}finally{DataConverter[_0x3b6a('0x71')][_0x3b6a('0xd4')]();}}static[_0x3b6a('0xd5')](_0x33d1b3,_0x5c6663){return''+(_0x5c6663||Renderer[_0x3b6a('0xdc')](_0x33d1b3[_0x3b6a('0xc7')]||_0x33d1b3[_0x3b6a('0x75')]||''))+(_0x33d1b3[_0x3b6a('0x138')]&&Config['get']('import',_0x3b6a('0x13c'))?'\x20('+Parser[_0x3b6a('0x69')](_0x33d1b3[_0x3b6a('0x138')])+')':'');}static[_0x3b6a('0x44')](_0xae3426){return''+Parser[_0x3b6a('0x69')](_0xae3426['source'])+(Config['get'](_0x3b6a('0x4d'),_0x3b6a('0xe9'))&&_0xae3426[_0x3b6a('0x141')]?''+DataConverter[_0x3b6a('0x20')]+_0xae3426[_0x3b6a('0x141')]:'');}static[_0x3b6a('0xca')](_0x3fc685){let _0x1c60c6=_0x3fc685[_0x3b6a('0xe0')]||{};if(_0x1c60c6[_0x3b6a('0xe0')])_0x1c60c6=_0x1c60c6[_0x3b6a('0xe0')];const _0x1fa0a8=_0x1c60c6['source'];if(!_0x1fa0a8)return _0x1fa0a8;return _0x1fa0a8['split'](DataConverter[_0x3b6a('0x1c')])[0x0][_0x3b6a('0xeb')]();}static[_0x3b6a('0xda')](_0x15eb5f,_0x1ef909){const _0x1af7b7=new RegExp('{@'+_0x15eb5f+'\x20([^}]+)}','gi'),_0x241235=[];return _0x1ef909['replace'](_0x1af7b7,(..._0x447db6)=>_0x241235[_0x3b6a('0x137')](_0x447db6[0x1])),_0x241235;}static async[_0x3b6a('0xb0')](_0x40eedd,_0x233326){switch(_0x40eedd){case _0x3b6a('0xbb'):case _0x3b6a('0xb'):{const _0x31d2bf=await Vetools['pGetIconLookup'](_0x40eedd),_0x32a388=MiscUtil[_0x3b6a('0x37')](_0x31d2bf,_0x233326[_0x3b6a('0x138')],_0x233326[_0x3b6a('0x75')]);if(!_0x32a388)return null;return _0x3b6a('0x104')+SharedConsts[_0x3b6a('0x63')]+'/'+_0x32a388;}default:return null;}}static async['pGetCompendiumImage'](_0x10cdd5,_0x1508d9,_0x4829fc){return this[_0x3b6a('0x6b')](DataConverter[_0x3b6a('0x114')],_0x10cdd5,_0x1508d9,_0x4829fc);}static async['_pGetCacheAndGetCompendiumData'](_0x2b398e,_0x24e48f,_0x3eed28,_0x22f1e8){_0x22f1e8=_0x22f1e8||{};if(!_0x3eed28[_0x3b6a('0xfe')])return null;const _0x1d88f4=[(typeof _0x3eed28['srd']===_0x3b6a('0x13')?_0x3eed28['srd']:_0x3eed28['name'])[_0x3b6a('0x23')]()[_0x3b6a('0xeb')]()];if(_0x3eed28[_0x3b6a('0xc7')])_0x1d88f4[_0x3b6a('0x137')](_0x3eed28[_0x3b6a('0xc7')][_0x3b6a('0x23')]()[_0x3b6a('0xeb')]());if(_0x22f1e8[_0x3b6a('0x1d')])_0x1d88f4[_0x3b6a('0x137')](..._0x22f1e8[_0x3b6a('0x1d')](_0x3eed28)[_0x3b6a('0x112')](_0x5a0d45=>_0x5a0d45[_0x3b6a('0x23')]()['trim']()));let _0x5873dc;switch(_0x2b398e){case DataConverter[_0x3b6a('0x114')]:{const _0x5b9a67=_0x2486ee=>_0x2486ee['split'](',')[_0x3b6a('0x112')](_0x5c331b=>_0x5c331b[_0x3b6a('0xeb')]()['toLowerCase']())[_0x3b6a('0x112')](_0x3e0057=>game[_0x3b6a('0x43')][_0x3b6a('0xe2')](_0x54a74e=>_0x54a74e[_0x3b6a('0x131')][_0x3b6a('0x23')]()===_0x3e0057))[_0x3b6a('0x84')](Boolean);switch(_0x24e48f){case _0x3b6a('0xb'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0x149'),_0x3b6a('0xc0')));break;case _0x3b6a('0xf8'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0xa0'),_0x3b6a('0xc0')));break;case _0x3b6a('0x9'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0x19'),_0x3b6a('0xc0')));break;case _0x3b6a('0x14c'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')]('importClass',_0x3b6a('0xc0')));break;case _0x3b6a('0x13f'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0x92'),_0x3b6a('0xa2')));break;case _0x3b6a('0xd'):_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0x92'),_0x3b6a('0xa2')));break;case'optionalfeature':_0x5873dc=_0x5b9a67(Config[_0x3b6a('0x37')](_0x3b6a('0xf'),'imgCompendium'));break;default:return null;}break;}case DataConverter[_0x3b6a('0x81')]:{const _0x1750d4=_0x37bbfe=>_0x37bbfe[_0x3b6a('0x112')](_0xa3126c=>game[_0x3b6a('0x43')][_0x3b6a('0xe2')](_0x523b68=>_0x523b68[_0x3b6a('0x131')]===_0xa3126c))[_0x3b6a('0x84')](Boolean);switch(_0x24e48f){case _0x3b6a('0xb'):_0x5873dc=_0x1750d4(Config[_0x3b6a('0xab')]);break;case _0x3b6a('0xf8'):_0x5873dc=_0x1750d4(Config[_0x3b6a('0x4b')]);break;case'item':_0x5873dc=_0x1750d4(Config[_0x3b6a('0x8c')]);break;case'class':_0x5873dc=_0x1750d4(Config[_0x3b6a('0x4')]);break;case _0x3b6a('0x13f'):_0x5873dc=_0x1750d4(Config[_0x3b6a('0x1')]);break;case'subclassFeature':_0x5873dc=_0x1750d4(Config[_0x3b6a('0x1')]);break;case _0x3b6a('0x10c'):_0x5873dc=_0x1750d4(Config[_0x3b6a('0x14e')]);break;default:return null;}break;}default:throw new Error(_0x3b6a('0xb2')+_0x2b398e+'\x22');}if(!_0x5873dc[_0x3b6a('0x77')])return null;await DataConverter[_0x3b6a('0x71')][_0x3b6a('0x1a')]();try{for(const _0x5245d7 of _0x1d88f4){for(const _0x3c9ac7 of _0x5873dc){if(!this[_0x3b6a('0x10f')](_0x2b398e,_0x3c9ac7))await this['_pCacheCompendium'](_0x2b398e,_0x3c9ac7);const _0x50163e=this['_getCachedCompendiumData'](_0x2b398e,_0x3c9ac7,_0x5245d7);if(_0x50163e)return _0x50163e;}}}finally{DataConverter['_COMPENDIUM_CACHES_LOCK']['unlock']();}}static async[_0x3b6a('0x3b')](_0x2a34c3,_0x4a8924,_0xafa935){return this[_0x3b6a('0x6b')](DataConverter['_COMPENDIUM_CACHE_KEY_DATA'],_0x2a34c3,_0x4a8924,_0xafa935);}static[_0x3b6a('0x10f')](_0x58414f,_0x126178){return!!MiscUtil[_0x3b6a('0x37')](DataConverter[_0x3b6a('0xc3')],_0x58414f,_0x126178[_0x3b6a('0x131')]);}static async[_0x3b6a('0x0')](_0x3b1aa8,_0x291b0f){const _0x3deb89={};let _0x17a06b;switch(_0x3b1aa8){case DataConverter[_0x3b6a('0x114')]:_0x17a06b=_0x291b0f['getIndex']['bind'](_0x291b0f);break;case DataConverter[_0x3b6a('0x81')]:_0x17a06b=_0x291b0f['getContent'][_0x3b6a('0xc6')](_0x291b0f);break;default:throw new Error(_0x3b6a('0xb2')+_0x3b1aa8+'\x22');}const _0x4b40ec=await Promise[_0x3b6a('0x101')]([_0x17a06b(),MiscUtil[_0x3b6a('0xfd')](0x9c4,null)]);if(_0x4b40ec)switch(_0x3b1aa8){case DataConverter['_COMPENDIUM_CACHE_KEY_IMAGE']:_0x4b40ec[_0x3b6a('0x58')](_0x38345c=>_0x3deb89[_0x38345c[_0x3b6a('0x75')][_0x3b6a('0x23')]()]=_0x38345c[_0x3b6a('0x127')]);break;case DataConverter[_0x3b6a('0x81')]:_0x4b40ec['forEach'](_0x41d171=>_0x3deb89[_0x41d171['name'][_0x3b6a('0x23')]()]=MiscUtil['copy'](_0x41d171[_0x3b6a('0xe0')]));break;default:throw new Error(_0x3b6a('0xb2')+_0x3b1aa8+'\x22');}(DataConverter[_0x3b6a('0xc3')][_0x3b1aa8]=DataConverter[_0x3b6a('0xc3')][_0x3b1aa8]||{})[_0x291b0f['collection']]=_0x3deb89;}static[_0x3b6a('0x10e')](_0x2b01bb,_0x2ee48b,_0x6a5b5){const _0x55a2ae=MiscUtil[_0x3b6a('0x37')](DataConverter[_0x3b6a('0xc3')],_0x2b01bb,_0x2ee48b[_0x3b6a('0x131')]);if(!_0x55a2ae)return null;return _0x55a2ae[_0x6a5b5];}static[_0x3b6a('0x49')](_0x1b9f9f,_0x35404f){_0x35404f=_0x35404f||{};const _0x35443b=_0x3b6a('0x93')+Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')]({'entries':_0x1b9f9f[_0x3b6a('0xce')]},0x2)+_0x3b6a('0xff'),_0x101003={'name':UtilApplications[_0x3b6a('0x2b')](DataConverter['getNameWithSourcePart'](_0x1b9f9f)),'data':{'source':DataConverter['getSourceWithPagePart'](_0x1b9f9f),'description':{'value':_0x35443b,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':0x0,'charged':!![]}},'permission':{'default':0x0},'type':'feat','img':_0x3b6a('0x104')+SharedConsts[_0x3b6a('0x63')]+_0x3b6a('0x147')+(_0x1b9f9f[_0x3b6a('0x135')]==='disease'?'parmecia.svg':_0x3b6a('0x70'))};if(_0x35404f[_0x3b6a('0x8e')])_0x101003[_0x3b6a('0x7a')]={'default':Config[_0x3b6a('0x37')](_0x3b6a('0x11e'),_0x3b6a('0x7b'))};return _0x101003;}static[_0x3b6a('0xd0')](_0x26e53e,_0xbae317){_0xbae317=_0xbae317||{};const _0x2866b8=MiscUtil[_0x3b6a('0x14d')](_0x26e53e);delete _0x2866b8[_0x3b6a('0x75')],delete _0x2866b8[_0x3b6a('0x141')],delete _0x2866b8[_0x3b6a('0x138')];const _0x5913fd={'name':UtilApplications[_0x3b6a('0x2b')](_0x26e53e[_0x3b6a('0x75')]),'permission':{'default':0x0},'entryTime':Date[_0x3b6a('0x116')](),'content':_0x3b6a('0x93')+Renderer[_0x3b6a('0x37')]()['setFirstSection'](!![])[_0x3b6a('0x35')](_0x2866b8)+_0x3b6a('0xff')};if(_0xbae317[_0x3b6a('0x8e')])_0x5913fd[_0x3b6a('0x7a')]={'default':Config[_0x3b6a('0x37')](_0x3b6a('0x148'),_0x3b6a('0x7b'))};return _0x5913fd;}static['getTableGroupJournal'](_0x58bf3c,_0x2a7557,_0x30c743){_0x30c743=_0x30c743||{};const _0x43dc30={'type':_0x3b6a('0x7c'),'items':_0x2a7557[_0x3b6a('0x112')](_0x1f8038=>DataConverter[_0x3b6a('0xf5')]+_0x3b6a('0x11a')+_0x1f8038['id']+']{'+(_0x1f8038['caption']||_0x1f8038['name'])+'}')},_0x410b2d={'name':UtilApplications[_0x3b6a('0x2b')](_0x58bf3c[_0x3b6a('0x75')]),'permission':{'default':0x0},'entryTime':Date[_0x3b6a('0x116')](),'content':'<div>\x0a\x09\x09\x09\x09<p>The\x20following\x20tables\x20belong\x20to\x20this\x20group:</p>\x0a\x09\x09\x09\x09'+Renderer['get']()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')](_0x43dc30)['replace'](new RegExp(DataConverter['SYM_AT'],'g'),'@')+_0x3b6a('0x109')};if(_0x30c743[_0x3b6a('0x8e')])_0x410b2d['permission']={'default':Config['get'](_0x3b6a('0x64'),_0x3b6a('0x7b'))};return _0x410b2d;}static[_0x3b6a('0x107')](_0x2783e1,_0x406bb){_0x406bb=_0x406bb||{};if(Renderer[_0x3b6a('0xcc')](_0x2783e1))return this[_0x3b6a('0x129')](_0x2783e1,_0x406bb);else return this[_0x3b6a('0x94')](_0x2783e1,_0x406bb);}static['_getTableRollableTable_isRollTable'](_0x52ff14,_0x1d975e){_0x1d975e=_0x1d975e||{};const _0x43c29c=(_0x52ff14[_0x3b6a('0x79')][0x0]||'')['trim']()[_0x3b6a('0x38')](/{@dice ([^}]+)}/,'$1'),_0x2f5183={'name':UtilApplications['getCleanEntityName'](_0x52ff14['name']),'formula':_0x43c29c,'results':_0x52ff14['rows'][_0x3b6a('0x112')]((_0x23dc16,_0x402a28)=>{let _0x4425fa=0x0,_0x504d77=0x0;const _0x44b03c=/^(\d+)([-\u2013](\d+))?$/[_0x3b6a('0x106')](String(_0x23dc16[0x0])[_0x3b6a('0xeb')]());if(_0x44b03c)_0x44b03c[0x1]&&!_0x44b03c[0x2]?(_0x4425fa=Number(_0x44b03c[0x1]),_0x504d77=_0x4425fa):(_0x4425fa=Number(_0x44b03c[0x1]),_0x504d77=Number(_0x44b03c[0x3]));else{const _0x1202ff=/^(\d+)\+$/[_0x3b6a('0x106')](_0x23dc16[0x0]);_0x4425fa=Number(_0x1202ff[0x1]),_0x504d77=_0x4425fa;}return{'id':_0x402a28+0x1,'flags':{},'type':0x0,'text':_0x23dc16[_0x3b6a('0x9b')](0x1)['map'](_0x511bf5=>{if(typeof _0x511bf5==='string')return Renderer[_0x3b6a('0xdc')](_0x511bf5);else return Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])['render'](_0x511bf5);})[_0x3b6a('0x76')]('\x20|\x20'),'img':'icons/svg/d20-black.svg','weight':0x1,'range':[_0x4425fa,_0x504d77],'drawn':![]};}),'replacement':![],'displayRoll':!![]};if(_0x1d975e[_0x3b6a('0x8e')])_0x2f5183['permission']={'default':Config[_0x3b6a('0x37')](_0x3b6a('0x64'),_0x3b6a('0x7b'))};return _0x2f5183;}static[_0x3b6a('0x94')](_0xc07691,_0x221bd4){_0x221bd4=_0x221bd4||{};const _0x42e833={'name':UtilApplications[_0x3b6a('0x2b')](_0xc07691[_0x3b6a('0x75')]),'formula':'1d'+(_0xc07691['rows']?_0xc07691[_0x3b6a('0xd1')][_0x3b6a('0x77')]:'1'),'results':_0xc07691[_0x3b6a('0xd1')][_0x3b6a('0x112')]((_0x2aa6be,_0x3fb27e)=>{return _0x2aa6be=_0x2aa6be[_0x3b6a('0x124')]||_0x2aa6be,{'id':_0x3fb27e+0x1,'flags':{},'type':0x0,'text':_0x2aa6be[_0x3b6a('0x112')](_0x4355a6=>{if(typeof _0x4355a6===_0x3b6a('0x13'))return Renderer[_0x3b6a('0xdc')](_0x4355a6);else return Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')](_0x4355a6);})[_0x3b6a('0x76')](_0x3b6a('0x99')),'img':'icons/svg/d20-black.svg','weight':0x1,'range':[_0x3fb27e+0x1,_0x3fb27e+0x1],'drawn':![]};}),'replacement':![],'displayRoll':!![]};if(_0x221bd4[_0x3b6a('0x8e')])_0x42e833[_0x3b6a('0x7a')]={'default':Config[_0x3b6a('0x37')](_0x3b6a('0x64'),_0x3b6a('0x7b'))};return _0x42e833;}static[_0x3b6a('0x51')](_0x18e1c0,_0x147461){_0x147461=_0x147461||{},_0x147461[_0x3b6a('0x31')]=_0x147461['prop']||_0x3b6a('0xce');let _0x485460='';return _0x18e1c0[_0x147461[_0x3b6a('0x31')]]&&(_0x485460=Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')]({'type':_0x3b6a('0xce'),'entries':_0x18e1c0[_0x147461[_0x3b6a('0x31')]]},_0x147461[_0x3b6a('0x83')]!=null?_0x147461[_0x3b6a('0x83')]:0x2)),_0x485460;}static async[_0x3b6a('0xb7')](_0x1ff3ea,_0x5e58ee,_0x34a807,_0x35fa08){_0x35fa08=_0x35fa08||{},this[_0x3b6a('0x95')](_0x1ff3ea,_0x5e58ee,_0x35fa08),this['_pMutActorUpdate_mutFromSideTokenMod'](_0x1ff3ea,_0x5e58ee,_0x35fa08),await this[_0x3b6a('0x9e')](_0x1ff3ea,_0x5e58ee,_0x34a807,_0x35fa08);if(_0x35fa08[_0x3b6a('0x139')])return;await this[_0x3b6a('0x12a')](_0x1ff3ea,_0x5e58ee,_0x34a807,_0x35fa08);}static['_pMutActorUpdate_mutFromSideDataMod'](_0x41b9fe,_0x359596,_0x53fe98){return this[_0x3b6a('0xd6')](_0x41b9fe,_0x359596,_0x53fe98,_0x3b6a('0x2e'),'data');}static[_0x3b6a('0xf3')](_0x1dda84,_0x3f3f3c,_0x4a5043){return this[_0x3b6a('0xd6')](_0x1dda84,_0x3f3f3c,_0x4a5043,'actorTokenMod',_0x3b6a('0x1e'));}static[_0x3b6a('0xd6')](_0x35d452,_0x402893,_0x2112ec,_0x38e32e,_0x214677){if(!_0x2112ec[_0x3b6a('0x8f')]||!_0x2112ec[_0x3b6a('0x8f')][_0x38e32e])return;Object[_0x3b6a('0xce')](_0x2112ec[_0x3b6a('0x8f')][_0x38e32e])[_0x3b6a('0x58')](([_0x4b555e,_0x105bc6])=>this[_0x3b6a('0xb1')](_0x35d452,_0x402893,_0x2112ec,_0x38e32e,_0x214677,_0x4b555e,_0x105bc6));}static[_0x3b6a('0xb1')](_0x37aca7,_0x1cd018,_0x4d644d,_0x4f36a9,_0x54ab9e,_0x3773fe,_0x3f75cb){const _0x52810f=_0x3773fe[_0x3b6a('0x78')]('.');if(_0x3773fe==='_'){_0x3f75cb[_0x3b6a('0x58')](_0x46e58c=>{switch(_0x46e58c[_0x3b6a('0x9c')]){case _0x3b6a('0x89'):{for(const _0x1c04a0 of _0x46e58c['conditionals']){if(_0x1c04a0['condition']&&!eval(_0x1c04a0[_0x3b6a('0xe6')]))continue;Object[_0x3b6a('0xce')](_0x1c04a0[_0x3b6a('0x5')])[_0x3b6a('0x58')](([_0x1e0948,_0x481698])=>this['_pMutActorUpdate_mutFromSideMod_handleProp'](_0x37aca7,_0x1cd018,_0x4d644d,_0x4f36a9,_0x54ab9e,_0x1e0948,_0x481698));break;}break;}default:throw new Error(_0x3b6a('0x9d')+_0x46e58c[_0x3b6a('0x9c')]+'\x22');}});return;}const _0x5cfddc=MiscUtil['get'](_0x37aca7,'data',_0x54ab9e,..._0x52810f),_0xb6647d=MiscUtil[_0x3b6a('0x37')](_0x1cd018,_0x54ab9e,..._0x52810f),_0x12e4dd=_0xb6647d||_0x5cfddc;_0x3f75cb[_0x3b6a('0x58')](_0x2a020d=>{switch(_0x2a020d[_0x3b6a('0x9c')]){case _0x3b6a('0x32'):{const _0x269000=MiscUtil[_0x3b6a('0x14d')](_0x12e4dd||[]),_0x11832c=[..._0x269000];_0x11832c[_0x3b6a('0x137')](..._0x2a020d[_0x3b6a('0x25')]['filter'](_0x250117=>!_0x269000[_0x3b6a('0x7e')](_0x130c90=>CollectionUtil[_0x3b6a('0x22')](_0x250117,_0x130c90)))),MiscUtil[_0x3b6a('0xa1')](_0x1cd018,_0x54ab9e,..._0x52810f,_0x11832c);break;}case _0x3b6a('0x96'):{MiscUtil[_0x3b6a('0xa1')](_0x1cd018,_0x54ab9e,..._0x52810f,_0x2a020d[_0x3b6a('0xe8')]+_0x12e4dd||0x0);break;}case _0x3b6a('0x103'):{const _0xc1abb2=(''+(_0x12e4dd||0x0))['toLowerCase'](),_0x1232da=_0x3a1e14=>{const _0x36751e=_0xc1abb2[_0x3b6a('0x14')](_0x3a1e14[_0x3b6a('0x23')]());let _0x46a71b=_0x12e4dd[_0x3b6a('0x9b')](0x0,_0x36751e);const _0x2f68f5=_0x12e4dd['slice'](_0x36751e),_0x2e7eaf=_0x46a71b[_0x3b6a('0x72')]('\x20');_0x46a71b=_0x46a71b['trim']();if(!isNaN(_0x46a71b)){const _0x4a0dda=''+(_0x2a020d['scalar']+Number(_0x46a71b))+(_0x2e7eaf?'\x20':'')+_0x2f68f5;MiscUtil[_0x3b6a('0xa1')](_0x1cd018,_0x54ab9e,..._0x52810f,_0x4a0dda);}};if(!_0x12e4dd)MiscUtil[_0x3b6a('0xa1')](_0x1cd018,_0x54ab9e,..._0x52810f,_0x2a020d['scalar']+'\x20'+(_0x2a020d[_0x3b6a('0x113')]||_0x2a020d['unit']));else{if(_0x2a020d[_0x3b6a('0x3e')]&&_0xc1abb2[_0x3b6a('0xaa')](_0x2a020d['unit'][_0x3b6a('0x23')]()))_0x1232da(_0x2a020d[_0x3b6a('0x3e')]);else _0x2a020d[_0x3b6a('0x113')]&&_0xc1abb2[_0x3b6a('0xaa')](_0x2a020d[_0x3b6a('0x113')][_0x3b6a('0x23')]())&&_0x1232da(_0x2a020d[_0x3b6a('0x113')]);}break;}case'set':{MiscUtil[_0x3b6a('0xa1')](_0x1cd018,_0x54ab9e,..._0x52810f,MiscUtil[_0x3b6a('0x14d')](_0x2a020d[_0x3b6a('0x6e')]));break;}default:throw new Error(_0x3b6a('0x9d')+_0x2a020d['mode']+'\x22');}});}static['_pMutActorUpdate_pMutFromSideSkillProfs'](_0x319c1e,_0x105901,_0x4c56b4,_0x4568f6){if(!_0x4568f6[_0x3b6a('0x8f')]||!_0x4568f6['sideData']['skillProficiencies'])return;return this[_0x3b6a('0x10d')](_0x319c1e,_0x105901,_0x4c56b4,_0x4568f6[_0x3b6a('0x8f')][_0x3b6a('0x98')],_0x4568f6);}static async[_0x3b6a('0x10d')](_0x404fef,_0x1afd4a,_0x345442,_0x53036c,_0x1d7c86){const _0xf52351=MiscUtil['getOrSet'](_0x1afd4a,_0x3b6a('0xe0'),{}),_0x34c73c=await DataConverter[_0x3b6a('0x33')](MiscUtil['get'](_0x404fef,'data','data','skills'),_0x53036c,_0xf52351,{'titlePrefix':_0x345442[_0x3b6a('0x75')]+_0x3b6a('0x59')+_0x345442[_0x3b6a('0x2d')]+')'});if(_0x34c73c[_0x3b6a('0x139')])_0x1d7c86['isCancelled']=!![];}static async['_pMutActorUpdate_pMutFromLanguageProfs'](_0x161d30,_0x116b29,_0x5903df,_0x341e97,_0x3153b7){const _0x353858=MiscUtil[_0x3b6a('0x9a')](_0x116b29,_0x3b6a('0xe0'),{}),_0x277fdc=await DataConverter[_0x3b6a('0x67')](MiscUtil[_0x3b6a('0x37')](_0x161d30,_0x3b6a('0xe0'),_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x29'),'value'),MiscUtil['get'](_0x161d30,_0x3b6a('0xe0'),_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x29'),'custom'),_0x341e97,_0x353858,{'titlePrefix':_0x5903df[_0x3b6a('0x75')]+_0x3b6a('0x59')+_0x5903df[_0x3b6a('0x2d')]+')'});if(_0x277fdc)_0x3153b7[_0x3b6a('0x139')]=!![];}static async[_0x3b6a('0x12a')](_0x411bea,_0x5e696b,_0xcbe05b,_0x4423b8){if(!_0xcbe05b['entries'])return;const _0x8fcdd8=new Set(),_0x131b4c=new Set(),_0x256313=new Set(),_0x31bdc4=new Set(),_0x42f6df=new Set(),_0x1922a3=new Set(),_0x1e7347=new Set(),_0x4315e8=new Set(),_0x149acb=[],_0x58faaf=[],_0x2a53ae=new Set();DataConverter['_WALKER_READONLY_GENERIC'][_0x3b6a('0x3d')]('proficiencies',_0xcbe05b['entries'],{'string':(_0x5fd129,_0x427de8)=>{_0x427de8['replace'](/(?:you|s?he or s?he) ([^.!?]*? )?gains? proficiency (?:with|in (?:either )?(?: the)?)(.*?)(?:[.!?]|$)/gi,(..._0x550779)=>{const [_0x31664e,_0x1ddb34,_0x5dc8dc]=_0x550779;if(_0x1ddb34&&_0x1ddb34['split'](/\W/g)[_0x3b6a('0x7e')](_0xc99494=>_0xc99494[_0x3b6a('0xeb')]()[_0x3b6a('0x23')]()===_0x3b6a('0x74')))return;const _0x819e0a=this[_0x3b6a('0xda')](_0x3b6a('0x9'),_0x5dc8dc);for(const _0x177574 of _0x819e0a){const _0x43e5da=DataUtil[_0x3b6a('0x66')]['unpackUid'](_0x177574,_0x3b6a('0x9')),_0x4249f5=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x3b6a('0x8d')]](_0x43e5da);_0x8fcdd8['add'](_0x4249f5);}const _0x2775a0=_0x5dc8dc[_0x3b6a('0x78')](/,? and |,? or |, /gi);_0x2775a0[_0x3b6a('0x112')](_0x53ac1c=>_0x53ac1c[_0x3b6a('0xeb')]()['replace'](/^\W+/,'')['replace'](/\W+$/,''))[_0x3b6a('0x84')](Boolean)['forEach'](_0x29b6c2=>{_0x29b6c2=_0x29b6c2[_0x3b6a('0x23')]()['trim']();switch(_0x29b6c2){case _0x3b6a('0x28'):_0x31bdc4['add'](_0x3b6a('0xee'));break;case'simple\x20weapons':_0x31bdc4[_0x3b6a('0xcd')](_0x3b6a('0xb8'));break;case _0x3b6a('0x46'):case'light\x20armor':_0x1922a3['add'](_0x3b6a('0xfa'));break;case _0x3b6a('0xac'):case _0x3b6a('0x121'):_0x1922a3[_0x3b6a('0xcd')](_0x3b6a('0xa4'));break;case'heavy':case'heavy\x20armor':_0x1922a3[_0x3b6a('0xcd')](_0x3b6a('0x115'));break;case _0x3b6a('0x126'):_0x1922a3['add'](_0x3b6a('0xbc'));break;}});let _0x152648=![];_0x5dc8dc[_0x3b6a('0x38')](/(?:(one|two|three|four|five|six) )skills? of your choice/gi,(..._0x2e9081)=>{_0x152648=!![];const _0x335767=Parser[_0x3b6a('0xba')](_0x2e9081[0x1]);if(isNaN(_0x335767))return;_0x149acb[_0x3b6a('0x137')]([{'choose':{'from':Object['keys'](Parser[_0x3b6a('0xc5')]),'count':_0x335767}}]);}),!/(^|\W)choice(\W|$)/i[_0x3b6a('0xd3')](_0x5dc8dc)&&(_0x152648=!![],this[_0x3b6a('0x122')](_0x5dc8dc,_0x4315e8)),!_0x152648&&_0x5dc8dc[_0x3b6a('0x38')](/ or (.*?) skills?(\W|$)/i,(..._0xefab64)=>{const _0x2d4865=new Set();this[_0x3b6a('0x122')](_0xefab64[0x2],_0x2d4865);if(_0x2d4865[_0x3b6a('0x12d')])_0x149acb['push']([{'choose':{'from':[..._0x2d4865],'count':count}}]);}),_0x5dc8dc['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throws/i,(..._0x18c3f8)=>{_0x2a53ae[_0x3b6a('0xcd')](_0x18c3f8[0x1][_0x3b6a('0x23')]()[_0x3b6a('0x9b')](0x0,0x3));});}),_0x427de8[_0x3b6a('0x38')](/you (?:[^.!?]*? )proficien[^ ]+ in (one|two|three|four|five|six)(?:[^.!?]+? )*skills (?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x5dc4aa)=>{const _0x56f389=Parser[_0x3b6a('0xba')](_0x5dc4aa[0x1]);if(isNaN(_0x56f389))return;const _0x186886=new Set();this[_0x3b6a('0x122')](_0x5dc4aa[0x2],_0x186886);if(_0x186886['size'])_0x149acb[_0x3b6a('0x137')]([{'choose':{'from':[..._0x186886],'count':_0x56f389}}]);}),_0x427de8[_0x3b6a('0x38')](/you (?:[^.!?]*? )proficien[^ ]+ (?:[^.!?]*? )choice of (two|three|four|five|six) (?:[^.!?]*? )skills:(.*?)(?:[.!?]|$)/gi,(..._0x51a613)=>{const _0x586193=Parser['textToNumber'](_0x51a613[0x1]);if(isNaN(_0x586193))return;const _0x24b794=new Set();this[_0x3b6a('0x122')](_0x51a613[0x2],_0x24b794);if(_0x24b794[_0x3b6a('0x12d')])_0x149acb['push']([{'choose':{'from':[..._0x24b794],'count':_0x586193}}]);}),_0x427de8[_0x3b6a('0x38')](/gain proficiency (?:[^.!?]*?) (one|two|three|four|five|six) (?:[^.!?]*?) following skills(?:[^.!?]*?):(.*?)(?:[.!?]|$)/gi,(..._0x543c5f)=>{const _0x24e7e4=Parser[_0x3b6a('0xba')](_0x543c5f[0x1]);if(isNaN(_0x24e7e4))return;const _0x35362d=new Set();this[_0x3b6a('0x122')](_0x543c5f[0x2],_0x35362d);if(_0x35362d[_0x3b6a('0x12d')])_0x149acb[_0x3b6a('0x137')]([{'choose':{'from':[..._0x35362d],'count':_0x24e7e4}}]);}),_0x427de8[_0x3b6a('0x38')](/you learn (an|one|two|three|four|five|six)(?: additional)? language of your choice/gi,(..._0x79c8ad)=>{const _0x2d526c=Parser['textToNumber'](_0x79c8ad[0x1]);if(isNaN(_0x2d526c))return;_0x58faaf[_0x3b6a('0x137')]([{'any':_0x2d526c}]);});}});for(const _0x52d5f4 of _0x8fcdd8){const _0x27119e=await Renderer[_0x3b6a('0x4a')][_0x3b6a('0x17')](UrlUtil[_0x3b6a('0x8d')],_0x52d5f4);if(DataConverter[_0x3b6a('0x134')]['has'](_0x27119e[_0x3b6a('0x102')])){const _0x5acf78=UtilActors[_0x3b6a('0x13a')](_0x27119e[_0x3b6a('0x75')]);if(_0x5acf78)_0x131b4c[_0x3b6a('0xcd')](_0x5acf78);else _0x256313[_0x3b6a('0xcd')](_0x27119e[_0x3b6a('0x75')]['toLowerCase']());}DataConverter[_0x3b6a('0xad')]['has'](_0x27119e[_0x3b6a('0x102')])&&_0x42f6df['add'](_0x27119e['name'][_0x3b6a('0x23')]()+'s');if(DataConverter[_0x3b6a('0xbe')]['has'](_0x27119e[_0x3b6a('0x102')])){if(_0x27119e[_0x3b6a('0x75')]===_0x3b6a('0x12f'))_0x1922a3[_0x3b6a('0xcd')](_0x3b6a('0xbc'));else _0x1e7347[_0x3b6a('0xcd')](_0x27119e[_0x3b6a('0x75')]['toLowerCase']());}}this[_0x3b6a('0xd2')](_0x411bea,_0x5e696b,_0x31bdc4,_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x6a'),_0x3b6a('0x6e')),this['_pMutActorUpdate_mutFromProficiencySetCustom'](_0x411bea,_0x5e696b,_0x42f6df,'data',_0x3b6a('0x13d'),_0x3b6a('0x6a'),_0x3b6a('0xa3')),this[_0x3b6a('0xd2')](_0x411bea,_0x5e696b,_0x1922a3,_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x11b'),_0x3b6a('0x6e')),this[_0x3b6a('0x119')](_0x411bea,_0x5e696b,_0x1e7347,_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x11b'),'custom'),this[_0x3b6a('0xd2')](_0x411bea,_0x5e696b,_0x131b4c,_0x3b6a('0xe0'),'traits',_0x3b6a('0x52'),_0x3b6a('0x6e')),this['_pMutActorUpdate_mutFromProficiencySetCustom'](_0x411bea,_0x5e696b,_0x256313,_0x3b6a('0xe0'),_0x3b6a('0x13d'),_0x3b6a('0x52'),_0x3b6a('0xa3'));if(_0x4315e8[_0x3b6a('0x12d')]){const _0x1e39d9=[[..._0x4315e8]['mergeMap'](_0x18e749=>({[_0x18e749]:!![]}))];await this['_pMutActorUpdate_pMutFromSkillProfs'](_0x411bea,_0x5e696b,_0xcbe05b,_0x1e39d9,_0x4423b8);}if(_0x149acb[_0x3b6a('0x77')])for(const _0x5f304b of _0x149acb){await this[_0x3b6a('0x10d')](_0x411bea,_0x5e696b,_0xcbe05b,_0x5f304b,_0x4423b8);}if(_0x58faaf[_0x3b6a('0x77')])for(const _0x139853 of _0x58faaf){await this[_0x3b6a('0xbf')](_0x411bea,_0x5e696b,_0xcbe05b,_0x139853,_0x4423b8);}_0x2a53ae[_0x3b6a('0x12d')]&&_0x2a53ae[_0x3b6a('0x58')](_0x446b06=>MiscUtil[_0x3b6a('0xa1')](_0x5e696b,'data',_0x3b6a('0x5a'),_0x446b06,'proficient',0x1));}static['_pMutActorUpdate_addValidSkills'](_0xc8de27,_0x26d722){const _0x3a498d=this[_0x3b6a('0xda')](_0x3b6a('0x6'),_0xc8de27);for(const _0x24b702 of _0x3a498d){const _0x4a3aff=_0x24b702[_0x3b6a('0x78')]('|')[0x0][_0x3b6a('0x23')](),_0x29983a=!!Parser['SKILL_TO_ATB_ABV'][_0x4a3aff];if(!_0x29983a)continue;_0x26d722['add'](_0x4a3aff);}}static[_0x3b6a('0xd2')](_0x16d0f6,_0x11a295,_0x3b8233,..._0xe3bc15){if(!_0x3b8233[_0x3b6a('0x12d')])return;const _0x190a83=MiscUtil[_0x3b6a('0x14d')](MiscUtil[_0x3b6a('0x37')](_0x16d0f6,_0x3b6a('0xe0'),..._0xe3bc15)||[]),_0x1ecba3=MiscUtil[_0x3b6a('0x9a')](_0x11a295,..._0xe3bc15,_0x190a83),_0x38b17a=new Set([..._0x1ecba3,..._0x3b8233]);MiscUtil[_0x3b6a('0xa1')](_0x11a295,..._0xe3bc15,[..._0x38b17a]);}static[_0x3b6a('0x119')](_0x3575ff,_0x10fec4,_0x5e9369,..._0x3a0aee){if(!_0x5e9369[_0x3b6a('0x12d')])return;const _0x52d00c=MiscUtil[_0x3b6a('0x14d')](MiscUtil[_0x3b6a('0x37')](_0x3575ff,_0x3b6a('0xe0'),..._0x3a0aee)||''),_0x3df399=MiscUtil[_0x3b6a('0x37')](_0x10fec4,..._0x3a0aee)||_0x52d00c,_0x34d076=_0x3df399['split'](';')['map'](_0x3d164a=>_0x3d164a[_0x3b6a('0xeb')]())['filter'](Boolean);[..._0x5e9369][_0x3b6a('0x84')](_0x3380ba=>!_0x34d076[_0x3b6a('0x7e')](_0x4cf9b5=>_0x4cf9b5[_0x3b6a('0x23')]()['trim']()===_0x3380ba[_0x3b6a('0x23')]()[_0x3b6a('0xeb')]()))[_0x3b6a('0x58')](_0x676549=>_0x34d076[_0x3b6a('0x137')](_0x676549)),MiscUtil[_0x3b6a('0xa1')](_0x10fec4,..._0x3a0aee,_0x34d076[_0x3b6a('0x76')](';'));}static[_0x3b6a('0x13e')](_0x415fbc,_0x1f4092){_0x1f4092=_0x1f4092||{},_0x1f4092['modeOptions']=_0x1f4092[_0x3b6a('0xef')]||{};let {description,activationType,activationCost,activationCondition,saveAbility,saveDc,saveScaling,damageParts,attackBonus,requirements,actionType,durationValue,durationUnits,consumeType,consumeTarget,consumeAmount,formula}=_0x1f4092;description=description||DataConverter['getEntryDescription'](_0x415fbc,{'depth':_0x1f4092[_0x3b6a('0x41')]}),activationType=activationType||'',activationCost=activationCost||0x0,activationCondition=activationCondition||'',saveAbility=saveAbility||'',saveDc=saveDc||null,saveScaling=saveScaling||'',damageParts=damageParts||[],attackBonus=attackBonus||0x0,requirements=requirements||'',actionType=actionType||'',durationValue=durationValue||null,durationUnits=durationUnits||'',consumeType=consumeType||null,consumeTarget=consumeTarget||null,consumeAmount=consumeAmount||null,formula=formula||'';let _0x41ccf3=UtilApplications[_0x3b6a('0x2b')](DataConverter[_0x3b6a('0xd5')](_0x415fbc));const _0x4edcd8=_0x415fbc['entries']?JSON[_0x3b6a('0xe')](_0x415fbc[_0x3b6a('0xce')]):null;let _0x371687=null;if(_0x415fbc['name']){const _0x79ecf9=/{@recharge( \d+)?}/gi['exec'](_0x415fbc[_0x3b6a('0x75')]);_0x79ecf9&&(_0x371687=_0x79ecf9[0x1]?Number(_0x79ecf9[0x1][_0x3b6a('0xeb')]()):0x6,_0x41ccf3=_0x41ccf3[_0x3b6a('0x38')](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x3b6a('0xeb')]()[_0x3b6a('0x38')](/[ ]+/g,'\x20'));}if(_0x415fbc['entries']){/(?:^|\W)bonus action(?:\W|$)/i[_0x3b6a('0xd3')](_0x4edcd8)&&(activationType=activationType||_0x3b6a('0x80'),activationCost=activationCost||0x1);if(_0x1f4092['mode']===_0x3b6a('0x6c')){if(!activationType&&!activationCost){const _0x5058a8=DataConverter[_0x3b6a('0x6f')];_0x5058a8[_0x3b6a('0x3d')](_0x3b6a('0x12e'),_0x415fbc[_0x3b6a('0xce')],{'string':(_0x5f297a,_0x28f83e)=>{if(activationType)return _0x28f83e;const _0xac9a79=_0x28f83e[_0x3b6a('0x78')](/[.?!]/g)[_0x3b6a('0x112')](_0x31d6b7=>_0x31d6b7[_0x3b6a('0xeb')]());for(const _0x5c4497 of _0xac9a79){if(/as an action|can take an action/i[_0x3b6a('0xd3')](_0x5c4497)){activationType=activationType||_0x3b6a('0x60'),activationCost=activationCost||0x1;break;}const _0x4bfefe=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x3b6a('0x106')](_0x5c4497);if(_0x4bfefe){activationType=activationType||_0x3b6a('0x3a'),activationCost=activationCost||0x1;let _0x5eae8b=_0x5c4497['slice'](0x0,_0x4bfefe['index'])['trim']()['replace'](/,$/,'');const _0x1f109d=/(^|\W)(?:if|when)(?:|\W)/i[_0x3b6a('0x106')](_0x5eae8b);_0x1f109d&&(_0x5eae8b=_0x5eae8b[_0x3b6a('0x9b')](_0x1f109d[_0x3b6a('0x3c')]+_0x1f109d[0x1][_0x3b6a('0x77')])[_0x3b6a('0xeb')](),activationCondition=activationCondition||_0x5eae8b);break;}}}});}}}let _0x46cd01=0x0,_0x544841=null;_0x1f4092[_0x3b6a('0x9c')]==='creature'&&_0x415fbc[_0x3b6a('0x75')]&&(_0x41ccf3=_0x41ccf3[_0x3b6a('0x38')](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x5055d7)=>{_0x46cd01=Number(_0x5055d7[0x1]);const _0x8c21cf=_0x5055d7[0x2]['trim']()[_0x3b6a('0x23')]();switch(_0x8c21cf){case _0x3b6a('0x65'):_0x544841=_0x3b6a('0x65');break;case _0x3b6a('0x82'):_0x544841='sr';break;case _0x3b6a('0x14b'):_0x544841='lr';break;}return'';}),!_0x544841&&(_0x41ccf3=_0x41ccf3[_0x3b6a('0x38')](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x32da8c)=>{return _0x46cd01=Number(_0x32da8c[0x1]),_0x544841=_0x3b6a('0x132'),'';})),_0x544841&&(_0x41ccf3=_0x41ccf3['trim']()[_0x3b6a('0x38')](/[ ]+/g,'\x20'),activationType=activationType||_0x3b6a('0x87'),_0x415fbc[_0x3b6a('0xce')]&&typeof _0x415fbc[_0x3b6a('0xce')][0x0]===_0x3b6a('0x13')&&/^(?:If |When )/i[_0x3b6a('0xd3')](_0x415fbc[_0x3b6a('0xce')][0x0][_0x3b6a('0xeb')]())&&(activationCondition=_0x415fbc[_0x3b6a('0xce')][0x0][_0x3b6a('0xeb')]())));if(_0x1f4092['mode']===_0x3b6a('0x6c')&&_0x415fbc[_0x3b6a('0xce')]){const _0x205940=/finish a short rest/[_0x3b6a('0xd3')](_0x4edcd8)||/finish a short or long rest/[_0x3b6a('0xd3')](_0x4edcd8)||/finish a short rest or a long rest/[_0x3b6a('0xd3')](_0x4edcd8)||/finish a short or long rest/[_0x3b6a('0xd3')](_0x4edcd8),_0x35b144=!_0x205940&&/finish a long rest/[_0x3b6a('0xd3')](_0x4edcd8);if(_0x205940)_0x544841='sr';else{if(_0x35b144)_0x544841='lr';}const _0x3abcd0=new RegExp(_0x3b6a('0x9f')+Consts[_0x3b6a('0x88')]['map'](_0x57a250=>_0x57a250[_0x3b6a('0x8')][_0x3b6a('0x76')]('\x20'))[_0x3b6a('0x76')]('|')+'))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20('+Consts[_0x3b6a('0x88')][_0x3b6a('0x112')](_0x1a6b37=>_0x1a6b37[_0x3b6a('0x8')][_0x3b6a('0x76')]('\x20'))[_0x3b6a('0x76')]('|')+_0x3b6a('0x11f'),'i'),_0x18bc1f=_0x3abcd0[_0x3b6a('0x106')](_0x4edcd8);if(_0x18bc1f&&_0x1f4092[_0x3b6a('0x11d')]){const _0x189a3f=_0x18bc1f[0x2][_0x3b6a('0x9b')](0x0,0x3)[_0x3b6a('0x23')](),_0x12cbb6=MiscUtil[_0x3b6a('0x37')](_0x1f4092[_0x3b6a('0x11d')],_0x3b6a('0xe0'),'data','abilities',_0x189a3f,_0x3b6a('0x6e'));if(_0x12cbb6!=null){let _0x29dd6c=Parser[_0x3b6a('0x100')](_0x12cbb6);if(_0x18bc1f[0x1]){const _0x143e2d=(Consts[_0x3b6a('0x88')][_0x3b6a('0xe2')](_0x23ce22=>_0x23ce22[_0x3b6a('0x8')][_0x3b6a('0x76')]('\x20')===_0x18bc1f[0x1][_0x3b6a('0xeb')]()[_0x3b6a('0x23')]())||{})[_0x3b6a('0xc8')]||0x1;_0x29dd6c=_0x29dd6c*_0x143e2d;}if(_0x18bc1f[0x3]){const _0x1196ad=(Consts[_0x3b6a('0x88')][_0x3b6a('0xe2')](_0x154851=>_0x154851[_0x3b6a('0x8')][_0x3b6a('0x76')]('\x20')===_0x18bc1f[0x3][_0x3b6a('0xeb')]()[_0x3b6a('0x23')]())||{})['count']||0x1;_0x29dd6c=Math['max'](_0x1196ad,_0x29dd6c);}_0x46cd01=_0x29dd6c;}}}_0x1f4092[_0x3b6a('0x9c')]===_0x3b6a('0x6c')&&_0x415fbc['entries']&&DataConverter[_0x3b6a('0x6f')][_0x3b6a('0x3d')](_0x3b6a('0x5b'),_0x415fbc[_0x3b6a('0xce')],{'object':(_0x56b864,_0x5d6412)=>{if(_0x5d6412['type']!==_0x3b6a('0x39'))return _0x5d6412;if(actionType&&saveScaling)return _0x5d6412;return actionType=actionType||'save',saveScaling=_0x5d6412['attributes'][0x0],_0x5d6412;},'string':(_0x250d43,_0x13e7fc)=>{if(actionType&&saveAbility&&saveScaling)return _0x13e7fc;return _0x13e7fc[_0x3b6a('0x38')](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x42268f)=>{const _0x43ce96=[];_0x42268f[0x1][_0x3b6a('0x38')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x5e26aa)=>{_0x43ce96[_0x3b6a('0x137')](_0x5e26aa[0x1][_0x3b6a('0x23')]()[_0x3b6a('0x9b')](0x0,0x3));});if(!_0x43ce96['length'])return;actionType=actionType||_0x3b6a('0x5e'),saveScaling=_0x43ce96[0x0];}),_0x13e7fc[_0x3b6a('0x38')](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x32900c)=>{actionType=actionType||_0x3b6a('0x5e'),saveAbility=saveAbility||_0x32900c[0x1][_0x3b6a('0x23')]()[_0x3b6a('0x9b')](0x0,0x3),saveScaling=saveScaling||_0x3b6a('0xb');}),_0x1f4092[_0x3b6a('0xef')][_0x3b6a('0x111')]&&_0x13e7fc[_0x3b6a('0x38')](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x27e523)=>{actionType=actionType||_0x3b6a('0x5e'),saveAbility=saveAbility||_0x27e523[0x1][_0x3b6a('0x23')]()[_0x3b6a('0x9b')](0x0,0x3),saveScaling=saveScaling||'spell';}),_0x13e7fc;}});_0x1f4092[_0x3b6a('0x9c')]==='player'&&_0x415fbc[_0x3b6a('0xce')]&&DataConverter['_WALKER_READONLY_GENERIC'][_0x3b6a('0x3d')]('duration',_0x415fbc[_0x3b6a('0xce')],{'string':(_0x102ec2,_0x536515)=>{if(durationValue||durationUnits)return;_0x536515[_0x3b6a('0x38')](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x31ea7c)=>{durationValue=Number(_0x31ea7c[0x1]),durationUnits=_0x31ea7c[0x2][_0x3b6a('0x23')]();}),_0x536515[_0x3b6a('0x38')](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x347c0f)=>{durationValue=Number(_0x347c0f[0x1]),durationUnits=_0x347c0f[0x2][_0x3b6a('0x23')]();}),_0x536515[_0x3b6a('0x38')](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x4c7901)=>{durationValue=Number(_0x4c7901[0x1]),durationUnits=_0x4c7901[0x2][_0x3b6a('0x23')]();}),_0x536515[_0x3b6a('0x38')](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x267158)=>{durationValue=Number(_0x267158[0x1]),durationUnits=_0x267158[0x2]['toLowerCase']();}),_0x536515[_0x3b6a('0x38')](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{durationValue=0x1,durationUnits=_0x3b6a('0x11');}),Renderer[_0x3b6a('0xdc')](_0x536515)['replace'](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x490286)=>{durationValue=Number(_0x490286[0x1]),durationUnits=_0x490286[0x2][_0x3b6a('0x23')]();});}});_0x1f4092[_0x3b6a('0x9c')]===_0x3b6a('0x6c')&&_0x415fbc[_0x3b6a('0xce')]&&DataConverter['_WALKER_READONLY_GENERIC'][_0x3b6a('0x3d')](_0x3b6a('0xdf'),_0x415fbc[_0x3b6a('0xce')],{'string':(_0x1846c7,_0x5081c9)=>{if(consumeType||consumeTarget||consumeAmount)return;_0x5081c9[_0x3b6a('0x38')](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x582308)=>{consumeType=_0x3b6a('0x13b'),consumeTarget=_0x3b6a('0x42'),consumeAmount=Number(_0x582308[0x1]||_0x582308[0x2]);});}});let _0x53ce58=_0x4edcd8;if(_0x1f4092[_0x3b6a('0x9c')]==='player'&&_0x415fbc[_0x3b6a('0xce')]&&!damageParts[_0x3b6a('0x77')]){const {str,damageTuples}=DataConverter['getDamageTuples'](_0x4edcd8);_0x53ce58=str,damageParts=damageTuples;}return _0x1f4092[_0x3b6a('0x9c')]===_0x3b6a('0x6c')&&_0x415fbc[_0x3b6a('0xce')]&&!formula&&_0x53ce58[_0x3b6a('0x38')](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x4d111f)=>{const [_0x581745]=_0x4d111f[0x1]['split']('|');formula=_0x581745;}),{'name':_0x41ccf3,'type':_0x1f4092[_0x3b6a('0xc9')],'data':{'source':_0x1f4092['source']?Parser[_0x3b6a('0x69')](_0x1f4092[_0x3b6a('0x138')]):'','description':{'value':description,'chat':'','unidentified':''},'damage':{'parts':damageParts,'versatile':''},'duration':{'value':durationValue,'units':durationUnits},'range':{'value':null,'long':null,'units':''},'requirements':requirements,'save':{'ability':saveAbility,'dc':saveDc,'scaling':saveScaling||_0x3b6a('0xfc')},'activation':{'type':activationType,'cost':activationCost,'condition':activationCondition},'target':{'value':null,'units':'','type':''},'uses':{'value':_0x46cd01,'max':_0x46cd01,'per':_0x544841},'ability':'','actionType':actionType||_0x3b6a('0x110'),'attackBonus':attackBonus,'chatFlavor':'','critical':null,'formula':formula,'recharge':{'value':_0x371687,'charged':_0x371687!=null},'consume':{'type':consumeType,'target':consumeTarget,'amount':consumeAmount},..._0x1f4092[_0x3b6a('0x73')]||{}},'img':_0x1f4092['img']};}static[_0x3b6a('0x4e')](_0x27371,_0x12aa47){_0x12aa47=_0x12aa47||{};const _0x5b2277={'name':UtilApplications[_0x3b6a('0x2b')](DataConverter[_0x3b6a('0xd5')](_0x27371)),'type':_0x3b6a('0xbb'),'data':{'description':{'value':_0x3b6a('0x93')+Renderer[_0x3b6a('0x37')]()['setFirstSection'](!![])[_0x3b6a('0x35')]({'type':_0x3b6a('0xce'),'entries':_0x27371['entries']})+'</div>','chat':'','unidentified':''},'source':DataConverter[_0x3b6a('0x44')](_0x27371),'damage':{'parts':[]},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{},'img':_0x3b6a('0x104')+SharedConsts['MODULE_NAME']+_0x3b6a('0x47')};if(_0x12aa47[_0x3b6a('0x8e')])_0x5b2277[_0x3b6a('0x7a')]={'default':Config[_0x3b6a('0x37')](_0x3b6a('0x21'),_0x3b6a('0x7b'))};return _0x5b2277;}static[_0x3b6a('0x8b')](_0xc9795f,_0x216e45,_0x1ed873,_0x202744){const _0x4aa5fd=_0x1ed873===_0x3b6a('0x18')?_0x3b6a('0x12'):_0x3b6a('0xbd'),_0x170d43=[],_0xe468bd=_0x216e45[_0x3b6a('0xf4')],_0x21bf63=Math[_0x3b6a('0x108')](_0xe468bd[_0x3b6a('0x77')],_0xc9795f[_0x3b6a('0x77')]);for(let _0x792ee2=0x0;_0x792ee2<_0x21bf63;++_0x792ee2){const _0x1f0ee6=_0xe468bd[_0x792ee2],_0x2d502d=_0xc9795f[_0x792ee2],_0x1008f6={'name':UtilApplications[_0x3b6a('0x2b')](''+Parser[_0x3b6a('0x27')](_0x1f0ee6[_0x3b6a('0x1f')])+_0x1f0ee6[_0x3b6a('0x75')]),'permission':{'default':0x0},'entryTime':Date[_0x3b6a('0x116')](),'content':(_0x3b6a('0xa')+Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])['render'](_0x2d502d)+'</div>')[_0x3b6a('0x38')](new RegExp(DataConverter[_0x3b6a('0xf5')],'g'),'@')};if(_0x202744[_0x3b6a('0x8e')])_0x1008f6[_0x3b6a('0x7a')]={'default':Config['get'](_0x4aa5fd,_0x3b6a('0x7b'))};_0x170d43[_0x3b6a('0x137')](_0x1008f6);}return _0x170d43;}static[_0x3b6a('0xf2')](_0x59f1cc,_0x35cf2b,_0x53a162){return this[_0x3b6a('0x8b')](_0x59f1cc,_0x35cf2b,'adventure',_0x53a162);}static[_0x3b6a('0x50')](_0x5da80a,_0xdae0,_0x3c048e){return this[_0x3b6a('0x8b')](_0x5da80a,_0xdae0,_0x3b6a('0x68'),_0x3c048e);}static[_0x3b6a('0x136')](_0xd72198){return[this[_0x3b6a('0xe5')](_0xd72198),this['_getPsionicItems_getDisciplineFocusItem'](_0xd72198),...this[_0x3b6a('0x45')](_0xd72198)]['filter'](Boolean);}static['_getPsionicItems_getTalentItem'](_0x3fba1d){if(_0x3fba1d[_0x3b6a('0x102')]!=='T')return null;const _0x2e6345=JSON[_0x3b6a('0xe')](_0x3fba1d[_0x3b6a('0xce')]),_0x1b3bc7=this[_0x3b6a('0x48')](_0x2e6345);let _0xc8b0f4='',_0x4ae60d=null;const _0x32ccfb=[];_0x2e6345[_0x3b6a('0x38')](/\({@damage ([^}]+)}\)/g,(..._0x501e26)=>_0x32ccfb[_0x3b6a('0x137')](_0x501e26[0x1]));const _0x368485=/(?:^|[^(]){@dice ([^}]+)}(?:[^)]|$)/[_0x3b6a('0x106')](_0x2e6345);if(_0x32ccfb[_0x3b6a('0x77')]===0x3){if(_0x368485)_0x4ae60d=_0x368485[0x1];else _0x4ae60d=_0x32ccfb[0x0];}if(_0x368485)_0xc8b0f4=_0x368485;else{if(_0x32ccfb[_0x3b6a('0x77')])_0xc8b0f4=_0x32ccfb[0x0];}const _0x2e326c=this[_0x3b6a('0x2a')](_0x2e6345),_0x2f6878=_0xc8b0f4?[_0xc8b0f4,_0x2e326c]['filter'](Boolean):null,_0x1875de=this['_getPsionicItems_getSaveFromString'](_0x2e6345);return{'name':UtilApplications[_0x3b6a('0x2b')](DataConverter[_0x3b6a('0xd5')](_0x3fba1d)),'type':_0x3b6a('0xb'),'data':{'source':DataConverter[_0x3b6a('0x44')](_0x3fba1d),'description':{'value':_0x3b6a('0x93')+Renderer[_0x3b6a('0xb3')][_0x3b6a('0x11c')](_0x3fba1d,Renderer[_0x3b6a('0x37')]())+_0x3b6a('0xff'),'chat':'','unidentified':''},'actionType':_0x1b3bc7,'level':0x0,'school':_0x3b6a('0x10'),'components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':![]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':_0x1b3bc7,'cost':0x1,'condition':''},'duration':{'value':0x0,'units':''},'damage':{'parts':[_0x2f6878][_0x3b6a('0x84')](Boolean),'versatile':''},'scaling':{'mode':_0x4ae60d?'cantrip':_0x3b6a('0x87'),'formula':_0x4ae60d||''},'save':{'ability':_0x1875de,'dc':null},'ability':_0x3b6a('0xe3'),'uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':'prepared','prepared':!![]}},'img':'modules/'+SharedConsts['MODULE_NAME']+'/media/icon/brain.svg'};}static[_0x3b6a('0x2')](_0x31112c){if(_0x31112c['type']!=='D')return null;return{'name':UtilApplications[_0x3b6a('0x2b')](DataConverter[_0x3b6a('0xd5')](_0x31112c,_0x31112c[_0x3b6a('0x75')]+_0x3b6a('0x125'))),'type':_0x3b6a('0xb'),'data':{'source':DataConverter['getSourceWithPagePart'](_0x31112c),'description':{'value':'<div>'+Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')]({'entries':[_0x31112c['focus']]})+_0x3b6a('0xff'),'chat':'','unidentified':''},'actionType':_0x3b6a('0x80'),'level':0x0,'school':_0x3b6a('0x10'),'components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':![]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':_0x3b6a('0x80'),'cost':0x1,'condition':'(Only\x20one\x20focus\x20may\x20be\x20active\x20at\x20a\x20time)'},'duration':{'value':0x0,'units':''},'damage':{'parts':[],'versatile':''},'scaling':{'mode':_0x3b6a('0x87'),'formula':''},'save':{'ability':null,'dc':null},'ability':'int','uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':_0x3b6a('0xa5'),'prepared':!![]}},'img':_0x3b6a('0x104')+SharedConsts['MODULE_NAME']+'/media/icon/brain.svg'};}static[_0x3b6a('0x45')](_0x5c7ffa){const _0x4a5024=_0x178ab1=>{const _0x5da9ba=_0x110a97=>_0x110a97['cost']?'\x20('+(_0x110a97[_0x3b6a('0x12b')]['min']===_0x110a97[_0x3b6a('0x12b')][_0x3b6a('0x5c')]?_0x110a97['cost'][_0x3b6a('0x108')]:_0x110a97[_0x3b6a('0x12b')][_0x3b6a('0x108')]+'-'+_0x110a97[_0x3b6a('0x12b')]['max'])+_0x3b6a('0x16'):'',_0x1eafb8=_0x5da9ba(_0x178ab1),_0x56fb26=_0x178ab1[_0x3b6a('0x86')]?Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')]({'type':'list','style':_0x3b6a('0xf1'),'items':_0x178ab1[_0x3b6a('0x86')][_0x3b6a('0x112')](_0x776123=>({'type':_0x3b6a('0x9'),'name':''+_0x776123[_0x3b6a('0x75')]+_0x5da9ba(_0x776123),'entry':_0x776123['entries'][_0x3b6a('0x76')](_0x3b6a('0x24'))}))},0x2):'',_0x1a2119=JSON[_0x3b6a('0xe')](_0x178ab1[_0x3b6a('0xce')]),_0x3927aa=this[_0x3b6a('0x48')](_0x1a2119);let _0x2a5010=null;const _0x94f7a8=[],_0x3a1d6d=this[_0x3b6a('0x2a')](_0x1a2119);_0x1a2119[_0x3b6a('0x38')](/{@(?:scaledice|scaledamage) ([^}]+)}/,(..._0xf92295)=>{const [_0x2fb376,_0x18bcf0,_0x170b83]=_0xf92295[0x1][_0x3b6a('0x78')]('|');_0x94f7a8[_0x3b6a('0x137')](_0x2fb376),_0x2a5010=_0x170b83;});!_0x94f7a8[_0x3b6a('0x77')]&&_0x1a2119['replace'](/{@damage ([^}]+)}/g,(..._0x4ece52)=>_0x94f7a8[_0x3b6a('0x137')](_0x4ece52[0x1]));const _0x53dd28=_0x94f7a8['map'](_0x1f23df=>[_0x1f23df,_0x3a1d6d][_0x3b6a('0x84')](Boolean)),_0x3f3e4f=this[_0x3b6a('0x133')](_0x1a2119),_0x390c65=_0x178ab1[_0x3b6a('0x12b')]?_0x178ab1[_0x3b6a('0x12b')][_0x3b6a('0x108')]:_0x178ab1[_0x3b6a('0x86')]?MiscUtil['get'](_0x178ab1[_0x3b6a('0x86')][_0x3b6a('0xe2')](_0x197b27=>_0x197b27[_0x3b6a('0x12b')]),_0x3b6a('0x12b'),'min')||0x1:0x1,_0xb3371c=_0x178ab1[_0x3b6a('0x91')]?_0x178ab1[_0x3b6a('0x91')][_0x3b6a('0x145')]:0x0,_0x4eb985=(_0x178ab1[_0x3b6a('0x91')]?DataConverter[_0x3b6a('0x2f')][_0x178ab1['concentration'][_0x3b6a('0x3e')]]:'')||'';return{'name':UtilApplications[_0x3b6a('0x2b')](DataConverter[_0x3b6a('0xd5')](_0x5c7ffa,_0x5c7ffa['name']+_0x3b6a('0x10b')+_0x178ab1['name']+_0x1eafb8)),'type':'spell','data':{'source':DataConverter[_0x3b6a('0x44')](_0x5c7ffa),'description':{'value':_0x3b6a('0x118')+Renderer[_0x3b6a('0x37')]()[_0x3b6a('0xf6')](!![])[_0x3b6a('0x35')]({'entries':_0x178ab1[_0x3b6a('0xce')]},0x2)+'\x0a\x09\x09\x09\x09\x09\x09\x09'+_0x56fb26+_0x3b6a('0x2c'),'chat':'','unidentified':''},'actionType':_0x3927aa,'level':_0x390c65,'school':_0x3b6a('0x10'),'components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':!!_0x178ab1[_0x3b6a('0x91')]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':_0x3927aa,'cost':0x1,'condition':''},'duration':{'value':_0xb3371c,'units':_0x4eb985},'damage':{'parts':_0x53dd28,'versatile':''},'scaling':{'mode':_0x2a5010?_0x3b6a('0x2d'):_0x3b6a('0x87'),'formula':_0x2a5010||''},'save':{'ability':_0x3f3e4f,'dc':null},'ability':_0x3b6a('0xe3'),'uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':_0x3b6a('0xa5'),'prepared':!![]}},'img':_0x3b6a('0x104')+SharedConsts[_0x3b6a('0x63')]+_0x3b6a('0xb6')};};if(_0x5c7ffa[_0x3b6a('0x102')]==='T')return[];else return _0x5c7ffa[_0x3b6a('0x15')]['map'](_0x1ccee0=>_0x4a5024(_0x1ccee0));}static[_0x3b6a('0x48')](_0x1c59dd){const _0x46da40=/bonus action/i[_0x3b6a('0xd3')](_0x1c59dd),_0xf920fb=/as an action|using your action/i[_0x3b6a('0xd3')](_0x1c59dd);return _0x46da40?'bonus':_0xf920fb?_0x3b6a('0x60'):'';}static[_0x3b6a('0x2a')](_0x23ce6a){const _0x63b18a=Parser[_0x3b6a('0x97')][_0x3b6a('0x112')](_0x2bf6ea=>new RegExp('('+_0x2bf6ea+')[^.]+damage','ig')[_0x3b6a('0x106')](_0x23ce6a)),_0x52553d=_0x63b18a['filter'](Boolean)['map'](_0x511c36=>_0x511c36[0x1][_0x3b6a('0x23')]());return _0x52553d[0x0]||null;}static[_0x3b6a('0x133')](_0x2941a2){const _0x184b0a=Object[_0x3b6a('0x12c')](Parser[_0x3b6a('0xd7')])[_0x3b6a('0x112')](_0x7f91c8=>new RegExp('('+_0x7f91c8+')\x20saving\x20throw','ig')['exec'](_0x2941a2)),_0x3ae2f8=_0x184b0a[_0x3b6a('0x84')](Boolean)[_0x3b6a('0x112')](_0x3fadb3=>_0x3fadb3[0x1][_0x3b6a('0x9b')](0x0,0x3)[_0x3b6a('0x23')]());return _0x3ae2f8[0x0]||null;}static[_0x3b6a('0x85')](_0x51c632,_0x16ad2a){_0x16ad2a=_0x16ad2a||{};const _0x5b9e1c=Renderer['psionic'][_0x3b6a('0xd8')](_0x51c632),_0x45ff6b='<p><i>'+_0x5b9e1c+_0x3b6a('0x10a')+Renderer[_0x3b6a('0xb3')][_0x3b6a('0x11c')](_0x51c632,Renderer['get']()[_0x3b6a('0xf6')](!![])),_0x1c3fa0={'name':_0x51c632['name'],'type':_0x3b6a('0xbb'),'data':{'description':{'value':_0x3b6a('0x93')+_0x45ff6b+_0x3b6a('0xff'),'chat':'','unidentified':''},'source':DataConverter[_0x3b6a('0x44')](_0x51c632),'damage':{'parts':[]},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{},'img':_0x3b6a('0x104')+SharedConsts[_0x3b6a('0x63')]+_0x3b6a('0xb6')};if(_0x16ad2a[_0x3b6a('0x8e')])_0x1c3fa0['permission']={'default':Config['get']('importPsionic',_0x3b6a('0x7b'))};return _0x1c3fa0;}static async[_0x3b6a('0x33')](_0x1927bd,_0x35b8cd,_0x240000,_0x4c2286){_0x4c2286=_0x4c2286||{};const _0x247547={'isCancelled':![],'skills':{}};if(!_0x35b8cd)return _0x247547;const _0x37243e=new Set(),_0x3b063f=_0x35b8cd['length']>0x1?await InputUiUtil['pGetUserEnum']({'values':_0x35b8cd,'placeholder':_0x3b6a('0x7'),'title':(_0x4c2286['titlePrefix']?_0x4c2286[_0x3b6a('0xed')]+':\x20':'')+'Skill\x20Set','fnDisplay':_0xfcf1f5=>{const _0x5c55c9=[];return _0x5c55c9['push'](Object[_0x3b6a('0x56')](_0xfcf1f5)['sort'](SortUtil[_0x3b6a('0xc')])[_0x3b6a('0x84')](_0x49cbc1=>_0x49cbc1!==_0x3b6a('0x4f'))[_0x3b6a('0x112')](_0x44ebc3=>_0x44ebc3[_0x3b6a('0x5f')]())[_0x3b6a('0x76')](',\x20')),_0xfcf1f5[_0x3b6a('0x4f')]&&_0x5c55c9[_0x3b6a('0x137')](_0x3b6a('0xf9')+(_0xfcf1f5[_0x3b6a('0x4f')][_0x3b6a('0xc8')]||0x1)+'\x20from\x20'+_0xfcf1f5[_0x3b6a('0x4f')][_0x3b6a('0xe7')][_0x3b6a('0x112')](_0x7ef660=>_0x7ef660[_0x3b6a('0x5f')]())[_0x3b6a('0x76')](',\x20')),_0x5c55c9[_0x3b6a('0x84')](Boolean)[_0x3b6a('0x76')](';\x20');},'isResolveItem':!![]}):_0x35b8cd[0x0];if(!_0x3b063f)return _0x247547[_0x3b6a('0x139')]=!![],_0x247547;const _0x4bcb97=MiscUtil[_0x3b6a('0x14d')](_0x3b063f);if(_0x4bcb97[_0x3b6a('0x4f')]){const _0x22791e={};Object[_0x3b6a('0xce')](_0x1927bd)[_0x3b6a('0x58')](([_0x1e988b,_0x31626a])=>{if(!_0x31626a['value'])return;const _0x23991d=UtilActors[_0x3b6a('0x7f')][_0x1e988b];_0x22791e[_0x23991d]=_0x31626a[_0x3b6a('0x6e')];});const _0x3f493d=_0x4bcb97[_0x3b6a('0x4f')][_0x3b6a('0xc8')]||0x1,_0x476987=await InputUiUtil[_0x3b6a('0xc1')]({'title':(_0x4c2286[_0x3b6a('0xed')]?_0x4c2286[_0x3b6a('0xed')]+':\x20':'')+_0x3b6a('0xf9')+Parser[_0x3b6a('0xae')](_0x3f493d)+'\x20Skill'+(_0x3f493d===0x1?'':'s')+_0x3b6a('0x130')+(_0x3f493d===0x1?'':'s'),'values':_0x4bcb97[_0x3b6a('0x4f')][_0x3b6a('0xe7')][_0x3b6a('0x26')]((_0x8fa377,_0x5ad356)=>{if(typeof _0x8fa377==='object'&&typeof _0x5ad356==='object')return 0x0;if(typeof _0x8fa377===_0x3b6a('0x140'))return 0x1;if(typeof _0x5ad356===_0x3b6a('0x140'))return-0x1;return SortUtil[_0x3b6a('0xc')](_0x8fa377,_0x5ad356);}),'count':_0x3f493d,'isResolveItems':!![],'fnDisplay':_0x2d752a=>{if(_0x2d752a['tool']===!![])return _0x3b6a('0xa9');if(_0x2d752a[_0x3b6a('0x90')])return _0x2d752a[_0x3b6a('0x90')][_0x3b6a('0x112')](_0x4c6c32=>_0x4c6c32['toTitleCase']());if(_0x22791e[_0x2d752a]){const _0x393df6=_0x22791e[_0x2d752a]===0x1?_0x3b6a('0xb9'):_0x22791e[_0x2d752a]===0x2?_0x3b6a('0xb5'):_0x3b6a('0xf7');return _0x2d752a[_0x3b6a('0x5f')]()+_0x3b6a('0xb4')+_0x393df6+'\x22\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22>(<i\x20class=\x22fas\x20'+UtilActors['PROF_TO_ICON_CLASS'][_0x22791e[_0x2d752a]]+_0x3b6a('0xe1');}else return _0x2d752a[_0x3b6a('0x5f')]();}});if(!_0x476987)return _0x247547[_0x3b6a('0x139')]=!![],_0x247547;Object[_0x3b6a('0xce')](UtilActors['SKILL_ABV_TO_FULL'])['forEach'](([_0x48dd05,_0x29c208])=>{if(_0x22791e[_0x29c208]===0x2)return;if(_0x476987['includes'](_0x29c208))_0x37243e[_0x3b6a('0xcd')](_0x48dd05);}),delete _0x4bcb97[_0x3b6a('0x4f')];}Object[_0x3b6a('0xce')](UtilActors['SKILL_ABV_TO_FULL'])[_0x3b6a('0x58')](([_0x5d718a,_0x4857bf])=>{if(_0x4bcb97[_0x4857bf])_0x37243e[_0x3b6a('0xcd')](_0x5d718a);});const _0x418f63={};return _0x37243e['forEach'](_0x3022fa=>{const _0x5bb98a=0x1;_0x418f63[_0x3022fa]={'value':_0x5bb98a};}),_0x240000[_0x3b6a('0x105')]=_0x418f63,_0x247547[_0x3b6a('0x105')]=_0x418f63,_0x247547;}static async[_0x3b6a('0x67')](_0x356ad7,_0x4baf18,_0x40e590,_0x1dcb51,_0x46be10){return _0x46be10=_0x46be10||{},this[_0x3b6a('0xc2')](_0x356ad7,_0x4baf18,_0x40e590,_0x1dcb51,{'title':_0x3b6a('0x146'),'titlePrefix':_0x46be10[_0x3b6a('0xed')],'titlePlural':_0x3b6a('0x8a'),'otherTitle':_0x3b6a('0x144'),'fnCheckValidItem':_0x4afaf8=>UtilActors[_0x3b6a('0xcf')](_0x4afaf8)!=null,'fnGetMappedItem':_0x5897a2=>UtilActors[_0x3b6a('0xcf')](_0x5897a2),'anyOptions':{'any':Parser[_0x3b6a('0x3')],'anyStandard':{'isGrouped':!![],'valueGroups':[{'name':_0x3b6a('0x6d'),'values':Parser[_0x3b6a('0xa7')]},{'name':_0x3b6a('0xf0'),'text':_0x3b6a('0x1b'),'values':Parser[_0x3b6a('0x53')]},{'name':_0x3b6a('0x142'),'text':_0x3b6a('0x4c'),'values':Parser['LANGUAGES_SECRET']}]}},'actorTraitProp':_0x3b6a('0x29')});}static async['pFillActorToolData'](_0x548199,_0x389de8,_0x1faec0,_0x27c7c0){return this['_pFillProficiencyData'](_0x548199,_0x389de8,_0x1faec0,_0x27c7c0,{'title':'Tool\x20Proficiency','titlePlural':_0x3b6a('0x128'),'otherTitle':_0x3b6a('0xdd'),'fnCheckValidItem':()=>![],'fnGetMappedItem':_0x3b8b31=>UtilActors[_0x3b6a('0x13a')](_0x3b8b31),'actorTraitProp':'toolProf'});}static async[_0x3b6a('0xc2')](_0x476a38,_0x17f14f,_0x3fabd9,_0x55e74b,_0x33af85){if(!_0x3fabd9)return![];const _0x3b530f=new Set(),_0x244358=_0x3fabd9[_0x3b6a('0x77')]>0x1?await InputUiUtil[_0x3b6a('0x61')]({'values':_0x3fabd9,'placeholder':'Select\x20'+_0x33af85[_0x3b6a('0x54')]+_0x3b6a('0xe4'),'title':''+(_0x33af85[_0x3b6a('0xed')]?_0x33af85[_0x3b6a('0xed')]+':\x20':'')+_0x33af85[_0x3b6a('0x54')]+_0x3b6a('0xe4'),'fnDisplay':_0x5c2c2d=>{const _0x508837=[];return _0x508837['push'](Object[_0x3b6a('0x56')](_0x5c2c2d)[_0x3b6a('0x26')](SortUtil[_0x3b6a('0xc')])[_0x3b6a('0x84')](_0x210584=>_0x210584!=='choose')['map'](_0x3e5e22=>{const _0x33950a=_0x3e5e22===_0x3b6a('0x110')?_0x33af85['otherTitle']:_0x3e5e22['toTitleCase']();if(typeof _0x5c2c2d[_0x3e5e22]==='number')return _0x33950a+'\x20'+_0x5c2c2d[_0x3e5e22];else return _0x33950a;})[_0x3b6a('0x76')](',\x20')),_0x5c2c2d['choose']&&_0x508837[_0x3b6a('0x137')](_0x3b6a('0xf9')+Parser[_0x3b6a('0xae')](_0x5c2c2d[_0x3b6a('0x4f')]['count']||0x1)+_0x3b6a('0xec')+_0x5c2c2d[_0x3b6a('0x4f')][_0x3b6a('0xe7')]['map'](_0x177535=>_0x177535[_0x3b6a('0x5f')]())['join'](',\x20')),_0x508837[_0x3b6a('0x84')](Boolean)[_0x3b6a('0x76')](';\x20');},'isResolveItem':!![]}):_0x3fabd9[0x0];if(!_0x244358)return!![];const _0x3204e4=MiscUtil[_0x3b6a('0x14d')](_0x244358),_0x5198c2=(_0x4e8e13,_0x439cb3)=>{if(_0x439cb3[_0x3b6a('0xa8')]){const _0x368a0d=MiscUtil[_0x3b6a('0x14d')](_0x439cb3[_0x3b6a('0xfb')]);return _0x368a0d[_0x3b6a('0x58')](_0x5cc752=>{_0x5cc752[_0x3b6a('0x12c')]=_0x5cc752[_0x3b6a('0x12c')][_0x3b6a('0x112')](_0x147ed6=>_0x147ed6[_0x3b6a('0x23')]())[_0x3b6a('0x84')](_0x5d6143=>_0x33af85['fnCheckValidItem'](_0x5d6143));}),{'isGrouped':!![],'from':_0x368a0d,'count':_0x4e8e13};}else return{'from':[..._0x439cb3][_0x3b6a('0x112')](_0xa912b1=>_0xa912b1[_0x3b6a('0x23')]())[_0x3b6a('0x84')](_0x7c37b5=>_0x33af85[_0x3b6a('0x62')](_0x7c37b5)),'count':_0x4e8e13};},_0x342ab2=async _0x211c41=>{const _0x199aa0={};(_0x476a38||[])[_0x3b6a('0x58')](_0x1e7fa2=>_0x199aa0[_0x1e7fa2]=!![]);const _0x24f3fe=_0x398c40=>_0x3b6a('0x120')+_0x398c40[_0x3b6a('0xeb')]()['toLowerCase']();(_0x17f14f||'')[_0x3b6a('0x78')](';')['map'](_0x21f9a0=>_0x21f9a0['trim']())[_0x3b6a('0x84')](Boolean)[_0x3b6a('0x58')](_0x479d08=>_0x199aa0[_0x24f3fe(_0x479d08)]=!![]);const _0xeb8874=_0x211c41[_0x3b6a('0xc8')]||0x1,_0x42846c={'title':(_0x33af85[_0x3b6a('0xed')]?_0x33af85[_0x3b6a('0xed')]+':\x20':'')+_0x3b6a('0xf9')+Parser[_0x3b6a('0xae')](_0xeb8874)[_0x3b6a('0x5f')]()+'\x20'+(_0xeb8874===0x1?_0x33af85[_0x3b6a('0x54')]:_0x33af85[_0x3b6a('0x3f')]),'count':_0xeb8874,'isResolveItems':!![],'modalOpts':{'isUncappedHeight':!![]},'fnDisplay':_0x135913=>{const _0x18b800=_0x33af85[_0x3b6a('0x34')](_0x135913);if(_0x18b800&&_0x199aa0[_0x18b800]||_0x199aa0[_0x24f3fe(_0x135913)])return _0x135913[_0x3b6a('0x5f')]()+_0x3b6a('0xaf')+UtilActors[_0x3b6a('0x14a')][0x1]+_0x3b6a('0xe1');else return _0x135913['toTitleCase']();}};if(_0x211c41[_0x3b6a('0xa8')])_0x42846c['valueGroups']=_0x211c41[_0x3b6a('0xe7')];else _0x42846c['values']=_0x211c41[_0x3b6a('0xe7')];const _0x14b916=await InputUiUtil[_0x3b6a('0xc1')](_0x42846c);if(!_0x14b916)return!![];return _0x14b916[_0x3b6a('0x58')](_0x2de9e3=>_0x3b530f[_0x3b6a('0xcd')](_0x2de9e3)),![];};if(_0x3204e4[_0x3b6a('0x4f')]){const _0x1d9741=await _0x342ab2(_0x3204e4[_0x3b6a('0x4f')]);if(_0x1d9741)return!![];delete _0x3204e4[_0x3b6a('0x4f')];}if(_0x33af85['anyOptions']){const _0xb8087f=Object[_0x3b6a('0x56')](_0x33af85['anyOptions']);for(const _0x5c5f59 of _0xb8087f){if(!_0x3204e4[_0x5c5f59])continue;const _0x44ea09=_0x33af85[_0x3b6a('0xde')][_0x5c5f59],_0x1babd1=await _0x342ab2(_0x5198c2(_0x3204e4[_0x5c5f59],_0x44ea09));if(_0x1babd1)return!![];delete _0x3204e4[_0x5c5f59];}}Object[_0x3b6a('0x56')](_0x3204e4)['filter'](_0x5b5057=>_0x3204e4[_0x5b5057])[_0x3b6a('0x58')](_0x64b0d7=>_0x3b530f[_0x3b6a('0xcd')](_0x64b0d7));const _0x38e7d8=new Set(),_0x480211=[],_0x3e35e1=_0x38bdb9=>{const _0x3f6af3=_0x38bdb9[_0x3b6a('0xeb')]()[_0x3b6a('0x23')]();if(!_0x480211[_0x3b6a('0x7e')](_0x132f5d=>_0x132f5d[_0x3b6a('0xeb')]()['toLowerCase']()===_0x3f6af3))_0x480211[_0x3b6a('0x137')](_0x38bdb9);};_0x3b530f[_0x3b6a('0x58')](_0x36b1cb=>{const _0x5e0dde=_0x33af85[_0x3b6a('0x34')](_0x36b1cb);if(_0x5e0dde)_0x38e7d8['add'](_0x5e0dde);else _0x3e35e1(_0x36b1cb[_0x3b6a('0x5f')]());});const _0x27aaa6=(_0x55e74b[_0x3b6a('0x13d')]=_0x55e74b[_0x3b6a('0x13d')]||{})[_0x33af85[_0x3b6a('0xdb')]]=_0x55e74b[_0x3b6a('0x13d')][_0x33af85['actorTraitProp']]||{};(_0x476a38||[])[_0x3b6a('0x58')](_0x1aba00=>_0x38e7d8[_0x3b6a('0xcd')](_0x1aba00)),_0x27aaa6[_0x3b6a('0x6e')]=[..._0x38e7d8][_0x3b6a('0x112')](_0x293cb4=>_0x293cb4['toLowerCase']())[_0x3b6a('0x26')](SortUtil[_0x3b6a('0xc')]),(_0x17f14f||'')[_0x3b6a('0x78')](';')['map'](_0xc65468=>_0xc65468[_0x3b6a('0xeb')]())[_0x3b6a('0x84')](Boolean)[_0x3b6a('0x58')](_0x5dfcc5=>_0x3e35e1(_0x5dfcc5)),_0x27aaa6['custom']=_0x480211[_0x3b6a('0x76')](';');}static[_0x3b6a('0x57')](_0x82bdcb){const _0x4537d0=[],_0x56d0ef=_0x82bdcb['replace'](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x4a02e5)=>{const _0x368700=_0x4a02e5[0x1]?_0x4a02e5[0x1]:_0x4a02e5[0x3]?_0x4a02e5[0x2]+_0x3b6a('0x7d')+_0x4a02e5[0x3]:_0x4a02e5[0x2],_0x29ef81=_0x4a02e5[0x4];return _0x4537d0['push']([_0x368700,_0x29ef81]),'';});return{'str':_0x56d0ef,'damageTuples':_0x4537d0[_0x3b6a('0x84')](_0x463177=>_0x463177['length'])};}}DataConverter[_0x3b6a('0x6f')]=MiscUtil[_0x3b6a('0x5d')]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x3b6a('0x123')]}),DataConverter[_0x3b6a('0xf5')]=_0x3b6a('0x117'),DataConverter[_0x3b6a('0x114')]='img',DataConverter[_0x3b6a('0x81')]=_0x3b6a('0xe0'),DataConverter[_0x3b6a('0x143')]={},DataConverter[_0x3b6a('0xc3')]={},DataConverter['_COMPENDIUM_CACHES_LOCK']=new VeLock(),DataConverter[_0x3b6a('0x20')]='\x20pg.\x20',DataConverter[_0x3b6a('0x1c')]=new RegExp(DataConverter['_SOURCE_PAGE_PREFIX']+_0x3b6a('0xc4')),DataConverter['_PSI_DURATION_MAP']={'min':_0x3b6a('0xea'),'hr':_0x3b6a('0xcb'),'rnd':'round'},DataConverter[_0x3b6a('0x134')]=new Set(['AT','GS',_0x3b6a('0x40'),'T']),DataConverter[_0x3b6a('0xad')]=new Set(['M','R']),DataConverter[_0x3b6a('0xbe')]=new Set(['LA','MA','HA','S']);export{DataConverter};