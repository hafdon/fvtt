const _0x54eb=['copy','number','import','getCasterProgression','max','isStrictMatching','_actor','unhook','pPreloadSideData','pGetSideData','entries','$getSelEnum','bindSelectAllCheckbox','cbSel','1/2','ExistingFeatureChecker','_hasChoiceInSideData','_pLock','getMetaWrpMultipleChoice','floor','3FGiqsH','startsWith','hideVe','checked','feat','\x20Level\x20','<div\x20class=\x22veapp__list\x20mb-1\x22></div>','items','fnUpdateRowText','_optionsSet','optionsMeta','MODE_MULTICLASS','Option','<hr\x20class=\x22hr-1\x20mt-2\x22>','last','subclasses','ceil','classes','\x20Levels','text','_lastSubMetas','MODE_PRIMARY','Class','onchange','empty','level','sort','classFeatures','proficiency\x20versatility','gainSubclassFeature','Select\x20','toLowerCase','_state','_render_renderSubComp','getMetaWrpMultipleChoice_getSelectedIxs','259706KxqAaj','MODE_ROLL','third','pIsNoChoice','_displayName','<input\x20type=\x22radio\x22\x20class=\x22no-events\x22>','getFilteredFeatures','sourceJsonToAbv','757517nIfXNL','_pPreloadSideData','length','fromClassList','780941aRJJTp','assign','loadeds','Select\x20Class\x20Proficiency\x20Import\x20Mode','click','trim','getPrepareableSpells','Subclass','map','MODE_TAKE_AVERAGE','MODE_DO_NOT_INCREASE','pGetFormData','object','removeClass','Select\x20HP\x20Increase\x20Mode','actor','_isOptions','getTargetLevel','subclassFeature','getFilteredEntries','init','spellcastingAbility','handleSelectClick','isRequiredOption','list-multi-selected','preventDefault','keys','_level','isSubclass','_getLevelGroupedFeatures','subclassShortName','appendTo','<div>','_maxPreviousLevel','withUnpatchedDiceRendering','push','2685757ZPOmcQ','_existingImportFeatures','source','1/3','setFeatures','_lastMeta','MODE_NONE','faces','_doRunFnsOnchange','<input\x20type=\x22checkbox\x22\x20class=\x22no-events\x22>','2544VEvCRN','render','Add\x20multiclass\x20proficiencies\x20(this\x20is\x20my\x20second+\x20class)','setId','_unlock','constructor','_existingFeatureChecker','get','1iDvLgT','addImportFeature','pGetUserInput','153085jnlgrl','Add\x20base\x20class\x20proficiencies\x20and\x20equipment\x20(this\x20is\x20my\x20first\x20class)','full','<span\x20class=\x22col-9-5\x22></span>','isRadio','entity','781742ORjnHM','forEach','Take\x20Average','_isRadio','_pGetSideData','isChooseDataRenderEntries','_getRowText','className','prop','subclassFeatures','ixsChosen','name','mode','addItem','getCasterProgressionMeta','addClass','casterProgression','filter','sourceFilter','half','join','classFeature','type','isExistingFeature','foundryAdditionalData','ascSortLower','optionsSet','Do\x20not\x20add\x20proficiencies\x20or\x20equipment','_fnsOnChange','spellcasting','_getOptionsNameAndCount','DISPLAY_MODES','toDisplay','_getDefaultState','_pGetLoadedsSideDataRaws','page','$ele','Choose\x20','ele','Do\x20not\x20increase\x20HP','_featureArr','chooseData','pGetImportCompModalFormData','error','_isSubclass','_handleReferenceError','289zUlIfP','_list','_pGate','modalTitle','data','levels','_existingSheetFeatures','Roll'];const _0x32f3=function(_0x3acb09,_0x41a732){_0x3acb09=_0x3acb09-0x13d;let _0x54eb5b=_0x54eb[_0x3acb09];return _0x54eb5b;};const _0x428722=_0x32f3;(function(_0x555270,_0x31ef0e){const _0x2e1ce0=_0x32f3;while(!![]){try{const _0xf29c42=parseInt(_0x2e1ce0(0x1e3))+parseInt(_0x2e1ce0(0x168))+-parseInt(_0x2e1ce0(0x165))*parseInt(_0x2e1ce0(0x1e7))+-parseInt(_0x2e1ce0(0x16e))+parseInt(_0x2e1ce0(0x15d))*-parseInt(_0x2e1ce0(0x19c))+-parseInt(_0x2e1ce0(0x1db))*parseInt(_0x2e1ce0(0x1b8))+parseInt(_0x2e1ce0(0x153));if(_0xf29c42===_0x31ef0e)break;else _0x555270['push'](_0x555270['shift']());}catch(_0x383001){_0x555270['push'](_0x555270['shift']());}}}(_0x54eb,0x7ecae));import{Charactermancer_Util}from'./UtilCharactermancer.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{DataConverterClass}from'./DataConverterClass.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';class PageFilterClassesFoundry extends PageFilterClassesRaw{static async[_0x428722(0x1e4)](){const _0x2514f6=_0x428722;return DataConverterClass[_0x2514f6(0x1ac)]();}static async[_0x428722(0x172)](_0x12e7c5,_0x5ab189){const _0x174ab8=_0x428722;return DataConverterClass[_0x174ab8(0x1ad)](_0x12e7c5,_0x5ab189);}static[_0x428722(0x19b)](_0x2d2e59){console['error'](...LGT,_0x2d2e59),ui['notifications']['error'](_0x2d2e59);}}class Charactermancer_Class_Util{static['getAllFeatures'](_0x32d0ac){const _0x2edc7c=_0x428722;let _0x32e3af=[];return _0x32d0ac[_0x2edc7c(0x1d3)]['forEach'](_0x15849a=>{const _0x4800e4=_0x2edc7c;_0x32e3af[_0x4800e4(0x152)](_0x15849a),_0x15849a['gainSubclassFeature']&&_0x32d0ac[_0x4800e4(0x1c7)]['forEach'](_0x3602c9=>{const _0xb3ebfe=_0x4800e4;_0x3602c9[_0xb3ebfe(0x177)][_0xb3ebfe(0x17f)](_0x243390=>_0x243390[_0xb3ebfe(0x1d1)]===_0x15849a[_0xb3ebfe(0x1d1)])[_0xb3ebfe(0x16f)](_0x1fa789=>_0x32e3af[_0xb3ebfe(0x152)](_0x1fa789));});}),MiscUtil['copy'](_0x32e3af);}static[_0x428722(0x1e1)](_0x1c9eef,_0x546ff6,_0x53e0a0){const _0x395de8=_0x428722;return _0x1c9eef[_0x395de8(0x17f)](_0x48702a=>{const _0x4133bc=_0x395de8;if(!_0x546ff6[_0x4133bc(0x180)][_0x4133bc(0x18e)](_0x53e0a0,_0x48702a[_0x4133bc(0x155)]))return![];return _0x48702a['loadeds']=_0x48702a['loadeds'][_0x4133bc(0x17f)](_0x2d9f3e=>_0x546ff6[_0x4133bc(0x180)]['toDisplay'](_0x53e0a0,_0x2d9f3e[_0x4133bc(0x16d)]['source'])),_0x48702a[_0x4133bc(0x1e9)][_0x4133bc(0x1e5)];});}static['getImportableFeatures'](_0x11a612){const _0x47c72c=_0x428722;return _0x11a612[_0x47c72c(0x17f)](_0x2ac0a4=>{const _0x425681=_0x47c72c;if(_0x2ac0a4[_0x425681(0x1d5)])return![];const _0x12e875=_0x2ac0a4[_0x425681(0x179)][_0x425681(0x1d7)]();switch(_0x12e875){case _0x425681(0x1d4):return![];default:return!![];}});}static['doApplyFilterToFeatureEntries'](_0x4b328b,_0x3de11c,_0x497c5b){const _0x1ac802=_0x428722;return _0x4b328b[_0x1ac802(0x16f)](_0x1656aa=>{_0x1656aa['loadeds']['forEach'](_0x26c1ae=>{const _0x3a4651=_0x32f3;switch(_0x26c1ae[_0x3a4651(0x184)]){case _0x3a4651(0x183):case'subclassFeature':{if(_0x26c1ae['entity'][_0x3a4651(0x1ae)])_0x26c1ae['entity']['entries']=this[_0x3a4651(0x142)](_0x26c1ae[_0x3a4651(0x16d)][_0x3a4651(0x1ae)],_0x3de11c,_0x497c5b);break;}}});}),_0x4b328b;}static['getFilteredEntries'](_0x10b6a6,_0x2e7cbf,_0xb865c9){const _0x4b7817=_0x226611=>{const _0x54817c=_0x32f3;if(!_0x226611[_0x54817c(0x155)])return!![];return _0x2e7cbf['sourceFilter'][_0x54817c(0x18e)](_0xb865c9,_0x226611[_0x54817c(0x155)]);},_0x41d6c0=_0x1ca55e=>{const _0x5b5a55=_0x32f3;if(!_0x1ca55e)return;if(typeof _0x1ca55e===_0x5b5a55(0x1f3))return _0x1ca55e instanceof Array?(_0x1ca55e=_0x1ca55e['filter'](_0x2e475f=>_0x4b7817(_0x2e475f)),_0x1ca55e['map'](_0x4a2239=>_0x41d6c0(_0x4a2239))):(Object[_0x5b5a55(0x149)](_0x1ca55e)[_0x5b5a55(0x16f)](_0x4f220e=>{const _0x21173d=_0x5b5a55;if(_0x1ca55e[_0x4f220e]instanceof Array){_0x1ca55e[_0x4f220e]=_0x41d6c0(_0x1ca55e[_0x4f220e]);if(!_0x1ca55e[_0x4f220e][_0x21173d(0x1e5)])delete _0x1ca55e[_0x4f220e];}else _0x1ca55e[_0x4f220e]=_0x41d6c0(_0x1ca55e[_0x4f220e]);}),_0x1ca55e);else return _0x1ca55e;};return _0x10b6a6=MiscUtil['copy'](_0x10b6a6),_0x41d6c0(_0x10b6a6);}static['getFeaturesGroupedByOptionsSet'](_0x3e5b86){const _0x5dbea0=_0x428722;return _0x3e5b86[_0x5dbea0(0x1ef)](_0x355e2c=>{const _0x2f7d4f=_0x5dbea0,_0x38bbcd=[];let _0x21503a=[],_0x320143=null;_0x355e2c[_0x2f7d4f(0x1e9)]['forEach'](_0x54c627=>{const _0xf97805=_0x2f7d4f,_0x2e4c88=MiscUtil['get'](_0x54c627,_0xf97805(0x1c2),_0xf97805(0x160))||null;if(_0x320143!==_0x2e4c88){if(_0x21503a[_0xf97805(0x1e5)])_0x38bbcd[_0xf97805(0x152)](_0x21503a);_0x21503a=[_0x54c627],_0x320143=_0x2e4c88;}else _0x21503a['push'](_0x54c627);});if(_0x21503a[_0x2f7d4f(0x1e5)])_0x38bbcd[_0x2f7d4f(0x152)](_0x21503a);return{'topLevelFeature':_0x355e2c,'optionsSets':_0x38bbcd};});}static[_0x428722(0x17c)]({casterProgression:_0x5e903f,curLevel:_0x490133,targetLevel:_0xb8ee95,isBreakpointsOnly:isBreakpointsOnly=![]}){const _0xec366e=_0x428722;if(_0x5e903f==null||_0x490133==null||_0xb8ee95==null)return null;const _0x296ca1=UtilActors['CASTER_TYPE_TO_PROGRESSION'][_0x5e903f];if(!_0x296ca1)return null;const _0x2fa8e9=[];let _0x35d0c8=0x0;_0x296ca1[_0xec366e(0x16f)](_0x308a0a=>{const _0x8037a5=_0xec366e;let _0x2240e6=![];for(let _0x144b58=0x0;_0x144b58<_0x308a0a[_0x8037a5(0x1e5)];++_0x144b58){const _0x5d7879=_0x144b58+0x1;if(_0x308a0a[_0x144b58]&&_0x5d7879>_0x35d0c8){_0x2fa8e9['push'](_0x5d7879),_0x35d0c8=_0x5d7879,_0x2240e6=!![];break;}}if(!_0x2240e6){if(isBreakpointsOnly)_0x2fa8e9[_0x8037a5(0x152)](null);else _0x2fa8e9[_0x8037a5(0x152)](_0x2fa8e9['length']?_0x2fa8e9[_0x8037a5(0x1c6)]():null);}});const _0x154886=_0x2fa8e9['slice'](_0x490133,_0xb8ee95)[_0xec366e(0x17f)](Boolean);if(!_0x154886['length'])return null;const _0x1cc81e=Math['min'](..._0x154886)-0x1,_0x5dc1ed=Math[_0xec366e(0x1a8)](..._0x154886),_0x4006f8=Math[_0xec366e(0x1a8)](0x0,_0xb8ee95-_0x490133),_0x58d9dc=_0x5dc1ed-_0x1cc81e;return{'spellLevelLow':_0x1cc81e,'spellLevelHigh':_0x5dc1ed,'deltaLevels':_0x4006f8,'deltaSpellLevels':_0x58d9dc};}static[_0x428722(0x1ed)](_0x5daa0d,_0x5605e3,_0x532a41,_0x85f997){const _0x3ad291=_0x428722;return _0x5daa0d[_0x3ad291(0x17f)](_0xce4fed=>_0xce4fed[_0x3ad291(0x1d1)]>0x0&&_0xce4fed[_0x3ad291(0x1d1)]>_0x532a41&&_0xce4fed[_0x3ad291(0x1d1)]<=_0x85f997&&_0xce4fed[_0x3ad291(0x1c9)]&&_0xce4fed[_0x3ad291(0x1c9)]['fromClassList']&&_0xce4fed['classes'][_0x3ad291(0x1e6)]['some'](_0x336657=>(_0x336657[_0x3ad291(0x179)]||'')[_0x3ad291(0x1d7)]()===_0x5605e3[_0x3ad291(0x179)]['toLowerCase']()&&(_0x336657[_0x3ad291(0x155)]||SRC_PHB)[_0x3ad291(0x1d7)]()===_0x5605e3['source'][_0x3ad291(0x1d7)]()));}static[_0x428722(0x1a7)](_0x3298a2,_0x55ef4,{targetLevel:_0x170bf3,otherExistingClassItems:_0x4c02ab}){const _0x54c4fd=_0x428722;let _0x9cb8d0,_0x2dbad2,_0xb2a1cf=0x0,_0x5ac758=0x0,_0x48869d=_0x170bf3;_0x4c02ab&&_0x4c02ab[_0x54c4fd(0x1e5)]&&_0x4c02ab['filter'](_0x46335b=>_0x46335b[_0x54c4fd(0x1a0)]&&_0x46335b[_0x54c4fd(0x1a0)][_0x54c4fd(0x18b)])[_0x54c4fd(0x16f)](_0x5afa47=>{const _0x167e25=_0x54c4fd;_0x5ac758++;const _0x5c3177=MiscUtil['get'](_0x5afa47,_0x167e25(0x1a0),_0x167e25(0x1a1))||0x0;switch(_0x5afa47[_0x167e25(0x1a0)][_0x167e25(0x18b)]){case _0x167e25(0x16a):_0xb2a1cf+=_0x5c3177;break;case _0x167e25(0x181):_0xb2a1cf+=Math[_0x167e25(0x1b7)](_0x5c3177/0x2);break;case _0x167e25(0x1dd):_0xb2a1cf+=Math['floor'](_0x5c3177/0x3);break;case'pact':Math['max'](_0x48869d,_0x5c3177);break;}});const _0x3b46ab=_0x5c41a9=>{const _0x5402ee=_0x54c4fd;if(_0x3878ae===_0x5c41a9&&_0x32c581===_0x5c41a9)return _0x9cb8d0=_0x5c41a9,!![];else{if(_0x3878ae===_0x5c41a9)return _0x9cb8d0=_0x5c41a9,_0x2dbad2=_0x3298a2[_0x5402ee(0x144)],!![];else{if(_0x32c581===_0x5c41a9)return _0x9cb8d0=_0x5c41a9,_0x2dbad2=_0x55ef4[_0x5402ee(0x144)],!![];}}return![];},_0x3878ae=_0x3298a2[_0x54c4fd(0x17e)],_0x32c581=_0x55ef4?_0x55ef4[_0x54c4fd(0x17e)]:null;if(_0x3878ae&&_0x32c581)_0x3b46ab('full')||_0x3b46ab('1/2')||_0x3b46ab(_0x54c4fd(0x156));else{if(_0x3878ae&&!_0x32c581)_0x9cb8d0=_0x3878ae,_0x2dbad2=_0x3298a2[_0x54c4fd(0x144)];else!_0x3878ae&&_0x32c581&&(_0x9cb8d0=_0x32c581,_0x2dbad2=_0x55ef4['spellcastingAbility']);}if(!_0x2dbad2)_0x2dbad2=(_0x55ef4?_0x55ef4['spellcastingAbility']:null)||_0x3298a2[_0x54c4fd(0x144)];if(_0x9cb8d0){const _0x3df7ed=_0x5ac758?Math[_0x54c4fd(0x1b7)]:Math[_0x54c4fd(0x1c8)];switch(_0x9cb8d0){case _0x54c4fd(0x16a):_0xb2a1cf+=_0x170bf3;break;case _0x54c4fd(0x1b2):_0xb2a1cf+=_0x3df7ed(_0x170bf3/0x2);break;case'1/3':_0xb2a1cf+=_0x3df7ed(_0x170bf3/0x3);break;}}return{'spellProgression':_0x9cb8d0,'spellAbility':_0x2dbad2,'totalSpellcastingLevels':_0xb2a1cf,'maxPactCasterLevel':_0x48869d};}}Charactermancer_Class_Util[_0x428722(0x1b3)]=class{constructor(_0x457ebe){const _0x20e516=_0x428722;this[_0x20e516(0x1aa)]=_0x457ebe,this[_0x20e516(0x1a2)]={},this[_0x20e516(0x154)]={},(_0x457ebe[_0x20e516(0x1bf)]||[])[_0x20e516(0x17f)](_0x3cb814=>_0x3cb814[_0x20e516(0x184)]===_0x20e516(0x1bc))['forEach'](_0x2410e4=>{const _0x5b18a2=_0x20e516;this['_existingSheetFeatures'][_0x2410e4[_0x5b18a2(0x179)][_0x5b18a2(0x1ec)]()[_0x5b18a2(0x1d7)]()]=(DataConverter['getItemSource'](_0x2410e4)||'')[_0x5b18a2(0x1ec)]()['toLowerCase']();});}[_0x428722(0x185)](_0x2e3e24,_0xfb5a51,_0xc7140c,_0x47ccba){const _0x2d01c0=_0x428722;if(MiscUtil[_0x2d01c0(0x164)](this[_0x2d01c0(0x154)],_0xfb5a51,_0xc7140c,_0x47ccba))return!![];const _0xcea212=_0x2e3e24[_0x2d01c0(0x1ec)]()[_0x2d01c0(0x1d7)]();if(this[_0x2d01c0(0x1a2)][_0xcea212]==null)return![];if(!Config[_0x2d01c0(0x164)](_0x2d01c0(0x1a6),_0x2d01c0(0x1a9)))return!![];const _0x374e86=Parser[_0x2d01c0(0x1e2)](_0xc7140c)[_0x2d01c0(0x1ec)]()[_0x2d01c0(0x1d7)]();return this[_0x2d01c0(0x1a2)][_0xcea212]===_0x374e86;}[_0x428722(0x166)](_0x197926,_0x3eb67a,_0x42806a){const _0x7c582f=_0x428722;MiscUtil['set'](this[_0x7c582f(0x154)],_0x197926,_0x3eb67a,_0x42806a,!![]);}};class Charactermancer_Class_LevelSelect extends BaseComponent{static async[_0x428722(0x167)](_0x4d3891){const _0x1adba7=_0x428722;return Charactermancer_Util[_0x1adba7(0x198)]({'comp':new this(_0x4d3891),'isUnskippable':!![],'fnGetInvalidMeta':_0x3dbe3e=>{const _0xf45ecf=_0x1adba7;if(_0x3dbe3e[_0xf45ecf(0x1a0)][_0xf45ecf(0x1e5)]===0x0)return{'type':_0xf45ecf(0x199),'message':'Please\x20select\x20some\x20levels\x20first!'};}});}constructor(_0x4195b8){const _0x4ebe28=_0x428722;super(),this[_0x4ebe28(0x19a)]=!!_0x4195b8[_0x4ebe28(0x14b)],this[_0x4ebe28(0x171)]=!!_0x4195b8[_0x4ebe28(0x16c)],this[_0x4ebe28(0x196)]=this[_0x4ebe28(0x162)][_0x4ebe28(0x14c)](_0x4195b8['features'],this[_0x4ebe28(0x19a)]),this[_0x4ebe28(0x150)]=_0x4195b8['maxPreviousLevel']||0x0,this[_0x4ebe28(0x19d)]=null,this[_0x4ebe28(0x18a)]=[];}get[_0x428722(0x19f)](){const _0x40103c=_0x428722;return _0x40103c(0x1d6)+(this[_0x40103c(0x19a)]?_0x40103c(0x1ee):_0x40103c(0x1ce))+_0x40103c(0x1ca);}[_0x428722(0x1cf)](_0x563594){const _0x23bdf2=_0x428722;this[_0x23bdf2(0x18a)][_0x23bdf2(0x152)](_0x563594);}[_0x428722(0x15b)](){this['_fnsOnChange']['forEach'](_0x5a7fd1=>_0x5a7fd1());}[_0x428722(0x157)](_0x2c77b1){const _0x17717a=_0x428722;this['_featureArr']=this['constructor'][_0x17717a(0x14c)](_0x2c77b1,this[_0x17717a(0x19a)]),this[_0x17717a(0x19d)]['items']['forEach'](_0x2d3695=>_0x2d3695['data'][_0x17717a(0x1c0)]());}[_0x428722(0x15e)](_0x128aca){const _0x207c78=_0x428722,_0x1c32dc=this[_0x207c78(0x171)]?null:$('<input\x20type=\x22checkbox\x22\x20name=\x22cb-select-all\x22>'),_0x4ddaa9=$(_0x207c78(0x1be));this[_0x207c78(0x19d)]=new List({'$wrpList':_0x4ddaa9,'fnSort':null,'isUseJquery':!![]});for(let _0x515f78=0x0;_0x515f78<this['_featureArr']['length'];++_0x515f78){const _0x5d642a=this[_0x207c78(0x171)]?$(_0x207c78(0x1e0))[_0x207c78(0x176)](_0x207c78(0x1bb),_0x515f78===0x0):$(_0x207c78(0x15c)),_0x42b5ce=$(_0x207c78(0x16b)),_0x278bd7=()=>_0x42b5ce[_0x207c78(0x1cb)](this['constructor'][_0x207c78(0x174)](this[_0x207c78(0x196)][_0x515f78]));_0x278bd7();const _0x453745=$$`<label class="w-100 flex imp__row ${this['_isRadio']&&_0x515f78===0x0?'list-multi-selected':''} ${_0x515f78<this[_0x207c78(0x150)]?'ve-muted':''}">
				<span class="col-1 flex-vh-center">${_0x5d642a}</span>
				<span class="col-1-5 text-center">${_0x515f78+0x1}</span>
				${_0x42b5ce}
			</label>`[_0x207c78(0x1eb)](_0x1779db=>{const _0x3bfb58=_0x207c78;if(this['_isRadio'])this[_0x3bfb58(0x162)]['_handleSelectClickRadio'](this[_0x3bfb58(0x19d)],_0x162456,_0x1779db),this[_0x3bfb58(0x15b)]();else ListUiUtil[_0x3bfb58(0x145)](this[_0x3bfb58(0x19d)],_0x162456,_0x1779db);}),_0x162456=new ListItem(_0x515f78,_0x453745,'',{},{'cbSel':_0x5d642a[0x0],'fnUpdateRowText':_0x278bd7});this[_0x207c78(0x19d)][_0x207c78(0x17b)](_0x162456);}if(!this[_0x207c78(0x171)])ListUiUtil[_0x207c78(0x1b0)](_0x1c32dc,this[_0x207c78(0x19d)]);this['_list'][_0x207c78(0x143)](),$$`<div class="flex-col min-h-0">
			<div class="flex-v-stretch input-group mb-1 no-shrink">
				<label class="btn btn-5et col-1 px-1 flex-vh-center">${_0x1c32dc}</label>
				<button class="btn-5et col-1-5">Level</button>
				<button class="btn-5et col-9-5">Features</button>
			</div>

			${_0x4ddaa9}
		</div>`[_0x207c78(0x14e)](_0x128aca);}static['_handleSelectClickRadio'](_0x56dc99,_0x37c5db,_0x193658){const _0x49c4d9=_0x428722;_0x193658[_0x49c4d9(0x148)](),_0x193658['stopPropagation'](),_0x56dc99['items'][_0x49c4d9(0x16f)](_0x5afdb5=>{const _0xd26dfd=_0x49c4d9;if(_0x5afdb5===_0x37c5db)_0x5afdb5[_0xd26dfd(0x1a0)]['cbSel']['checked']=!![],_0x5afdb5[_0xd26dfd(0x194)][_0xd26dfd(0x17d)](_0xd26dfd(0x147));else{_0x5afdb5[_0xd26dfd(0x1a0)][_0xd26dfd(0x1b1)]['checked']=![];if(_0x5afdb5['ix']<_0x37c5db['ix'])_0x5afdb5['ele'][_0xd26dfd(0x17d)](_0xd26dfd(0x147));else _0x5afdb5[_0xd26dfd(0x194)][_0xd26dfd(0x1f4)](_0xd26dfd(0x147));}});}[_0x428722(0x1f2)](){const _0x346cf4=_0x428722;let _0x20c4b3=this[_0x346cf4(0x19d)][_0x346cf4(0x1bf)][_0x346cf4(0x17f)](_0x1531d1=>_0x1531d1[_0x346cf4(0x1a0)][_0x346cf4(0x1b1)][_0x346cf4(0x1bb)])[_0x346cf4(0x1ef)](_0x45fbe8=>_0x45fbe8['ix']);if(this[_0x346cf4(0x171)]&&_0x20c4b3[_0x346cf4(0x1e5)])_0x20c4b3=[...new Array(_0x20c4b3[0x0]+0x1)][_0x346cf4(0x1ef)]((_0x45ebe8,_0x219e0c)=>_0x219e0c);return{'isFormComplete':!!_0x20c4b3[_0x346cf4(0x1e5)],'data':_0x20c4b3};}[_0x428722(0x140)](){const _0x57eefe=_0x428722,_0x2c9d64=this[_0x57eefe(0x19d)][_0x57eefe(0x1bf)][_0x57eefe(0x17f)](_0x3c6b5c=>_0x3c6b5c[_0x57eefe(0x1a0)][_0x57eefe(0x1b1)][_0x57eefe(0x1bb)])[_0x57eefe(0x1ef)](_0x10d7c5=>_0x10d7c5['ix']);return Math[_0x57eefe(0x1a8)](..._0x2c9d64)+0x1;}static[_0x428722(0x174)](_0x35c904){const _0xae06d4=_0x428722;return _0x35c904['map'](_0x142307=>_0x142307[_0xae06d4(0x179)])[_0xae06d4(0x182)](',\x20')||'—';}static[_0x428722(0x14c)](_0x1ddb3a,_0x107098){const _0x419779=_0x428722;_0x1ddb3a=MiscUtil['copy'](_0x1ddb3a);if(!_0x107098)_0x1ddb3a=_0x1ddb3a[_0x419779(0x17f)](_0x341f9a=>_0x341f9a[_0x419779(0x183)]);const _0xac77b3=[];let _0x2c90bd=0x1,_0x28736e=[];const _0xaeddd1=()=>{const _0xed6eb3=_0x419779;_0xac77b3[_0xed6eb3(0x152)](_0x28736e),_0x28736e=[];};_0x1ddb3a[_0x419779(0x16f)](_0x4af21f=>{const _0x120c4f=_0x419779;while(_0x2c90bd<_0x4af21f['level']){_0xaeddd1(),_0x2c90bd++;}_0x28736e[_0x120c4f(0x152)](_0x4af21f),_0x2c90bd=_0x4af21f['level'];}),_0xaeddd1();while(_0x2c90bd<0x14){_0xaeddd1(),_0x2c90bd++;}return _0xac77b3;}}class Charactermancer_Class_HpIncreaseModeSelect extends BaseComponent{static async[_0x428722(0x167)](){return Charactermancer_Util['pGetImportCompModalFormData']({'comp':new this()});}static['isHpAvailable'](_0x2f4031){const _0xd14868=_0x428722;return _0x2f4031['hd']&&_0x2f4031['hd'][_0xd14868(0x1a5)]&&!isNaN(_0x2f4031['hd'][_0xd14868(0x1a5)])&&_0x2f4031['hd'][_0xd14868(0x15a)]&&!isNaN(_0x2f4031['hd']['faces']);}[_0x428722(0x1f2)](){const _0x2379cb=_0x428722;return{'isFormComplete':!![],'data':this[_0x2379cb(0x1d8)][_0x2379cb(0x17a)]};}get[_0x428722(0x19f)](){const _0x4f90b6=_0x428722;return _0x4f90b6(0x13d);}[_0x428722(0x15e)](_0x267c0c){const _0x461f87=_0x428722,_0x194c69=ComponentUiUtil[_0x461f87(0x1af)](this,_0x461f87(0x17a),{'values':[Charactermancer_Class_HpIncreaseModeSelect[_0x461f87(0x1f0)],Charactermancer_Class_HpIncreaseModeSelect['MODE_ROLL'],Charactermancer_Class_HpIncreaseModeSelect[_0x461f87(0x1f1)]],'fnDisplay':_0x5eb89f=>Charactermancer_Class_HpIncreaseModeSelect['DISPLAY_MODES'][_0x5eb89f]});$$`<div class="flex-col min-h-0">
			${_0x194c69}
		</div>`[_0x461f87(0x14e)](_0x267c0c);}[_0x428722(0x18f)](){const _0x59af12=_0x428722;return{'mode':Charactermancer_Class_HpIncreaseModeSelect[_0x59af12(0x1f0)]};}}Charactermancer_Class_HpIncreaseModeSelect['MODE_TAKE_AVERAGE']=0x0,Charactermancer_Class_HpIncreaseModeSelect['MODE_ROLL']=0x1,Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE']=0x2,Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x18d)]={[Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x1f0)]]:_0x428722(0x170),[Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x1dc)]]:_0x428722(0x1a3),[Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE']]:_0x428722(0x195)};class Charactermancer_Class_ProficiencyImportModeSelect extends BaseComponent{static async['pGetUserInput'](){const _0x3edd9d=_0x428722;return Charactermancer_Util[_0x3edd9d(0x198)]({'comp':new this(),'isUnskippable':!![]});}[_0x428722(0x1f2)](){const _0x416a81=_0x428722;return{'isFormComplete':!![],'data':this['_state'][_0x416a81(0x17a)]};}get['modalTitle'](){const _0x1b28f0=_0x428722;return _0x1b28f0(0x1ea);}['render'](_0x53149e){const _0x323633=_0x428722,_0x3c82c9=ComponentUiUtil['$getSelEnum'](this,_0x323633(0x17a),{'values':[Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'],Charactermancer_Class_ProficiencyImportModeSelect[_0x323633(0x1cd)],Charactermancer_Class_ProficiencyImportModeSelect[_0x323633(0x159)]],'fnDisplay':_0xc6b3a7=>Charactermancer_Class_ProficiencyImportModeSelect[_0x323633(0x18d)][_0xc6b3a7]});$$`<div class="flex-col min-h-0">
			${_0x3c82c9}
		</div>`[_0x323633(0x14e)](_0x53149e);}['_getDefaultState'](){const _0x4d51c6=_0x428722;return{'mode':Charactermancer_Class_ProficiencyImportModeSelect[_0x4d51c6(0x1c3)]};}}Charactermancer_Class_ProficiencyImportModeSelect[_0x428722(0x1c3)]=0x0,Charactermancer_Class_ProficiencyImportModeSelect[_0x428722(0x1cd)]=0x1,Charactermancer_Class_ProficiencyImportModeSelect[_0x428722(0x159)]=0x2,Charactermancer_Class_ProficiencyImportModeSelect['DISPLAY_MODES']={[Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x1f0)]]:_0x428722(0x15f),[Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x1dc)]]:_0x428722(0x169),[Charactermancer_Class_HpIncreaseModeSelect[_0x428722(0x1f1)]]:_0x428722(0x189)};class Charactermancer_Class_FeatureOptionsSelect extends BaseComponent{static async[_0x428722(0x167)](_0x166f5e){const _0x1f9e58=_0x428722,_0x281b39=new this(_0x166f5e);if(await _0x281b39[_0x1f9e58(0x1de)]())return _0x281b39[_0x1f9e58(0x1f2)]();return Charactermancer_Util[_0x1f9e58(0x198)]({'comp':_0x281b39});}constructor(_0x22eee0){const _0x4d8061=_0x428722;super(),this['_optionsSet']=_0x22eee0[_0x4d8061(0x188)],this[_0x4d8061(0x1aa)]=_0x22eee0[_0x4d8061(0x13e)],this[_0x4d8061(0x14a)]=_0x22eee0[_0x4d8061(0x1d1)],this[_0x4d8061(0x163)]=_0x22eee0['existingFeatureChecker'],this[_0x4d8061(0x13f)]()&&this[_0x4d8061(0x1c1)][_0x4d8061(0x1d2)]((_0x3b6c3a,_0x370ea0)=>SortUtil[_0x4d8061(0x187)](_0x3b6c3a['entity'][_0x4d8061(0x179)],_0x370ea0[_0x4d8061(0x16d)][_0x4d8061(0x179)])||SortUtil[_0x4d8061(0x187)](Parser[_0x4d8061(0x1e2)](_0x3b6c3a['entity'][_0x4d8061(0x155)]),Parser[_0x4d8061(0x1e2)](_0x370ea0[_0x4d8061(0x16d)]['source']))),this[_0x4d8061(0x158)]=null,this[_0x4d8061(0x1cc)]=[];}[_0x428722(0x13f)](){const _0xf70dbb=_0x428722;return!!(this[_0xf70dbb(0x1c1)][0x0]&&this[_0xf70dbb(0x1c1)][0x0]['optionsMeta']);}async[_0x428722(0x1b4)](_0x1b5e5b){const _0x595b1b=_0x428722;_0x1b5e5b=_0x1b5e5b||this['_optionsSet'];for(const _0x2f1ce9 of _0x1b5e5b){const {entity:_0x4050c3,type:_0x275424}=_0x2f1ce9;if(_0x275424===_0x595b1b(0x183)||_0x275424==='subclassFeature'){const _0x281beb=await DataConverterClass[_0x595b1b(0x1ad)](_0x4050c3,_0x275424);if(_0x281beb&&_0x281beb[_0x595b1b(0x197)])return!![];}}return![];}async[_0x428722(0x190)](_0x105309){const _0x4a30af=_0x428722;_0x105309=_0x105309||this[_0x4a30af(0x1c1)];const _0x350c64=[];for(const _0x364523 of _0x105309){const {entity:_0x44c4ec,type:_0x130d01}=_0x364523;if(_0x130d01===_0x4a30af(0x183)||_0x130d01===_0x4a30af(0x141)){const _0x1515c7=await DataConverterClass[_0x4a30af(0x1ad)](_0x44c4ec,_0x130d01);_0x350c64[_0x4a30af(0x152)](_0x1515c7);}}return _0x350c64;}async[_0x428722(0x1de)](){const _0x53df26=_0x428722;if(this[_0x53df26(0x13f)]())return![];if(await this[_0x53df26(0x1b4)]())return![];return!![];}async[_0x428722(0x1f2)](){const _0x303ea6=_0x428722;if(await this[_0x303ea6(0x1de)]()){const _0xcc96cb=await this[_0x303ea6(0x190)](),_0xf0a4fc=MiscUtil[_0x303ea6(0x1a4)](this[_0x303ea6(0x1c1)]);return _0xf0a4fc[_0x303ea6(0x16f)]((_0xf9062f,_0x56b1ef)=>{const _0x369b59=_0x303ea6,_0xd6cc1c=_0xcc96cb[_0x56b1ef];if(!_0xd6cc1c||!_0xd6cc1c[_0x369b59(0x1a0)])return;const {entity:_0x3b9c6e}=_0xf9062f;_0x3b9c6e[_0x369b59(0x186)]=MiscUtil[_0x369b59(0x1a4)](_0xd6cc1c[_0x369b59(0x1a0)]);}),{'isFormComplete':!![],'data':_0xf0a4fc};}await this[_0x303ea6(0x19e)](_0x303ea6(0x178));let _0x2a64c5;if(this['_isOptions']()){const _0x54e120=ComponentUiUtil['getMetaWrpMultipleChoice_getSelectedIxs'](this,_0x303ea6(0x178));_0x2a64c5=_0x54e120[_0x303ea6(0x1ef)](_0x2c4261=>this[_0x303ea6(0x1c1)][_0x2c4261]);}else _0x2a64c5=this['_optionsSet'];const _0x117b59=await this[_0x303ea6(0x190)](_0x2a64c5),_0x48a6af=MiscUtil[_0x303ea6(0x1a4)](_0x2a64c5);return _0x48a6af[_0x303ea6(0x16f)]((_0x346b92,_0x2e36db)=>{const _0x3dc037=_0x303ea6,_0x2f8471=_0x117b59[_0x2e36db];if(!_0x2f8471)return;const {entity:_0x18fa4f}=_0x346b92;if(_0x2f8471['data'])_0x18fa4f[_0x3dc037(0x186)]=MiscUtil['copy'](_0x2f8471[_0x3dc037(0x1a0)]);if(_0x2f8471[_0x3dc037(0x197)]){const _0x3819cc='subComp_'+_0x2e36db,_0x5071c6=ComponentUiUtil[_0x3dc037(0x1da)](this,_0x3819cc),_0x438e68=_0x5071c6['map'](_0x51e7b9=>_0x2f8471[_0x3dc037(0x197)][_0x51e7b9]);if(_0x438e68[_0x3dc037(0x1e5)]){const _0x424806=_0x438e68[0x0];Object[_0x3dc037(0x1e8)](_0x18fa4f[_0x3dc037(0x186)],MiscUtil['copy'](_0x424806[_0x3dc037(0x1a0)]));}}}),{'isFormComplete':!![],'data':_0x48a6af};}[_0x428722(0x18c)](){const _0x2f7360=_0x428722,{name:_0x14c40e,count:_0x4b4231}=this[_0x2f7360(0x1c1)][0x0]['optionsMeta'],_0x39e36e=this[_0x2f7360(0x1c1)]['map']((_0x51f8ce,_0x98c453)=>({'it':_0x51f8ce,'ix':_0x98c453}))[_0x2f7360(0x17f)](({it:_0x578c8b})=>_0x578c8b[_0x2f7360(0x146)])[_0x2f7360(0x1ef)](({ix:_0x434f92})=>_0x434f92),_0x206a22=_0x4b4231-_0x39e36e[_0x2f7360(0x1e5)];return{'name':_0x14c40e,'count':_0x4b4231,'dispCount':_0x206a22,'required':_0x39e36e};}get[_0x428722(0x19f)](){const _0x51f1bc=_0x428722;if(!this['_isOptions']())return null;const {dispCount:_0x616a4c,name:_0x1d8240}=this[_0x51f1bc(0x18c)]();return _0x51f1bc(0x193)+(_0x616a4c===0x1?'':_0x616a4c+'\x20')+_0x51f1bc(0x1c4)+(_0x616a4c===0x1?'':'s')+':\x20'+_0x1d8240+'\x20(Level\x20'+this[_0x51f1bc(0x14a)]+')';}['render'](_0x2edf5a){const _0x44f2a2=_0x428722,_0x17ff57=$$`<div class="w-100 flex-col mt-2"></div>`[_0x44f2a2(0x1ba)]();if(this[_0x44f2a2(0x13f)]()){const {count:_0x32ef77,required:_0x5463f8}=this['_getOptionsNameAndCount']();this[_0x44f2a2(0x158)]=ComponentUiUtil['getMetaWrpMultipleChoice'](this,_0x44f2a2(0x178),{'values':this[_0x44f2a2(0x1c1)],'required':_0x5463f8,'count':_0x32ef77,'fnDisplay':_0xf3f6b3=>{const _0x19d713=_0x44f2a2,_0xff514e=Renderer['get']()[_0x19d713(0x15e)](_0xf3f6b3['entry']),_0x4255e8=this['_existingFeatureChecker']&&this['_existingFeatureChecker'][_0x19d713(0x185)](_0xf3f6b3['entity'][_0x19d713(0x1df)]||_0xf3f6b3[_0x19d713(0x16d)][_0x19d713(0x179)],_0xf3f6b3[_0x19d713(0x191)],_0xf3f6b3['source'],_0xf3f6b3['hash']);return $$`<div class="w-100 split-v-center">
						<div class="mr-2 flex-v-center">${_0xff514e}${_0x4255e8?'<div\x20title=\x22Existing\x20Feature\x22\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22>(<i\x20class=\x22fas\x20fa-check\x22></i>)</div>':''}</div>
						<div class="${Parser['sourceJsonToColor'](_0xf3f6b3[_0x19d713(0x16d)][_0x19d713(0x155)])} pr-1" title="${Parser['sourceJsonToFull'](_0xf3f6b3['entity']['source'])}">${Parser['sourceJsonToAbv'](_0xf3f6b3['entity'][_0x19d713(0x155)])}</div>
					</div>`;}});}const _0x24e07c=async()=>{const _0x26f4c9=_0x44f2a2;Object[_0x26f4c9(0x149)](this['_state'])['filter'](_0x1e8978=>_0x1e8978[_0x26f4c9(0x1b9)]('subComp_'))[_0x26f4c9(0x16f)](_0x254c0f=>delete this['_state'][_0x254c0f]);let _0x1d29af;if(this[_0x26f4c9(0x13f)]()){const _0x3ba87b=ComponentUiUtil[_0x26f4c9(0x1da)](this,_0x26f4c9(0x178));_0x1d29af=_0x3ba87b[_0x26f4c9(0x1ef)](_0x33396f=>this['_optionsSet'][_0x33396f]);}else _0x1d29af=this['_optionsSet'];if(!_0x1d29af['length']||!await this[_0x26f4c9(0x1b4)](_0x1d29af)){this['_lastSubMetas'][_0x26f4c9(0x16f)](_0x10151d=>_0x10151d[_0x26f4c9(0x1ab)]()),this[_0x26f4c9(0x1cc)]=[],_0x17ff57[_0x26f4c9(0x1d0)]()[_0x26f4c9(0x1ba)]();return;}_0x17ff57['empty']();const _0x360c84=await this[_0x26f4c9(0x190)](_0x1d29af);for(let _0x28fe1e=0x0;_0x28fe1e<_0x360c84[_0x26f4c9(0x1e5)];++_0x28fe1e){const _0x56f3d0=_0x360c84[_0x28fe1e];if(!_0x56f3d0||!_0x56f3d0['chooseData'])continue;const _0x3d4b0f=_0x1d29af[_0x28fe1e],{entity:_0x1afe2d,type:_0x3492d8}=_0x3d4b0f;this[_0x26f4c9(0x1d9)](_0x28fe1e,_0x17ff57,_0x1afe2d,_0x3492d8,_0x56f3d0);}_0x17ff57['showVe']();},_0x6ba4cb=async()=>{const _0x500382=_0x44f2a2;try{await this[_0x500382(0x1b5)]('ixsChosen'),await _0x24e07c();}finally{this[_0x500382(0x161)](_0x500382(0x178));}};this['_addHookBase'](_0x44f2a2(0x178),_0x6ba4cb),_0x6ba4cb(),$$`<div class="flex-col min-h-0">
			${this[_0x44f2a2(0x158)]?.[_0x44f2a2(0x192)]}
			${_0x17ff57}
		</div>`['appendTo'](_0x2edf5a);}['_render_renderSubComp'](_0x44c823,_0x238aba,_0x987ca8,_0x3819b7,_0xf4448){const _0x42ced1=_0x428722,_0x55acaa='subComp_'+_0x44c823,_0x5348d0=''+_0x987ca8[_0x42ced1(0x175)]+(_0x987ca8['subclassShortName']?'\x20('+_0x987ca8[_0x42ced1(0x14d)]+')':'')+_0x42ced1(0x1bd)+_0x987ca8[_0x42ced1(0x1d1)]+'—'+_0x987ca8['name'],_0x3b6cdd=_0xf4448[_0x42ced1(0x173)]?Vetools[_0x42ced1(0x151)](()=>(_0x987ca8[_0x42ced1(0x1ae)]||[])[_0x42ced1(0x1ef)](_0x590696=>_0x42ced1(0x14f)+Renderer[_0x42ced1(0x164)]()[_0x42ced1(0x15e)](_0x590696)+'</div>')[_0x42ced1(0x182)]('')+_0x42ced1(0x1c5)):null,_0x344cd3=ComponentUiUtil[_0x42ced1(0x1b6)](this,_0x55acaa,{'count':0x1,'fnDisplay':_0x6fc9c4=>_0x6fc9c4[_0x42ced1(0x179)],'values':_0xf4448[_0x42ced1(0x197)]});this[_0x42ced1(0x1cc)][_0x42ced1(0x152)](_0x344cd3),$$`<div class="flex-col w-100">
			<div class="mb-2">${_0x5348d0}</div>
			${_0x3b6cdd}
			${_0x344cd3[_0x42ced1(0x192)]}
		</div>`[_0x42ced1(0x14e)](_0x238aba);}['_getDefaultState'](){return{'ixsChosen':[]};}}export{PageFilterClassesFoundry,Charactermancer_Class_Util,Charactermancer_Class_LevelSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_FeatureOptionsSelect};