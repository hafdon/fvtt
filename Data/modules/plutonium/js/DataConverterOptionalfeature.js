const _0x2d9a=['/media/icon/skills.svg','permissions','modules/','data','MODULE_NAME','_pGetImagePath','get','requirements','getSrdCompendiumEntity','getSourceWithPagePart','entries','feat','_pGetOptionalFeatureItem_fromSrd','_pGetSideData','source','75458KwGJJg','1CVcSEL','pMutActorUpdate','<p><i>Prerequisite:\x20','50510egkUdq','name','getPrerequisiteText','srd','\x0a\x09\x09\x09','homebrew','Invocation:\x20','28229MxIUFw','42aPKfqc','_pGetOptionalFeatureItem_other','isCancelled','pGetOptionalFeatureAdditionalData','_getSrdAliases','_pIsInSrd','_foundryData','</i></p>','getCleanEntityName','optionalfeature','pGetCompendiumImage','<div>\x0a\x09\x09\x09','_pGetAdditionalData','prerequisite','foundryOptionalfeature','336926IgInPU','612790kJsnnj','find','_getDescriptionValue','render','isImportDescription','setFirstSection','12721dpDFhm','isAddPermission','321342vFlbeb','\x0a\x09\x09</div>','6JdnPiN','getNameWithSourcePart','importOptionalFeature','type'];const _0x4aa0=function(_0x2757a2,_0x106758){_0x2757a2=_0x2757a2-0x133;let _0x2d9a35=_0x2d9a[_0x2757a2];return _0x2d9a35;};const _0xd4e4c7=_0x4aa0;(function(_0x7f214c,_0x53f031){const _0x33823e=_0x4aa0;while(!![]){try{const _0x1622ef=parseInt(_0x33823e(0x157))*parseInt(_0x33823e(0x134))+parseInt(_0x33823e(0x156))+parseInt(_0x33823e(0x14b))*parseInt(_0x33823e(0x138))+parseInt(_0x33823e(0x166))+-parseInt(_0x33823e(0x136))+-parseInt(_0x33823e(0x14c))*parseInt(_0x33823e(0x14f))+-parseInt(_0x33823e(0x167));if(_0x1622ef===_0x53f031)break;else _0x7f214c['push'](_0x7f214c['shift']());}catch(_0x4f97f0){_0x7f214c['push'](_0x7f214c['shift']());}}}(_0x2d9a,0x59bb7));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';class DataConverterOptionalfeature{static async['pGetOptionalFeatureItem'](_0x12e14c,_0x31a094){const _0x4b70ad=_0x4aa0;_0x31a094=_0x31a094||{};let _0x5f006f;return await this[_0x4b70ad(0x15c)](_0x12e14c,_0x31a094)?_0x5f006f=this[_0x4b70ad(0x148)](_0x12e14c,_0x31a094):_0x5f006f=this['_pGetOptionalFeatureItem_other'](_0x12e14c,_0x31a094),_0x5f006f;}static async[_0xd4e4c7(0x15c)](_0x499d87){const _0x5c7797=_0xd4e4c7,_0x54170c=await DataConverter[_0x5c7797(0x144)](_0x5c7797(0x160),_0x499d87,{'fnGetAliases':this[_0x5c7797(0x15b)]});return!!_0x54170c;}static async['_pGetOptionalFeatureItem_fromSrd'](_0x1e8b8a,_0x36c19b){const _0x5f1193=_0xd4e4c7,_0x407613=await DataConverter[_0x5f1193(0x144)]('optionalfeature',_0x1e8b8a,{'fnGetAliases':this[_0x5f1193(0x15b)]}),_0x13c660=this[_0x5f1193(0x169)](_0x1e8b8a),_0x1e9aa1=await this[_0x5f1193(0x163)](_0x1e8b8a),_0x3089e4={'name':UtilApplications[_0x5f1193(0x15f)](DataConverter[_0x5f1193(0x139)](_0x1e8b8a)),'type':_0x407613[_0x5f1193(0x13b)],'data':{..._0x407613[_0x5f1193(0x13f)],'source':DataConverter[_0x5f1193(0x145)](_0x1e8b8a),'description':{'value':_0x13c660,'chat':'','unidentified':''},..._0x1e9aa1},'permission':{'default':0x0},'img':await this[_0x5f1193(0x141)](_0x1e8b8a),'flags':{},'effects':[]};if(_0x36c19b['isAddPermission'])_0x3089e4['permission']={'default':Config[_0x5f1193(0x142)](_0x5f1193(0x13a),_0x5f1193(0x13d))};return _0x3089e4;}static async[_0xd4e4c7(0x158)](_0x3f5e10,_0x3695e7){const _0x2aaa6f=_0xd4e4c7,_0x173e84=this['_getDescriptionValue'](_0x3f5e10),_0x2e2873=_0x3f5e10[_0x2aaa6f(0x15d)]||{},_0x55d950=await this[_0x2aaa6f(0x163)](_0x3f5e10),_0x4a657d={'name':UtilApplications[_0x2aaa6f(0x15f)](DataConverter[_0x2aaa6f(0x139)](_0x3f5e10)),'data':{'source':DataConverter['getSourceWithPagePart'](_0x3f5e10),'description':{'value':_0x173e84,'chat':'','unidentified':''},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':0x0,'units':''},'target':{'value':0x0,'units':'','type':''},'range':{'value':0x0,'long':0x0,'units':null},'uses':{'value':0x0,'max':0x0,'per':''},'ability':'','actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'damage':{'parts':[],'versatile':''},'formula':'','save':{'ability':'','dc':null},'requirements':_0x2e2873[_0x2aaa6f(0x143)]||'','recharge':{'value':0x0,'charged':!![]},..._0x55d950},'permission':{'default':0x0},'type':_0x2aaa6f(0x147),'img':await this[_0x2aaa6f(0x141)](_0x3f5e10),'flags':{},'effects':[]};if(_0x3695e7[_0x2aaa6f(0x135)])_0x4a657d['permission']={'default':Config[_0x2aaa6f(0x142)](_0x2aaa6f(0x13a),_0x2aaa6f(0x13d))};return _0x4a657d;}static['_getDescriptionValue'](_0x2803ff){const _0xd3d9d1=_0xd4e4c7;if(!Config['get'](_0xd3d9d1(0x13a),_0xd3d9d1(0x16b)))return'';const _0x263793=Renderer['utils'][_0xd3d9d1(0x151)](_0x2803ff[_0xd3d9d1(0x164)]);return _0xd3d9d1(0x162)+(_0x263793?_0xd3d9d1(0x14e)+_0x263793+_0xd3d9d1(0x15e):'')+_0xd3d9d1(0x153)+Renderer[_0xd3d9d1(0x142)]()[_0xd3d9d1(0x133)](!![])[_0xd3d9d1(0x16a)]({'entries':_0x2803ff[_0xd3d9d1(0x146)]},0x2)+_0xd3d9d1(0x137);}static async['pMutActorUpdateOptionalFeature'](_0x39105d,_0x56a3aa,_0x25dc86,_0x55240d){const _0x26907d=_0xd4e4c7,_0x10b455=await this[_0x26907d(0x149)](_0x25dc86),_0x526260={'sideData':_0x10b455,'isCancelled':![]};await DataConverter[_0x26907d(0x14d)](_0x39105d,_0x56a3aa,_0x25dc86,_0x526260);if(_0x526260[_0x26907d(0x159)])_0x55240d['isCancelled']=!![];}static async[_0xd4e4c7(0x141)](_0x335f6b){const _0xf5293a=_0xd4e4c7,_0x4f28af=await DataConverter[_0xf5293a(0x161)](_0xf5293a(0x160),_0x335f6b,{'fnGetAliases':this[_0xf5293a(0x15b)]});if(_0x4f28af)return _0x4f28af;return _0xf5293a(0x13e)+SharedConsts[_0xf5293a(0x140)]+_0xf5293a(0x13c);}static async[_0xd4e4c7(0x149)](_0x2691fe){const _0x46020e=_0xd4e4c7;let _0x162d15=(MiscUtil[_0x46020e(0x142)](BrewUtil,_0x46020e(0x154),_0x46020e(0x165))||[])[_0x46020e(0x168)](_0x5f0cee=>_0x5f0cee[_0x46020e(0x150)]===_0x2691fe['name']&&_0x5f0cee['source']===_0x2691fe[_0x46020e(0x14a)]);if(!_0x162d15){const _0x1c415c=await Vetools[_0x46020e(0x15a)]();_0x162d15=_0x1c415c[_0x46020e(0x160)]['find'](_0x532052=>_0x532052[_0x46020e(0x150)]===_0x2691fe[_0x46020e(0x150)]&&_0x532052[_0x46020e(0x14a)]===_0x2691fe[_0x46020e(0x14a)]);}return _0x162d15;}static async['_pGetAdditionalData'](_0x4f8373){const _0x4c38b7=_0xd4e4c7,_0x34dc2a=await this[_0x4c38b7(0x149)](_0x4f8373);if(!_0x34dc2a)return null;return _0x34dc2a[_0x4c38b7(0x13f)];}static[_0xd4e4c7(0x15b)](_0x4bce12){const _0x39f709=_0xd4e4c7;if(!_0x4bce12['name']||!_0x4bce12[_0x39f709(0x152)])return[];const _0x3ef7a1=[];if(_0x4bce12['featureType']==='EI')_0x3ef7a1['push'](_0x39f709(0x155)+_0x4bce12['name']);return _0x3ef7a1;}}export{DataConverterOptionalfeature};