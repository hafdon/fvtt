const _0x1e66=['pGetCreatureFluffIndex','isNoLocalData','pGetCreatureIndex','_pubDate','DATA_URL_OPTIONALFEATURES','pGetClasses','join','url','isUseLocalImages','getInternalImageUrl','rollerClick','Unhandled\x20entity\x20type\x20\x22','source','pGetItems','_meta','bind','sources','data/foundry-objects.json','$getHoverContent_stats','baseSiteUrl','_pGetHomebrewIndices','getBookUrl','last','_CACHED_MONSTER_DO_BIND_COMPACT_CONTENT_HANDLERS','startsWith','pSet','foundryClassFeature','CACHED_REQUESTS','_getAdventureBookUrl','baseBrewUrl','getJsonSources','getCleanDiceString','add','$getHoverContent_miscCode','link','BESTIARY_FLUFF_INDEX','data/changelog.json','data/foundry-conditionsdiseases.json','pGetWithCache','DATA_URL_DEITIES','dice','data/objects.json','spell','$getHoverContent_fluff','See\x20the\x20console\x20(F12\x20or\x20CTRL+SHIFT+J)\x20for\x20details.','data','NO_PAGE','BASE_SITE_URL','replace','monster','min','has','prop','init','copy','pLoadPropIndex','hasToken','indexUrl','sourceJsonToStyle','https://5e.tools/','style=\x22color:\x20#','pGetClassSubclassFeatures','split','pPreloadMeta','brew','SOURCE_JSON_TO_ABV','baseMediaUrls','pLoadBrewBySource','$getHoverContent_statsCode','internal','race','sort','HOMEBREW_INDEX__PROP','pGeBackgroundSideData','loadJSON','_PATCHED_GET_ROLLABLE_ENTRY_DICE','danger','getCreatureUrl','pGetAdventureIndex','getImageUrlFromFluff','STR_SEE_CONSOLE','__prop','filter','sourceJsonToFull','adventures.json','foundrySubclassFeature','getValidColor','warn','data/foundry-backgrounds.json','DATA_URL_RECIPES','pBuildList','plutonium.configUpdate','pGetAllSpells','baseUrl','icon-','data/','data/feats.json','pGetCreatureSideData','pDoMetaMerge','_MAX_Z_INDEX','1693ykyYVu','pAddToHomebrew','1128780UxiwTa','toMessage','RUN_TIME','import','DATA_URL_OBJECTS','info','data/foundry-vehicles.json','pGetClassSubclassSideData','data/backgrounds.json','data/spells/','282659ZaqqPy','pGetObjectSideData','table','modules/','pGet','path','pGetFeatSideData','pGetClient','all','_pGetAdventureBookIndex','data/spells/index.json','HOMEBREW_COLLECTION_INDEX','prompt','adventure','pGetSpellSideData','Failed\x20to\x20load\x20homebrew\x20index!\x20','DATA_URL_BACKGROUNDS','notifications','trim','withCustomDiceRenderingPatch','23mEffwg','getAdventureUrl','img','addToHomebrewSourceLookup','data/recipes.json','data/conditionsdiseases.json','content','toRoll','item','catch','json','withUnpatchedDiceRendering','vehicle','hasTokenUrl','loadRawJSON','get','27YsDUIm','data/psionics.json','img/blank.png','_CACHED_GET_ROLLABLE_ENTRY_DICE','MODULE_NAME','dirToProp','images','type','data/foundry-races.json','tokenUrl','special','_BASE_SITE_URL','isNonstandardSource','entries','229MlXeYQ','getSpellUrl','1970-01-01','DATA_URL_CONDITIONSDISEASES','181aavRJF','ascSortLower','then','flat','BESTIARY_TOKEN_LOOKUP','external','sourceJsonToSource','data/foundry-rewards.json','img/','CACHE_REQUESTS_IN_FLIGHT','HOMEBREW_META_SOURCES','map','pGetIconLookup','forEach','slice','Z_INDEX_MAX_FOUNDRY','data/variantrules.json','published','PG_MANAGE_BREW','1ikOGjD','data/vehicles.json','data/bestiary/index.json','MIN_Z_INDEX','pGetHomebrewSources','pGetItemFluff','class','pGetConditionDiseaseSideData','hover','26263lmCvHp','getTokenUrl','HOMEBREW_INDEX__SOURCE','?t=','warning','homebrewMeta','abbreviation','226464sUpGUN','6571wbIxnm','pGetItemSideData','_STORABLE','fnRender','cacheKey','13011tBKgLp','href','push','getContent','setBaseMediaUrl','options','pGetBookIndex','values','getRollableEntryDice','color','foundrySpell','error','data/bestiary/fluff-index.json','pGetVehicleSideData','doToast','DATA_URL_VEHICLES','DATA_URL_PSIONICS','DATA_URL_FEATS','toLowerCase','pGetPackageIndex','hasSourceJson','pGetSpellIndex','parse','doBindCompactContentHandlers','DATA_URL_REWARDS','name','includes','pDoPreload','length','data/foundry-feats.json','keys'];const _0x10c7=function(_0x434dd4,_0x4e8cf7){_0x434dd4=_0x434dd4-0x91;let _0x1e66b6=_0x1e66[_0x434dd4];return _0x1e66b6;};const _0x219388=_0x10c7;(function(_0x5ac4f6,_0x6de371){const _0x47dc0a=_0x10c7;while(!![]){try{const _0x5e0d00=-parseInt(_0x47dc0a(0x124))*-parseInt(_0x47dc0a(0x14c))+parseInt(_0x47dc0a(0x106))*-parseInt(_0x47dc0a(0x151))+parseInt(_0x47dc0a(0xe8))+-parseInt(_0x47dc0a(0x13b))*parseInt(_0x47dc0a(0xf2))+parseInt(_0x47dc0a(0x128))*-parseInt(_0x47dc0a(0xe6))+parseInt(_0x47dc0a(0x144))*-parseInt(_0x47dc0a(0x116))+-parseInt(_0x47dc0a(0x14b));if(_0x5e0d00===_0x6de371)break;else _0x5ac4f6['push'](_0x5ac4f6['shift']());}catch(_0x4feaca){_0x5ac4f6['push'](_0x5ac4f6['shift']());}}}(_0x1e66,0xc5a9d));import{SharedConsts}from'../shared/SharedConsts.js';import{Consts}from'./Consts.js';import{JqueryExtension}from'./JqueryExtension.js';import{Config}from'./Config.js';import{GameStorage}from'./GameStorage.js';import{LGT}from'./Util.js';class NotAxios{static async[_0x219388(0x115)](_0xcb1263){const _0x5ca23=_0x219388;return{'data':await(await fetch(_0xcb1263))[_0x5ca23(0x110)]()};}}class Vetools{static async[_0x219388(0x16c)](){const _0x1a4fc4=_0x219388;await Promise[_0x1a4fc4(0xfa)]([Vetools[_0x1a4fc4(0xa5)]=await Vetools['pGetCreatureFluffIndex'](),DataUtil[_0x1a4fc4(0xb3)][_0x1a4fc4(0xc1)]()]),Vetools[_0x1a4fc4(0x96)]()[_0x1a4fc4(0x12a)](({source:_0x2d3ee9,prop:_0x2e38a7})=>{const _0x3da81f=_0x1a4fc4;Vetools[_0x3da81f(0xca)]=_0x2e38a7,Vetools[_0x3da81f(0x146)]=_0x2d3ee9,console['log'](...LGT,'Loaded\x20homebrew\x20index.');})[_0x1a4fc4(0x10f)](_0x407a84=>{const _0x1a680c=_0x1a4fc4;Vetools[_0x1a680c(0xca)]={},Vetools['HOMEBREW_INDEX__SOURCE']={},ui['notifications'][_0x1a680c(0x15c)](_0x1a680c(0x101)+VeCt[_0x1a680c(0xd2)]),setTimeout(()=>{throw _0x407a84;});});}static[_0x219388(0x111)](_0x3c4d8b){const _0x19e740=_0x219388;Renderer['getRollableEntryDice']=Vetools[_0x19e740(0x119)];const _0x558904=_0x3c4d8b();return Renderer[_0x19e740(0x159)]=Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE'],_0x558904;}static[_0x219388(0x105)](_0x14bdb7,_0x2c6f58){const _0x5fb66f=_0x219388;Renderer['getRollableEntryDice']=_0x2c6f58;const _0x3e6e97=_0x14bdb7();return Renderer[_0x5fb66f(0x159)]=Vetools[_0x5fb66f(0xcd)],_0x3e6e97;}static[_0x219388(0xa1)](_0xe036c3){const _0x316a14=_0x219388;return _0xe036c3[_0x316a14(0xb2)](/ร/g,'*')[_0x316a14(0xb2)](/รท/g,'/')[_0x316a14(0xb2)](/#\$.*?\$#/g,'0');}static['doMonkeyPatch'](){const _0x1112d3=_0x219388;JqueryExtension[_0x1112d3(0xb7)](),VeCt[_0x1112d3(0xd2)]=_0x1112d3(0xae),StorageUtil[_0x1112d3(0x9b)]=GameStorage['pSetClient'][_0x1112d3(0x91)](GameStorage),StorageUtil[_0x1112d3(0xf6)]=GameStorage[_0x1112d3(0xf9)][_0x1112d3(0x91)](GameStorage),Renderer['get']()['setBaseUrl'](Vetools['BASE_SITE_URL']);if(Config[_0x1112d3(0x115)](_0x1112d3(0xeb),_0x1112d3(0x178)))Renderer[_0x1112d3(0x115)]()[_0x1112d3(0x155)](_0x1112d3(0x108),_0x1112d3(0xf5)+SharedConsts[_0x1112d3(0x11a)]+'/');Hooks['on'](_0x1112d3(0xdd),()=>Renderer[_0x1112d3(0x115)]()['setBaseUrl'](Vetools[_0x1112d3(0xb1)])),Renderer[_0x1112d3(0x143)][_0x1112d3(0x13e)]=Consts[_0x1112d3(0x137)]+0x1,Renderer['hover'][_0x1112d3(0xe5)]=Renderer[_0x1112d3(0x143)][_0x1112d3(0x13e)]+0xa,BrewUtil['homebrew']={},BrewUtil[_0x1112d3(0x149)]={'sources':[]},Vetools[_0x1112d3(0x119)]=Renderer[_0x1112d3(0x159)],Vetools[_0x1112d3(0xcd)]=(_0xc382c6,_0x4ad765,_0x4fab6b,{isAddHandlers:isAddHandlers=!![],additionalData:additionalData=null}={})=>{const _0x2ebb4d=_0x1112d3,_0x4a3318=MiscUtil[_0x2ebb4d(0xb8)](_0xc382c6);typeof _0x4a3318[_0x2ebb4d(0x10d)]!=='string'&&(_0x4a3318[_0x2ebb4d(0x10d)]=Renderer['legacyDiceToString'](_0x4a3318[_0x2ebb4d(0x10d)]));if(_0x4a3318[_0x2ebb4d(0xfe)]){const _0x1f452f=Math[_0x2ebb4d(0xb4)](...Object[_0x2ebb4d(0x16f)](_0x4a3318[_0x2ebb4d(0xfe)][_0x2ebb4d(0x156)])[_0x2ebb4d(0x133)](_0x39d6f1=>Number(_0x39d6f1))['filter'](_0x30e369=>_0x4a3318['prompt'][_0x2ebb4d(0x156)][_0x30e369]));_0x4a3318[_0x2ebb4d(0x10d)]=_0x4a3318[_0x2ebb4d(0xfe)][_0x2ebb4d(0x156)][_0x1f452f];}const _0x24a74e=this[_0x2ebb4d(0xa1)](_0x4a3318[_0x2ebb4d(0x10d)]);return'[[/r\x20'+_0x24a74e+']]'+(_0x24a74e[_0x2ebb4d(0x163)]()['trim']()!==_0x4fab6b['toLowerCase']()[_0x2ebb4d(0x104)]()?'\x20('+_0x4fab6b+')':'');},Renderer[_0x1112d3(0x159)]=Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE'];const _0x194faa={},_0xd79e0f=[_0x1112d3(0x94),_0x1112d3(0xad),_0x1112d3(0xc6),_0x1112d3(0xa3),'$getHoverContent_generic'];_0xd79e0f['forEach'](_0x57e855=>{const _0x16eba2=_0x1112d3;_0x194faa[_0x57e855]=Renderer[_0x16eba2(0x143)][_0x57e855],Renderer['hover'][_0x57e855]=(..._0x5948d5)=>{const _0xa89b43=_0x16eba2;Renderer[_0xa89b43(0x159)]=Vetools[_0xa89b43(0x119)];const _0x47c6d2=_0x194faa[_0x57e855](..._0x5948d5);return Renderer[_0xa89b43(0x159)]=Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE'],_0x47c6d2;};}),Renderer[_0x1112d3(0xaa)][_0x1112d3(0x17a)]=(_0x16bfcf,_0x1e94d7,_0x51b584,_0x452b7e)=>{const _0x251b9e=_0x1112d3,_0x22f5ad=JSON[_0x251b9e(0x167)](_0x51b584);if(_0x22f5ad[_0x251b9e(0x10d)])new Roll(_0x22f5ad[_0x251b9e(0x10d)])[_0x251b9e(0xe9)]();},Renderer[_0x1112d3(0xaa)]['pRollEntry']=(_0x4152e8,_0x3f25a7,_0x5e9a42)=>{const _0x28b30a=_0x1112d3;if(_0x4152e8[_0x28b30a(0x10d)])new Roll(_0x4152e8[_0x28b30a(0x10d)])[_0x28b30a(0xe9)]();},Vetools['_CACHED_MONSTER_DO_BIND_COMPACT_CONTENT_HANDLERS']=Renderer[_0x1112d3(0xb3)][_0x1112d3(0x168)],Renderer['monster']['doBindCompactContentHandlers']=_0x47c988=>{const _0x17b1da=_0x1112d3,_0xba1485={..._0x47c988};return _0xba1485['fnRender']=(..._0x198f36)=>Vetools[_0x17b1da(0x111)](()=>_0x47c988[_0x17b1da(0x14f)](..._0x198f36)),Vetools['_CACHED_MONSTER_DO_BIND_COMPACT_CONTENT_HANDLERS'](_0xba1485);},JqueryUtil[_0x1112d3(0x15f)]=_0x25cc38=>{const _0x44025e=_0x1112d3;typeof _0x25cc38==='string'&&(_0x25cc38={'content':_0x25cc38,'type':_0x44025e(0xed)});_0x25cc38[_0x44025e(0x11d)]=_0x25cc38[_0x44025e(0x11d)]||_0x44025e(0xed);switch(_0x25cc38[_0x44025e(0x11d)]){case _0x44025e(0x148):return ui['notifications'][_0x44025e(0xd9)](_0x25cc38[_0x44025e(0x10c)]);case _0x44025e(0xce):return ui[_0x44025e(0x103)][_0x44025e(0x15c)](_0x25cc38[_0x44025e(0x10c)]);default:return ui[_0x44025e(0x103)][_0x44025e(0xed)](_0x25cc38[_0x44025e(0x10c)]);}},DataUtil[_0x1112d3(0xcc)]=async _0x131ff7=>Vetools[_0x1112d3(0xa8)](_0x131ff7),BrewUtil[_0x1112d3(0x165)]=_0xf92b75=>!!Vetools[_0x1112d3(0x132)][(_0xf92b75||'')[_0x1112d3(0x163)]()],BrewUtil['sourceJsonToAbv']=_0x51e9ad=>(Vetools[_0x1112d3(0x132)][(_0x51e9ad||'')['toLowerCase']()]||{})[_0x1112d3(0x14a)]||_0x51e9ad,BrewUtil[_0x1112d3(0xd5)]=_0x28e628=>(Vetools['HOMEBREW_META_SOURCES'][(_0x28e628||'')[_0x1112d3(0x163)]()]||{})['full']||_0x28e628,BrewUtil[_0x1112d3(0x12e)]=_0x544be2=>Vetools[_0x1112d3(0x132)][(_0x544be2||'')[_0x1112d3(0x163)]()],BrewUtil[_0x1112d3(0xbc)]=_0x3bd0ff=>{const _0xe86aac=_0x1112d3,_0x5d3687=(_0x3bd0ff||'')[_0xe86aac(0x163)]();if(Vetools[_0xe86aac(0x132)][_0x5d3687]&&Vetools[_0xe86aac(0x132)][_0x5d3687]['color']){const _0x34bb5e=BrewUtil[_0xe86aac(0xd8)](Vetools[_0xe86aac(0x132)][_0x5d3687][_0xe86aac(0x15a)]);if(_0x34bb5e[_0xe86aac(0x16d)])return _0xe86aac(0xbe)+_0x34bb5e+';\x22';return'';}else return'';},BrewUtil[_0x1112d3(0xa0)]=()=>Object[_0x1112d3(0x158)](Vetools[_0x1112d3(0x132)]),BrewUtil[_0x1112d3(0x14e)]=[...BrewUtil[_0x1112d3(0x14e)],_0x1112d3(0x15b),_0x1112d3(0x9c),_0x1112d3(0xd7),'foundryOptionalfeature'],BrewUtil['_PAGE']=UrlUtil[_0x1112d3(0x13a)],BrewUtil['_pCleanSaveBrew']=()=>{};}static[_0x219388(0x109)](_0x4cf850){const _0xbb79e=_0x219388;_0x4cf850[_0xbb79e(0x17e)]&&_0x4cf850['_meta']['sources']&&_0x4cf850['_meta'][_0xbb79e(0x92)][_0xbb79e(0x135)](_0x64809e=>Vetools[_0xbb79e(0x132)][(_0x64809e[_0xbb79e(0x110)]||'')[_0xbb79e(0x163)]()]=MiscUtil[_0xbb79e(0xb8)](_0x64809e));}static async[_0x219388(0xe7)](_0x34f002){const _0x22afcb=_0x219388,_0x40eab9=MiscUtil[_0x22afcb(0x115)](_0x34f002,'_meta',_0x22afcb(0x92));if(!_0x40eab9||!(_0x40eab9 instanceof Array)||!_0x40eab9['every'](_0x256697=>!Parser[_0x22afcb(0xc3)][_0x256697[_0x22afcb(0x110)]]))return;await BrewUtil['pDoHandleBrewJson'](_0x34f002,_0x22afcb(0xb0));}static async[_0x219388(0xa8)](_0x328260){const _0xbbad2c=_0x219388;if(!_0x328260[_0xbbad2c(0x16b)]('?'))_0x328260=_0x328260+_0xbbad2c(0x147)+Consts[_0xbbad2c(0xea)];const _0x1633dd=_0x328260[_0xbbad2c(0xc0)](/(^https?:\/\/)/)[_0xbbad2c(0xd4)](Boolean);_0x1633dd[_0x1633dd['length']-0x1]=_0x1633dd[_0xbbad2c(0x98)]()[_0xbbad2c(0xb2)](/\/+/g,'/'),_0x328260=_0x1633dd[_0xbbad2c(0x176)]('');const _0x589a99=_0x328260[_0xbbad2c(0xc0)]('?')[0x0];if(Vetools[_0xbbad2c(0x131)][_0x589a99])return await Vetools[_0xbbad2c(0x131)][_0x589a99],Vetools[_0xbbad2c(0x9d)][_0x589a99];return Vetools[_0xbbad2c(0x131)][_0x589a99]=(async()=>{const _0x591af4=_0xbbad2c;let _0x4bbfc2;if(!Config['get'](_0x591af4(0xeb),_0x591af4(0x171))&&_0x328260[_0x591af4(0x9a)](Vetools[_0x591af4(0xb1)]+_0x591af4(0xe1))){const _0x2a4c8b=_0x328260[_0x591af4(0xc0)](Vetools[_0x591af4(0xb1)])[_0x591af4(0x136)](0x1)['join'](Vetools[_0x591af4(0xb1)]),_0xd86e0f=_0x591af4(0xf5)+SharedConsts['MODULE_NAME']+'/'+_0x2a4c8b;_0x4bbfc2=(await NotAxios[_0x591af4(0x115)](_0xd86e0f))[_0x591af4(0xaf)];}else _0x4bbfc2=(await NotAxios[_0x591af4(0x115)](_0x328260))[_0x591af4(0xaf)];return Vetools[_0x591af4(0x109)](_0x4bbfc2),await Vetools['pAddToHomebrew'](_0x4bbfc2),await DataUtil[_0x591af4(0xe4)](_0x589a99,_0x4bbfc2),Vetools[_0x591af4(0x9d)][_0x589a99]=_0x4bbfc2;})(),await Vetools[_0xbbad2c(0x131)][_0x589a99],Vetools[_0xbbad2c(0x9d)][_0x589a99];}static async['pLoadImporterSourceSpecial'](_0x266532){const _0x2ca789=_0x219388;let _0x4badb9;if(_0x266532['special']['cacheKey'])_0x4badb9=Vetools[_0x2ca789(0x9d)][_0x266532[_0x2ca789(0x120)]['cacheKey']]||(Vetools['CACHED_REQUESTS'][_0x266532[_0x2ca789(0x120)][_0x2ca789(0x150)]]=await _0x266532[_0x2ca789(0x120)][_0x2ca789(0xf6)]());else _0x4badb9=await _0x266532[_0x2ca789(0x120)][_0x2ca789(0xf6)]();return _0x4badb9;}static async['pGetChangelog'](){const _0x4494d3=_0x219388;return Vetools[_0x4494d3(0xa8)](Vetools['BASE_SITE_URL']+_0x4494d3(0xa6));}static async[_0x219388(0x164)](){const _0x2fea5d=_0x219388;return Vetools[_0x2fea5d(0xa8)](Config[_0x2fea5d(0x115)]('importAdventure',_0x2fea5d(0xbb)));}static async[_0x219388(0x166)](){const _0x409768=_0x219388;return Vetools[_0x409768(0xa8)](Vetools['BASE_SITE_URL']+_0x409768(0xfc));}static[_0x219388(0x125)](_0x1adf9d){const _0x439a6e=_0x219388;return Vetools['BASE_SITE_URL']+_0x439a6e(0xf1)+_0x1adf9d;}static async[_0x219388(0x172)](){const _0x1b6e6a=_0x219388;return Vetools[_0x1b6e6a(0xa8)](Vetools[_0x1b6e6a(0xb1)]+_0x1b6e6a(0x13d));}static['getCreatureUrl'](_0x3dfc77){const _0x58c941=_0x219388;return Vetools[_0x58c941(0xb1)]+'data/bestiary/'+_0x3dfc77;}static async[_0x219388(0x170)](){const _0x3f52b1=_0x219388;return Vetools['pGetWithCache'](Vetools[_0x3f52b1(0xb1)]+_0x3f52b1(0x15d));}static async[_0x219388(0x17d)](_0x1a7bc2){const _0x2980d4=_0x219388;return{'item':await Renderer[_0x2980d4(0x10e)][_0x2980d4(0xdc)]({'isAddGroups':!!_0x1a7bc2})};}static async[_0x219388(0x140)](){const _0x13c151=_0x219388,_0x2074ce=Vetools[_0x13c151(0xb1)]+'data/fluff-items.json';return Vetools[_0x13c151(0xa8)](_0x2074ce);}static async['pGetRaces'](_0x5aa3c1){const _0x38d0c2=_0x219388;return DataUtil[_0x38d0c2(0xc8)][_0x38d0c2(0xcc)](_0x5aa3c1);}static async[_0x219388(0x175)](){const _0x4a0007=_0x219388;return DataUtil[_0x4a0007(0x141)][_0x4a0007(0x114)]();}static async[_0x219388(0xbf)](){const _0x13b167=_0x219388;return DataUtil[_0x13b167(0x141)][_0x13b167(0x114)]();}static async['pGetRollableTables'](){const _0x1b693f=_0x219388;return DataUtil[_0x1b693f(0xf4)]['loadJSON']();}static async[_0x219388(0xfb)](_0x24eef7,_0x2f26b4){const _0x22f286=_0x219388,_0x558c49=Vetools[_0x22f286(0xb1)]+_0x22f286(0xe1)+_0x24eef7,_0x17bf42=await Vetools['pGetWithCache'](_0x558c49);return _0x17bf42[_0x2f26b4][_0x22f286(0x135)](_0x4c5757=>_0x4c5757[_0x22f286(0x173)]=new Date(_0x4c5757[_0x22f286(0x139)]||_0x22f286(0x126))),_0x17bf42;}static async[_0x219388(0xd0)](){const _0x3a3718=_0x219388;return this[_0x3a3718(0xfb)](_0x3a3718(0xd6),_0x3a3718(0xff));}static async[_0x219388(0x157)](){const _0x4e0d4a=_0x219388;return this[_0x4e0d4a(0xfb)]('books.json','book');}static['_getAdventureBookUrl'](_0x5cd6d6,_0x32dd46){const _0x19941f=_0x219388;return Vetools[_0x19941f(0xb1)]+_0x19941f(0xe1)+_0x5cd6d6+'/'+_0x5cd6d6+'-'+_0x32dd46['toLowerCase']()+'.json';}static[_0x219388(0x107)](_0x1f0c90){const _0x18ba9a=_0x219388;return this[_0x18ba9a(0x9e)](_0x18ba9a(0xff),_0x1f0c90);}static[_0x219388(0x97)](_0x28ead0){return this['_getAdventureBookUrl']('book',_0x28ead0);}static[_0x219388(0xd1)](_0x3a921a){const _0x5542b9=_0x219388;if(_0x3a921a&&_0x3a921a[_0x5542b9(0x11c)]&&_0x3a921a[_0x5542b9(0x11c)][0x0]){const _0x46203e=_0x3a921a['images'][0x0];if(_0x46203e[_0x5542b9(0x152)]){if(_0x46203e[_0x5542b9(0x152)][_0x5542b9(0x11d)]===_0x5542b9(0xc7))return _0x46203e[_0x5542b9(0x152)][_0x5542b9(0xf7)]?''+Vetools[_0x5542b9(0x179)](_0x46203e['href'][_0x5542b9(0xf7)]):'';else{if(_0x46203e[_0x5542b9(0x152)]['type']===_0x5542b9(0x12d))return _0x46203e[_0x5542b9(0x152)]['url']||'';}}}}static[_0x219388(0x113)](_0x107abd,_0x211a52){const _0x21192e=_0x219388;return Vetools['_getTokenUrl'](_0x107abd,_0x211a52)[_0x21192e(0xba)];}static[_0x219388(0x145)](_0x5f1c6b,_0x4a530b){const _0xcb0af=_0x219388;return Vetools['_getTokenUrl'](_0x5f1c6b,_0x4a530b)[_0xcb0af(0x177)];}static['_getTokenUrl'](_0x2212cb,_0x589349){const _0xc57c31=_0x219388;if(_0x589349[_0xc57c31(0x11f)])return{'url':_0x589349[_0xc57c31(0x11f)],'hasToken':!![]};const _0x53afb8={'url':UrlUtil[_0xc57c31(0xa4)]((Renderer[_0xc57c31(0x115)]()[_0xc57c31(0xc4)][_0xc57c31(0x108)]||Renderer['get']()['baseUrl'])+_0xc57c31(0x118)),'hasToken':![]};switch(_0x2212cb){case'monster':{if(_0x589349['hasToken'])return{'url':Renderer['monster'][_0xc57c31(0x145)](_0x589349),'hasToken':!![]};return _0x53afb8;}case _0xc57c31(0x112):{if(_0x589349[_0xc57c31(0xba)])return{'url':Renderer[_0xc57c31(0x112)][_0xc57c31(0x145)](_0x589349),'hasToken':!![]};return _0x53afb8;}case'object':{if(_0x589349[_0xc57c31(0xba)])return{'url':Renderer['object']['getTokenUrl'](_0x589349),'hasToken':!![]};return _0x53afb8;}default:throw new Error(_0xc57c31(0x17b)+_0x2212cb+'\x22');}}static['getInternalImageUrl'](_0x42134d){const _0x50978a=_0x219388;return((Renderer['get']()[_0x50978a(0xc4)]['img']||Renderer[_0x50978a(0x115)]()[_0x50978a(0xdf)])+_0x50978a(0x130)+encodeURIComponent(_0x42134d))[_0x50978a(0xb2)](/'/g,'%27');}static async[_0x219388(0xde)]({isFilterNonStandard:isFilterNonStandard=![],additionalSourcesBrew:additionalSourcesBrew=[]}={}){const _0x4aee0c=_0x219388,_0x53761b=await Vetools['pGetSpellIndex'](),_0x20e3e6=await Promise[_0x4aee0c(0xfa)](Object['entries'](_0x53761b)['filter'](([_0xec5ada])=>!isFilterNonStandard||!SourceUtil['isNonstandardSource'](_0xec5ada))[_0x4aee0c(0x133)](([_0x4079be,_0x44040c])=>Vetools[_0x4aee0c(0xa8)](Vetools[_0x4aee0c(0x125)](_0x44040c))));if(additionalSourcesBrew?.['length'])for(const _0x4f819f of additionalSourcesBrew){const _0x332a17=await DataUtil[_0x4aee0c(0xc5)](_0x4f819f);if(!_0x332a17)continue;_0x20e3e6[_0x4aee0c(0x153)](_0x332a17);}return{'spell':_0x20e3e6[_0x4aee0c(0x133)](_0xb3f061=>MiscUtil['copy'](_0xb3f061[_0x4aee0c(0xac)]))[_0x4aee0c(0x12b)]()};}static async['pGetAllCreatures'](_0x4f624d=![]){const _0x378928=_0x219388,_0x398341=await Vetools[_0x378928(0x172)](),_0x324a90=await Promise[_0x378928(0xfa)](Object[_0x378928(0x123)](_0x398341)[_0x378928(0xd4)](([_0x548be4])=>!_0x4f624d||!SourceUtil[_0x378928(0x122)](_0x548be4))[_0x378928(0x133)](async([_0x5ab8c2,_0x1370a1])=>({'source':_0x5ab8c2,'json':await Vetools[_0x378928(0xa8)](Vetools[_0x378928(0xcf)](_0x1370a1))})));return{'monster':_0x324a90[_0x378928(0x133)](_0xff0b64=>MiscUtil[_0x378928(0xb8)](_0xff0b64[_0x378928(0x110)]['monster'][_0x378928(0xd4)](_0x1cb63e=>_0x1cb63e[_0x378928(0x17c)]===_0xff0b64['source'])))[_0x378928(0x12b)]()};}static async['_pGetHomebrewIndices'](){const _0x5206d6=_0x219388,_0x3f6227={'source':{},'prop':{}};try{const [_0x5c4669,_0x537f17]=await Promise[_0x5206d6(0xfa)]([DataUtil['brew']['pLoadSourceIndex'](Config[_0x5206d6(0x115)](_0x5206d6(0xeb),_0x5206d6(0x9f))),DataUtil[_0x5206d6(0xc2)][_0x5206d6(0xb9)](Config[_0x5206d6(0x115)](_0x5206d6(0xeb),_0x5206d6(0x9f)))]);_0x3f6227[_0x5206d6(0x17c)]=_0x5c4669,_0x3f6227[_0x5206d6(0xb6)]=_0x537f17;}catch(_0x32e980){ui[_0x5206d6(0x103)]['error'](_0x5206d6(0x101)+VeCt[_0x5206d6(0xd2)]),setTimeout(()=>{throw _0x32e980;});}return _0x3f6227;}static async[_0x219388(0x13f)](..._0x516b8d){const _0x2032a3=_0x219388,_0x18083a=Config['get'](_0x2032a3(0xeb),_0x2032a3(0x9f)),_0x12475c=new Set();return _0x516b8d['map'](_0x1c26d7=>{const _0x5591b=_0x2032a3;return Object[_0x5591b(0x16f)](Vetools['HOMEBREW_INDEX__PROP'][BrewUtil[_0x5591b(0x11b)](_0x1c26d7)]||{})[_0x5591b(0x133)](_0x2c7604=>{const _0x17a177=_0x5591b;if(_0x12475c[_0x17a177(0xb5)](_0x2c7604))return null;return _0x12475c[_0x17a177(0xa2)](_0x2c7604),{'url':DataUtil[_0x17a177(0xc2)]['getFileUrl'](_0x2c7604,_0x18083a),'name':_0x2c7604[_0x17a177(0xc0)]('/')['slice'](0x1)['join']('/')['replace'](/\.json$/i,'')};});})[_0x2032a3(0x12b)]()[_0x2032a3(0xd4)](Boolean)[_0x2032a3(0xc9)]((_0x2d7f2c,_0x28dd41)=>SortUtil[_0x2032a3(0x129)](_0x2d7f2c[_0x2032a3(0x16a)],_0x28dd41[_0x2032a3(0x16a)]));}static[_0x219388(0x154)](_0x4dbc8b,_0x8e25c5){if(!_0x8e25c5)return _0x4dbc8b;return _0x8e25c5['map'](_0x40a849=>{const _0x2f127f=_0x10c7;return _0x4dbc8b[_0x40a849]=_0x4dbc8b[_0x40a849]||[],_0x4dbc8b[_0x40a849][_0x2f127f(0x135)](_0x2bea7c=>_0x2bea7c[_0x2f127f(0xd3)]=_0x40a849),_0x4dbc8b[_0x40a849];})['flat']();}static async[_0x219388(0x100)](){const _0x294c39=_0x219388;return Vetools[_0x294c39(0xa8)](Vetools[_0x294c39(0xb1)]+'data/spells/foundry.json');}static async['pGetOptionalFeatureSideData'](){const _0x4f47b9=_0x219388;return Vetools[_0x4f47b9(0xa8)](Vetools[_0x4f47b9(0xb1)]+'data/foundry-optionalfeatures.json');}static async[_0x219388(0xef)](){const _0x29b5f0=_0x219388;return Vetools['pGetWithCache'](Vetools[_0x29b5f0(0xb1)]+'data/class/foundry.json');}static async['pGetRaceSideData'](){const _0x2ce060=_0x219388;return Vetools[_0x2ce060(0xa8)](Vetools[_0x2ce060(0xb1)]+_0x2ce060(0x11e));}static async[_0x219388(0x14d)](){const _0x5c7ec1=_0x219388;return Vetools[_0x5c7ec1(0xa8)](Vetools[_0x5c7ec1(0xb1)]+'data/foundry-items.json');}static async[_0x219388(0xf8)](){const _0x543942=_0x219388;return Vetools[_0x543942(0xa8)](Vetools['BASE_SITE_URL']+_0x543942(0x16e));}static async['pGetRewardSideData'](){const _0x485a01=_0x219388;return Vetools[_0x485a01(0xa8)](Vetools[_0x485a01(0xb1)]+_0x485a01(0x12f));}static async[_0x219388(0xcb)](){const _0x4350f5=_0x219388;return{}||Vetools[_0x4350f5(0xa8)](Vetools[_0x4350f5(0xb1)]+_0x4350f5(0xda));}static async[_0x219388(0x142)](){const _0x4f4e41=_0x219388;return{}||Vetools[_0x4f4e41(0xa8)](Vetools[_0x4f4e41(0xb1)]+_0x4f4e41(0xa7));}static async['pGetPsionicsSideData'](){const _0x4303d9=_0x219388;return{}||Vetools['pGetWithCache'](Vetools[_0x4303d9(0xb1)]+'data/foundry-psionics.json');}static async['pGetVehicleUpgradeSideData'](){const _0x258a43=_0x219388;return{}||Vetools[_0x258a43(0xa8)](Vetools['BASE_SITE_URL']+_0x258a43(0xee));}static async[_0x219388(0xe3)](){return{}||Vetools['pGetWithCache'](Vetools['BASE_SITE_URL']+'data/bestiary/foundry.json');}static async[_0x219388(0xf3)](){const _0x500bda=_0x219388;return{}||Vetools[_0x500bda(0xa8)](Vetools[_0x500bda(0xb1)]+_0x500bda(0x93));}static async[_0x219388(0x15e)](){const _0x3093ed=_0x219388;return{}||Vetools[_0x3093ed(0xa8)](Vetools['BASE_SITE_URL']+_0x3093ed(0xee));}static async[_0x219388(0x134)](_0x1e52b7){const _0x5a33cd=_0x219388,_0x423f49=_0x5a33cd(0xe0)+_0x1e52b7+'s.json',_0xe0990=_0x5a33cd(0xf5)+SharedConsts[_0x5a33cd(0x11a)]+'/data/'+_0x423f49;return Vetools[_0x5a33cd(0xa8)](_0xe0990);}static get[_0x219388(0xb1)](){const _0x5f0cbc=_0x219388;let _0x470228=Config[_0x5f0cbc(0x115)](_0x5f0cbc(0xeb),_0x5f0cbc(0x95));if(_0x470228&&_0x470228[_0x5f0cbc(0x104)]())return _0x470228=_0x470228[_0x5f0cbc(0xb2)](/^(.*?)([\\/]+)$/,'$1/'),_0x470228;return Vetools[_0x5f0cbc(0x121)];}static get[_0x219388(0x162)](){const _0x5c7219=_0x219388;return Vetools[_0x5c7219(0xb1)]+_0x5c7219(0xe2);}static get[_0x219388(0x102)](){const _0x167eff=_0x219388;return Vetools[_0x167eff(0xb1)]+_0x167eff(0xf0);}static get['DATA_URL_VARIANTRULES'](){const _0x2a4c06=_0x219388;return Vetools[_0x2a4c06(0xb1)]+_0x2a4c06(0x138);}static get[_0x219388(0x161)](){const _0x3403ed=_0x219388;return Vetools[_0x3403ed(0xb1)]+_0x3403ed(0x117);}static get[_0x219388(0x174)](){const _0xa94ebf=_0x219388;return Vetools[_0xa94ebf(0xb1)]+'data/optionalfeatures.json';}static get[_0x219388(0x127)](){const _0x570b42=_0x219388;return Vetools['BASE_SITE_URL']+_0x570b42(0x10b);}static get[_0x219388(0x160)](){const _0x438a3c=_0x219388;return Vetools[_0x438a3c(0xb1)]+_0x438a3c(0x13c);}static get[_0x219388(0x169)](){const _0x53b4b1=_0x219388;return Vetools[_0x53b4b1(0xb1)]+'data/rewards.json';}static get[_0x219388(0xec)](){const _0x1adc73=_0x219388;return Vetools[_0x1adc73(0xb1)]+_0x1adc73(0xab);}static get[_0x219388(0xa9)](){return Vetools['BASE_SITE_URL']+'data/deities.json';}static get[_0x219388(0xdb)](){const _0x3813b8=_0x219388;return Vetools[_0x3813b8(0xb1)]+_0x3813b8(0x10a);}}Vetools[_0x219388(0x9d)]={},Vetools[_0x219388(0x131)]={},Vetools[_0x219388(0x121)]=_0x219388(0xbd),Vetools[_0x219388(0xa5)]=null,Vetools[_0x219388(0x12c)]=null,Vetools[_0x219388(0xfd)]={},Vetools[_0x219388(0x132)]={},Vetools[_0x219388(0x119)]=null,Vetools[_0x219388(0xcd)]=null,Vetools[_0x219388(0x99)]=null,Vetools[_0x219388(0x146)]={},Vetools[_0x219388(0xca)]={};export{Vetools};