const _0x4d57=['adventure','data/fluff-items.json','/data/','bind','all','then','data/optionalfeatures.json','hasSourceJson','vehicle','foundryClassFeature','length','special','danger','data/bestiary/index.json','getValidColor','pGetCreatureIndex','brew','img/blank.png','options','.json','pGetPackageIndex','_pGetHomebrewIndex','pSetClient','pLoadImporterSourceSpecial','href','CACHE_REQUESTS_IN_FLIGHT','1970-01-01','homebrewMeta','add','getAdventureUrl','indexUrl','name','getJsonSources','modules/','pGetBookIndex','Z_INDEX_MAX_FOUNDRY','spell','baseUrl','addToHomebrewSourceLookup','pGetCreatureFluffIndex','sourceJsonToSource','pGetSpellIndex','toLowerCase','dirToProp','class','data/class/foundry.json','pBuildList','BESTIARY_TOKEN_LOOKUP','pGetClassSubclassFeatureAdditionalData','getCreatureUrl','getContent','cacheKey','getRollableEntryDice','_BASE_SITE_URL','img','get','sourceJsonToFull','every','forEach','__prop','entries','sourceJsonToStyle','BASE_SITE_URL','_STORABLE','toMessage','color','filter','mergeSubraces','setBaseUrl','data/spells/index.json','icon-','json','foundrySpell','book','init','pDoMetaMerge','join','isNonstandardSource','pGetOptionalFeatureAdditionalData','type','pGetAllSpells','link','baseSiteUrl','source','[[/r\x20','NO_PAGE','pRollEntry','split','_PATCHED_GET_ROLLABLE_ENTRY_DICE','hasTokenUrl','error','map','pPreloadMeta','pLoadPropIndex','getTokenUrl','string','data/foundry-optionalfeatures.json','HOMEBREW_CUSTOM_REPO_URL','abbreviation','MIN_Z_INDEX','keys','_getTokenUrl','catch','pGetIconLookup','$getHoverContent_fluff','doToast','data/backgrounds.json','data/feats.json','s.json','tokenUrl','data/bestiary/fluff-index.json','pDoPreload','values','hover','BESTIARY_FLUFF_INDEX','data/psionics.json','baseMediaUrls','importAdventure','pGetRollableTables','_pubDate','isNoLocalData','slice','pGetWithCache','Failed\x20to\x20load\x20homebrew\x20index!\x20','pSet','content','HOMEBREW_INDEX','books.json','import','$getHoverContent_stats','MODULE_NAME','prompt','log','_pGetAdventureBookIndex','DATA_URL_PSIONICS','_PAGE','getImageUrlFromFluff','full','data/bestiary/','pGetChangelog','pGetRaces','HOMEBREW_COLLECTION_INDEX','monster','images','copy','replace','pAddToHomebrew','data/changelog.json','notifications','CACHED_REQUESTS','_CACHED_GET_ROLLABLE_ENTRY_DICE','dice','sources','pGetAllCreatures','race','pGet','url','getInternalImageUrl','trim','ascSortLower','flat','doMonkeyPatch','HOMEBREW_META_SOURCES','loadRawJSON','DATA_URL_VARIANTRULES','withUnpatchedDiceRendering','sourceJsonToAbv','_getAdventureBookUrl','STR_SEE_CONSOLE','pGetAdventureIndex','$getHoverContent_generic','toRoll','has','legacyDiceToString','data/','rollerClick','warning','path','warn','DATA_URL_OPTIONALFEATURES','?t=','hasToken','Unhandled\x20entity\x20type\x20\x22','_meta','data','img/','$1/','pGetItems','getBookUrl','getSpellUrl','info'];(function(_0x488395,_0x4d576f){const _0x7852f1=function(_0x3fe7d3){while(--_0x3fe7d3){_0x488395['push'](_0x488395['shift']());}};_0x7852f1(++_0x4d576f);}(_0x4d57,0x1ea));const _0x7852=function(_0x488395,_0x4d576f){_0x488395=_0x488395-0x0;let _0x7852f1=_0x4d57[_0x488395];return _0x7852f1;};const _0x175258=_0x7852;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{Consts}from'./Consts.js';import{JqueryExtension}from'./JqueryExtension.js';import{Config}from'./Config.js';import{GameStorage}from'./GameStorage.js';import{LGT}from'./Util.js';class NotAxios{static async['get'](_0x3fe7d3){const _0x2a8e49=_0x7852;return{'data':await(await fetch(_0x3fe7d3))[_0x2a8e49('0x9a')]()};}}class Vetools{static async[_0x175258('0x3')](){const _0x2d3165=_0x175258;await Promise[_0x2d3165('0x57')]([Vetools[_0x2d3165('0x6')]=await Vetools[_0x2d3165('0x7a')](),DataUtil[_0x2d3165('0x22')][_0x2d3165('0xaf')]()]),Vetools[_0x2d3165('0x68')]()[_0x2d3165('0x58')](_0x1f4f27=>{const _0x21c804=_0x2d3165;Vetools[_0x21c804('0x12')]=_0x1f4f27,console[_0x21c804('0x18')](...LGT,'Loaded\x20homebrew\x20index.');})[_0x2d3165('0xb9')](_0x3841ac=>{const _0x4e093a=_0x2d3165;Vetools[_0x4e093a('0x12')]={},ui[_0x4e093a('0x28')]['error'](_0x4e093a('0xf')+VeCt[_0x4e093a('0x3c')]),setTimeout(()=>{throw _0x3841ac;});});}static[_0x175258('0x39')](_0x2d51b3){const _0x5f2636=_0x175258;Renderer['getRollableEntryDice']=Vetools[_0x5f2636('0x2a')];const _0x3381c1=_0x2d51b3();return Renderer['getRollableEntryDice']=Vetools[_0x5f2636('0xab')],_0x3381c1;}static[_0x175258('0x35')](){const _0xdb7913=_0x175258;JqueryExtension[_0xdb7913('0x9d')](),StorageUtil[_0xdb7913('0x10')]=GameStorage[_0xdb7913('0x69')][_0xdb7913('0x56')](GameStorage),StorageUtil['pGet']=GameStorage['pGetClient']['bind'](GameStorage),Renderer[_0xdb7913('0x8a')]()[_0xdb7913('0x97')](Vetools[_0xdb7913('0x91')]);if(Config[_0xdb7913('0x8a')]('import','isUseLocalImages'))Renderer[_0xdb7913('0x8a')]()['setBaseMediaUrl'](_0xdb7913('0x89'),_0xdb7913('0x74')+SharedConsts[_0xdb7913('0x16')]+'/');Hooks['on']('plutonium.configUpdate',()=>Renderer[_0xdb7913('0x8a')]()[_0xdb7913('0x97')](Vetools[_0xdb7913('0x91')])),Renderer[_0xdb7913('0x5')][_0xdb7913('0xb6')]=Consts[_0xdb7913('0x76')]+0x1,Renderer[_0xdb7913('0x5')]['_MAX_Z_INDEX']=Renderer[_0xdb7913('0x5')][_0xdb7913('0xb6')]+0xa,BrewUtil['homebrew']={},BrewUtil[_0xdb7913('0x6e')]={'sources':[]},Vetools[_0xdb7913('0x2a')]=Renderer[_0xdb7913('0x87')],Vetools[_0xdb7913('0xab')]=(_0x4de89e,_0x450d63,_0x37ecb4=!![],_0x18abed)=>{const _0x1632eb=_0xdb7913,_0x2b0269=MiscUtil[_0x1632eb('0x24')](_0x4de89e);typeof _0x2b0269[_0x1632eb('0x3f')]!=='string'&&(_0x2b0269[_0x1632eb('0x3f')]=Renderer[_0x1632eb('0x41')](_0x2b0269[_0x1632eb('0x3f')]));if(_0x2b0269[_0x1632eb('0x17')]){const _0x699f16=Math['min'](...Object['keys'](_0x2b0269[_0x1632eb('0x17')][_0x1632eb('0x65')])[_0x1632eb('0xae')](_0xe4d153=>Number(_0xe4d153))[_0x1632eb('0x95')](_0x4cfc1f=>_0x2b0269['prompt'][_0x1632eb('0x65')][_0x4cfc1f]));_0x2b0269[_0x1632eb('0x3f')]=_0x2b0269['prompt'][_0x1632eb('0x65')][_0x699f16];}return _0x1632eb('0xa7')+_0x2b0269['toRoll']+']]'+(_0x2b0269[_0x1632eb('0x3f')][_0x1632eb('0x7d')]()[_0x1632eb('0x32')]()!==_0x18abed['toLowerCase']()[_0x1632eb('0x32')]()?'\x20('+_0x18abed+')':'');},Renderer[_0xdb7913('0x87')]=Vetools[_0xdb7913('0xab')];const _0x152cc2={},_0x90ffac=[_0xdb7913('0x15'),_0xdb7913('0xbb'),'$getHoverContent_statsCode','$getHoverContent_miscCode',_0xdb7913('0x3e')];_0x90ffac[_0xdb7913('0x8d')](_0x1edb2a=>{const _0x2a1a5f=_0xdb7913;_0x152cc2[_0x1edb2a]=Renderer[_0x2a1a5f('0x5')][_0x1edb2a],Renderer[_0x2a1a5f('0x5')][_0x1edb2a]=(..._0x4e89d5)=>{const _0x524b99=_0x2a1a5f;Renderer[_0x524b99('0x87')]=Vetools['_CACHED_GET_ROLLABLE_ENTRY_DICE'];const _0x297dba=_0x152cc2[_0x1edb2a](..._0x4e89d5);return Renderer['getRollableEntryDice']=Vetools[_0x524b99('0xab')],_0x297dba;};}),Renderer[_0xdb7913('0x2b')][_0xdb7913('0x43')]=(_0x20cd39,_0xb10cb0,_0x2737f3,_0x288c1a)=>{const _0x52942a=_0xdb7913,_0x55b9fe=JSON['parse'](_0x2737f3);if(_0x55b9fe[_0x52942a('0x3f')])new Roll(_0x55b9fe['toRoll'])['toMessage']();},Renderer[_0xdb7913('0x2b')][_0xdb7913('0xa9')]=(_0x1fc855,_0x55e4da,_0x58197e)=>{const _0x546116=_0xdb7913;if(_0x1fc855[_0x546116('0x3f')])new Roll(_0x1fc855['toRoll'])[_0x546116('0x93')]();},JqueryUtil[_0xdb7913('0xbc')]=_0x27c17d=>{const _0x25066a=_0xdb7913;typeof _0x27c17d===_0x25066a('0xb2')&&(_0x27c17d={'content':_0x27c17d,'type':_0x25066a('0x52')});_0x27c17d[_0x25066a('0xa2')]=_0x27c17d[_0x25066a('0xa2')]||_0x25066a('0x52');switch(_0x27c17d[_0x25066a('0xa2')]){case _0x25066a('0x44'):return ui['notifications'][_0x25066a('0x46')](_0x27c17d[_0x25066a('0x11')]);case _0x25066a('0x5f'):return ui[_0x25066a('0x28')][_0x25066a('0xad')](_0x27c17d[_0x25066a('0x11')]);default:return ui['notifications'][_0x25066a('0x52')](_0x27c17d[_0x25066a('0x11')]);}},DataUtil['loadJSON']=async _0x1934ed=>Vetools[_0xdb7913('0xe')](_0x1934ed),BrewUtil[_0xdb7913('0x5a')]=_0x53dfe9=>!!Vetools[_0xdb7913('0x36')][(_0x53dfe9||'')[_0xdb7913('0x7d')]()],BrewUtil[_0xdb7913('0x3a')]=_0x1a786b=>(Vetools[_0xdb7913('0x36')][(_0x1a786b||'')[_0xdb7913('0x7d')]()]||{})[_0xdb7913('0xb5')]||_0x1a786b,BrewUtil[_0xdb7913('0x8b')]=_0x31fa1f=>(Vetools[_0xdb7913('0x36')][(_0x31fa1f||'')[_0xdb7913('0x7d')]()]||{})[_0xdb7913('0x1d')]||_0x31fa1f,BrewUtil[_0xdb7913('0x7b')]=_0x2d361d=>Vetools['HOMEBREW_META_SOURCES'][(_0x2d361d||'')[_0xdb7913('0x7d')]()],BrewUtil[_0xdb7913('0x90')]=_0x4aa50d=>{const _0x59a3f7=_0xdb7913,_0x2542cb=(_0x4aa50d||'')[_0x59a3f7('0x7d')]();if(Vetools[_0x59a3f7('0x36')][_0x2542cb]&&Vetools['HOMEBREW_META_SOURCES'][_0x2542cb][_0x59a3f7('0x94')]){const _0x5e90b4=BrewUtil[_0x59a3f7('0x61')](Vetools[_0x59a3f7('0x36')][_0x2542cb][_0x59a3f7('0x94')]);if(_0x5e90b4[_0x59a3f7('0x5d')])return'style=\x22color:\x20#'+_0x5e90b4+';\x22';return'';}else return'';},BrewUtil[_0xdb7913('0x73')]=()=>Object[_0xdb7913('0x4')](Vetools[_0xdb7913('0x36')]),BrewUtil[_0xdb7913('0x92')]=[...BrewUtil['_STORABLE'],_0xdb7913('0x9b'),_0xdb7913('0x5c'),'foundrySubclassFeature','foundryOptionalfeature'],BrewUtil[_0xdb7913('0x1b')]=UrlUtil['PG_MANAGE_BREW'],BrewUtil['_pCleanSaveBrew']=()=>{};}static['addToHomebrewSourceLookup'](_0x58b4e0){const _0x2613c1=_0x175258;_0x58b4e0['_meta']&&_0x58b4e0[_0x2613c1('0x4b')][_0x2613c1('0x2c')]&&_0x58b4e0['_meta'][_0x2613c1('0x2c')][_0x2613c1('0x8d')](_0x1714bc=>Vetools[_0x2613c1('0x36')][(_0x1714bc[_0x2613c1('0x9a')]||'')[_0x2613c1('0x7d')]()]=MiscUtil[_0x2613c1('0x24')](_0x1714bc));}static async[_0x175258('0x26')](_0x153c50){const _0x5c8710=_0x175258,_0x5a310c=MiscUtil[_0x5c8710('0x8a')](_0x153c50,'_meta','sources');if(!_0x5a310c||!(_0x5a310c instanceof Array)||!_0x5a310c[_0x5c8710('0x8c')](_0x587fa3=>!Parser['SOURCE_JSON_TO_ABV'][_0x587fa3['json']]))return;await BrewUtil['pDoHandleBrewJson'](_0x153c50,_0x5c8710('0xa8'));}static async[_0x175258('0xe')](_0x57b83f){const _0x563927=_0x175258;if(!_0x57b83f['includes']('?'))_0x57b83f=_0x57b83f+_0x563927('0x48')+Consts['RUN_TIME'];const _0x303c71=_0x57b83f['split'](/(^https?:\/\/)/)['filter'](Boolean);_0x303c71[_0x303c71[_0x563927('0x5d')]-0x1]=_0x303c71['last']()['replace'](/\/+/g,'/'),_0x57b83f=_0x303c71['join']('');const _0x54d26a=_0x57b83f[_0x563927('0xaa')]('?')[0x0];if(Vetools[_0x563927('0x6c')][_0x54d26a])return await Vetools['CACHE_REQUESTS_IN_FLIGHT'][_0x54d26a],Vetools['CACHED_REQUESTS'][_0x54d26a];return Vetools[_0x563927('0x6c')][_0x54d26a]=(async()=>{const _0x3e2962=_0x563927;let _0x5d232b;if(!Config[_0x3e2962('0x8a')](_0x3e2962('0x14'),_0x3e2962('0xc'))&&_0x57b83f['startsWith'](Vetools[_0x3e2962('0x91')]+'data/')){const _0x1dedc1=_0x57b83f['split'](Vetools[_0x3e2962('0x91')])[_0x3e2962('0xd')](0x1)[_0x3e2962('0x9f')](Vetools[_0x3e2962('0x91')]),_0x4114a0='modules/'+SharedConsts['MODULE_NAME']+'/'+_0x1dedc1;_0x5d232b=(await NotAxios[_0x3e2962('0x8a')](_0x4114a0))[_0x3e2962('0x4c')];}else _0x5d232b=(await NotAxios[_0x3e2962('0x8a')](_0x57b83f))[_0x3e2962('0x4c')];return Vetools[_0x3e2962('0x79')](_0x5d232b),await Vetools[_0x3e2962('0x26')](_0x5d232b),await DataUtil[_0x3e2962('0x9e')](_0x54d26a,_0x5d232b),Vetools[_0x3e2962('0x29')][_0x54d26a]=_0x5d232b;})(),await Vetools[_0x563927('0x6c')][_0x54d26a],Vetools[_0x563927('0x29')][_0x54d26a];}static async[_0x175258('0x6a')](_0x3ff6a7){const _0xb58cfe=_0x175258;let _0x38cc1e;if(_0x3ff6a7[_0xb58cfe('0x5e')][_0xb58cfe('0x86')])_0x38cc1e=Vetools[_0xb58cfe('0x29')][_0x3ff6a7[_0xb58cfe('0x5e')][_0xb58cfe('0x86')]]||(Vetools[_0xb58cfe('0x29')][_0x3ff6a7['special'][_0xb58cfe('0x86')]]=await _0x3ff6a7[_0xb58cfe('0x5e')][_0xb58cfe('0x2f')]());else _0x38cc1e=await _0x3ff6a7['special'][_0xb58cfe('0x2f')]();return _0x38cc1e;}static async[_0x175258('0x1f')](){const _0x3c539d=_0x175258;return Vetools[_0x3c539d('0xe')](Vetools['BASE_SITE_URL']+_0x3c539d('0x27'));}static async[_0x175258('0x67')](){const _0x201bcf=_0x175258;return Vetools[_0x201bcf('0xe')](Config[_0x201bcf('0x8a')](_0x201bcf('0x9'),_0x201bcf('0x71')));}static async['pGetSpellIndex'](){const _0xce2a87=_0x175258;return Vetools[_0xce2a87('0xe')](Vetools['BASE_SITE_URL']+_0xce2a87('0x98'));}static[_0x175258('0x51')](_0x539c89){return Vetools['BASE_SITE_URL']+'data/spells/'+_0x539c89;}static async[_0x175258('0x62')](){const _0x5dcd3a=_0x175258;return Vetools[_0x5dcd3a('0xe')](Vetools[_0x5dcd3a('0x91')]+_0x5dcd3a('0x60'));}static[_0x175258('0x84')](_0x2be990){const _0xd1f474=_0x175258;return Vetools[_0xd1f474('0x91')]+_0xd1f474('0x1e')+_0x2be990;}static async[_0x175258('0x7a')](){const _0x2ec9cc=_0x175258;return Vetools['pGetWithCache'](Vetools['BASE_SITE_URL']+_0x2ec9cc('0x2'));}static async[_0x175258('0x4f')](_0x100066){const _0x1cd524=_0x175258;return{'item':await Renderer['item'][_0x1cd524('0x81')]({'isAddGroups':!!_0x100066})};}static async['pGetItemFluff'](){const _0x220c0f=_0x175258,_0x1913f6=Vetools[_0x220c0f('0x91')]+_0x220c0f('0x54');return Vetools['pGetWithCache'](_0x1913f6);}static async[_0x175258('0x20')](_0x4d790e){const _0x4994da=_0x175258;_0x4d790e=_0x4d790e||{};const _0x1bb44c=Vetools[_0x4994da('0x91')]+'data/races.json',_0x2be0a0=await Vetools[_0x4994da('0xe')](_0x1bb44c),_0x4c1208=Renderer['race'][_0x4994da('0x96')](_0x2be0a0[_0x4994da('0x2e')],_0x4d790e);return{'race':_0x4c1208};}static async['pGetClasses'](){const _0x16d334=_0x175258;return DataUtil[_0x16d334('0x7f')][_0x16d334('0x37')]();}static async[_0x175258('0xa')](){return DataUtil['table']['pLoadAll']();}static async[_0x175258('0x19')](_0x2f4423,_0x511986){const _0x2f0636=_0x175258,_0x3c5b04=Vetools[_0x2f0636('0x91')]+_0x2f0636('0x42')+_0x2f4423,_0x584aa0=await Vetools[_0x2f0636('0xe')](_0x3c5b04);return _0x584aa0[_0x511986][_0x2f0636('0x8d')](_0x5e70a3=>_0x5e70a3[_0x2f0636('0xb')]=new Date(_0x5e70a3['published']||_0x2f0636('0x6d'))),_0x584aa0;}static async[_0x175258('0x3d')](){const _0x557399=_0x175258;return this['_pGetAdventureBookIndex']('adventures.json',_0x557399('0x53'));}static async[_0x175258('0x75')](){const _0x25489c=_0x175258;return this['_pGetAdventureBookIndex'](_0x25489c('0x13'),_0x25489c('0x9c'));}static[_0x175258('0x3b')](_0x1cce25,_0x1faf75){const _0x56cb0c=_0x175258;return Vetools['BASE_SITE_URL']+'data/'+_0x1cce25+'/'+_0x1cce25+'-'+_0x1faf75[_0x56cb0c('0x7d')]()+_0x56cb0c('0x66');}static[_0x175258('0x70')](_0x495189){const _0x416082=_0x175258;return this[_0x416082('0x3b')]('adventure',_0x495189);}static[_0x175258('0x50')](_0x343cd1){const _0x1162b3=_0x175258;return this[_0x1162b3('0x3b')](_0x1162b3('0x9c'),_0x343cd1);}static[_0x175258('0x1c')](_0x3d92eb){const _0x17483b=_0x175258;if(_0x3d92eb&&_0x3d92eb['images']&&_0x3d92eb[_0x17483b('0x23')][0x0]){const _0x47ecfb=_0x3d92eb[_0x17483b('0x23')][0x0];if(_0x47ecfb['href']){if(_0x47ecfb[_0x17483b('0x6b')][_0x17483b('0xa2')]==='internal')return _0x47ecfb[_0x17483b('0x6b')]['path']?''+Vetools['getInternalImageUrl'](_0x47ecfb['href'][_0x17483b('0x45')]):'';else{if(_0x47ecfb[_0x17483b('0x6b')][_0x17483b('0xa2')]==='external')return _0x47ecfb[_0x17483b('0x6b')][_0x17483b('0x30')]||'';}}}}static[_0x175258('0xac')](_0x25f6ab,_0x44dc17){const _0x8d7ffe=_0x175258;return Vetools[_0x8d7ffe('0xb8')](_0x25f6ab,_0x44dc17)[_0x8d7ffe('0x49')];}static['getTokenUrl'](_0x113611,_0x520364){return Vetools['_getTokenUrl'](_0x113611,_0x520364)['url'];}static[_0x175258('0xb8')](_0x121d61,_0x1b9d52){const _0x4c1344=_0x175258;if(_0x1b9d52[_0x4c1344('0x1')])return{'url':_0x1b9d52[_0x4c1344('0x1')],'hasToken':!![]};const _0x20d6a3={'url':UrlUtil[_0x4c1344('0xa4')]((Renderer['get']()[_0x4c1344('0x8')][_0x4c1344('0x89')]||Renderer[_0x4c1344('0x8a')]()[_0x4c1344('0x78')])+_0x4c1344('0x64')),'hasToken':![]};switch(_0x121d61){case _0x4c1344('0x22'):{if(_0x1b9d52[_0x4c1344('0x49')])return{'url':Renderer[_0x4c1344('0x22')]['getTokenUrl'](_0x1b9d52),'hasToken':!![]};return _0x20d6a3;}case _0x4c1344('0x5b'):{if(_0x1b9d52['hasToken'])return{'url':Renderer[_0x4c1344('0x5b')][_0x4c1344('0xb1')](_0x1b9d52),'hasToken':!![]};return _0x20d6a3;}default:throw new Error(_0x4c1344('0x4a')+_0x121d61+'\x22');}}static[_0x175258('0x31')](_0xc708ce){const _0x47751f=_0x175258;return((Renderer[_0x47751f('0x8a')]()['baseMediaUrls'][_0x47751f('0x89')]||Renderer['get']()[_0x47751f('0x78')])+_0x47751f('0x4d')+encodeURIComponent(_0xc708ce))[_0x47751f('0x25')](/'/g,'%27');}static async[_0x175258('0xa3')](_0x243dde=![]){const _0x32473e=_0x175258,_0x27d102=await Vetools[_0x32473e('0x7c')](),_0x3039b1=await Promise['all'](Object['entries'](_0x27d102)[_0x32473e('0x95')](([_0x204cd7])=>!_0x243dde||!SourceUtil[_0x32473e('0xa0')](_0x204cd7))[_0x32473e('0xae')](([_0x2766a3,_0x107c0])=>Vetools[_0x32473e('0xe')](Vetools[_0x32473e('0x51')](_0x107c0))));return{'spell':_0x3039b1[_0x32473e('0xae')](_0x1d3a21=>MiscUtil['copy'](_0x1d3a21[_0x32473e('0x77')]))['flat']()};}static async[_0x175258('0x2d')](_0x123844=![]){const _0x48efe1=_0x175258,_0x4eb5a2=await Vetools[_0x48efe1('0x62')](),_0x35ead4=await Promise[_0x48efe1('0x57')](Object[_0x48efe1('0x8f')](_0x4eb5a2)[_0x48efe1('0x95')](([_0x438928])=>!_0x123844||!SourceUtil['isNonstandardSource'](_0x438928))[_0x48efe1('0xae')](async([_0x4d8d80,_0x340818])=>({'source':_0x4d8d80,'json':await Vetools[_0x48efe1('0xe')](Vetools[_0x48efe1('0x84')](_0x340818))})));return{'monster':_0x35ead4[_0x48efe1('0xae')](_0x480e7c=>MiscUtil[_0x48efe1('0x24')](_0x480e7c[_0x48efe1('0x9a')][_0x48efe1('0x22')][_0x48efe1('0x95')](_0x505251=>_0x505251[_0x48efe1('0xa6')]===_0x480e7c[_0x48efe1('0xa6')])))[_0x48efe1('0x34')]()};}static async['_pGetHomebrewIndex'](){const _0x39be5d=_0x175258;let _0x34fc1d={};try{_0x34fc1d=await DataUtil['brew'][_0x39be5d('0xb0')]();}catch(_0x2427b6){ui[_0x39be5d('0x28')][_0x39be5d('0xad')](_0x39be5d('0xf')+VeCt['STR_SEE_CONSOLE']),setTimeout(()=>{throw _0x2427b6;});}return _0x34fc1d;}static async['pGetHomebrewSources'](..._0x2d2e51){const _0x4c33b9=_0x175258,_0x392110=await StorageUtil['pGet'](_0x4c33b9('0xb4')),_0x560e0a=new Set();return _0x2d2e51[_0x4c33b9('0xae')](_0x7b7168=>{const _0x46e7be=_0x4c33b9;return Object[_0x46e7be('0xb7')](Vetools[_0x46e7be('0x12')][BrewUtil[_0x46e7be('0x7e')](_0x7b7168)]||{})[_0x46e7be('0xae')](_0x1004f2=>{const _0x486fdf=_0x46e7be;if(_0x560e0a[_0x486fdf('0x40')](_0x1004f2))return null;return _0x560e0a[_0x486fdf('0x6f')](_0x1004f2),{'url':DataUtil[_0x486fdf('0x63')]['getFileUrl'](_0x1004f2,_0x392110),'name':_0x1004f2['split']('/')[_0x486fdf('0xd')](0x1)[_0x486fdf('0x9f')]('/')[_0x486fdf('0x25')](/\.json$/i,'')};});})[_0x4c33b9('0x34')]()[_0x4c33b9('0x95')](Boolean)['sort']((_0x356d3b,_0x22554a)=>SortUtil[_0x4c33b9('0x33')](_0x356d3b[_0x4c33b9('0x72')],_0x22554a['name']));}static[_0x175258('0x85')](_0x300f0a,_0x4aaa0d){const _0x492038=_0x175258;if(!_0x4aaa0d)return _0x300f0a;return _0x4aaa0d[_0x492038('0xae')](_0x13739d=>{const _0x3e7691=_0x492038;return _0x300f0a[_0x13739d]=_0x300f0a[_0x13739d]||[],_0x300f0a[_0x13739d][_0x3e7691('0x8d')](_0x4d03fa=>_0x4d03fa[_0x3e7691('0x8e')]=_0x13739d),_0x300f0a[_0x13739d];})[_0x492038('0x34')]();}static async['pGetSpellAdditionalData'](){const _0x1feae3=_0x175258,_0x53e2a9=Vetools['BASE_SITE_URL']+'data/spells/foundry.json';return Vetools[_0x1feae3('0xe')](_0x53e2a9);}static async[_0x175258('0xa1')](){const _0x2eb63b=_0x175258,_0x3a71ca=Vetools[_0x2eb63b('0x91')]+_0x2eb63b('0xb3');return Vetools['pGetWithCache'](_0x3a71ca);}static async[_0x175258('0x83')](){const _0x4ade75=_0x175258,_0x2f7c9a=Vetools[_0x4ade75('0x91')]+_0x4ade75('0x80');return Vetools[_0x4ade75('0xe')](_0x2f7c9a);}static async[_0x175258('0xba')](_0x35758e){const _0x30bc03=_0x175258,_0x55530d=_0x30bc03('0x99')+_0x35758e+_0x30bc03('0x0'),_0x41310a=_0x30bc03('0x74')+SharedConsts[_0x30bc03('0x16')]+_0x30bc03('0x55')+_0x55530d;return Vetools[_0x30bc03('0xe')](_0x41310a);}static get[_0x175258('0x91')](){const _0x2114b6=_0x175258;let _0x2107d1=Config[_0x2114b6('0x8a')](_0x2114b6('0x14'),_0x2114b6('0xa5'));if(_0x2107d1&&_0x2107d1[_0x2114b6('0x32')]())return _0x2107d1=_0x2107d1['replace'](/^(.*?)([\\/]+)$/,_0x2114b6('0x4e')),_0x2107d1;return Vetools[_0x2114b6('0x88')];}static get['DATA_URL_FEATS'](){const _0x2b6574=_0x175258;return Vetools[_0x2b6574('0x91')]+_0x2b6574('0xbe');}static get['DATA_URL_BACKGROUNDS'](){const _0x473ee9=_0x175258;return Vetools['BASE_SITE_URL']+_0x473ee9('0xbd');}static get[_0x175258('0x38')](){const _0x2c16d8=_0x175258;return Vetools[_0x2c16d8('0x91')]+'data/variantrules.json';}static get[_0x175258('0x1a')](){const _0x21834a=_0x175258;return Vetools[_0x21834a('0x91')]+_0x21834a('0x7');}static get[_0x175258('0x47')](){const _0x1d144e=_0x175258;return Vetools[_0x1d144e('0x91')]+_0x1d144e('0x59');}static get['DATA_URL_CONDITIONSDISEASES'](){const _0x1e02e5=_0x175258;return Vetools[_0x1e02e5('0x91')]+'data/conditionsdiseases.json';}static get['DATA_URL_VEHICLES'](){const _0x44b3eb=_0x175258;return Vetools[_0x44b3eb('0x91')]+'data/vehicles.json';}}Vetools['CACHED_REQUESTS']={},Vetools['CACHE_REQUESTS_IN_FLIGHT']={},Vetools['_BASE_SITE_URL']='https://5e.tools/',Vetools[_0x175258('0x6')]=null,Vetools[_0x175258('0x82')]=null,Vetools[_0x175258('0x21')]={},Vetools['HOMEBREW_META_SOURCES']={},Vetools[_0x175258('0x2a')]=null,Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE']=null;export{Vetools};