const _0x3318=['then','foundrySpell','withCustomDiceRenderingPatch','99476kyQuXN','flat','_MAX_Z_INDEX','Z_INDEX_MAX_FOUNDRY','DATA_URL_VEHICLES','style=\x22color:\x20#','2814025dqeynP','Loaded\x20homebrew\x20index.','getAdventureUrl','pGet','_pGetHomebrewIndex','slice','foundryClassFeature','importAdventure','_pGetAdventureBookIndex','sort','pBuildList','adventures.json','getTokenUrl','pGetClassSubclassFeatureAdditionalData','warning','pAddToHomebrew','$getHoverContent_miscCode','vehicle','DATA_URL_FEATS','bind','ascSortLower','MIN_Z_INDEX','CACHED_REQUESTS','abbreviation','Unhandled\x20entity\x20type\x20\x22','386697dJzzMM','entries','Failed\x20to\x20load\x20homebrew\x20index!\x20','pGetSpellIndex','table','internal','824034CfwqmT','filter','json','_getAdventureBookUrl','STR_SEE_CONSOLE','HOMEBREW_COLLECTION_INDEX','data/changelog.json','data/spells/index.json','tokenUrl','special','pDoMetaMerge','pLoadPropIndex','url','doMonkeyPatch','cacheKey','init','baseUrl','HOMEBREW_META_SOURCES','href','images','$getHoverContent_stats','keys','getRollableEntryDice','https://5e.tools/','modules/','item','info','/data/','getCreatureUrl','replace','notifications','hasToken','doToast','loadJSON','homebrewMeta','homebrew','_STORABLE','img/','hasTokenUrl','type','getJsonSources','data/variantrules.json','sourceJsonToFull','216556kDRGdk','danger','forEach','_pubDate','28bPTvUI','pGetOptionalFeatureAdditionalData','has','getFileUrl','color','pGetAllCreatures','class','pGetBookIndex','withUnpatchedDiceRendering','data/vehicles.json','data/spells/','path','pGetCreatureIndex','_BASE_SITE_URL','toLowerCase','pPreloadMeta','pGetSpellAdditionalData','link','[[/r\x20','toMessage','dice','data/psionics.json','$getHoverContent_fluff','copy','pGetCreatureFluffIndex','data/foundry-optionalfeatures.json','_meta','pGetClient','book','pGetAllSpells','setBaseUrl','getValidColor','hover','BESTIARY_FLUFF_INDEX','full','pDoPreload','toRoll','__prop','plutonium.configUpdate','BASE_SITE_URL','setBaseMediaUrl','monster','map','pGetItemFluff','_getTokenUrl','trim','_CACHED_GET_ROLLABLE_ENTRY_DICE','pGetRaces','data/bestiary/','log','_PATCHED_GET_ROLLABLE_ENTRY_DICE','DATA_URL_OPTIONALFEATURES','pGetHomebrewSources','RUN_TIME','string','indexUrl','HOMEBREW_INDEX','DATA_URL_CONDITIONSDISEASES','CACHE_REQUESTS_IN_FLIGHT','1682926bOCall','import','16460YjSNiu','min','foundrySubclassFeature','data','baseSiteUrl','data/feats.json','includes','PG_MANAGE_BREW','pSet','pGetWithCache','$getHoverContent_generic','pGetRaceAdditionalData','last','data/foundry-races.json','join','$getHoverContent_statsCode','4zbKMkb','parse','warn','data/spells/foundry.json','isNoLocalData','pGetChangelog','options','data/','pGetAdventureIndex','get','sources','published','pSetClient','$1/','pGetIconLookup','loadRawJSON','error','adventure','all','getContent','name','img','content','values','books.json','NO_PAGE','split','add','race','getInternalImageUrl','source','1970-01-01','prompt','getSpellUrl','pDoHandleBrewJson','pGetClasses','MODULE_NAME','_PAGE','pLoadImporterSourceSpecial','length'];const _0x16d3=function(_0x5d0739,_0x3fc79b){_0x5d0739=_0x5d0739-0xad;let _0x331889=_0x3318[_0x5d0739];return _0x331889;};const _0x3a0369=_0x16d3;(function(_0x129c8f,_0x2efcdd){const _0x641358=_0x16d3;while(!![]){try{const _0x38f1e2=-parseInt(_0x641358(0x176))+parseInt(_0x641358(0xc9))+parseInt(_0x641358(0xcf))+-parseInt(_0x641358(0x14b))*parseInt(_0x641358(0xfa))+-parseInt(_0x641358(0x139))+parseInt(_0x641358(0x13b))*-parseInt(_0x641358(0xfe))+parseInt(_0x641358(0xb0));if(_0x38f1e2===_0x2efcdd)break;else _0x129c8f['push'](_0x129c8f['shift']());}catch(_0x350e1d){_0x129c8f['push'](_0x129c8f['shift']());}}}(_0x3318,0xdf732));import{SharedConsts}from'../shared/SharedConsts.js';import{Consts}from'./Consts.js';import{JqueryExtension}from'./JqueryExtension.js';import{Config}from'./Config.js';import{GameStorage}from'./GameStorage.js';import{LGT}from'./Util.js';class NotAxios{static async[_0x3a0369(0x154)](_0x298b42){const _0x49196e=_0x3a0369;return{'data':await(await fetch(_0x298b42))[_0x49196e(0xd1)]()};}}class Vetools{static async[_0x3a0369(0x121)](){const _0x5331be=_0x3a0369;await Promise[_0x5331be(0x15d)]([Vetools[_0x5331be(0x11f)]=await Vetools[_0x5331be(0x116)](),DataUtil[_0x5331be(0x127)][_0x5331be(0x10d)]()]),Vetools[_0x5331be(0xb4)]()[_0x5331be(0x173)](_0x285e4a=>{const _0x1b7241=_0x5331be;Vetools[_0x1b7241(0x136)]=_0x285e4a,console[_0x1b7241(0x12f)](...LGT,_0x1b7241(0xb1));})['catch'](_0x18d591=>{const _0x14ea69=_0x5331be;Vetools['HOMEBREW_INDEX']={},ui['notifications'][_0x14ea69(0x15b)](_0x14ea69(0xcb)+VeCt[_0x14ea69(0xd3)]),setTimeout(()=>{throw _0x18d591;});});}static[_0x3a0369(0x106)](_0x1bb154){const _0x4b2096=_0x3a0369;Renderer['getRollableEntryDice']=Vetools[_0x4b2096(0x12c)];const _0x386a4a=_0x1bb154();return Renderer[_0x4b2096(0xe5)]=Vetools['_PATCHED_GET_ROLLABLE_ENTRY_DICE'],_0x386a4a;}static[_0x3a0369(0x175)](_0x1d265e,_0xcefeb0){const _0xf8d70d=_0x3a0369;Renderer[_0xf8d70d(0xe5)]=_0xcefeb0;const _0xb6eef4=_0x1d265e();return Renderer[_0xf8d70d(0xe5)]=Vetools[_0xf8d70d(0x130)],_0xb6eef4;}static[_0x3a0369(0xdc)](){const _0x55fa10=_0x3a0369;JqueryExtension[_0x55fa10(0xde)](),StorageUtil[_0x55fa10(0x143)]=GameStorage[_0x55fa10(0x157)][_0x55fa10(0xc3)](GameStorage),StorageUtil[_0x55fa10(0xb3)]=GameStorage[_0x55fa10(0x119)][_0x55fa10(0xc3)](GameStorage),Renderer[_0x55fa10(0x154)]()['setBaseUrl'](Vetools[_0x55fa10(0x125)]);if(Config[_0x55fa10(0x154)]('import','isUseLocalImages'))Renderer['get']()[_0x55fa10(0x126)]('img',_0x55fa10(0xe7)+SharedConsts[_0x55fa10(0x16f)]+'/');Hooks['on'](_0x55fa10(0x124),()=>Renderer['get']()[_0x55fa10(0x11c)](Vetools[_0x55fa10(0x125)])),Renderer[_0x55fa10(0x11e)][_0x55fa10(0xc5)]=Consts[_0x55fa10(0xad)]+0x1,Renderer['hover'][_0x55fa10(0x178)]=Renderer[_0x55fa10(0x11e)][_0x55fa10(0xc5)]+0xa,BrewUtil[_0x55fa10(0xf2)]={},BrewUtil[_0x55fa10(0xf1)]={'sources':[]},Vetools['_CACHED_GET_ROLLABLE_ENTRY_DICE']=Renderer[_0x55fa10(0xe5)],Vetools[_0x55fa10(0x130)]=(_0x12aed5,_0x496a9d,_0x291127=!![],_0x4ea2ce)=>{const _0x406e48=_0x55fa10,_0x2cba24=MiscUtil[_0x406e48(0x115)](_0x12aed5);typeof _0x2cba24[_0x406e48(0x122)]!==_0x406e48(0x134)&&(_0x2cba24[_0x406e48(0x122)]=Renderer['legacyDiceToString'](_0x2cba24[_0x406e48(0x122)]));if(_0x2cba24[_0x406e48(0x16b)]){const _0x53e209=Math[_0x406e48(0x13c)](...Object[_0x406e48(0xe4)](_0x2cba24[_0x406e48(0x16b)][_0x406e48(0x151)])['map'](_0x13e70f=>Number(_0x13e70f))[_0x406e48(0xd0)](_0x1e36b5=>_0x2cba24['prompt']['options'][_0x1e36b5]));_0x2cba24[_0x406e48(0x122)]=_0x2cba24['prompt'][_0x406e48(0x151)][_0x53e209];}const _0x3e2b37=_0x2cba24['toRoll'][_0x406e48(0xec)](/#\$.*?\$#/g,'0');return _0x406e48(0x110)+_0x3e2b37+']]'+(_0x3e2b37[_0x406e48(0x10c)]()[_0x406e48(0x12b)]()!==_0x4ea2ce[_0x406e48(0x10c)]()['trim']()?'\x20('+_0x4ea2ce+')':'');},Renderer['getRollableEntryDice']=Vetools[_0x55fa10(0x130)];const _0x4ed12e={},_0x434415=[_0x55fa10(0xe3),_0x55fa10(0x114),_0x55fa10(0x14a),_0x55fa10(0xc0),_0x55fa10(0x145)];_0x434415[_0x55fa10(0xfc)](_0x14b681=>{const _0x365f58=_0x55fa10;_0x4ed12e[_0x14b681]=Renderer[_0x365f58(0x11e)][_0x14b681],Renderer[_0x365f58(0x11e)][_0x14b681]=(..._0x4ee64b)=>{const _0x378449=_0x365f58;Renderer[_0x378449(0xe5)]=Vetools[_0x378449(0x12c)];const _0x57dc08=_0x4ed12e[_0x14b681](..._0x4ee64b);return Renderer[_0x378449(0xe5)]=Vetools[_0x378449(0x130)],_0x57dc08;};}),Renderer[_0x55fa10(0x112)]['rollerClick']=(_0x511901,_0x3d1114,_0x58b184,_0x58c836)=>{const _0x3480c6=_0x55fa10,_0x5e731a=JSON[_0x3480c6(0x14c)](_0x58b184);if(_0x5e731a[_0x3480c6(0x122)])new Roll(_0x5e731a[_0x3480c6(0x122)])[_0x3480c6(0x111)]();},Renderer[_0x55fa10(0x112)]['pRollEntry']=(_0x36b5fa,_0x302ae7,_0x2d7768)=>{const _0x3a6b9b=_0x55fa10;if(_0x36b5fa[_0x3a6b9b(0x122)])new Roll(_0x36b5fa[_0x3a6b9b(0x122)])[_0x3a6b9b(0x111)]();},JqueryUtil[_0x55fa10(0xef)]=_0xe7e88e=>{const _0xd62b0f=_0x55fa10;typeof _0xe7e88e==='string'&&(_0xe7e88e={'content':_0xe7e88e,'type':'info'});_0xe7e88e[_0xd62b0f(0xf6)]=_0xe7e88e[_0xd62b0f(0xf6)]||'info';switch(_0xe7e88e[_0xd62b0f(0xf6)]){case _0xd62b0f(0xbe):return ui[_0xd62b0f(0xed)][_0xd62b0f(0x14d)](_0xe7e88e['content']);case _0xd62b0f(0xfb):return ui['notifications'][_0xd62b0f(0x15b)](_0xe7e88e[_0xd62b0f(0x161)]);default:return ui[_0xd62b0f(0xed)][_0xd62b0f(0xe9)](_0xe7e88e['content']);}},DataUtil['loadJSON']=async _0x3be58b=>Vetools[_0x55fa10(0x144)](_0x3be58b),BrewUtil['hasSourceJson']=_0x20f086=>!!Vetools[_0x55fa10(0xe0)][(_0x20f086||'')[_0x55fa10(0x10c)]()],BrewUtil['sourceJsonToAbv']=_0x390df0=>(Vetools[_0x55fa10(0xe0)][(_0x390df0||'')[_0x55fa10(0x10c)]()]||{})[_0x55fa10(0xc7)]||_0x390df0,BrewUtil[_0x55fa10(0xf9)]=_0x42eba0=>(Vetools[_0x55fa10(0xe0)][(_0x42eba0||'')[_0x55fa10(0x10c)]()]||{})[_0x55fa10(0x120)]||_0x42eba0,BrewUtil['sourceJsonToSource']=_0x5d88e8=>Vetools[_0x55fa10(0xe0)][(_0x5d88e8||'')[_0x55fa10(0x10c)]()],BrewUtil['sourceJsonToStyle']=_0x3f5556=>{const _0x4abb68=_0x55fa10,_0x377d2a=(_0x3f5556||'')['toLowerCase']();if(Vetools[_0x4abb68(0xe0)][_0x377d2a]&&Vetools[_0x4abb68(0xe0)][_0x377d2a][_0x4abb68(0x102)]){const _0x59974b=BrewUtil[_0x4abb68(0x11d)](Vetools[_0x4abb68(0xe0)][_0x377d2a][_0x4abb68(0x102)]);if(_0x59974b[_0x4abb68(0x172)])return _0x4abb68(0xaf)+_0x59974b+';\x22';return'';}else return'';},BrewUtil[_0x55fa10(0xf7)]=()=>Object[_0x55fa10(0x162)](Vetools[_0x55fa10(0xe0)]),BrewUtil['_STORABLE']=[...BrewUtil[_0x55fa10(0xf3)],_0x55fa10(0x174),_0x55fa10(0xb6),_0x55fa10(0x13d),'foundryOptionalfeature'],BrewUtil[_0x55fa10(0x170)]=UrlUtil[_0x55fa10(0x142)],BrewUtil['_pCleanSaveBrew']=()=>{};}static['addToHomebrewSourceLookup'](_0x130f04){const _0x36f182=_0x3a0369;_0x130f04[_0x36f182(0x118)]&&_0x130f04[_0x36f182(0x118)][_0x36f182(0x155)]&&_0x130f04[_0x36f182(0x118)][_0x36f182(0x155)][_0x36f182(0xfc)](_0x47f34c=>Vetools[_0x36f182(0xe0)][(_0x47f34c['json']||'')[_0x36f182(0x10c)]()]=MiscUtil['copy'](_0x47f34c));}static async[_0x3a0369(0xbf)](_0x2c3f55){const _0x5b6b64=_0x3a0369,_0x250f9e=MiscUtil['get'](_0x2c3f55,'_meta','sources');if(!_0x250f9e||!(_0x250f9e instanceof Array)||!_0x250f9e['every'](_0x393c97=>!Parser['SOURCE_JSON_TO_ABV'][_0x393c97['json']]))return;await BrewUtil[_0x5b6b64(0x16d)](_0x2c3f55,_0x5b6b64(0x164));}static async[_0x3a0369(0x144)](_0x384b9a){const _0xdd35e2=_0x3a0369;if(!_0x384b9a[_0xdd35e2(0x141)]('?'))_0x384b9a=_0x384b9a+'?t='+Consts[_0xdd35e2(0x133)];const _0x20312a=_0x384b9a['split'](/(^https?:\/\/)/)[_0xdd35e2(0xd0)](Boolean);_0x20312a[_0x20312a[_0xdd35e2(0x172)]-0x1]=_0x20312a[_0xdd35e2(0x147)]()[_0xdd35e2(0xec)](/\/+/g,'/'),_0x384b9a=_0x20312a[_0xdd35e2(0x149)]('');const _0x311877=_0x384b9a[_0xdd35e2(0x165)]('?')[0x0];if(Vetools[_0xdd35e2(0x138)][_0x311877])return await Vetools[_0xdd35e2(0x138)][_0x311877],Vetools[_0xdd35e2(0xc6)][_0x311877];return Vetools[_0xdd35e2(0x138)][_0x311877]=(async()=>{const _0x172677=_0xdd35e2;let _0x56749e;if(!Config[_0x172677(0x154)](_0x172677(0x13a),_0x172677(0x14f))&&_0x384b9a['startsWith'](Vetools['BASE_SITE_URL']+_0x172677(0x152))){const _0x57bba1=_0x384b9a['split'](Vetools[_0x172677(0x125)])[_0x172677(0xb5)](0x1)[_0x172677(0x149)](Vetools[_0x172677(0x125)]),_0x2ca49b='modules/'+SharedConsts['MODULE_NAME']+'/'+_0x57bba1;_0x56749e=(await NotAxios[_0x172677(0x154)](_0x2ca49b))[_0x172677(0x13e)];}else _0x56749e=(await NotAxios[_0x172677(0x154)](_0x384b9a))['data'];return Vetools['addToHomebrewSourceLookup'](_0x56749e),await Vetools[_0x172677(0xbf)](_0x56749e),await DataUtil[_0x172677(0xd9)](_0x311877,_0x56749e),Vetools[_0x172677(0xc6)][_0x311877]=_0x56749e;})(),await Vetools['CACHE_REQUESTS_IN_FLIGHT'][_0x311877],Vetools[_0xdd35e2(0xc6)][_0x311877];}static async[_0x3a0369(0x171)](_0x5da4c2){const _0x2e4c94=_0x3a0369;let _0x505b34;if(_0x5da4c2[_0x2e4c94(0xd8)][_0x2e4c94(0xdd)])_0x505b34=Vetools[_0x2e4c94(0xc6)][_0x5da4c2[_0x2e4c94(0xd8)]['cacheKey']]||(Vetools['CACHED_REQUESTS'][_0x5da4c2[_0x2e4c94(0xd8)]['cacheKey']]=await _0x5da4c2[_0x2e4c94(0xd8)][_0x2e4c94(0xb3)]());else _0x505b34=await _0x5da4c2[_0x2e4c94(0xd8)]['pGet']();return _0x505b34;}static async[_0x3a0369(0x150)](){const _0x2282c9=_0x3a0369;return Vetools[_0x2282c9(0x144)](Vetools['BASE_SITE_URL']+_0x2282c9(0xd5));}static async['pGetPackageIndex'](){const _0x7fdcdd=_0x3a0369;return Vetools[_0x7fdcdd(0x144)](Config[_0x7fdcdd(0x154)](_0x7fdcdd(0xb7),_0x7fdcdd(0x135)));}static async[_0x3a0369(0xcc)](){const _0x526662=_0x3a0369;return Vetools[_0x526662(0x144)](Vetools[_0x526662(0x125)]+_0x526662(0xd6));}static[_0x3a0369(0x16c)](_0x56f4ad){const _0x4f0a95=_0x3a0369;return Vetools['BASE_SITE_URL']+_0x4f0a95(0x108)+_0x56f4ad;}static async[_0x3a0369(0x10a)](){const _0xf5c3ca=_0x3a0369;return Vetools[_0xf5c3ca(0x144)](Vetools[_0xf5c3ca(0x125)]+'data/bestiary/index.json');}static['getCreatureUrl'](_0x3e0738){const _0x523062=_0x3a0369;return Vetools[_0x523062(0x125)]+_0x523062(0x12e)+_0x3e0738;}static async[_0x3a0369(0x116)](){const _0x19afdc=_0x3a0369;return Vetools['pGetWithCache'](Vetools[_0x19afdc(0x125)]+'data/bestiary/fluff-index.json');}static async['pGetItems'](_0x323115){const _0x5ea045=_0x3a0369;return{'item':await Renderer[_0x5ea045(0xe8)][_0x5ea045(0xba)]({'isAddGroups':!!_0x323115})};}static async[_0x3a0369(0x129)](){const _0x4182b1=_0x3a0369,_0x410d83=Vetools[_0x4182b1(0x125)]+'data/fluff-items.json';return Vetools['pGetWithCache'](_0x410d83);}static async[_0x3a0369(0x12d)](_0x2697bc){const _0x2516ea=_0x3a0369;return DataUtil[_0x2516ea(0x167)][_0x2516ea(0xf0)](_0x2697bc);}static async[_0x3a0369(0x16e)](){const _0x1083ef=_0x3a0369;return DataUtil[_0x1083ef(0x104)][_0x1083ef(0x15a)]();}static async['pGetRollableTables'](){const _0x4b8884=_0x3a0369;return DataUtil[_0x4b8884(0xcd)][_0x4b8884(0xf0)]();}static async[_0x3a0369(0xb8)](_0x10ab37,_0x571108){const _0x263118=_0x3a0369,_0x29d26f=Vetools['BASE_SITE_URL']+_0x263118(0x152)+_0x10ab37,_0x16ed93=await Vetools[_0x263118(0x144)](_0x29d26f);return _0x16ed93[_0x571108]['forEach'](_0x24a15c=>_0x24a15c[_0x263118(0xfd)]=new Date(_0x24a15c[_0x263118(0x156)]||_0x263118(0x16a))),_0x16ed93;}static async[_0x3a0369(0x153)](){const _0x138c1c=_0x3a0369;return this[_0x138c1c(0xb8)](_0x138c1c(0xbb),_0x138c1c(0x15c));}static async[_0x3a0369(0x105)](){const _0x74fc4d=_0x3a0369;return this[_0x74fc4d(0xb8)](_0x74fc4d(0x163),'book');}static[_0x3a0369(0xd2)](_0x3a7e5b,_0x160c76){const _0x121da7=_0x3a0369;return Vetools[_0x121da7(0x125)]+_0x121da7(0x152)+_0x3a7e5b+'/'+_0x3a7e5b+'-'+_0x160c76['toLowerCase']()+'.json';}static[_0x3a0369(0xb2)](_0x35f4a2){const _0x32e9e8=_0x3a0369;return this['_getAdventureBookUrl'](_0x32e9e8(0x15c),_0x35f4a2);}static['getBookUrl'](_0x2cdc39){const _0x3e8eb3=_0x3a0369;return this['_getAdventureBookUrl'](_0x3e8eb3(0x11a),_0x2cdc39);}static['getImageUrlFromFluff'](_0x3361e6){const _0x4795e1=_0x3a0369;if(_0x3361e6&&_0x3361e6[_0x4795e1(0xe2)]&&_0x3361e6[_0x4795e1(0xe2)][0x0]){const _0x5db7d9=_0x3361e6['images'][0x0];if(_0x5db7d9[_0x4795e1(0xe1)]){if(_0x5db7d9[_0x4795e1(0xe1)][_0x4795e1(0xf6)]===_0x4795e1(0xce))return _0x5db7d9[_0x4795e1(0xe1)][_0x4795e1(0x109)]?''+Vetools[_0x4795e1(0x168)](_0x5db7d9[_0x4795e1(0xe1)]['path']):'';else{if(_0x5db7d9[_0x4795e1(0xe1)][_0x4795e1(0xf6)]==='external')return _0x5db7d9[_0x4795e1(0xe1)][_0x4795e1(0xdb)]||'';}}}}static[_0x3a0369(0xf5)](_0x51a008,_0x34c592){const _0x20fb0d=_0x3a0369;return Vetools[_0x20fb0d(0x12a)](_0x51a008,_0x34c592)[_0x20fb0d(0xee)];}static[_0x3a0369(0xbc)](_0x5aa600,_0x5a06c7){const _0x7d5711=_0x3a0369;return Vetools[_0x7d5711(0x12a)](_0x5aa600,_0x5a06c7)[_0x7d5711(0xdb)];}static[_0x3a0369(0x12a)](_0x1c1671,_0x3d84b6){const _0x3e0b6d=_0x3a0369;if(_0x3d84b6['tokenUrl'])return{'url':_0x3d84b6[_0x3e0b6d(0xd7)],'hasToken':!![]};const _0x380e33={'url':UrlUtil[_0x3e0b6d(0x10f)]((Renderer[_0x3e0b6d(0x154)]()['baseMediaUrls'][_0x3e0b6d(0x160)]||Renderer['get']()['baseUrl'])+'img/blank.png'),'hasToken':![]};switch(_0x1c1671){case _0x3e0b6d(0x127):{if(_0x3d84b6[_0x3e0b6d(0xee)])return{'url':Renderer['monster'][_0x3e0b6d(0xbc)](_0x3d84b6),'hasToken':!![]};return _0x380e33;}case _0x3e0b6d(0xc1):{if(_0x3d84b6[_0x3e0b6d(0xee)])return{'url':Renderer[_0x3e0b6d(0xc1)][_0x3e0b6d(0xbc)](_0x3d84b6),'hasToken':!![]};return _0x380e33;}default:throw new Error(_0x3e0b6d(0xc8)+_0x1c1671+'\x22');}}static[_0x3a0369(0x168)](_0x167910){const _0x1bcebf=_0x3a0369;return((Renderer[_0x1bcebf(0x154)]()['baseMediaUrls'][_0x1bcebf(0x160)]||Renderer[_0x1bcebf(0x154)]()[_0x1bcebf(0xdf)])+_0x1bcebf(0xf4)+encodeURIComponent(_0x167910))['replace'](/'/g,'%27');}static async[_0x3a0369(0x11b)](_0x952346=![]){const _0x891997=_0x3a0369,_0x4a57c2=await Vetools['pGetSpellIndex'](),_0xe5acbf=await Promise[_0x891997(0x15d)](Object[_0x891997(0xca)](_0x4a57c2)[_0x891997(0xd0)](([_0xc86752])=>!_0x952346||!SourceUtil['isNonstandardSource'](_0xc86752))[_0x891997(0x128)](([_0x2ed652,_0x13c466])=>Vetools[_0x891997(0x144)](Vetools[_0x891997(0x16c)](_0x13c466))));return{'spell':_0xe5acbf[_0x891997(0x128)](_0x3e7f3b=>MiscUtil[_0x891997(0x115)](_0x3e7f3b['spell']))[_0x891997(0x177)]()};}static async[_0x3a0369(0x103)](_0x25c065=![]){const _0x1b65a5=_0x3a0369,_0xf4d6bb=await Vetools['pGetCreatureIndex'](),_0x218cb8=await Promise['all'](Object[_0x1b65a5(0xca)](_0xf4d6bb)[_0x1b65a5(0xd0)](([_0x1cafbb])=>!_0x25c065||!SourceUtil['isNonstandardSource'](_0x1cafbb))['map'](async([_0x2e05a7,_0xa97724])=>({'source':_0x2e05a7,'json':await Vetools[_0x1b65a5(0x144)](Vetools[_0x1b65a5(0xeb)](_0xa97724))})));return{'monster':_0x218cb8[_0x1b65a5(0x128)](_0x200634=>MiscUtil[_0x1b65a5(0x115)](_0x200634[_0x1b65a5(0xd1)]['monster']['filter'](_0x56392a=>_0x56392a['source']===_0x200634[_0x1b65a5(0x169)])))[_0x1b65a5(0x177)]()};}static async[_0x3a0369(0xb4)](){const _0x26088d=_0x3a0369;let _0x34a03e={};try{_0x34a03e=await DataUtil['brew'][_0x26088d(0xda)]();}catch(_0x487b9e){ui['notifications'][_0x26088d(0x15b)](_0x26088d(0xcb)+VeCt['STR_SEE_CONSOLE']),setTimeout(()=>{throw _0x487b9e;});}return _0x34a03e;}static async[_0x3a0369(0x132)](..._0xca4762){const _0x2a9425=_0x3a0369,_0x11b8a0=await StorageUtil['pGet']('HOMEBREW_CUSTOM_REPO_URL'),_0x442569=new Set();return _0xca4762['map'](_0x2c853e=>{const _0x392c5e=_0x16d3;return Object[_0x392c5e(0xe4)](Vetools[_0x392c5e(0x136)][BrewUtil['dirToProp'](_0x2c853e)]||{})[_0x392c5e(0x128)](_0x149360=>{const _0x33ea80=_0x392c5e;if(_0x442569[_0x33ea80(0x100)](_0x149360))return null;return _0x442569[_0x33ea80(0x166)](_0x149360),{'url':DataUtil['brew'][_0x33ea80(0x101)](_0x149360,_0x11b8a0),'name':_0x149360[_0x33ea80(0x165)]('/')[_0x33ea80(0xb5)](0x1)['join']('/')[_0x33ea80(0xec)](/\.json$/i,'')};});})[_0x2a9425(0x177)]()[_0x2a9425(0xd0)](Boolean)[_0x2a9425(0xb9)]((_0x3abb6f,_0x595fc6)=>SortUtil[_0x2a9425(0xc4)](_0x3abb6f[_0x2a9425(0x15f)],_0x595fc6[_0x2a9425(0x15f)]));}static[_0x3a0369(0x15e)](_0xbc972b,_0x50d1bf){const _0x23fa1b=_0x3a0369;if(!_0x50d1bf)return _0xbc972b;return _0x50d1bf[_0x23fa1b(0x128)](_0x1e03ad=>{const _0x4ee350=_0x23fa1b;return _0xbc972b[_0x1e03ad]=_0xbc972b[_0x1e03ad]||[],_0xbc972b[_0x1e03ad][_0x4ee350(0xfc)](_0x41e2b5=>_0x41e2b5[_0x4ee350(0x123)]=_0x1e03ad),_0xbc972b[_0x1e03ad];})[_0x23fa1b(0x177)]();}static async[_0x3a0369(0x10e)](){const _0x9503c5=_0x3a0369,_0x2e4c8b=Vetools['BASE_SITE_URL']+_0x9503c5(0x14e);return Vetools['pGetWithCache'](_0x2e4c8b);}static async[_0x3a0369(0xff)](){const _0x274a30=_0x3a0369,_0x7428a9=Vetools[_0x274a30(0x125)]+_0x274a30(0x117);return Vetools['pGetWithCache'](_0x7428a9);}static async[_0x3a0369(0xbd)](){const _0x57bc7b=_0x3a0369,_0x6aa8=Vetools[_0x57bc7b(0x125)]+'data/class/foundry.json';return Vetools[_0x57bc7b(0x144)](_0x6aa8);}static async[_0x3a0369(0x146)](){const _0x3b7266=_0x3a0369,_0x54bc73=Vetools['BASE_SITE_URL']+_0x3b7266(0x148);return Vetools[_0x3b7266(0x144)](_0x54bc73);}static async[_0x3a0369(0x159)](_0x248053){const _0x2bcfa2=_0x3a0369,_0x13a802='icon-'+_0x248053+'s.json',_0xf449b4=_0x2bcfa2(0xe7)+SharedConsts[_0x2bcfa2(0x16f)]+_0x2bcfa2(0xea)+_0x13a802;return Vetools['pGetWithCache'](_0xf449b4);}static get[_0x3a0369(0x125)](){const _0x4cb0e6=_0x3a0369;let _0x3d46e7=Config['get'](_0x4cb0e6(0x13a),_0x4cb0e6(0x13f));if(_0x3d46e7&&_0x3d46e7[_0x4cb0e6(0x12b)]())return _0x3d46e7=_0x3d46e7[_0x4cb0e6(0xec)](/^(.*?)([\\/]+)$/,_0x4cb0e6(0x158)),_0x3d46e7;return Vetools[_0x4cb0e6(0x10b)];}static get[_0x3a0369(0xc2)](){const _0x543d69=_0x3a0369;return Vetools[_0x543d69(0x125)]+_0x543d69(0x140);}static get['DATA_URL_BACKGROUNDS'](){const _0xe0a893=_0x3a0369;return Vetools[_0xe0a893(0x125)]+'data/backgrounds.json';}static get['DATA_URL_VARIANTRULES'](){const _0x504e08=_0x3a0369;return Vetools[_0x504e08(0x125)]+_0x504e08(0xf8);}static get['DATA_URL_PSIONICS'](){const _0x4b1334=_0x3a0369;return Vetools[_0x4b1334(0x125)]+_0x4b1334(0x113);}static get[_0x3a0369(0x131)](){return Vetools['BASE_SITE_URL']+'data/optionalfeatures.json';}static get[_0x3a0369(0x137)](){const _0x3e784e=_0x3a0369;return Vetools[_0x3e784e(0x125)]+'data/conditionsdiseases.json';}static get[_0x3a0369(0xae)](){const _0x1cb0c4=_0x3a0369;return Vetools[_0x1cb0c4(0x125)]+_0x1cb0c4(0x107);}}Vetools[_0x3a0369(0xc6)]={},Vetools[_0x3a0369(0x138)]={},Vetools[_0x3a0369(0x10b)]=_0x3a0369(0xe6),Vetools['BESTIARY_FLUFF_INDEX']=null,Vetools['BESTIARY_TOKEN_LOOKUP']=null,Vetools[_0x3a0369(0xd4)]={},Vetools[_0x3a0369(0xe0)]={},Vetools[_0x3a0369(0x12c)]=null,Vetools[_0x3a0369(0x130)]=null;export{Vetools};