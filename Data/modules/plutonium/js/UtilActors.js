const _0x5742=['DND5E','religion','8186jlvEfr','auran','fa-check','entries','celestial','create','PROF_TO_ICON_CLASS','<div>','179966UelVxJ','investigation','14327DpKiSY','importSpell','join','vehicles\x20(land)','abj','type','preparationMode','isFinite','VET_SIZE_TO_ABV','collection','pAddActorEffects','reduce','keys','_VET_CASTER_TYPE_TO_FVTT','spellItemPreparationMode','alchemist\x27s\x20supplies','copy','pois','nec','fa-adjust','musical\x20instrument','druidic','map','getActorSpellItemOpts','performance','casterLevel','getMappedCasterType','_data','localize','thief','medicine','getAbilityScore','value','_VALID_TOOL_PROFICIENCIES','stealth','toLowerCase','getModelBarAttributes','div','ActiveEffect','TOKEN.BarAttributes','damageTypes','forgery\x20kit','languages','class','doShowSheetItem','gnomish','orc','levels','fa-check-double','init','description','herbalism\x20kit','abilities','1aRJByp','common','264283NJfICb','19SrvKkT','_VALID_LANGUAGES','abyssal','aquan','VALID_LANGUAGES','getMappedLanguage','nature','push','TOKEN.BarValues','trim','aarakocra','level','music','47598tujvcU','attributes','third','ignan','getTotalClassLevels','CASTER_TYPE_TO_PROGRESSION','VALID_DAMAGE_TYPES','53dilBGa','spellcasting','includes','undercommon','vehicle','localeCompare','halfling','warn','VALID_CONDITIONS','ill','_pAddActorEmbeddedEntities','14dpZRtq','artisan\x27s\x20tools','actorSpellPreparationMode','</div>','perception','navigator\x27s\x20tools','568XmxGZR','details','getMappedTool','persuasion','terran','sylvan','game','getSpellItemItemOpts','trs','createEmbeddedEntity','max','grg','intimidation','_TOOL_PROFICIENCIES','gith','items','getActorBarAttributes','cartographer\x27s\x20tools','infernal','goblin','primordial','deep','abilityAbv','getCasterLevel','get','huge','prepareSpellItems','half','conditionTypes','full','tiny','data','SKILL_ABV_TO_FULL','insight','flat','sleight\x20of\x20hand','thieves\x27\x20tools','draconic','bar','name','replace','getOwnedItem','163670CkmdkC','VET_SPELL_SCHOOL_TO_ABV','getTrackedAttributes','history','i18n','con','enc','roll'];const _0x2900=function(_0x13cd89,_0x59a798){_0x13cd89=_0x13cd89-0x13b;let _0x574252=_0x5742[_0x13cd89];return _0x574252;};const _0x3291ca=_0x2900;(function(_0x13e2da,_0x486ef9){const _0x1f48d2=_0x2900;while(!![]){try{const _0x5279b9=parseInt(_0x1f48d2(0x15f))+-parseInt(_0x1f48d2(0x1a6))+-parseInt(_0x1f48d2(0x14d))+parseInt(_0x1f48d2(0x157))*parseInt(_0x1f48d2(0x199))+parseInt(_0x1f48d2(0x161))*-parseInt(_0x1f48d2(0x1b8))+parseInt(_0x1f48d2(0x1ad))*-parseInt(_0x1f48d2(0x1be))+parseInt(_0x1f48d2(0x198))*parseInt(_0x1f48d2(0x196));if(_0x5279b9===_0x486ef9)break;else _0x13e2da['push'](_0x13e2da['shift']());}catch(_0x359583){_0x13e2da['push'](_0x13e2da['shift']());}}}(_0x5742,0x26889));import{Config}from'./Config.js';import{Consts}from'./Consts.js';class UtilActors{static[_0x3291ca(0x192)](){const _0x2ddfbc=_0x3291ca;UtilActors['VALID_LANGUAGES']=Object[_0x2ddfbc(0x16d)](MiscUtil[_0x2ddfbc(0x13b)](CONFIG,_0x2ddfbc(0x155),_0x2ddfbc(0x18b))||{}),UtilActors[_0x2ddfbc(0x1ac)]=Object[_0x2ddfbc(0x16d)](MiscUtil['get'](CONFIG,_0x2ddfbc(0x155),_0x2ddfbc(0x189))||{}),UtilActors[_0x2ddfbc(0x1b5)]=Object[_0x2ddfbc(0x16d)](MiscUtil[_0x2ddfbc(0x13b)](CONFIG,_0x2ddfbc(0x155),_0x2ddfbc(0x13f))||{});}static[_0x3291ca(0x18d)](_0x283b4a,_0x286732,_0x17ec8d){const _0x5a0377=_0x3291ca,_0x68ba4b=Actor[_0x5a0377(0x16a)][_0x5a0377(0x13b)](_0x286732);if(!_0x68ba4b)return;const _0x182f36=_0x68ba4b[_0x5a0377(0x14c)](_0x17ec8d);if(!_0x182f36)return;return _0x182f36[_0x5a0377(0x154)]();}static['getCasterLevel'](_0x33ce48){const _0x4bcc78=_0x3291ca,_0x5dd01d=MiscUtil[_0x4bcc78(0x13b)](_0x33ce48,'data','items');if(!_0x5dd01d)return 0x0;return Math['max'](0x0,..._0x5dd01d['map'](_0x25e419=>{const _0x19816c=_0x4bcc78;if(_0x25e419[_0x19816c(0x14a)]&&_0x25e419[_0x19816c(0x14a)]['toLowerCase']()[_0x19816c(0x1af)](_0x19816c(0x1ae))){const _0x1e5d72=MiscUtil[_0x19816c(0x13b)](_0x25e419,_0x19816c(0x142),_0x19816c(0x193));if(_0x1e5d72){let _0x82b6c8=_0x1e5d72[_0x19816c(0x181)]||'';try{_0x82b6c8=$(_0x19816c(0x15e)+_0x82b6c8+_0x19816c(0x1bb))['text']();}catch(_0x599ed8){console[_0x19816c(0x1b4)]('Failed\x20to\x20parse\x20spellcasting\x20description\x20as\x20HTML!');}_0x82b6c8=_0x82b6c8[_0x19816c(0x1a2)]();if(!_0x82b6c8)return 0x0;let _0xbeb8a4=0x0;return _0x82b6c8[_0x19816c(0x14b)](/an? (\d+)[A-Za-z]+-level/i,(..._0x444917)=>{const _0xb83729=Number(_0x444917[0x1]);if(!isNaN(_0xb83729))_0xbeb8a4=_0xb83729;}),_0xbeb8a4;}}else return 0x0;})['filter'](Boolean));}static[_0x3291ca(0x180)](_0x3e012b,_0x5ec1d0){const _0x4758a5=_0x3291ca,_0x4bd38c=MiscUtil[_0x4758a5(0x13b)](_0x3e012b,_0x4758a5(0x142),'data',_0x4758a5(0x195),_0x5ec1d0,_0x4758a5(0x181));return _0x4bd38c==null||isNaN(_0x4bd38c)?0xa:Number(_0x4bd38c);}static[_0x3291ca(0x178)](_0x200703){const _0x4b122e=_0x3291ca,_0x1da1a6={'isPrepared':!!Config[_0x4b122e(0x13b)]('importSpell','prepareActorSpells'),'preparationMode':Config[_0x4b122e(0x13b)](_0x4b122e(0x162),_0x4b122e(0x1ba))};if(!_0x200703||MiscUtil['get'](_0x200703,'data',_0x4b122e(0x14a))===Consts['ACTOR_TEMP_NAME'])return _0x1da1a6;const _0x2e9862=MiscUtil[_0x4b122e(0x13b)](_0x200703,_0x4b122e(0x142),'data',_0x4b122e(0x1a7),'spellcasting');if(_0x2e9862)_0x1da1a6[_0x4b122e(0x1d4)]=_0x2e9862[_0x4b122e(0x181)];const _0x317e09=MiscUtil[_0x4b122e(0x13b)](_0x200703,'data',_0x4b122e(0x142),_0x4b122e(0x1bf),_0x4b122e(0x18c),_0x4b122e(0x1a4));if(_0x317e09)_0x1da1a6[_0x4b122e(0x17a)]=_0x317e09;else _0x1da1a6[_0x4b122e(0x17a)]=UtilActors[_0x4b122e(0x1d5)](_0x200703);return _0x1da1a6;}static[_0x3291ca(0x1c5)](){const _0x4cd5dc=_0x3291ca,_0x388538={};return _0x388538['isPrepared']=!!Config[_0x4cd5dc(0x13b)](_0x4cd5dc(0x162),_0x4cd5dc(0x13d)),_0x388538[_0x4cd5dc(0x167)]=Config[_0x4cd5dc(0x13b)]('importSpell',_0x4cd5dc(0x16f)),_0x388538;}static async['pAddActorItems'](_0x53eb5a,_0x2659d0,_0x3bb9d1){const _0x54e24d=_0x3291ca;return this[_0x54e24d(0x1b7)]({'actor':_0x53eb5a,'embeds':_0x2659d0,'isTemporary':_0x3bb9d1,'propData':'items','ClsEmbed':Item,'embedName':'OwnedItem'});}static async[_0x3291ca(0x16b)](_0x1e8759,_0x443fa9,_0x25cf1c){const _0x37bbb0=_0x3291ca;return this[_0x37bbb0(0x1b7)]({'actor':_0x1e8759,'embeds':_0x443fa9,'isTemporary':_0x25cf1c,'propData':'effects','ClsEmbed':ActiveEffect,'embedName':_0x37bbb0(0x187)});}static async[_0x3291ca(0x1b7)]({actor:_0x421186,embeds:_0x360400,isTemporary:_0x18a86f,propData:_0x566d2f,ClsEmbed:_0x4043a1,embedName:_0x5ccaec}){const _0x7e40cf=_0x3291ca;if(_0x18a86f){const _0x311e13=await _0x4043a1[_0x7e40cf(0x15c)](_0x360400,{'temporary':!![]});(_0x421186[_0x7e40cf(0x142)][_0x566d2f]=_0x421186[_0x7e40cf(0x142)][_0x566d2f]||[])[_0x7e40cf(0x1a0)](...[_0x311e13][_0x7e40cf(0x145)]()['map'](_0x41ded5=>_0x41ded5[_0x7e40cf(0x142)])),MiscUtil['set'](_0x421186,_0x7e40cf(0x17c),_0x566d2f,MiscUtil[_0x7e40cf(0x171)](_0x421186['data'][_0x566d2f]));}else await _0x421186[_0x7e40cf(0x1c7)](_0x5ccaec,_0x360400,{});}static[_0x3291ca(0x1c0)](_0x53507b){const _0x2d7fbf=_0x3291ca;return _0x53507b=_0x53507b[_0x2d7fbf(0x184)]()['trim'](),this['_VALID_TOOL_PROFICIENCIES'][_0x53507b];}static[_0x3291ca(0x19e)](_0x5e2ecf){const _0x44602a=_0x3291ca;return _0x5e2ecf=_0x5e2ecf[_0x44602a(0x184)]()[_0x44602a(0x1a2)](),this[_0x44602a(0x19a)][_0x5e2ecf];}static[_0x3291ca(0x17b)](_0x16dbc4){const _0x50b532=_0x3291ca;if(!_0x16dbc4)return _0x16dbc4;return UtilActors[_0x50b532(0x16e)][_0x16dbc4];}static[_0x3291ca(0x185)](_0x4885e5){const _0x2cd0d1=_0x3291ca;function _0x33f3b0(_0x129e78,_0x576667,_0x25f7b0){const _0x41b027=_0x2900;for(let [_0x257da4,_0x1b8b34]of Object[_0x41b027(0x15a)](_0x576667)){const _0x379e8a=[..._0x25f7b0,_0x257da4];if(_0x1b8b34 instanceof Object){const _0x1d6af4=Number[_0x41b027(0x168)](parseFloat(_0x1b8b34[_0x41b027(0x181)]))&&Number[_0x41b027(0x168)](parseFloat(_0x1b8b34[_0x41b027(0x1c8)]));if(_0x1d6af4)_0x129e78[_0x41b027(0x1a0)](_0x379e8a);else _0x33f3b0(_0x129e78,_0x576667[_0x257da4],_0x379e8a);}else Number['isFinite'](_0x1b8b34)&&_0x129e78[_0x41b027(0x1a0)](_0x379e8a);}}const _0x16d374=[];return _0x33f3b0(_0x16d374,_0x4885e5,[]),_0x16d374['map'](_0x59e781=>_0x59e781[_0x2cd0d1(0x163)]('.'));}static[_0x3291ca(0x1ce)](_0x171d71){const _0x381dd6=_0x3291ca;if(!_0x171d71)return[];const _0x1607f9=TokenConfig[_0x381dd6(0x14f)](_0x171d71[_0x381dd6(0x142)][_0x381dd6(0x142)],[]);return _0x1607f9['bar']=_0x1607f9[_0x381dd6(0x149)][_0x381dd6(0x177)](_0x3ff76a=>_0x3ff76a[_0x381dd6(0x163)]('.')),_0x1607f9[_0x381dd6(0x149)]['sort']((_0x331030,_0x3cf30b)=>_0x331030[_0x381dd6(0x1b2)](_0x3cf30b)),_0x1607f9[_0x381dd6(0x181)]=_0x1607f9[_0x381dd6(0x181)]['map'](_0x299ee6=>_0x299ee6['join']('.')),_0x1607f9['value']['sort']((_0x25440d,_0x34e265)=>_0x25440d[_0x381dd6(0x1b2)](_0x34e265)),{[game[_0x381dd6(0x151)]['localize'](_0x381dd6(0x188))]:_0x1607f9[_0x381dd6(0x149)],[game[_0x381dd6(0x151)][_0x381dd6(0x17d)](_0x381dd6(0x1a1))]:_0x1607f9[_0x381dd6(0x181)]};}static[_0x3291ca(0x1aa)](_0x1ab73f){const _0x303e14=_0x3291ca;return(MiscUtil[_0x303e14(0x13b)](_0x1ab73f,'data',_0x303e14(0x1cd))||[])['filter'](_0x3cb796=>_0x3cb796[_0x303e14(0x166)]===_0x303e14(0x18c))[_0x303e14(0x177)](_0x2dd1c0=>MiscUtil['get'](_0x2dd1c0,_0x303e14(0x142),_0x303e14(0x190))||0x0)[_0x303e14(0x16c)]((_0x3155c8,_0x5f18e1)=>_0x3155c8+_0x5f18e1,0x0);}}UtilActors[_0x3291ca(0x143)]={'acr':'acrobatics','ani':'animal\x20handling','arc':'arcana','ath':'athletics','dec':'deception','his':_0x3291ca(0x150),'ins':_0x3291ca(0x144),'itm':_0x3291ca(0x1ca),'inv':_0x3291ca(0x160),'med':_0x3291ca(0x17f),'nat':_0x3291ca(0x19f),'prc':_0x3291ca(0x1bc),'prf':_0x3291ca(0x179),'per':_0x3291ca(0x1c1),'rel':_0x3291ca(0x156),'slt':_0x3291ca(0x146),'ste':_0x3291ca(0x183),'sur':'survival'},UtilActors[_0x3291ca(0x15d)]={'1':_0x3291ca(0x159),'2':_0x3291ca(0x191),'0.5':_0x3291ca(0x174)},UtilActors[_0x3291ca(0x169)]={[SZ_TINY]:_0x3291ca(0x141),[SZ_SMALL]:'sm',[SZ_MEDIUM]:'med',[SZ_LARGE]:'lg',[SZ_HUGE]:_0x3291ca(0x13c),[SZ_GARGANTUAN]:_0x3291ca(0x1c9)},UtilActors[_0x3291ca(0x14e)]={'A':_0x3291ca(0x165),'C':_0x3291ca(0x152),'D':_0x3291ca(0x186),'E':_0x3291ca(0x153),'V':'evo','I':_0x3291ca(0x1b6),'N':_0x3291ca(0x173),'T':_0x3291ca(0x1c6)},UtilActors[_0x3291ca(0x1ab)]={'full':[[0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x1,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x2,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x1,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x2,0x1,0x1]],'artificer':[[0x2,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/2':[[0x0,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/3':[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x1],[0x4,0x3,0x3,0x1]],'pact':[[0x1,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4]]},UtilActors[_0x3291ca(0x19d)]=null,UtilActors[_0x3291ca(0x1ac)]=null,UtilActors[_0x3291ca(0x1b5)]=null,UtilActors[_0x3291ca(0x1cb)]=[_0x3291ca(0x1b9),_0x3291ca(0x1cf),'disguise\x20kit',_0x3291ca(0x18a),'gaming\x20set',_0x3291ca(0x194),_0x3291ca(0x175),_0x3291ca(0x1bd),_0x3291ca(0x147),_0x3291ca(0x164),'vehicles\x20(water)',_0x3291ca(0x170)],UtilActors[_0x3291ca(0x182)]={'artisan\x27s\x20tools':'art','disguise\x20kit':'disg','forgery\x20kit':'forg','gaming\x20set':'game','dice\x20set':'game','dragonchess\x20set':_0x3291ca(0x1c4),'playing\x20card\x20set':_0x3291ca(0x1c4),'three-dragon\x20ante\x20set':_0x3291ca(0x1c4),'herbalism\x20kit':'herb','musical\x20instrument':_0x3291ca(0x1a5),'bagpipes':'music','drum':_0x3291ca(0x1a5),'dulcimer':_0x3291ca(0x1a5),'flute':_0x3291ca(0x1a5),'lute':_0x3291ca(0x1a5),'lyre':_0x3291ca(0x1a5),'horn':_0x3291ca(0x1a5),'pan\x20flute':_0x3291ca(0x1a5),'shawm':_0x3291ca(0x1a5),'viol':_0x3291ca(0x1a5),'navigator\x27s\x20tools':'navg','poisoner\x27s\x20kit':_0x3291ca(0x172),'thieves\x27\x20tools':_0x3291ca(0x17e),'vehicle\x20(land\x20or\x20water)':_0x3291ca(0x1b1)},UtilActors['_VALID_LANGUAGES']={'common':_0x3291ca(0x197),'aarakocra':_0x3291ca(0x1a3),'abyssal':_0x3291ca(0x19b),'aquan':_0x3291ca(0x19c),'auran':_0x3291ca(0x158),'celestial':_0x3291ca(0x15b),'deep\x20speech':_0x3291ca(0x1d3),'draconic':_0x3291ca(0x148),'druidic':_0x3291ca(0x176),'dwarvish':'dwarvish','elvish':'elvish','giant':'giant','gith':_0x3291ca(0x1cc),'gnomish':_0x3291ca(0x18e),'goblin':_0x3291ca(0x1d1),'gnoll':'gnoll','halfling':_0x3291ca(0x1b3),'ignan':_0x3291ca(0x1a9),'infernal':_0x3291ca(0x1d0),'orc':_0x3291ca(0x18f),'primordial':_0x3291ca(0x1d2),'sylvan':_0x3291ca(0x1c3),'terran':_0x3291ca(0x1c2),'thieves\x27\x20cant':'cant','undercommon':_0x3291ca(0x1b0)},UtilActors['_VET_CASTER_TYPE_TO_FVTT']={'full':_0x3291ca(0x140),'1/2':_0x3291ca(0x13e),'1/3':_0x3291ca(0x1a8),'pact':'pact'};export{UtilActors};