'use strict';const _0xabbc=['join','stealth','getModelBarAttributes','getTotalClassLevels','CASTER_TYPE_TO_PROGRESSION','type','gaming\x20set','getOwnedItem','getMappedTool','fa-adjust','1103924RHZhZd','damageTypes','casterLevel','PROF_TO_ICON_CLASS','game','animal\x20handling','get','sylvan','fa-check-double','disg','enc','getMappedCasterType','sort','cartographer\x27s\x20tools','artisan\x27s\x20tools','getSpellItemItemOpts','deep','1BJcqTn','flat','getMappedLanguage','insight','navigator\x27s\x20tools','ignan','trim','div','arcana','collection','keys','VALID_DAMAGE_TYPES','intimidation','vehicles\x20(water)','filter','</div>','elvish','grg','actorSpellPreparationMode','_VALID_LANGUAGES','replace','forg','con','navg','<div>','languages','93229XnfgHY','herbalism\x20kit','sleight\x20of\x20hand','persuasion','evo','408827YIhjlV','text','1mHSSUA','name','pois','695350WhxZrp','create','prepareActorSpells','attributes','disguise\x20kit','ill','data','class','1ROUoXa','toLowerCase','reduce','history','init','DND5E','push','includes','roll','112293QtjtpW','art','abilities','terran','perception','halfling','map','full','pAddActorItems','aquan','551962TEDqwl','entries','items','copy','abj','VALID_LANGUAGES','isPrepared','details','SKILL_ABV_TO_FULL','25698WXWfga','celestial','ACTOR_TEMP_NAME','musical\x20instrument','abilityAbv','getTrackedAttributes','investigation','getCasterLevel','forgery\x20kit','isFinite','Failed\x20to\x20parse\x20spellcasting\x20description\x20as\x20HTML!','_VALID_TOOL_PROFICIENCIES','common','performance','undercommon','OwnedItem','VET_SPELL_SCHOOL_TO_ABV','thief','primordial','dwarvish','_TOOL_PROFICIENCIES','importSpell','druidic','spellItemPreparationMode','bar','prepareSpellItems','_VET_CASTER_TYPE_TO_FVTT','thieves\x27\x20tools','fa-check','third','infernal','vehicles\x20(land)','value','gnomish','i18n','gith','localize','deception','nec','vehicle','tiny','trs','music','TOKEN.BarValues','39KDYSAB','med','VALID_CONDITIONS','orc','_data','createEmbeddedEntity','aarakocra','spellcasting','huge','auran','athletics','max','warn','localeCompare'];const _0x23df=function(_0x201757,_0x30da64){_0x201757=_0x201757-0x7e;let _0xabbc04=_0xabbc[_0x201757];return _0xabbc04;};const _0x612fb5=_0x23df;(function(_0x36242f,_0x4e687e){const _0x35bdee=_0x23df;while(!![]){try{const _0x8d753e=-parseInt(_0x35bdee(0x81))+-parseInt(_0x35bdee(0xce))*-parseInt(_0x35bdee(0x100))+parseInt(_0x35bdee(0x114))+parseInt(_0x35bdee(0x8a))*parseInt(_0x35bdee(0xb6))+-parseInt(_0x35bdee(0xfe))+-parseInt(_0x35bdee(0xf9))*-parseInt(_0x35bdee(0xdf))+-parseInt(_0x35bdee(0x103))*parseInt(_0x35bdee(0x10b));if(_0x8d753e===_0x4e687e)break;else _0x36242f['push'](_0x36242f['shift']());}catch(_0x73bb3d){_0x36242f['push'](_0x36242f['shift']());}}}(_0xabbc,0xa00a9));import{Config}from'./Config.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{Consts}from'./Consts.js';class UtilActors{static[_0x612fb5(0x10f)](){const _0x503145=_0x612fb5;UtilActors[_0x503145(0x86)]=Object[_0x503145(0xe9)](MiscUtil[_0x503145(0xd4)](CONFIG,_0x503145(0x110),_0x503145(0xf8))||{}),UtilActors[_0x503145(0xea)]=Object['keys'](MiscUtil[_0x503145(0xd4)](CONFIG,_0x503145(0x110),_0x503145(0xcf))||{}),UtilActors[_0x503145(0xb8)]=Object[_0x503145(0xe9)](MiscUtil[_0x503145(0xd4)](CONFIG,_0x503145(0x110),'conditionTypes')||{});}static['doShowSheetItem'](_0x370dd3,_0x55b192,_0x1f9e4c){const _0x204858=_0x612fb5,_0x2934d0=Actor[_0x204858(0xe8)]['get'](_0x55b192);if(!_0x2934d0)return;const _0x14ae44=_0x2934d0[_0x204858(0xcb)](_0x1f9e4c);if(!_0x14ae44)return;return _0x14ae44[_0x204858(0x113)]();}static['getCasterLevel'](_0x12bdb5){const _0x30383f=_0x612fb5,_0x4358a7=MiscUtil[_0x30383f(0xd4)](_0x12bdb5,_0x30383f(0x109),_0x30383f(0x83));if(!_0x4358a7)return 0x0;return Math[_0x30383f(0xc1)](0x0,..._0x4358a7[_0x30383f(0x11a)](_0x78ef2=>{const _0x2f9109=_0x30383f;if(_0x78ef2[_0x2f9109(0x101)]&&_0x78ef2[_0x2f9109(0x101)][_0x2f9109(0x10c)]()[_0x2f9109(0x112)](_0x2f9109(0xbd))){const _0x3f6638=MiscUtil[_0x2f9109(0xd4)](_0x78ef2,_0x2f9109(0x109),'description');if(_0x3f6638){let _0x36b708=_0x3f6638[_0x2f9109(0xaa)]||'';try{_0x36b708=$(_0x2f9109(0xf7)+_0x36b708+_0x2f9109(0xee))[_0x2f9109(0xff)]();}catch(_0x193520){console[_0x2f9109(0xc2)](_0x2f9109(0x94));}_0x36b708=_0x36b708[_0x2f9109(0xe5)]();if(!_0x36b708)return 0x0;let _0x20c1eb=0x0;return _0x36b708[_0x2f9109(0xf3)](/an? (\d+)[A-Za-z]+-level/i,(..._0x1b1d08)=>{const _0x1faaa0=Number(_0x1b1d08[0x1]);if(!isNaN(_0x1faaa0))_0x20c1eb=_0x1faaa0;}),_0x20c1eb;}}else return 0x0;})[_0x30383f(0xed)](Boolean));}static['getAbilityScore'](_0x5ef0ec,_0x45f649){const _0x1fed3a=_0x612fb5,_0x3babf0=MiscUtil[_0x1fed3a(0xd4)](_0x5ef0ec,_0x1fed3a(0x109),'data',_0x1fed3a(0x116),_0x45f649,_0x1fed3a(0xaa));return _0x3babf0==null||isNaN(_0x3babf0)?0xa:Number(_0x3babf0);}static['getActorSpellItemOpts'](_0x5b3cfc){const _0x3795a1=_0x612fb5,_0x42147d={'isPrepared':!!Config[_0x3795a1(0xd4)]('importSpell',_0x3795a1(0x105)),'preparationMode':Config[_0x3795a1(0xd4)](_0x3795a1(0x9f),_0x3795a1(0xf1))};if(!_0x5b3cfc||MiscUtil[_0x3795a1(0xd4)](_0x5b3cfc,_0x3795a1(0x109),_0x3795a1(0x101))===Consts[_0x3795a1(0x8c)])return _0x42147d;const _0x4f1753=MiscUtil['get'](_0x5b3cfc,_0x3795a1(0x109),_0x3795a1(0x109),_0x3795a1(0x106),_0x3795a1(0xbd));if(_0x4f1753)_0x42147d[_0x3795a1(0x8e)]=_0x4f1753[_0x3795a1(0xaa)];const _0x1882a5=MiscUtil[_0x3795a1(0xd4)](_0x5b3cfc,_0x3795a1(0x109),_0x3795a1(0x109),_0x3795a1(0x88),_0x3795a1(0x10a),'level');if(_0x1882a5)_0x42147d[_0x3795a1(0xd0)]=_0x1882a5;else _0x42147d[_0x3795a1(0xd0)]=UtilActors[_0x3795a1(0x91)](_0x5b3cfc);return _0x42147d;}static[_0x612fb5(0xdd)](){const _0x5ddc19=_0x612fb5,_0x599217={};return _0x599217[_0x5ddc19(0x87)]=!!Config[_0x5ddc19(0xd4)](_0x5ddc19(0x9f),_0x5ddc19(0xa3)),_0x599217['preparationMode']=Config[_0x5ddc19(0xd4)]('importSpell',_0x5ddc19(0xa1)),_0x599217;}static async[_0x612fb5(0x7f)](_0x1bbce0,_0x9b9a59,_0x3d6c46){const _0x434d4a=_0x612fb5;if(_0x3d6c46){const _0x3fcd6d=await Item[_0x434d4a(0x104)](_0x9b9a59,{'temporary':!![]});(_0x1bbce0[_0x434d4a(0x109)][_0x434d4a(0x83)]=_0x1bbce0['data'][_0x434d4a(0x83)]||[])[_0x434d4a(0x111)](...[_0x3fcd6d][_0x434d4a(0xe0)]()[_0x434d4a(0x11a)](_0x3bb4ad=>_0x3bb4ad['data'])),MiscUtil['set'](_0x1bbce0,_0x434d4a(0xba),_0x434d4a(0x83),MiscUtil[_0x434d4a(0x84)](_0x1bbce0[_0x434d4a(0x109)]['items']));}else await _0x1bbce0[_0x434d4a(0xbb)](_0x434d4a(0x99),_0x9b9a59,{});}static[_0x612fb5(0xcc)](_0x506d2f){return _0x506d2f=_0x506d2f['toLowerCase']()['trim'](),this['_VALID_TOOL_PROFICIENCIES'][_0x506d2f];}static[_0x612fb5(0xe1)](_0x2c1cab){return _0x2c1cab=_0x2c1cab['toLowerCase']()['trim'](),this['_VALID_LANGUAGES'][_0x2c1cab];}static[_0x612fb5(0xd9)](_0x41566d){if(!_0x41566d)return _0x41566d;return UtilActors['_VET_CASTER_TYPE_TO_FVTT'][_0x41566d];}static[_0x612fb5(0xc6)](_0x34bf58){const _0x1912f8=_0x612fb5;function _0x28b065(_0x1f588b,_0x5ea295,_0x44f27f){const _0x40a35b=_0x23df;for(let [_0x1d3293,_0x514c73]of Object[_0x40a35b(0x82)](_0x5ea295)){const _0x480d02=[..._0x44f27f,_0x1d3293];if(_0x514c73 instanceof Object){const _0xb521c4=Number[_0x40a35b(0x93)](parseFloat(_0x514c73[_0x40a35b(0xaa)]))&&Number[_0x40a35b(0x93)](parseFloat(_0x514c73[_0x40a35b(0xc1)]));if(_0xb521c4)_0x1f588b['push'](_0x480d02);else _0x28b065(_0x1f588b,_0x5ea295[_0x1d3293],_0x480d02);}else Number[_0x40a35b(0x93)](_0x514c73)&&_0x1f588b[_0x40a35b(0x111)](_0x480d02);}}const _0x21e41e=[];return _0x28b065(_0x21e41e,_0x34bf58,[]),_0x21e41e[_0x1912f8(0x11a)](_0xb78155=>_0xb78155[_0x1912f8(0xc4)]('.'));}static['getActorBarAttributes'](_0x2f961c){const _0xc2b29b=_0x612fb5;if(!_0x2f961c)return[];const _0x5c2ca6=TokenConfig[_0xc2b29b(0x8f)](_0x2f961c[_0xc2b29b(0x109)]['data'],[]);return _0x5c2ca6[_0xc2b29b(0xa2)]=_0x5c2ca6[_0xc2b29b(0xa2)][_0xc2b29b(0x11a)](_0x21a12a=>_0x21a12a['join']('.')),_0x5c2ca6[_0xc2b29b(0xa2)][_0xc2b29b(0xda)]((_0x33e72c,_0x2cc944)=>_0x33e72c[_0xc2b29b(0xc3)](_0x2cc944)),_0x5c2ca6[_0xc2b29b(0xaa)]=_0x5c2ca6[_0xc2b29b(0xaa)][_0xc2b29b(0x11a)](_0x53f242=>_0x53f242[_0xc2b29b(0xc4)]('.')),_0x5c2ca6[_0xc2b29b(0xaa)]['sort']((_0x55c1d5,_0x5dd1d2)=>_0x55c1d5[_0xc2b29b(0xc3)](_0x5dd1d2)),{[game[_0xc2b29b(0xac)][_0xc2b29b(0xae)]('TOKEN.BarAttributes')]:_0x5c2ca6[_0xc2b29b(0xa2)],[game[_0xc2b29b(0xac)]['localize'](_0xc2b29b(0xb5))]:_0x5c2ca6[_0xc2b29b(0xaa)]};}static[_0x612fb5(0xc7)](_0x54cc3f){const _0x3712ae=_0x612fb5;return(MiscUtil['get'](_0x54cc3f,_0x3712ae(0x109),'items')||[])[_0x3712ae(0xed)](_0x240de5=>_0x240de5[_0x3712ae(0xc9)]==='class')['map'](_0xb9969b=>MiscUtil[_0x3712ae(0xd4)](_0xb9969b,_0x3712ae(0x109),'levels')||0x0)[_0x3712ae(0x10d)]((_0x49236a,_0x1fa376)=>_0x49236a+_0x1fa376,0x0);}}UtilActors[_0x612fb5(0x89)]={'acr':'acrobatics','ani':_0x612fb5(0xd3),'arc':_0x612fb5(0xe7),'ath':_0x612fb5(0xc0),'dec':_0x612fb5(0xaf),'his':_0x612fb5(0x10e),'ins':_0x612fb5(0xe2),'itm':_0x612fb5(0xeb),'inv':_0x612fb5(0x90),'med':'medicine','nat':'nature','prc':_0x612fb5(0x118),'prf':_0x612fb5(0x97),'per':_0x612fb5(0xfc),'rel':'religion','slt':_0x612fb5(0xfb),'ste':_0x612fb5(0xc5),'sur':'survival'},UtilActors[_0x612fb5(0xd1)]={'1':_0x612fb5(0xa6),'2':_0x612fb5(0xd6),'0.5':_0x612fb5(0xcd)},UtilActors['VET_SIZE_TO_ABV']={[SZ_TINY]:_0x612fb5(0xb2),[SZ_SMALL]:'sm',[SZ_MEDIUM]:_0x612fb5(0xb7),[SZ_LARGE]:'lg',[SZ_HUGE]:_0x612fb5(0xbe),[SZ_GARGANTUAN]:_0x612fb5(0xf0)},UtilActors[_0x612fb5(0x9a)]={'A':_0x612fb5(0x85),'C':_0x612fb5(0xf5),'D':_0x612fb5(0xe6),'E':_0x612fb5(0xd8),'V':_0x612fb5(0xfd),'I':_0x612fb5(0x108),'N':_0x612fb5(0xb0),'T':_0x612fb5(0xb3)},UtilActors[_0x612fb5(0xc8)]={'full':[[0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x1,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x2,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x1,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x2,0x1,0x1]],'artificer':[[0x2,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/2':[[0x0,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/3':[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x1],[0x4,0x3,0x3,0x1]],'pact':[[0x1,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4]]},UtilActors[_0x612fb5(0x86)]=null,UtilActors['VALID_DAMAGE_TYPES']=null,UtilActors[_0x612fb5(0xb8)]=null,UtilActors[_0x612fb5(0x9e)]=[_0x612fb5(0xdc),_0x612fb5(0xdb),_0x612fb5(0x107),_0x612fb5(0x92),_0x612fb5(0xca),_0x612fb5(0xfa),_0x612fb5(0x8d),_0x612fb5(0xe3),_0x612fb5(0xa5),_0x612fb5(0xa9),_0x612fb5(0xec),'alchemist\x27s\x20supplies'],UtilActors[_0x612fb5(0x95)]={'artisan\x27s\x20tools':_0x612fb5(0x115),'disguise\x20kit':_0x612fb5(0xd7),'forgery\x20kit':_0x612fb5(0xf4),'gaming\x20set':'game','dice\x20set':_0x612fb5(0xd2),'dragonchess\x20set':'game','playing\x20card\x20set':_0x612fb5(0xd2),'three-dragon\x20ante\x20set':_0x612fb5(0xd2),'herbalism\x20kit':'herb','musical\x20instrument':'music','bagpipes':_0x612fb5(0xb4),'drum':'music','dulcimer':'music','flute':_0x612fb5(0xb4),'lute':'music','lyre':'music','horn':_0x612fb5(0xb4),'pan\x20flute':_0x612fb5(0xb4),'shawm':_0x612fb5(0xb4),'viol':_0x612fb5(0xb4),'navigator\x27s\x20tools':_0x612fb5(0xf6),'poisoner\x27s\x20kit':_0x612fb5(0x102),'thieves\x27\x20tools':_0x612fb5(0x9b),'vehicle\x20(land\x20or\x20water)':_0x612fb5(0xb1)},UtilActors[_0x612fb5(0xf2)]={'common':_0x612fb5(0x96),'aarakocra':_0x612fb5(0xbc),'abyssal':'abyssal','aquan':_0x612fb5(0x80),'auran':_0x612fb5(0xbf),'celestial':_0x612fb5(0x8b),'deep\x20speech':_0x612fb5(0xde),'draconic':'draconic','druidic':_0x612fb5(0xa0),'dwarvish':_0x612fb5(0x9d),'elvish':_0x612fb5(0xef),'giant':'giant','gith':_0x612fb5(0xad),'gnomish':_0x612fb5(0xab),'goblin':'goblin','gnoll':'gnoll','halfling':_0x612fb5(0x119),'ignan':_0x612fb5(0xe4),'infernal':_0x612fb5(0xa8),'orc':_0x612fb5(0xb9),'primordial':_0x612fb5(0x9c),'sylvan':_0x612fb5(0xd5),'terran':_0x612fb5(0x117),'thieves\x27\x20cant':'cant','undercommon':_0x612fb5(0x98)},UtilActors[_0x612fb5(0xa4)]={'full':_0x612fb5(0x7e),'1/2':'half','1/3':_0x612fb5(0xa7),'pact':'pact'};export{UtilActors};