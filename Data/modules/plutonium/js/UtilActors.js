const _0x3725=['VALID_CONDITIONS','athletics','infernal','herb','getMappedCasterType','uppercaseFirst','i18n','enc','medicine','grg','doShowSheetItem','gnoll','conditionTypes','value','description','arcana','pGetSpellHashToItemPosMapAndFillSpellsFromTagIds','druidic','primordial','_pFillItemArrayAdditionalSpells_isObjectInLevelRange','nec','text','pGetUserMultipleChoice','VET_SPELL_SCHOOL_TO_ABV','getTrackedAttributes','Failed\x20to\x20parse\x20spellcasting\x20description\x20as\x20HTML!','music','items','hashToIdMap','history','_VALID_LANGUAGES','disg','abilityAbv','Choose\x20Additional\x20Spell\x20Set','shiftKey','create','_pFillItemArrayAdditionalSpells_getSpellsInLevelRange','gnomish','sylvan','spellcasting','dwarvish','useSpell','terran','goblin','toSpellCase','localeCompare','preparationMode','bar','abilities','spell','details','ability','flat','get','isFinite','replace','forg','join','_VALID_TOOL_PROFICIENCIES','orc','MIN_SAFE_INTEGER','collection','sourceHintText','always','tiny','isPrepared','minLevel','MAX_SAFE_INTEGER','maxLevel','aarakocra','warn','auran','includes','keys','halfling','VALID_LANGUAGES','...','elvish','game','getActorSpellItemOpts','forEach','push','draconic','localize','length','toLowerCase','half','acrobatics','performance','trim','evo','CASTER_TYPE_TO_PROGRESSION','prepared','religion','getAbilityScore','VALID_DAMAGE_TYPES','con','survival','huge','max','level','attributes','VET_SIZE_TO_ABV','name','init','cant','abyssal','med','deep','common','aquan','stealth','persuasion','pAddActorItems','importSpell','pFillItemArrayAdditionalSpells','sort','vehicle','getOwnedItem','languages','_VET_CASTER_TYPE_TO_FVTT','map','data','filter','div','third','innate','abj','</div>','copy','getCasterLevel','DND5E','<div>','class','casterLevel','trs','intimidation','OwnedItem'];(function(_0x5cafe0,_0x3725e2){const _0x36874a=function(_0xdfb458){while(--_0xdfb458){_0x5cafe0['push'](_0x5cafe0['shift']());}};_0x36874a(++_0x3725e2);}(_0x3725,0x1e9));const _0x3687=function(_0x5cafe0,_0x3725e2){_0x5cafe0=_0x5cafe0-0x0;let _0x36874a=_0x3725[_0x5cafe0];return _0x36874a;};'use strict';import{Config}from'./Config.js';import{DataConverterSpell}from'./DataConverterSpell.js';class UtilActors{static[_0x3687('0x1d')](){UtilActors[_0x3687('0x0')]=Object['keys'](MiscUtil[_0x3687('0x74')](CONFIG,'DND5E',_0x3687('0x2c'))||{}),UtilActors['VALID_DAMAGE_TYPES']=Object['keys'](MiscUtil[_0x3687('0x74')](CONFIG,_0x3687('0x38'),'damageTypes')||{}),UtilActors['VALID_CONDITIONS']=Object['keys'](MiscUtil['get'](CONFIG,_0x3687('0x38'),_0x3687('0x4b'))||{});}static[_0x3687('0x49')](_0x22a995,_0x25dbf2,_0x3c6480){const _0x5abdda=Actor[_0x3687('0x7c')]['get'](_0x25dbf2);if(!_0x5abdda)return;const _0x13a35=_0x5abdda[_0x3687('0x2b')](_0x3c6480);if(!_0x13a35)return;if(_0x13a35[_0x3687('0x2f')]['type']===_0x3687('0x70'))return _0x5abdda[_0x3687('0x68')](_0x13a35,{'configureDialog':!_0x22a995[_0x3687('0x61')]});else return _0x13a35['roll']();}static[_0x3687('0x37')](_0x8cbad2){const _0x3f19ff=MiscUtil['get'](_0x8cbad2,'data','items');if(!_0x3f19ff)return 0x0;return Math['max'](0x0,..._0x3f19ff[_0x3687('0x2e')](_0x344eef=>{if(_0x344eef[_0x3687('0x1c')]&&_0x344eef['name'][_0x3687('0xa')]()[_0x3687('0x87')](_0x3687('0x66'))){const _0xc0f455=MiscUtil[_0x3687('0x74')](_0x344eef,_0x3687('0x2f'),_0x3687('0x4d'));if(_0xc0f455){let _0x578bcd=_0xc0f455['value']||'';try{_0x578bcd=$(_0x3687('0x39')+_0x578bcd+_0x3687('0x35'))[_0x3687('0x54')]();}catch(_0x2a2b03){console[_0x3687('0x85')](_0x3687('0x58'));}_0x578bcd=_0x578bcd[_0x3687('0xe')]();if(!_0x578bcd)return 0x0;let _0x4ea943=0x0;return _0x578bcd[_0x3687('0x76')](/an? (\d+)[A-Za-z]+-level/i,(..._0x19151d)=>{const _0x4d215d=Number(_0x19151d[0x1]);if(!isNaN(_0x4d215d))_0x4ea943=_0x4d215d;}),_0x4ea943;}}else return 0x0;})[_0x3687('0x30')](Boolean));}static[_0x3687('0x13')](_0x58f1bd,_0x1f3518){const _0x2b20d2=MiscUtil['get'](_0x58f1bd,_0x3687('0x2f'),_0x3687('0x2f'),_0x3687('0x6f'),_0x1f3518,_0x3687('0x4c'));return _0x2b20d2==null?0xa:_0x2b20d2;}static[_0x3687('0x4')](_0x513781,_0x2b40cc){const _0x27156f={},_0x29eec2=MiscUtil[_0x3687('0x74')](_0x513781,_0x3687('0x2f'),_0x3687('0x2f'),_0x3687('0x1a'),'spellcasting');if(_0x29eec2)_0x27156f['abilityAbv']=_0x29eec2['value'];const _0x5a63ca=MiscUtil['get'](_0x513781,'data',_0x3687('0x2f'),_0x3687('0x71'),_0x3687('0x3a'),_0x3687('0x19'));if(_0x5a63ca)_0x27156f['casterLevel']=_0x5a63ca;else _0x27156f[_0x3687('0x3b')]=UtilActors[_0x3687('0x37')](_0x513781);return _0x27156f[_0x3687('0x80')]=!!_0x2b40cc,_0x27156f[_0x3687('0x6d')]=Config['get'](_0x3687('0x27'),'importActorSpellsAs'),_0x27156f;}static async[_0x3687('0x26')](_0x8e909b,_0x18b8b1,_0x52dc5e){if(_0x52dc5e){const _0x128ddc=await Item[_0x3687('0x62')](_0x18b8b1,{'temporary':!![]});(_0x8e909b[_0x3687('0x2f')][_0x3687('0x5a')]=_0x8e909b[_0x3687('0x2f')]['items']||[])[_0x3687('0x6')](...[_0x128ddc][_0x3687('0x73')]()[_0x3687('0x2e')](_0x1eb18e=>_0x1eb18e['data']));}else await _0x8e909b['createEmbeddedEntity'](_0x3687('0x3e'),_0x18b8b1,{});}static['getMappedTool'](_0x681354){return _0x681354=_0x681354[_0x3687('0xa')]()['trim'](),this[_0x3687('0x79')][_0x681354];}static['getMappedLanguage'](_0x493cf6){return _0x493cf6=_0x493cf6[_0x3687('0xa')]()[_0x3687('0xe')](),this[_0x3687('0x5d')][_0x493cf6];}static[_0x3687('0x43')](_0x32ae66){if(!_0x32ae66)return _0x32ae66;return UtilActors[_0x3687('0x2d')][_0x32ae66];}static['getModelBarAttributes'](_0x9617a3){function _0x23001d(_0x5bb803,_0x1189f8,_0x3b786f){for(let [_0x19faca,_0x2a9750]of Object['entries'](_0x1189f8)){const _0xa8c783=[..._0x3b786f,_0x19faca];if(_0x2a9750 instanceof Object){const _0x16c6de=Number[_0x3687('0x75')](parseFloat(_0x2a9750[_0x3687('0x4c')]))&&Number[_0x3687('0x75')](parseFloat(_0x2a9750[_0x3687('0x18')]));if(_0x16c6de)_0x5bb803[_0x3687('0x6')](_0xa8c783);else _0x23001d(_0x5bb803,_0x1189f8[_0x19faca],_0xa8c783);}else Number['isFinite'](_0x2a9750)&&_0x5bb803[_0x3687('0x6')](_0xa8c783);}}const _0x3efc53=[];return _0x23001d(_0x3efc53,_0x9617a3,[]),_0x3efc53[_0x3687('0x2e')](_0x43aca9=>_0x43aca9[_0x3687('0x78')]('.'));}static['getActorBarAttributes'](_0x280ad9){if(!_0x280ad9)return[];const _0x2c76dc=TokenConfig[_0x3687('0x57')](_0x280ad9[_0x3687('0x2f')]['data'],[]);return _0x2c76dc[_0x3687('0x6e')]=_0x2c76dc[_0x3687('0x6e')]['map'](_0xd16344=>_0xd16344[_0x3687('0x78')]('.')),_0x2c76dc['bar'][_0x3687('0x29')]((_0x56b92e,_0x5a7b50)=>_0x56b92e[_0x3687('0x6c')](_0x5a7b50)),_0x2c76dc['value']=_0x2c76dc[_0x3687('0x4c')][_0x3687('0x2e')](_0x404178=>_0x404178[_0x3687('0x78')]('.')),_0x2c76dc[_0x3687('0x4c')][_0x3687('0x29')]((_0x1f080d,_0x11e17a)=>_0x1f080d[_0x3687('0x6c')](_0x11e17a)),{[game['i18n'][_0x3687('0x8')]('TOKEN.BarAttributes')]:_0x2c76dc[_0x3687('0x6e')],[game[_0x3687('0x45')][_0x3687('0x8')]('TOKEN.BarValues')]:_0x2c76dc[_0x3687('0x4c')]};}static async[_0x3687('0x28')](_0x463480,_0x106762,_0x4622e2){_0x4622e2=_0x4622e2||{},_0x4622e2['minLevel']=_0x4622e2[_0x3687('0x81')]==null?Number[_0x3687('0x7b')]:_0x4622e2[_0x3687('0x81')],_0x4622e2[_0x3687('0x83')]=_0x4622e2[_0x3687('0x83')]==null?Number[_0x3687('0x82')]:_0x4622e2[_0x3687('0x83')];if(!_0x106762)return![];_0x106762=_0x106762[_0x3687('0x30')](_0x2b8248=>_0x2b8248[_0x3687('0x11')]||_0x2b8248['innate']);if(!_0x106762[_0x3687('0x9')])return![];_0x106762=MiscUtil[_0x3687('0x36')](_0x106762),_0x106762=_0x106762[_0x3687('0x30')](_0xefc519=>{return _0xefc519['prepared']&&(!this[_0x3687('0x52')](_0xefc519[_0x3687('0x11')],_0x4622e2['minLevel'],_0x4622e2[_0x3687('0x83')])&&delete _0xefc519['prepared']),_0xefc519[_0x3687('0x33')]&&(!this['_pFillItemArrayAdditionalSpells_isObjectInLevelRange'](_0xefc519['innate'],_0x4622e2[_0x3687('0x81')],_0x4622e2[_0x3687('0x83')])&&delete _0xefc519[_0x3687('0x33')]),_0xefc519[_0x3687('0x11')]||_0xefc519['innate'];});if(!_0x106762[_0x3687('0x9')])return![];let _0x3c8350=_0x106762[_0x3687('0x9')]===0x1?[_0x106762[0x0]]:await InputUiUtil[_0x3687('0x55')]({'title':_0x3687('0x60')+(_0x4622e2[_0x3687('0x7d')]?'\x20('+_0x4622e2['sourceHintText']+')':''),'values':_0x106762,'isResolveItems':!![],'fnDisplay':_0x80cd6c=>{const _0x35c364={'prepared':_0x80cd6c[_0x3687('0x11')],'innate':_0x80cd6c[_0x3687('0x33')]},_0x55378c=Object['values'](_0x35c364)[_0x3687('0x30')](Boolean)['map'](_0xf5f4cc=>Object['values'](_0xf5f4cc)[_0x3687('0x73')]())['flat']()[_0x3687('0x2e')](_0x1b6e11=>_0x1b6e11['split']('|')[0x0][_0x3687('0x6b')]());let _0x362aa3='';for(let _0x28bc76=0x0;_0x28bc76<_0x55378c[_0x3687('0x9')];++_0x28bc76){if(_0x362aa3[_0x3687('0x9')]>0x46){_0x362aa3+='...';break;}const _0x5d0860=''+(_0x28bc76>0x0?',\x20':'')+_0x55378c[_0x28bc76];if(_0x362aa3[_0x3687('0x9')]+_0x5d0860['length']>0x46){_0x362aa3+=_0x3687('0x1');break;}_0x362aa3+=_0x5d0860;}return _0x362aa3[_0x3687('0x44')]();}});if(_0x3c8350==null)return!![];_0x3c8350=_0x3c8350[0x0];if(_0x3c8350[_0x3687('0x11')]){const _0x56fae4=this[_0x3687('0x63')](_0x3c8350[_0x3687('0x11')],_0x4622e2['minLevel'],_0x4622e2['maxLevel']);await DataConverterSpell[_0x3687('0x4f')](_0x463480,_0x56fae4,{'optsGetSpellItem':{'casterLevel':_0x4622e2[_0x3687('0x3b')],'abilityAbv':_0x3c8350[_0x3687('0x72')]||_0x4622e2['abilityAbv'],'isPrepared':!![],'preparationMode':_0x3687('0x7e')},'hashToIdMap':_0x4622e2[_0x3687('0x5b')]});}if(_0x3c8350['innate']){const _0x42ea85=this[_0x3687('0x63')](_0x3c8350['innate'],_0x4622e2[_0x3687('0x81')],_0x4622e2[_0x3687('0x83')]);await DataConverterSpell[_0x3687('0x4f')](_0x463480,_0x42ea85,{'optsGetSpellItem':{'casterLevel':_0x4622e2['casterLevel'],'abilityAbv':_0x3c8350['ability']||_0x4622e2[_0x3687('0x5f')],'isPrepared':!![],'preparationMode':_0x3687('0x33')}});}return![];}static['_pFillItemArrayAdditionalSpells_isObjectInLevelRange'](_0x274da8,_0x2a5833,_0x139995){return!!this[_0x3687('0x63')](_0x274da8,_0x2a5833,_0x139995)[_0x3687('0x9')];}static[_0x3687('0x63')](_0x1872f0,_0x4715d0,_0x17e4d7){const _0x4f8157=[];return Object[_0x3687('0x88')](_0x1872f0)[_0x3687('0x5')](_0x2d1283=>{const _0x3116f8=Number(_0x2d1283);if(isNaN(_0x3116f8))return;if(!(_0x4715d0<=_0x3116f8&&_0x3116f8<=_0x17e4d7))return;_0x4f8157[_0x3687('0x6')](..._0x1872f0[_0x2d1283]);}),_0x4f8157;}}UtilActors['SKILL_ABV_TO_FULL']={'acr':_0x3687('0xc'),'ani':'animal\x20handling','arc':_0x3687('0x4e'),'ath':_0x3687('0x40'),'dec':'deception','his':_0x3687('0x5c'),'ins':'insight','itm':_0x3687('0x3d'),'inv':'investigation','med':_0x3687('0x47'),'nat':'nature','prc':'perception','prf':_0x3687('0xd'),'per':_0x3687('0x25'),'rel':_0x3687('0x12'),'slt':'sleight\x20of\x20hand','ste':_0x3687('0x24'),'sur':_0x3687('0x16')},UtilActors['PROF_TO_ICON_CLASS']={'1':'fa-check','2':'fa-check-double','0.5':'fa-adjust'},UtilActors[_0x3687('0x1b')]={[SZ_TINY]:_0x3687('0x7f'),[SZ_SMALL]:'sm',[SZ_MEDIUM]:_0x3687('0x20'),[SZ_LARGE]:'lg',[SZ_HUGE]:_0x3687('0x17'),[SZ_GARGANTUAN]:_0x3687('0x48')},UtilActors[_0x3687('0x56')]={'A':_0x3687('0x34'),'C':_0x3687('0x15'),'D':_0x3687('0x31'),'E':_0x3687('0x46'),'V':_0x3687('0xf'),'I':'ill','N':_0x3687('0x53'),'T':_0x3687('0x3c')},UtilActors[_0x3687('0x10')]={'full':[[0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x1,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x2,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x1,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x2,0x1,0x1]],'1/2':[[0x0,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/3':[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x1],[0x4,0x3,0x3,0x1]]},UtilActors[_0x3687('0x0')]=null,UtilActors[_0x3687('0x14')]=null,UtilActors[_0x3687('0x3f')]=null,UtilActors['_VALID_TOOL_PROFICIENCIES']={'artisan\x27s\x20tools':'art','disguise\x20kit':_0x3687('0x5e'),'forgery\x20kit':_0x3687('0x77'),'gaming\x20set':'game','dice\x20set':_0x3687('0x3'),'dragonchess\x20set':_0x3687('0x3'),'playing\x20card\x20set':_0x3687('0x3'),'three-dragon\x20ante\x20set':'game','herbalism\x20kit':_0x3687('0x42'),'musical\x20instrument':'music','bagpipes':_0x3687('0x59'),'drum':_0x3687('0x59'),'dulcimer':_0x3687('0x59'),'flute':_0x3687('0x59'),'lute':_0x3687('0x59'),'lyre':_0x3687('0x59'),'horn':_0x3687('0x59'),'pan\x20flute':_0x3687('0x59'),'shawm':_0x3687('0x59'),'viol':'music','navigator\x27s\x20tools':'navg','poisoner\x27s\x20kit':'pois','thieves\x27\x20tools':'thief','vehicle\x20(land\x20or\x20water)':_0x3687('0x2a')},UtilActors[_0x3687('0x5d')]={'common':_0x3687('0x22'),'aarakocra':_0x3687('0x84'),'abyssal':_0x3687('0x1f'),'aquan':_0x3687('0x23'),'auran':_0x3687('0x86'),'celestial':'celestial','deep\x20speech':_0x3687('0x21'),'draconic':_0x3687('0x7'),'druidic':_0x3687('0x50'),'dwarvish':_0x3687('0x67'),'elvish':_0x3687('0x2'),'giant':'giant','gith':'gith','gnomish':_0x3687('0x64'),'goblin':_0x3687('0x6a'),'gnoll':_0x3687('0x4a'),'halfling':_0x3687('0x89'),'ignan':'ignan','infernal':_0x3687('0x41'),'orc':_0x3687('0x7a'),'primordial':_0x3687('0x51'),'sylvan':_0x3687('0x65'),'terran':_0x3687('0x69'),'thieves\x27\x20cant':_0x3687('0x1e'),'undercommon':'undercommon'},UtilActors[_0x3687('0x2d')]={'full':'full','1/2':_0x3687('0xb'),'1/3':_0x3687('0x32'),'pact':'pact'};export{UtilActors};