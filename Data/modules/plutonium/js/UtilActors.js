'use strict';const _0x3e72=['239524GuhxOe','undercommon','1UInbgM','art','history','actorSpellPreparationMode','toLowerCase','enc','items','ignan','artisan\x27s\x20tools','aquan','_VALID_LANGUAGES','ill','prepareSpellItems','get','getMappedTool','warn','localize','gith','description','halfling','isPrepared','type','trs','disg','filter','text','_VET_CASTER_TYPE_TO_FVTT','intimidation','disguise\x20kit','deep','getActorSpellItemOpts','bar','perception','createEmbeddedEntity','SKILL_ABV_TO_FULL','deception','1PzXMOO','importSpell','create','abj','gnoll','herb','getActorBarAttributes','getOwnedItem','performance','join','cartographer\x27s\x20tools','getMappedCasterType','CASTER_TYPE_TO_PROGRESSION','120139bpQipj','abilityAbv','isFinite','music','navigator\x27s\x20tools','religion','VET_SPELL_SCHOOL_TO_ABV','VALID_CONDITIONS','doShowSheetItem','reduce','spellItemPreparationMode','grg','map','sort','TOKEN.BarValues','conditionTypes','VET_SIZE_TO_ABV','elvish','80DhVJqP','infernal','draconic','herbalism\x20kit','evo','replace','abilities','nature','vehicle','forg','PROF_TO_ICON_CLASS','gnomish','details','2111TXfGeK','collection','getAbilityScore','value','getMappedLanguage','<div>','navg','spellcasting','fa-check','sylvan','max','168808bxYrEC','sleight\x20of\x20hand','OwnedItem','</div>','celestial','arcana','264725VHBYJA','levels','third','296245ZqILZq','damageTypes','insight','Failed\x20to\x20parse\x20spellcasting\x20description\x20as\x20HTML!','name','nec','persuasion','VALID_LANGUAGES','preparationMode','getCasterLevel','includes','forgery\x20kit','aarakocra','medicine','terran','getTotalClassLevels','pois','localeCompare','keys','data','investigation','vehicles\x20(water)','con','init','half','common','level','game','i18n','gaming\x20set','thieves\x27\x20tools','getModelBarAttributes','prepareActorSpells','getSpellItemItemOpts','VALID_DAMAGE_TYPES','pact','med','fa-adjust','thief','push','animal\x20handling','druidic','getTrackedAttributes','tiny','dwarvish','trim','_VALID_TOOL_PROFICIENCIES','stealth','casterLevel','fa-check-double','DND5E','class','67513CKmDUt','attributes'];const _0x5be9=function(_0x41efc3,_0x73c443){_0x41efc3=_0x41efc3-0x82;let _0x3e7297=_0x3e72[_0x41efc3];return _0x3e7297;};const _0x1452c0=_0x5be9;(function(_0x18cc2a,_0x485ff3){const _0xd382a1=_0x5be9;while(!![]){try{const _0x4da768=-parseInt(_0xd382a1(0x8a))+-parseInt(_0xd382a1(0xba))*-parseInt(_0xd382a1(0xf5))+-parseInt(_0xd382a1(0xbd))+parseInt(_0xd382a1(0xf1))+-parseInt(_0xd382a1(0xa9))*parseInt(_0xd382a1(0x9c))+parseInt(_0xd382a1(0xf3))+parseInt(_0xd382a1(0xb4))*parseInt(_0xd382a1(0x119));if(_0x4da768===_0x485ff3)break;else _0x18cc2a['push'](_0x18cc2a['shift']());}catch(_0x5a42d9){_0x18cc2a['push'](_0x18cc2a['shift']());}}}(_0x3e72,0x25eaa));import{Config}from'./Config.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{Consts}from'./Consts.js';class UtilActors{static[_0x1452c0(0xd4)](){const _0x1ee4f3=_0x1452c0;UtilActors[_0x1ee4f3(0xc4)]=Object[_0x1ee4f3(0xcf)](MiscUtil[_0x1ee4f3(0x102)](CONFIG,_0x1ee4f3(0xef),'languages')||{}),UtilActors[_0x1ee4f3(0xdf)]=Object[_0x1ee4f3(0xcf)](MiscUtil[_0x1ee4f3(0x102)](CONFIG,'DND5E',_0x1ee4f3(0xbe))||{}),UtilActors[_0x1ee4f3(0x91)]=Object['keys'](MiscUtil[_0x1ee4f3(0x102)](CONFIG,_0x1ee4f3(0xef),_0x1ee4f3(0x99))||{});}static[_0x1452c0(0x92)](_0x3a0641,_0x5d341e,_0xeb5860){const _0xc7e245=_0x1452c0,_0x51e1c8=Actor[_0xc7e245(0xaa)][_0xc7e245(0x102)](_0x5d341e);if(!_0x51e1c8)return;const _0x1c0824=_0x51e1c8[_0xc7e245(0x84)](_0xeb5860);if(!_0x1c0824)return;return _0x1c0824['roll']();}static[_0x1452c0(0xc6)](_0x1a951d){const _0x5f0b91=_0x1452c0,_0x350085=MiscUtil['get'](_0x1a951d,_0x5f0b91(0xd0),'items');if(!_0x350085)return 0x0;return Math[_0x5f0b91(0xb3)](0x0,..._0x350085[_0x5f0b91(0x96)](_0x5621da=>{const _0x40c9ec=_0x5f0b91;if(_0x5621da['name']&&_0x5621da[_0x40c9ec(0xc1)][_0x40c9ec(0xf9)]()[_0x40c9ec(0xc7)](_0x40c9ec(0xb0))){const _0x538d4b=MiscUtil[_0x40c9ec(0x102)](_0x5621da,_0x40c9ec(0xd0),_0x40c9ec(0x107));if(_0x538d4b){let _0x5ef4b4=_0x538d4b[_0x40c9ec(0xac)]||'';try{_0x5ef4b4=$(_0x40c9ec(0xae)+_0x5ef4b4+_0x40c9ec(0xb7))[_0x40c9ec(0x10e)]();}catch(_0x2d3d98){console[_0x40c9ec(0x104)](_0x40c9ec(0xc0));}_0x5ef4b4=_0x5ef4b4[_0x40c9ec(0xea)]();if(!_0x5ef4b4)return 0x0;let _0x23da5a=0x0;return _0x5ef4b4[_0x40c9ec(0xa1)](/an? (\d+)[A-Za-z]+-level/i,(..._0x4b1e3d)=>{const _0x1d661b=Number(_0x4b1e3d[0x1]);if(!isNaN(_0x1d661b))_0x23da5a=_0x1d661b;}),_0x23da5a;}}else return 0x0;})[_0x5f0b91(0x10d)](Boolean));}static[_0x1452c0(0xab)](_0x596461,_0x4991eb){const _0x43bab5=_0x1452c0,_0x25b67a=MiscUtil[_0x43bab5(0x102)](_0x596461,_0x43bab5(0xd0),_0x43bab5(0xd0),_0x43bab5(0xa2),_0x4991eb,_0x43bab5(0xac));return _0x25b67a==null||isNaN(_0x25b67a)?0xa:Number(_0x25b67a);}static[_0x1452c0(0x113)](_0x2cc147){const _0x5c1224=_0x1452c0,_0x5bfd09={'isPrepared':!!Config[_0x5c1224(0x102)]('importSpell',_0x5c1224(0xdd)),'preparationMode':Config[_0x5c1224(0x102)](_0x5c1224(0x11a),_0x5c1224(0xf8))};if(!_0x2cc147||MiscUtil['get'](_0x2cc147,_0x5c1224(0xd0),_0x5c1224(0xc1))===Consts['ACTOR_TEMP_NAME'])return _0x5bfd09;const _0x370817=MiscUtil[_0x5c1224(0x102)](_0x2cc147,_0x5c1224(0xd0),_0x5c1224(0xd0),_0x5c1224(0xf2),_0x5c1224(0xb0));if(_0x370817)_0x5bfd09[_0x5c1224(0x8b)]=_0x370817[_0x5c1224(0xac)];const _0x49f9fe=MiscUtil['get'](_0x2cc147,_0x5c1224(0xd0),_0x5c1224(0xd0),_0x5c1224(0xa8),_0x5c1224(0xf0),_0x5c1224(0xd7));if(_0x49f9fe)_0x5bfd09[_0x5c1224(0xed)]=_0x49f9fe;else _0x5bfd09['casterLevel']=UtilActors['getCasterLevel'](_0x2cc147);return _0x5bfd09;}static[_0x1452c0(0xde)](){const _0x3497f1=_0x1452c0,_0x2fd219={};return _0x2fd219[_0x3497f1(0x109)]=!!Config[_0x3497f1(0x102)](_0x3497f1(0x11a),_0x3497f1(0x101)),_0x2fd219[_0x3497f1(0xc5)]=Config['get'](_0x3497f1(0x11a),_0x3497f1(0x94)),_0x2fd219;}static async['pAddActorItems'](_0x3139d,_0x470a36,_0x7102c5){const _0x3ef4a1=_0x1452c0;if(_0x7102c5){const _0x5462d6=await Item[_0x3ef4a1(0x11b)](_0x470a36,{'temporary':!![]});(_0x3139d[_0x3ef4a1(0xd0)][_0x3ef4a1(0xfb)]=_0x3139d['data'][_0x3ef4a1(0xfb)]||[])[_0x3ef4a1(0xe4)](...[_0x5462d6]['flat']()['map'](_0x27f7b2=>_0x27f7b2[_0x3ef4a1(0xd0)]));}else await _0x3139d[_0x3ef4a1(0x116)](_0x3ef4a1(0xb6),_0x470a36,{});}static[_0x1452c0(0x103)](_0x29a53e){const _0x2ee4b3=_0x1452c0;return _0x29a53e=_0x29a53e[_0x2ee4b3(0xf9)]()[_0x2ee4b3(0xea)](),this[_0x2ee4b3(0xeb)][_0x29a53e];}static[_0x1452c0(0xad)](_0x55fb7d){const _0x22f274=_0x1452c0;return _0x55fb7d=_0x55fb7d[_0x22f274(0xf9)]()[_0x22f274(0xea)](),this[_0x22f274(0xff)][_0x55fb7d];}static[_0x1452c0(0x88)](_0x32d5fe){const _0x1fa130=_0x1452c0;if(!_0x32d5fe)return _0x32d5fe;return UtilActors[_0x1fa130(0x10f)][_0x32d5fe];}static[_0x1452c0(0xdc)](_0x38050f){const _0x3de643=_0x1452c0;function _0x570063(_0xe20b9f,_0x5c9732,_0x403d58){const _0x371de9=_0x5be9;for(let [_0x50e668,_0x44f616]of Object['entries'](_0x5c9732)){const _0xf8e88=[..._0x403d58,_0x50e668];if(_0x44f616 instanceof Object){const _0x3655ec=Number[_0x371de9(0x8c)](parseFloat(_0x44f616['value']))&&Number[_0x371de9(0x8c)](parseFloat(_0x44f616[_0x371de9(0xb3)]));if(_0x3655ec)_0xe20b9f[_0x371de9(0xe4)](_0xf8e88);else _0x570063(_0xe20b9f,_0x5c9732[_0x50e668],_0xf8e88);}else Number[_0x371de9(0x8c)](_0x44f616)&&_0xe20b9f[_0x371de9(0xe4)](_0xf8e88);}}const _0x3e6e03=[];return _0x570063(_0x3e6e03,_0x38050f,[]),_0x3e6e03[_0x3de643(0x96)](_0x102f31=>_0x102f31[_0x3de643(0x86)]('.'));}static[_0x1452c0(0x83)](_0x389300){const _0x28c407=_0x1452c0;if(!_0x389300)return[];const _0xaa8c7d=TokenConfig[_0x28c407(0xe7)](_0x389300[_0x28c407(0xd0)][_0x28c407(0xd0)],[]);return _0xaa8c7d[_0x28c407(0x114)]=_0xaa8c7d[_0x28c407(0x114)][_0x28c407(0x96)](_0x370c76=>_0x370c76[_0x28c407(0x86)]('.')),_0xaa8c7d[_0x28c407(0x114)]['sort']((_0x3f317c,_0x46c4ef)=>_0x3f317c[_0x28c407(0xce)](_0x46c4ef)),_0xaa8c7d[_0x28c407(0xac)]=_0xaa8c7d[_0x28c407(0xac)][_0x28c407(0x96)](_0x1871be=>_0x1871be[_0x28c407(0x86)]('.')),_0xaa8c7d['value'][_0x28c407(0x97)]((_0xa8984f,_0x3ccef2)=>_0xa8984f[_0x28c407(0xce)](_0x3ccef2)),{[game['i18n']['localize']('TOKEN.BarAttributes')]:_0xaa8c7d[_0x28c407(0x114)],[game[_0x28c407(0xd9)][_0x28c407(0x105)](_0x28c407(0x98))]:_0xaa8c7d[_0x28c407(0xac)]};}static[_0x1452c0(0xcc)](_0x1ac206){const _0x4a825d=_0x1452c0;return(MiscUtil[_0x4a825d(0x102)](_0x1ac206,_0x4a825d(0xd0),_0x4a825d(0xfb))||[])[_0x4a825d(0x10d)](_0x2f439a=>_0x2f439a[_0x4a825d(0x10a)]===_0x4a825d(0xf0))[_0x4a825d(0x96)](_0x53d6b1=>MiscUtil['get'](_0x53d6b1,'data',_0x4a825d(0xbb))||0x0)[_0x4a825d(0x93)]((_0x43e90b,_0x32e345)=>_0x43e90b+_0x32e345,0x0);}}UtilActors[_0x1452c0(0x117)]={'acr':'acrobatics','ani':_0x1452c0(0xe5),'arc':_0x1452c0(0xb9),'ath':'athletics','dec':_0x1452c0(0x118),'his':_0x1452c0(0xf7),'ins':_0x1452c0(0xbf),'itm':_0x1452c0(0x110),'inv':_0x1452c0(0xd1),'med':_0x1452c0(0xca),'nat':_0x1452c0(0xa3),'prc':_0x1452c0(0x115),'prf':_0x1452c0(0x85),'per':_0x1452c0(0xc3),'rel':_0x1452c0(0x8f),'slt':_0x1452c0(0xb5),'ste':_0x1452c0(0xec),'sur':'survival'},UtilActors[_0x1452c0(0xa6)]={'1':_0x1452c0(0xb1),'2':_0x1452c0(0xee),'0.5':_0x1452c0(0xe2)},UtilActors[_0x1452c0(0x9a)]={[SZ_TINY]:_0x1452c0(0xe8),[SZ_SMALL]:'sm',[SZ_MEDIUM]:_0x1452c0(0xe1),[SZ_LARGE]:'lg',[SZ_HUGE]:'huge',[SZ_GARGANTUAN]:_0x1452c0(0x95)},UtilActors[_0x1452c0(0x90)]={'A':_0x1452c0(0x11c),'C':_0x1452c0(0xd3),'D':'div','E':_0x1452c0(0xfa),'V':_0x1452c0(0xa0),'I':_0x1452c0(0x100),'N':_0x1452c0(0xc2),'T':_0x1452c0(0x10b)},UtilActors[_0x1452c0(0x89)]={'full':[[0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x0,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x1,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x2,0x0,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x1,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x0,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x0,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x0,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x0],[0x4,0x3,0x3,0x3,0x2,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x1,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x1,0x1,0x1],[0x4,0x3,0x3,0x3,0x3,0x2,0x2,0x1,0x1]],'artificer':[[0x2,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/2':[[0x0,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x3,0x0,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x2,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x0,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x2,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x0,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x1,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x2,0x0],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x1],[0x4,0x3,0x3,0x3,0x2],[0x4,0x3,0x3,0x3,0x2]],'1/3':[[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x3,0x0,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x2,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x0,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x2,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x0],[0x4,0x3,0x3,0x1],[0x4,0x3,0x3,0x1]],'pact':[[0x1,0x0,0x0,0x0,0x0],[0x2,0x0,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x2,0x0,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x2,0x0,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x2,0x0],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x2],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x3],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4],[0x0,0x0,0x0,0x0,0x4]]},UtilActors[_0x1452c0(0xc4)]=null,UtilActors[_0x1452c0(0xdf)]=null,UtilActors[_0x1452c0(0x91)]=null,UtilActors['_TOOL_PROFICIENCIES']=[_0x1452c0(0xfd),_0x1452c0(0x87),_0x1452c0(0x111),_0x1452c0(0xc8),_0x1452c0(0xda),_0x1452c0(0x9f),'musical\x20instrument',_0x1452c0(0x8e),_0x1452c0(0xdb),'vehicles\x20(land)',_0x1452c0(0xd2),'alchemist\x27s\x20supplies'],UtilActors[_0x1452c0(0xeb)]={'artisan\x27s\x20tools':_0x1452c0(0xf6),'disguise\x20kit':_0x1452c0(0x10c),'forgery\x20kit':_0x1452c0(0xa5),'gaming\x20set':_0x1452c0(0xd8),'dice\x20set':'game','dragonchess\x20set':_0x1452c0(0xd8),'playing\x20card\x20set':'game','three-dragon\x20ante\x20set':'game','herbalism\x20kit':_0x1452c0(0x82),'musical\x20instrument':_0x1452c0(0x8d),'bagpipes':'music','drum':_0x1452c0(0x8d),'dulcimer':_0x1452c0(0x8d),'flute':'music','lute':_0x1452c0(0x8d),'lyre':_0x1452c0(0x8d),'horn':_0x1452c0(0x8d),'pan\x20flute':_0x1452c0(0x8d),'shawm':_0x1452c0(0x8d),'viol':_0x1452c0(0x8d),'navigator\x27s\x20tools':_0x1452c0(0xaf),'poisoner\x27s\x20kit':_0x1452c0(0xcd),'thieves\x27\x20tools':_0x1452c0(0xe3),'vehicle\x20(land\x20or\x20water)':_0x1452c0(0xa4)},UtilActors[_0x1452c0(0xff)]={'common':_0x1452c0(0xd6),'aarakocra':_0x1452c0(0xc9),'abyssal':'abyssal','aquan':_0x1452c0(0xfe),'auran':'auran','celestial':_0x1452c0(0xb8),'deep\x20speech':_0x1452c0(0x112),'draconic':_0x1452c0(0x9e),'druidic':_0x1452c0(0xe6),'dwarvish':_0x1452c0(0xe9),'elvish':_0x1452c0(0x9b),'giant':'giant','gith':_0x1452c0(0x106),'gnomish':_0x1452c0(0xa7),'goblin':'goblin','gnoll':_0x1452c0(0x11d),'halfling':_0x1452c0(0x108),'ignan':_0x1452c0(0xfc),'infernal':_0x1452c0(0x9d),'orc':'orc','primordial':'primordial','sylvan':_0x1452c0(0xb2),'terran':_0x1452c0(0xcb),'thieves\x27\x20cant':'cant','undercommon':_0x1452c0(0xf4)},UtilActors[_0x1452c0(0x10f)]={'full':'full','1/2':_0x1452c0(0xd5),'1/3':_0x1452c0(0xbc),'pact':_0x1452c0(0xe0)};export{UtilActors};