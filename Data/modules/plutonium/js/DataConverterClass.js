const _0x226f=['pGetCompendiumImage','_FEATURE_SRD_ASLIAS_WITH_CLASSNAME','className','isChooseDataRenderEntries','entity','getMappedCasterType','pPreloadSideData','_getCntSkills','level','pGetSubclassItem','pMutActorUpdate','land\x27s\x20stride','getDataHitDice','foundryClassFeature','count','replace','th-Level\x20Spell)','pGetDereferencedClassData','isCancelled','subclassShortName','choose','render','_getDoNotUseNote','_pGetClassSubclassFeatureItem_other','toLowerCase','get','subclassSource','copy','_pGetAdditionalFeatureData','pMutActorUpdateClassSubclassFeatureItem','has','map','getNameWithSourcePart','find','isAddPermission','trim','getItemActorPassive','subclassFeatures','pGetClassItem','getSourceWithPagePart','casterProgression','classFeature','reduce','_SIDE_DATA','pGetDereferencedSubclassData','subclassFeature','channel\x20divinity:','pGetUserMultipleChoice','/media/icon/mighty-force.svg','expertise','</p>','setFirstSection','getSrdCompendiumEntity','class','getCleanEntityName','feat','pGetClassSubclassFeatureAdditionalData','unarmored\x20defense','modules/','flat','startsWith','<div>','classSource','</div>','source','<hr\x20class=\x22hr-1\x20mt-2\x22>','channel\x20divinity','actor','getEntryDescription','MODULE_NAME','_pGetClassSubclassFeatureItem_fromSrd','pGetClassSubclassFeatureItem','join','pGetSideData','timeless\x20body','{@note\x20Note:\x20importing\x20a\x20class\x20as\x20an\x20item\x20is\x20provided\x20for\x20display\x20purposes\x20only.\x20If\x20you\x20wish\x20to\x20import\x20a\x20class\x20to\x20a\x20character\x20sheet,\x20please\x20use\x20the\x20importer\x20on\x20the\x20sheet\x20instead.}','_pIsInSrd','permission','assign','homebrew','_getFeatureSrdAliases','push','chooseData','classFeatures','data','faces','\x20Level\x20','name','_pGetClassSubclassFeatureItem_pGetImagePath','Unhandled\x20type\x20\x22','startingProficiencies','/media/icon/laurels.svg','withUnpatchedDiceRendering','permissions'];(function(_0x577386,_0x226fb1){const _0x453771=function(_0x348899){while(--_0x348899){_0x577386['push'](_0x577386['shift']());}};_0x453771(++_0x226fb1);}(_0x226f,0x1d3));const _0x4537=function(_0x577386,_0x226fb1){_0x577386=_0x577386-0x0;let _0x453771=_0x226f[_0x577386];return _0x453771;};'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{UtilActors}from'./UtilActors.js';class DataConverterClass{static[_0x4537('0x19')](){return'<p>'+Renderer[_0x4537('0x1c')]()['render'](_0x4537('0x4e'))+_0x4537('0x35');}static[_0x4537('0xa')](_0xebabdf){return(MiscUtil['get'](_0xebabdf,_0x4537('0x5d'),'skills')||[])[_0x4537('0x22')](_0x1fef97=>MiscUtil[_0x4537('0x1c')](_0x1fef97[_0x4537('0x17')],_0x4537('0x11'))||0x0)[_0x4537('0x2d')]((_0x33e55,_0x3fd15c)=>_0x33e55+_0x3fd15c,0x0);}static[_0x4537('0xf')](_0x17febf){return'd'+((_0x17febf['hd']||{})[_0x4537('0x58')]||0x6);}static async[_0x4537('0x29')](_0x225d84,_0x558009){_0x558009=_0x558009||{},_0x225d84=MiscUtil[_0x4537('0x1e')](_0x225d84),_0x225d84=await DataUtil[_0x4537('0x38')][_0x4537('0x14')](_0x225d84);const _0x4e92ea=Renderer[_0x4537('0x1c')]()[_0x4537('0x36')](!![])[_0x4537('0x18')]({'type':'section','entries':_0x225d84[_0x4537('0x56')][_0x4537('0x3e')]()}),_0x2bd024=await DataConverter[_0x4537('0x3')](_0x4537('0x38'),_0x225d84)||_0x4537('0x3d')+SharedConsts[_0x4537('0x48')]+'/media/icon/laurels.svg',_0x4a657d={'name':UtilApplications[_0x4537('0x39')](DataConverter[_0x4537('0x23')](_0x225d84)),'type':_0x4537('0x38'),'data':{'description':{'value':_0x4537('0x40')+this['_getDoNotUseNote']()+_0x4e92ea+_0x4537('0x42'),'chat':'','unidentified':''},'source':DataConverter[_0x4537('0x2a')](_0x225d84),'levels':0x14,'subclass':'','damage':{'parts':[]},'hitDice':DataConverterClass[_0x4537('0xf')](_0x225d84),'hitDiceUsed':0x0,'skills':{'number':this[_0x4537('0xa')](_0x225d84)},'spellcasting':UtilActors[_0x4537('0x8')](_0x225d84['casterProgression'])},'flags':{},'img':_0x2bd024};if(_0x558009[_0x4537('0x25')])_0x4a657d[_0x4537('0x50')]={'default':Config[_0x4537('0x1c')]('importClass','permissions')};return _0x4a657d;}static async[_0x4537('0xc')](_0x344b68,_0x557306,_0xd2202e){_0xd2202e=_0xd2202e||{},_0x557306=MiscUtil[_0x4537('0x1e')](_0x557306),_0x557306=await DataUtil[_0x4537('0x38')][_0x4537('0x2f')](_0x557306);const _0x1f5e4f=Renderer[_0x4537('0x1c')]()['setFirstSection'](!![])[_0x4537('0x18')]({'type':'section','entries':_0x557306[_0x4537('0x28')][_0x4537('0x3e')]()}),_0x7e37fa=await DataConverter[_0x4537('0x3')](_0x4537('0x38'),_0x344b68)||_0x4537('0x3d')+SharedConsts['MODULE_NAME']+_0x4537('0x0');_0x557306[_0x4537('0x43')]=_0x557306['source']||_0x344b68[_0x4537('0x43')];const _0xa6aac={'name':UtilApplications[_0x4537('0x39')](DataConverter[_0x4537('0x23')](_0x344b68,_0x557306[_0x4537('0x5a')]+'\x20'+_0x344b68[_0x4537('0x5a')])),'type':'class','data':{'description':{'value':_0x4537('0x40')+this['_getDoNotUseNote']()+_0x1f5e4f+_0x4537('0x42'),'chat':'','unidentified':''},'source':DataConverter[_0x4537('0x2a')](_0x557306),'levels':0x14,'subclass':_0x557306[_0x4537('0x5a')],'damage':{'parts':[]},'hitDice':DataConverterClass[_0x4537('0xf')](_0x344b68),'hitDiceUsed':0x0,'skills':{'number':this[_0x4537('0xa')](_0x344b68)},'spellcasting':UtilActors[_0x4537('0x8')](_0x344b68[_0x4537('0x2b')])},'flags':{},'img':_0x7e37fa};if(_0xd2202e[_0x4537('0x25')])_0xa6aac[_0x4537('0x50')]={'default':Config[_0x4537('0x1c')]('importClass',_0x4537('0x2'))};return _0xa6aac;}static async[_0x4537('0x4a')](_0x225ea7,_0x54800a){const {entity,type}=_0x225ea7;let _0x371d92;return await this[_0x4537('0x4f')](entity,type)?_0x371d92=this[_0x4537('0x49')](entity,type,_0x54800a):_0x371d92=this[_0x4537('0x1a')](entity,type,_0x54800a),_0x371d92;}static async[_0x4537('0x4f')](_0x465a49,_0x1cf1de){const _0x1be823=await DataConverter[_0x4537('0x37')](_0x1cf1de,_0x465a49,{'fnGetAliases':this['_getFeatureSrdAliases']});return!!_0x1be823;}static async[_0x4537('0x49')](_0x4b30b2,_0x4832e5,_0x5ae320){const _0x4d5df7=await DataConverter[_0x4537('0x37')](_0x4832e5,_0x4b30b2,{'fnGetAliases':this['_getFeatureSrdAliases']}),_0x5d49f2=await this['_pGetAdditionalFeatureData'](_0x4b30b2,_0x4832e5,_0x5ae320);return{'name':UtilApplications[_0x4537('0x39')](DataConverter[_0x4537('0x23')](_0x4b30b2)),'type':_0x4d5df7['type'],'data':{..._0x4d5df7[_0x4537('0x57')],'source':DataConverter['getSourceWithPagePart'](_0x4b30b2),'description':{'value':DataConverter[_0x4537('0x47')](_0x4b30b2),'chat':'','unidentified':''},..._0x5d49f2||{}},'img':await this[_0x4537('0x5b')](_0x4b30b2,_0x4832e5)};}static async[_0x4537('0x1a')](_0x200706,_0x1e244a,_0xe09012){let _0x2cdb4d=await this[_0x4537('0x1f')](_0x200706,_0x1e244a,_0xe09012);return DataConverter[_0x4537('0x27')](_0x200706,{'mode':'player','modeOptions':{'isChannelDivinity':_0x200706[_0x4537('0x5')]==='Cleric'&&_0x200706[_0x4537('0x5a')][_0x4537('0x1b')]()['startsWith'](_0x4537('0x31'))},'renderDepth':0x0,'fvttType':_0x4537('0x3a'),'img':await this[_0x4537('0x5b')](_0x200706,_0x1e244a),'source':DataConverter[_0x4537('0x2a')](_0x200706),'requirements':_0x200706[_0x4537('0x5')]+'\x20'+_0x200706[_0x4537('0xb')]+(_0x200706[_0x4537('0x16')]?'\x20('+_0x200706[_0x4537('0x16')]+')':''),'additionalData':_0x2cdb4d,'actor':_0xe09012[_0x4537('0x46')]});}static async[_0x4537('0x20')](_0x45ef1b,_0x321897,_0x5f3167,_0x3474dc){const {entity,type}=_0x5f3167,_0x1f34f6=await this['pGetSideData'](entity,type),_0x685ef9={'sideData':_0x1f34f6,'isCancelled':![]};await DataConverter[_0x4537('0xd')](_0x45ef1b,_0x321897,_0x5f3167[_0x4537('0x7')],_0x685ef9);if(_0x685ef9[_0x4537('0x15')])_0x3474dc[_0x4537('0x15')]=!![];}static async[_0x4537('0x9')](){DataConverterClass[_0x4537('0x2e')]=await Vetools[_0x4537('0x3b')]();}static async[_0x4537('0x4c')](_0x53270f,_0x25a8bf){switch(_0x25a8bf){case'classFeature':{let _0x2bef04=(MiscUtil[_0x4537('0x1c')](BrewUtil,_0x4537('0x52'),_0x4537('0x10'))||[])[_0x4537('0x24')](_0x4710af=>_0x4710af['name']===_0x53270f[_0x4537('0x5a')]&&_0x4710af[_0x4537('0x43')]===_0x53270f[_0x4537('0x43')]&&_0x4710af[_0x4537('0x5')]===_0x53270f[_0x4537('0x5')]&&_0x4710af[_0x4537('0x41')]===_0x53270f[_0x4537('0x41')]&&_0x4710af[_0x4537('0xb')]===_0x53270f['level']);if(!_0x2bef04){const _0x3c807c=DataConverterClass[_0x4537('0x2e')]||await Vetools[_0x4537('0x3b')]();_0x2bef04=_0x3c807c[_0x4537('0x2c')][_0x4537('0x24')](_0x3f19cc=>_0x3f19cc['name']===_0x53270f[_0x4537('0x5a')]&&_0x3f19cc[_0x4537('0x43')]===_0x53270f[_0x4537('0x43')]&&_0x3f19cc[_0x4537('0x5')]===_0x53270f['className']&&_0x3f19cc['classSource']===_0x53270f[_0x4537('0x41')]&&_0x3f19cc[_0x4537('0xb')]===_0x53270f['level']);}if(!_0x2bef04)return null;return _0x2bef04;}case _0x4537('0x30'):{let _0x3f7f56=(MiscUtil[_0x4537('0x1c')](BrewUtil,'homebrew','foundrySubclassFeature')||[])[_0x4537('0x24')](_0x498453=>_0x498453[_0x4537('0x5a')]===_0x53270f['name']&&_0x498453['source']===_0x53270f['source']&&_0x498453['className']===_0x53270f['className']&&_0x498453[_0x4537('0x41')]===_0x53270f['classSource']&&_0x498453['subclassShortName']===_0x53270f[_0x4537('0x16')]&&_0x498453['subclassSource']===_0x53270f['subclassSource']&&_0x498453[_0x4537('0xb')]===_0x53270f[_0x4537('0xb')]);if(!_0x3f7f56){const _0x30bf35=DataConverterClass[_0x4537('0x2e')]||await Vetools[_0x4537('0x3b')]();_0x3f7f56=_0x30bf35[_0x4537('0x30')]['find'](_0x2fb4b3=>_0x2fb4b3['name']===_0x53270f[_0x4537('0x5a')]&&_0x2fb4b3['source']===_0x53270f['source']&&_0x2fb4b3['className']===_0x53270f[_0x4537('0x5')]&&_0x2fb4b3['classSource']===_0x53270f['classSource']&&_0x2fb4b3[_0x4537('0x16')]===_0x53270f['subclassShortName']&&_0x2fb4b3[_0x4537('0x1d')]===_0x53270f[_0x4537('0x1d')]&&_0x2fb4b3[_0x4537('0xb')]===_0x53270f[_0x4537('0xb')]);}if(!_0x3f7f56)return null;return _0x3f7f56;}default:throw new Error(_0x4537('0x5c')+_0x25a8bf+'\x22');}}static async['_pGetAdditionalFeatureData'](_0x2ccc9a,_0x193559,_0x5bfcc0){const _0x6f5ca6=await this[_0x4537('0x4c')](_0x2ccc9a,_0x193559);if(!_0x6f5ca6)return null;const _0x4a4d82={};if(_0x6f5ca6['data'])Object['assign'](_0x4a4d82,MiscUtil[_0x4537('0x1e')](_0x6f5ca6[_0x4537('0x57')]));if(_0x6f5ca6['chooseData']){const _0x15f533=_0x6f5ca6[_0x4537('0x6')]?Vetools[_0x4537('0x1')](()=>(_0x2ccc9a['entries']||[])[_0x4537('0x22')](_0x112589=>'<div>'+Renderer[_0x4537('0x1c')]()[_0x4537('0x18')](_0x112589)+_0x4537('0x42'))[_0x4537('0x4b')]('')+_0x4537('0x44')):null,_0x460d39=await InputUiUtil[_0x4537('0x32')]({'title':''+_0x2ccc9a[_0x4537('0x5')]+(_0x2ccc9a[_0x4537('0x16')]?'\x20('+_0x2ccc9a['subclassShortName']+')':'')+_0x4537('0x59')+_0x2ccc9a['level']+'â€”'+_0x2ccc9a['name'],'htmlDescription':_0x15f533,'count':0x1,'isResolveItems':!![],'fnDisplay':_0x1e0d24=>_0x1e0d24['name'],'values':_0x6f5ca6[_0x4537('0x55')],'modalOpts':{'isMaxWidth640p':!![]}});if(_0x460d39==null)return _0x5bfcc0[_0x4537('0x15')]=!![],null;Object[_0x4537('0x51')](_0x4a4d82,MiscUtil[_0x4537('0x1e')](_0x460d39[0x0][_0x4537('0x57')]));}return _0x4a4d82;}static[_0x4537('0x53')](_0x452ff4){if(!_0x452ff4[_0x4537('0x5a')])return[];const _0x1141d5=[],_0x1f17a2=_0x452ff4['name'][_0x4537('0x12')](/\([^)]+\)/g,'')[_0x4537('0x12')](/\s+/g,'\x20')[_0x4537('0x26')]();if(_0x1f17a2!==_0x452ff4[_0x4537('0x5a')])_0x1141d5[_0x4537('0x54')](_0x1f17a2);const _0xd9c246=_0x452ff4[_0x4537('0x5a')][_0x4537('0x1b')]()[_0x4537('0x26')]();return DataConverterClass[_0x4537('0x4')][_0x4537('0x21')](_0xd9c246)&&_0x1141d5[_0x4537('0x54')](_0x452ff4['name']+'\x20('+_0x452ff4[_0x4537('0x5')]+')'),_0xd9c246[_0x4537('0x3f')]('mystic\x20arcanum')&&_0x1141d5['push'](_0x1f17a2+'\x20('+((_0x452ff4[_0x4537('0xb')]-0x9)/0x2+0x5)+_0x4537('0x13')),_0x1141d5;}static async['_pGetClassSubclassFeatureItem_pGetImagePath'](_0x55f427,_0x455eed){const _0x18b6ee=await DataConverter[_0x4537('0x3')](_0x455eed,_0x55f427,{'fnGetAliases':this[_0x4537('0x53')]});if(_0x18b6ee)return _0x18b6ee;return _0x4537('0x3d')+SharedConsts[_0x4537('0x48')]+_0x4537('0x33');}}DataConverterClass[_0x4537('0x2e')]=null,DataConverterClass[_0x4537('0x4')]=new Set([_0x4537('0x3c'),_0x4537('0x45'),_0x4537('0x34'),_0x4537('0xe'),_0x4537('0x4d')]);export{DataConverterClass};