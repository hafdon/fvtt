const _0x30da=['section','homebrew','channel\x20divinity:','getNameWithSourcePart','_SIDE_DATA','entity','find','classFeatures','Unhandled\x20type\x20\x22','pGetUserMultipleChoice','pGetClassItem','modules/','replace','_getCntSkills','expertise','<div>','getSrdCompendiumEntity','has','_pGetClassSubclassFeatureItem_fromSrd','unarmored\x20defense','className','class','</div>','isAddPermission','\x20Level\x20','trim','pGetCompendiumImage','startingProficiencies','foundrySubclassFeature','isChooseDataRenderEntries','flat','channel\x20divinity','_pGetClassSubclassFeatureItem_pGetImagePath','MODULE_NAME','_pGetAdditionalFeatureData','SYM_UI_SKIP','type','map','getMappedCasterType','{@note\x20Note:\x20importing\x20a\x20class\x20as\x20an\x20item\x20is\x20provided\x20for\x20display\x20purposes\x20only.\x20If\x20you\x20wish\x20to\x20import\x20a\x20class\x20to\x20a\x20character\x20sheet,\x20please\x20use\x20the\x20importer\x20on\x20the\x20sheet\x20instead.}','Cleric','foundryClassFeature','timeless\x20body','join','<p>','reduce','classFeature','source','copy','faces','permission','name','pMutActorUpdate','startsWith','_FEATURE_SRD_ASLIAS_WITH_CLASSNAME','getDataHitDice','land\x27s\x20stride','chooseData','classSource','data','push','importClass','get','_getDoNotUseNote','mystic\x20arcanum','render','isCancelled','PG_CLASSES','subclass','/media/icon/laurels.svg','subclassShortName','skills','entries','level','withUnpatchedDiceRendering','assign','pGetClassSubclassFeatureAdditionalData','URL_TO_HASH_BUILDER','getCleanEntityName','<hr\x20class=\x22hr-1\x20mt-2\x22>','pGetSideData','</p>','getItemActorPassive','getSourceWithPagePart','_pGetClassSubclassFeatureItem_other','/media/icon/mighty-force.svg','pGetDereferencedSubclassData','toLowerCase','subclassFeature','_pIsInSrd','permissions','isImportDescription','th-Level\x20Spell)','_getFeatureSrdAliases','subclassSource'];(function(_0x395849,_0x30dab5){const _0x2c46a6=function(_0x3be4cb){while(--_0x3be4cb){_0x395849['push'](_0x395849['shift']());}};_0x2c46a6(++_0x30dab5);}(_0x30da,0xf3));const _0x2c46=function(_0x395849,_0x30dab5){_0x395849=_0x395849-0x0;let _0x2c46a6=_0x30da[_0x395849];return _0x2c46a6;};const _0x1b5cb2=_0x2c46;'use strict';import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{UtilActors}from'./UtilActors.js';class DataConverterClass{static[_0x1b5cb2('0xa')](){const _0x537171=_0x1b5cb2;return _0x537171('0x56')+Renderer[_0x537171('0x9')]()[_0x537171('0xc')](_0x537171('0x51'))+_0x537171('0x1c');}static['_getCntSkills'](_0x3be4cb){const _0x49ebff=_0x1b5cb2;return(MiscUtil[_0x49ebff('0x9')](_0x3be4cb,_0x49ebff('0x45'),_0x49ebff('0x12'))||[])[_0x49ebff('0x4f')](_0x56834a=>MiscUtil[_0x49ebff('0x9')](_0x56834a['choose'],'count')||0x0)[_0x49ebff('0x57')]((_0x372dae,_0x485f1c)=>_0x372dae+_0x485f1c,0x0);}static[_0x1b5cb2('0x2')](_0x5bbfa1){const _0xfd44b9=_0x1b5cb2;return'd'+((_0x5bbfa1['hd']||{})[_0xfd44b9('0x5b')]||0x6);}static async[_0x1b5cb2('0x34')](_0x1fe7bb,_0x3ade01){const _0x3f8fb5=_0x1b5cb2;_0x3ade01=_0x3ade01||{},_0x1fe7bb=MiscUtil['copy'](_0x1fe7bb),_0x1fe7bb=await DataUtil[_0x3f8fb5('0x3f')]['pGetDereferencedClassData'](_0x1fe7bb);const _0x51f345=Renderer[_0x3f8fb5('0x9')]()['setFirstSection'](!![])[_0x3f8fb5('0xc')]({'type':'section','entries':_0x1fe7bb[_0x3f8fb5('0x31')][_0x3f8fb5('0x48')]()}),_0x2997ce=await DataConverter[_0x3f8fb5('0x44')](_0x3f8fb5('0x3f'),_0x1fe7bb)||_0x3f8fb5('0x35')+SharedConsts['MODULE_NAME']+_0x3f8fb5('0x10'),_0x1260be={'name':UtilApplications['getCleanEntityName'](DataConverter[_0x3f8fb5('0x2d')](_0x1fe7bb)),'type':_0x3f8fb5('0x3f'),'data':{'description':{'value':Config['get']('importClass','isImportDescription')?_0x3f8fb5('0x39')+this['_getDoNotUseNote']()+_0x51f345+_0x3f8fb5('0x40'):'','chat':'','unidentified':''},'source':DataConverter[_0x3f8fb5('0x1e')](_0x1fe7bb),'levels':0x14,'subclass':'','damage':{'parts':[]},'hitDice':DataConverterClass['getDataHitDice'](_0x1fe7bb),'hitDiceUsed':0x0,'skills':{'number':this[_0x3f8fb5('0x37')](_0x1fe7bb)},'spellcasting':UtilActors[_0x3f8fb5('0x50')](_0x1fe7bb['casterProgression'])},'flags':{[SharedConsts[_0x3f8fb5('0x4b')]]:{'page':UrlUtil[_0x3f8fb5('0xe')],'source':_0x1fe7bb[_0x3f8fb5('0x59')],'hash':UrlUtil[_0x3f8fb5('0x18')][UrlUtil[_0x3f8fb5('0xe')]](_0x1fe7bb)}},'effects':[],'img':_0x2997ce};if(_0x3ade01[_0x3f8fb5('0x41')])_0x1260be[_0x3f8fb5('0x5c')]={'default':Config[_0x3f8fb5('0x9')](_0x3f8fb5('0x8'),'permissions')};return _0x1260be;}static async['pGetSubclassItem'](_0xd33a4,_0x1692f8,_0x23b244){const _0x238826=_0x1b5cb2;_0x23b244=_0x23b244||{},_0x1692f8=MiscUtil[_0x238826('0x5a')](_0x1692f8),_0x1692f8=await DataUtil[_0x238826('0x3f')][_0x238826('0x21')](_0x1692f8);const _0x25d41b=Renderer[_0x238826('0x9')]()['setFirstSection'](!![])[_0x238826('0xc')]({'type':_0x238826('0x2a'),'entries':_0x1692f8['subclassFeatures']['flat']()}),_0x282329=await DataConverter[_0x238826('0x44')]('class',_0xd33a4)||_0x238826('0x35')+SharedConsts[_0x238826('0x4b')]+_0x238826('0x10');_0x1692f8[_0x238826('0x59')]=_0x1692f8[_0x238826('0x59')]||_0xd33a4['source'];const _0x7b4000={'name':UtilApplications['getCleanEntityName'](DataConverter['getNameWithSourcePart'](_0xd33a4,_0x1692f8[_0x238826('0x5d')]+'\x20'+_0xd33a4['name'])),'type':_0x238826('0x3f'),'data':{'description':{'value':Config['get'](_0x238826('0x8'),_0x238826('0x26'))?_0x238826('0x39')+this[_0x238826('0xa')]()+_0x25d41b+_0x238826('0x40'):'','chat':'','unidentified':''},'source':DataConverter[_0x238826('0x1e')](_0x1692f8),'levels':0x14,'subclass':_0x1692f8[_0x238826('0x5d')],'damage':{'parts':[]},'hitDice':DataConverterClass[_0x238826('0x2')](_0xd33a4),'hitDiceUsed':0x0,'skills':{'number':this[_0x238826('0x37')](_0xd33a4)},'spellcasting':UtilActors[_0x238826('0x50')](_0xd33a4['casterProgression'])},'flags':{[SharedConsts[_0x238826('0x4b')]]:{'page':_0x238826('0xf'),'source':_0x1692f8[_0x238826('0x59')],'hash':UrlUtil[_0x238826('0x18')][_0x238826('0xf')](_0x1692f8)}},'effects':[],'img':_0x282329};if(_0x23b244[_0x238826('0x41')])_0x7b4000[_0x238826('0x5c')]={'default':Config[_0x238826('0x9')](_0x238826('0x8'),_0x238826('0x25'))};return _0x7b4000;}static async['pGetClassSubclassFeatureItem'](_0x5a2d53,_0x482351){const _0x28d10d=_0x1b5cb2,{entity:_0x3419ed,type:_0x46ed7e}=_0x5a2d53;let _0x47c4b4;return await this[_0x28d10d('0x24')](_0x3419ed,_0x46ed7e)?_0x47c4b4=this['_pGetClassSubclassFeatureItem_fromSrd'](_0x3419ed,_0x46ed7e,_0x482351):_0x47c4b4=this[_0x28d10d('0x1f')](_0x3419ed,_0x46ed7e,_0x482351),_0x47c4b4;}static async['_pIsInSrd'](_0x3b7431,_0x358635){const _0x2e499=_0x1b5cb2,_0x50bc40=await DataConverter[_0x2e499('0x3a')](_0x358635,_0x3b7431,{'fnGetAliases':this[_0x2e499('0x28')]});return!!_0x50bc40;}static async[_0x1b5cb2('0x3c')](_0x244e8a,_0x53ce0b,_0x5a14a5){const _0x28d2ef=_0x1b5cb2,_0x2f00d6=await DataConverter[_0x28d2ef('0x3a')](_0x53ce0b,_0x244e8a,{'fnGetAliases':this[_0x28d2ef('0x28')]}),_0x330ef7=await this['_pGetAdditionalFeatureData'](_0x244e8a,_0x53ce0b,_0x5a14a5);return{'name':UtilApplications[_0x28d2ef('0x19')](DataConverter[_0x28d2ef('0x2d')](_0x244e8a)),'type':_0x2f00d6[_0x28d2ef('0x4e')],'data':{..._0x2f00d6[_0x28d2ef('0x6')],'source':DataConverter[_0x28d2ef('0x1e')](_0x244e8a),'description':{'value':DataConverter['getEntryDescription'](_0x244e8a),'chat':'','unidentified':''},..._0x330ef7||{}},'img':await this['_pGetClassSubclassFeatureItem_pGetImagePath'](_0x244e8a,_0x53ce0b)};}static async['_pGetClassSubclassFeatureItem_other'](_0x50a82b,_0x45dcc4,_0x4b66c2){const _0x19a0f5=_0x1b5cb2;let _0x51197b=await this[_0x19a0f5('0x4c')](_0x50a82b,_0x45dcc4,_0x4b66c2);return DataConverter[_0x19a0f5('0x1d')](_0x50a82b,{'mode':'player','modeOptions':{'isChannelDivinity':_0x50a82b[_0x19a0f5('0x3e')]===_0x19a0f5('0x52')&&_0x50a82b['name'][_0x19a0f5('0x22')]()[_0x19a0f5('0x0')](_0x19a0f5('0x2c'))},'renderDepth':0x0,'fvttType':'feat','img':await this[_0x19a0f5('0x4a')](_0x50a82b,_0x45dcc4),'source':DataConverter[_0x19a0f5('0x1e')](_0x50a82b),'requirements':_0x50a82b[_0x19a0f5('0x3e')]+'\x20'+_0x50a82b[_0x19a0f5('0x14')]+(_0x50a82b[_0x19a0f5('0x11')]?'\x20('+_0x50a82b[_0x19a0f5('0x11')]+')':''),'additionalData':_0x51197b,'actor':_0x4b66c2['actor']});}static async['pMutActorUpdateClassSubclassFeatureItem'](_0x766de2,_0x27c17e,_0x17bff8,_0x31151d){const _0xb9244=_0x1b5cb2,{entity:_0x2840c9,type:_0x42abff}=_0x17bff8,_0x4c2d70=await this['pGetSideData'](_0x2840c9,_0x42abff),_0x321c70={'sideData':_0x4c2d70,'isCancelled':![]};await DataConverter[_0xb9244('0x5e')](_0x766de2,_0x27c17e,_0x17bff8[_0xb9244('0x2f')],_0x321c70);if(_0x321c70[_0xb9244('0xd')])_0x31151d[_0xb9244('0xd')]=!![];}static async['pPreloadSideData'](){const _0x4d3a9c=_0x1b5cb2;DataConverterClass[_0x4d3a9c('0x2e')]=await Vetools[_0x4d3a9c('0x17')]();}static async['pGetSideData'](_0x33ee44,_0x241181){const _0x15551b=_0x1b5cb2;switch(_0x241181){case _0x15551b('0x58'):{let _0xf7eb16=(MiscUtil[_0x15551b('0x9')](BrewUtil,_0x15551b('0x2b'),_0x15551b('0x53'))||[])[_0x15551b('0x30')](_0x34d2e3=>_0x34d2e3[_0x15551b('0x5d')]===_0x33ee44[_0x15551b('0x5d')]&&_0x34d2e3[_0x15551b('0x59')]===_0x33ee44[_0x15551b('0x59')]&&_0x34d2e3[_0x15551b('0x3e')]===_0x33ee44['className']&&_0x34d2e3[_0x15551b('0x5')]===_0x33ee44[_0x15551b('0x5')]&&_0x34d2e3[_0x15551b('0x14')]===_0x33ee44[_0x15551b('0x14')]);if(!_0xf7eb16){const _0x4c7e02=DataConverterClass[_0x15551b('0x2e')]||await Vetools[_0x15551b('0x17')]();_0xf7eb16=_0x4c7e02[_0x15551b('0x58')][_0x15551b('0x30')](_0x4be590=>_0x4be590[_0x15551b('0x5d')]===_0x33ee44[_0x15551b('0x5d')]&&_0x4be590['source']===_0x33ee44[_0x15551b('0x59')]&&_0x4be590[_0x15551b('0x3e')]===_0x33ee44[_0x15551b('0x3e')]&&_0x4be590[_0x15551b('0x5')]===_0x33ee44[_0x15551b('0x5')]&&_0x4be590[_0x15551b('0x14')]===_0x33ee44[_0x15551b('0x14')]);}if(!_0xf7eb16)return null;return _0xf7eb16;}case _0x15551b('0x23'):{let _0x439553=(MiscUtil[_0x15551b('0x9')](BrewUtil,'homebrew',_0x15551b('0x46'))||[])[_0x15551b('0x30')](_0x2abee5=>_0x2abee5[_0x15551b('0x5d')]===_0x33ee44[_0x15551b('0x5d')]&&_0x2abee5[_0x15551b('0x59')]===_0x33ee44[_0x15551b('0x59')]&&_0x2abee5['className']===_0x33ee44[_0x15551b('0x3e')]&&_0x2abee5[_0x15551b('0x5')]===_0x33ee44[_0x15551b('0x5')]&&_0x2abee5['subclassShortName']===_0x33ee44[_0x15551b('0x11')]&&_0x2abee5['subclassSource']===_0x33ee44[_0x15551b('0x29')]&&_0x2abee5['level']===_0x33ee44['level']);if(!_0x439553){const _0x3f9ba9=DataConverterClass['_SIDE_DATA']||await Vetools['pGetClassSubclassFeatureAdditionalData']();_0x439553=_0x3f9ba9['subclassFeature'][_0x15551b('0x30')](_0x4a6e58=>_0x4a6e58['name']===_0x33ee44[_0x15551b('0x5d')]&&_0x4a6e58[_0x15551b('0x59')]===_0x33ee44['source']&&_0x4a6e58['className']===_0x33ee44[_0x15551b('0x3e')]&&_0x4a6e58[_0x15551b('0x5')]===_0x33ee44['classSource']&&_0x4a6e58[_0x15551b('0x11')]===_0x33ee44['subclassShortName']&&_0x4a6e58['subclassSource']===_0x33ee44[_0x15551b('0x29')]&&_0x4a6e58[_0x15551b('0x14')]===_0x33ee44[_0x15551b('0x14')]);}if(!_0x439553)return null;return _0x439553;}default:throw new Error(_0x15551b('0x32')+_0x241181+'\x22');}}static async[_0x1b5cb2('0x4c')](_0x42c603,_0x2ce834,_0x113aa1){const _0x2b55f1=_0x1b5cb2,_0x22cce5=await this[_0x2b55f1('0x1b')](_0x42c603,_0x2ce834);if(!_0x22cce5)return null;const _0x5a8041={};if(_0x22cce5[_0x2b55f1('0x6')])Object[_0x2b55f1('0x16')](_0x5a8041,MiscUtil[_0x2b55f1('0x5a')](_0x22cce5['data']));if(_0x22cce5[_0x2b55f1('0x4')]){const _0x4a8686=_0x22cce5[_0x2b55f1('0x47')]?Vetools[_0x2b55f1('0x15')](()=>(_0x42c603[_0x2b55f1('0x13')]||[])[_0x2b55f1('0x4f')](_0x5507a4=>_0x2b55f1('0x39')+Renderer['get']()[_0x2b55f1('0xc')](_0x5507a4)+_0x2b55f1('0x40'))[_0x2b55f1('0x55')]('')+_0x2b55f1('0x1a')):null,_0x5f0d83=await InputUiUtil[_0x2b55f1('0x33')]({'title':''+_0x42c603[_0x2b55f1('0x3e')]+(_0x42c603[_0x2b55f1('0x11')]?'\x20('+_0x42c603[_0x2b55f1('0x11')]+')':'')+_0x2b55f1('0x42')+_0x42c603[_0x2b55f1('0x14')]+'â€”'+_0x42c603['name'],'htmlDescription':_0x4a8686,'count':0x1,'isResolveItems':!![],'fnDisplay':_0x4f6f15=>_0x4f6f15[_0x2b55f1('0x5d')],'values':_0x22cce5[_0x2b55f1('0x4')],'modalOpts':{'isMaxWidth640p':!![]},'isSkippable':!![]});if(_0x5f0d83==null)return _0x113aa1[_0x2b55f1('0xd')]=!![],null;if(_0x5f0d83===VeCt[_0x2b55f1('0x4d')])return _0x5a8041;Object[_0x2b55f1('0x16')](_0x5a8041,MiscUtil[_0x2b55f1('0x5a')](_0x5f0d83[0x0][_0x2b55f1('0x6')]));}return _0x5a8041;}static[_0x1b5cb2('0x28')](_0x39a623){const _0xa6ab97=_0x1b5cb2;if(!_0x39a623[_0xa6ab97('0x5d')])return[];const _0x139979=[],_0x5a5346=_0x39a623['name'][_0xa6ab97('0x36')](/\([^)]+\)/g,'')[_0xa6ab97('0x36')](/\s+/g,'\x20')[_0xa6ab97('0x43')]();if(_0x5a5346!==_0x39a623['name'])_0x139979[_0xa6ab97('0x7')](_0x5a5346);const _0x148771=_0x39a623[_0xa6ab97('0x5d')]['toLowerCase']()[_0xa6ab97('0x43')]();return DataConverterClass[_0xa6ab97('0x1')][_0xa6ab97('0x3b')](_0x148771)&&_0x139979[_0xa6ab97('0x7')](_0x39a623[_0xa6ab97('0x5d')]+'\x20('+_0x39a623[_0xa6ab97('0x3e')]+')'),_0x148771[_0xa6ab97('0x0')](_0xa6ab97('0xb'))&&_0x139979['push'](_0x5a5346+'\x20('+((_0x39a623['level']-0x9)/0x2+0x5)+_0xa6ab97('0x27')),_0x139979;}static async[_0x1b5cb2('0x4a')](_0x51f41c,_0x518fff){const _0x17f41e=_0x1b5cb2,_0x2045dd=await DataConverter['pGetCompendiumImage'](_0x518fff,_0x51f41c,{'fnGetAliases':this[_0x17f41e('0x28')]});if(_0x2045dd)return _0x2045dd;return _0x17f41e('0x35')+SharedConsts[_0x17f41e('0x4b')]+_0x17f41e('0x20');}}DataConverterClass[_0x1b5cb2('0x2e')]=null,DataConverterClass[_0x1b5cb2('0x1')]=new Set([_0x1b5cb2('0x3d'),_0x1b5cb2('0x49'),_0x1b5cb2('0x38'),_0x1b5cb2('0x3'),_0x1b5cb2('0x54')]);export{DataConverterClass};