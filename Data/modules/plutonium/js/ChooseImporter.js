'use strict';const _0x4806=['copy','$pGetAddAppLoadingOverlay','_getDefaultState','cacheKeys','2809WMALQi','Classes\x20and\x20Subclasses','Items','_$panel3_tab2','_getMode','_$panel2','preventDefault','_importerPreRenderArgs','val','isRadio','unlock','locked','addHook','getCustomUrls','_getImportToPackKey','map','fnCheckRequirements','No\x20default\x20source\x20to\x20import!\x20This\x20is\x20a\x20bug.','_$panel3_tab1','Tables','optional-and-variant-rules','toggleClass','[data-panel=\x222\x22]','forEach','Open\x20Importer','removeHook','963373zTCmDp','hasDefaultSource','collection','getSelectedSources','empty','manifesturlWorld','all','close','/template/ChooseImporterForMode.handlebars','wizardTitleWindow','Vehicles','_isAlwaysCloseWindow','catch','pPreRender','pack','vehicles','_activateListeners_pHkMode','actor','_$panel2WrpLoader','_pFillUi_$pGetPanel3WrpTabs','isStreamerMode','mode','name','_pDoQuickOpen','namespace','_$stgSpecial','Import</button>','703wvrUWy','\x20Source','\x20<i\x20class=\x22fas\x20fa-external-link-alt\x22></i></a>','spells','_isTemp','_getSourceSelectionKey','_MODES','_pFillUi_handleOpenClick_pGetSpecialMeta','<input\x20class=\x22mr-1\x22\x20type=\x22radio\x22\x20name=\x22package-mode\x22\x20','_comp','btn--active','<a\x20class=\x22imp__btn-open--sheet\x22><span\x20class=\x22fas\x20fa-atom\x22></span>\x20Import</a>','\x22>Import\x20to\x20Compendium</button>','_$stgUrl','source','Spells','books','Books','directory','renderActorSheet','entity','Failed\x20to\x20load\x20URL!\x20','_pFillUi_handleOpenClick_pGetFileMeta','showAndRender','cacheKey','Choose\x20','_pFillUi_$getBtnOpenImporter','Failed\x20to\x20load\x20pre-defined\x20source\x20\x22','warn','38IYUlQV','_pDoSaveState','_pPackageIndex','_actor','_pGetUi_pCheckOpenCachedInstance','_pFillUi_$pGetWrpPackageImport','Import\x20Wizard','<a\x20class=\x22btn\x20btn-sm\x20btn-5et\x20imp-wiz__btn-package-archive\x20no-underline\x22\x20rel=\x22noreferrer\x20noopener\x22\x20href=\x22','warning','minimumRole','STR_SEE_CONSOLE','user','active','.imp__btn-open--sheet','_getFilterNamespace','_importer','maximize','<button\x20class=\x22btn\x20btn-5et\x20imp-wiz__btn-tab-head\x20imp-wiz__btn-tab-head--right\x20w-50\x20mr-2\x20','modeId','isRemainOpen','_$panel3WrpTabs','includes','[data-panel=\x223\x22]','</button>','_$panel3','_getInstanceCacheKey','isFolderOnly','page','getContent','Creatures','conditions-diseases','MODULE_LOCATION','_pFillUi','_$panel3Head','get','Plutonium\x20','props','debounce',':\x20Choose\x20Source','_pFillUi_pFillConfigUi','default','pLoadImporterSourceSpecial','.close','isDedupable','<button\x20class=\x22btn\x20btn-sm\x20btn-5et\x20pl-2\x20pr-1\x20imp-wiz__btn-package-archive\x20h-100\x22>','isClosable','ixTabPanel3','contents','constructor','ChooseImporter_pack_','join','hasPackages','error','backgrounds','[data-panel=\x221\x22]','notifications','_getPackSelectionKey','<select\x20class=\x22block\x20ve-foundry-button\x20m-0\x22>\x0a\x09\x09\x09','pHandleButtonClick','_resetUiHooks','Configure\x20and\x20Import\x20','_activateListeners_fillPanel1','disabled\x20title=\x22No\x20world\x20available.\x22','_modes','_$panel1','1uNSDeK','getMergedPackageIndex','Configure\x20and\x20Import','_namespace','_getSelectedImporterStorageKey','feats','bringToFront','uploadedFiles','_activateListeners_fillPanel2','pLock','activateListeners','importerPreRenderArgs','other-options-and-features','add','click','pImportManifesturlWorld','getMaxWindowWidth','state','<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>','_activateListeners_fillPanel3','hasActor','<h4\x20class=\x22imp-wiz__head-panel\x22>','_appSourceSelector','tables','packageSource','<button\x20class=\x22mt-auto\x20btn\x20btn-5et\x22\x20disabled>Import\x20Package</button>','has','adventures','pGet','metaOther','getSaveableState','\x22!\x20','wizardTitlePanel3','singleName','_predefinedMode','Adventure','\x0a\x09\x09</select>','setStateFrom','.window-header','filter','ChooseImporter_is_pack_','metaExternalArchive','instance','Please\x20select\x20an\x20import\x20mode\x20first!','</option>','handlePreClose','once','969550UxCOtK','$btn','bind','URL_TO_HASH_BUILDER','push','_$panel2Head','pGetSources','getPod','_INSTANCE_CACHE','_$window','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>World/Module</button>','_pFillUi_handleOpenClick_pOpen','importerInstance','pInit','manifesturlModule','_$panel3WrpConfig','$row','role','__comp','_$panel3WrpLoader','No\x20source\x20selected!','find','_pFillUi_handleOpenClick_pGetUrlMeta','length','userData','pPostLoad','wizardTitleButtonOpenImporter','then','toLowerCase','checked','_activateListeners_initPredefinedMode','pSet','toggleVe','set','<button\x20class=\x22btn\x20btn-sm\x20btn-5et\x20pl-2\x20pr-1\x20imp-wiz__btn-quick\x20h-100\x22\x20title=\x22Open\x20Default\x20Importer\x22><i\x20class=\x22fas\x20fa-forward\x22></i></button>','1219241BFKUXs','_$panel2WrpList','_trackUiHook','_$panel3_btnImportPackage','addHookAll','_pFillUi_$pGetWrpConfigSettings','url','prop','_packageIndex','pGetWithCache','<div\x20class=\x22flex-col\x20w-100\x20h-100\x20pb-3\x22></div>','text','Psionics','pSyncStateFrom','_$stgUpload','_deferredHooks','Book','<button\x20class=\x22mt-auto\x20btn\x20btn-5et\x22>','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Actors/Items/Journal</button>','Feats','disabled','_rowMetasMode','off','Importer','23564RTBTPc','1084983TbncGF','remove','Packages','_DEFAULT_STATE','render','chooseMode','deleteActor','_doSaveStateDebounced','_pGetUi_cacheInstance','<option\x20value=\x22','/template/ChooseImporter.handlebars','pFn','_pHandleOpenImporter','.\x22\x20You\x20may\x20need\x20to\x20re-open\x20the\x20Wizard.','disabled\x20title=\x22No\x20module\x20available.\x22','<div\x20class=\x22bold\x20veapp__msg-error\x22>Failed\x20to\x20load!</div>','pImportManifesturlModule','Backgrounds','_$stgNone','_uiHooks','573968wUYQxz','<button\x20class=\x22btn\x20btn-5et\x20imp-wiz__btn-tab-head\x20imp-wiz__btn-tab-head--left\x20w-50\x20ml-2\x20','Failed\x20to\x20load\x20importer!\x20','metadata'];const _0x11e5=function(_0x1ee5f0,_0x372a21){_0x1ee5f0=_0x1ee5f0-0x18f;let _0x4806d5=_0x4806[_0x1ee5f0];return _0x4806d5;};const _0x5804f7=_0x11e5;(function(_0x4ae7ed,_0x33ed20){const _0x130e3b=_0x11e5;while(!![]){try{const _0x4777d9=-parseInt(_0x130e3b(0x225))+-parseInt(_0x130e3b(0x1ef))+parseInt(_0x130e3b(0x1b3))+parseInt(_0x130e3b(0x25d))*-parseInt(_0x130e3b(0x1ee))+-parseInt(_0x130e3b(0x203))+parseInt(_0x130e3b(0x29e))*parseInt(_0x130e3b(0x1d6))+-parseInt(_0x130e3b(0x240))*-parseInt(_0x130e3b(0x20b));if(_0x4777d9===_0x33ed20)break;else _0x4ae7ed['push'](_0x4ae7ed['shift']());}catch(_0xd1dfa0){_0x4ae7ed['push'](_0x4ae7ed['shift']());}}}(_0x4806,0x9da82));import{SharedConsts}from'../shared/SharedConsts.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCreature}from'./ImportListCreature.js';import{ImportListSpell}from'./ImportListSpell.js';import{ImportListItem}from'./ImportListItem.js';import{ImportListRace}from'./ImportListRace.js';import{ImportListClass}from'./ImportListClass.js';import{ImportListBackground}from'./ImportListBackground.js';import{ImportListVariantRule}from'./ImportListVariantRule.js';import{ImportListRollableTable}from'./ImportListRollableTable.js';import{ImportListPsionic}from'./ImportListPsionic.js';import{ImportListOptionalFeature}from'./ImportListOptionalFeature.js';import{ImportListConditionDisease}from'./ImportListConditionDisease.js';import{ImportListVehicle}from'./ImportListVehicle.js';import{ImportListAdventure}from'./ImportListAdventure.js';import{ImportListBook}from'./ImportListBook.js';import{UtilApplications}from'./UtilApplications.js';import{Config}from'./Config.js';import{Util}from'./Util.js';import{Vetools}from'./Vetools.js';import{FolderPathBuilder}from'./FolderPathBuilder.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ImportSpecialPackages}from'./ImportSpecialPackages.js';class ChooseImporter extends Application{static['init'](){const _0x3363ed=_0x11e5;Hooks['on'](_0x3363ed(0x253),(_0x1842e3,_0x5c0bcf,_0x4cb6ec)=>ChooseImporter['_doAddButtonSheet'](_0x1842e3,_0x5c0bcf,_0x4cb6ec));}static['_doAddButtonSheet'](_0x5ede94,_0x479b1b,_0x3661c5){const _0x3f5801=_0x11e5;if(!_0x3661c5['owner'])return;const _0x5b232d=Config['get']('import',_0x3f5801(0x266));if(game[_0x3f5801(0x268)][_0x3f5801(0x1c4)]<_0x5b232d)return;const _0x379f8e=_0x5ede94['element'][_0x3f5801(0x1c8)](_0x3f5801(0x1aa));_0x379f8e['find'](_0x3f5801(0x26a))[_0x3f5801(0x1f0)](),$(_0x3f5801(0x24b))[_0x3f5801(0x192)](_0x5677e3=>this[_0x3f5801(0x297)](_0x5677e3,_0x5ede94,_0x479b1b,_0x3661c5))['insertBefore'](_0x379f8e[_0x3f5801(0x1c8)](_0x3f5801(0x287)));}static['pHandleButtonClick'](_0x46e750,_0xfec27f,_0x3dd55b,_0xb01740){const _0xe29572=_0x11e5;_0x46e750[_0xe29572(0x211)]();const _0x20e487=new ChooseImporter(_0xfec27f['actor']);_0x20e487[_0xe29572(0x1f3)](!![]);}static['$getDirButton'](){const _0x593e5d=_0x11e5;return $('<button\x20class=\x22imp__btn-open\x20w-100\x20ml-0\x20mr-1\x22><span\x20class=\x22fas\x20fa-atom\x22></span>\x20'+(Config[_0x593e5d(0x27f)]('ui',_0x593e5d(0x239))?'':_0x593e5d(0x280))+_0x593e5d(0x23f))[_0x593e5d(0x192)](_0x5cb639=>{const _0x36667d=_0x593e5d;_0x5cb639[_0x36667d(0x211)]();const _0x36224a=new ChooseImporter();_0x36224a['render'](!![]);});}constructor(_0x539933,_0x3050f0){const _0x56212a=_0x11e5;_0x3050f0=_0x3050f0||{};const _0x2c0edf=_0x3050f0['mode']?Util[_0x56212a(0x194)](0x3e8):Util[_0x56212a(0x194)](0x4b0),_0x475fce=_0x3050f0[_0x56212a(0x23a)]?SharedConsts[_0x56212a(0x27c)]+_0x56212a(0x22d):SharedConsts[_0x56212a(0x27c)]+_0x56212a(0x1f9);super({'width':_0x2c0edf,'height':Util['getMaxWindowHeight'](0x320),'title':MiscUtil['get'](_0x3050f0[_0x56212a(0x23a)],_0x56212a(0x22e))||_0x56212a(0x263),'template':_0x475fce,'resizable':!![]}),this['_actor']=_0x539933,this[_0x56212a(0x1a6)]=_0x3050f0[_0x56212a(0x23a)],this[_0x56212a(0x2a1)]=_0x3050f0[_0x56212a(0x23d)]||_0x56212a(0x285),this[_0x56212a(0x230)]=!!_0x3050f0['isAlwaysCloseWindow'],this[_0x56212a(0x244)]=!!_0x3050f0['isTemp'],this['_importerPreRenderArgs']=_0x3050f0[_0x56212a(0x18f)],this[_0x56212a(0x1c5)]=BaseComponent['fromObject'](ChooseImporter['_getDefaultState']()),this[_0x56212a(0x249)]=this['__comp'][_0x56212a(0x1ba)](),this[_0x56212a(0x29c)]=[],this[_0x56212a(0x1e5)]=[],this[_0x56212a(0x1f6)]=null,this[_0x56212a(0x1bc)]=null,this[_0x56212a(0x29d)]=null,this[_0x56212a(0x210)]=null,this[_0x56212a(0x1b8)]=null,this[_0x56212a(0x237)]=null,this[_0x56212a(0x1d7)]=null,this[_0x56212a(0x275)]=null,this[_0x56212a(0x27e)]=null,this[_0x56212a(0x1c6)]=null,this['_$panel3WrpTabs']=null,this[_0x56212a(0x1c2)]=null,this[_0x56212a(0x21d)]=null,this[_0x56212a(0x20e)]=null,this['_$panel3_btnImportPackage']=null,this[_0x56212a(0x1eb)]=[],this[_0x56212a(0x26c)]=null,this['_appSourceSelector']=null,this[_0x56212a(0x201)]=null,this['_$stgUpload']=null,this['_$stgUrl']=null,this[_0x56212a(0x23e)]=null,this[_0x56212a(0x1de)]=null,this[_0x56212a(0x25f)]=null,this[_0x56212a(0x202)]={};}['_trackUiHook'](_0x2450dc,_0x334384){const _0x4b7689=_0x11e5;(this[_0x4b7689(0x202)][_0x2450dc]=this[_0x4b7689(0x202)][_0x2450dc]||[])[_0x4b7689(0x1b7)](_0x334384);}[_0x5804f7(0x298)](){const _0x1bf269=_0x5804f7;Object['entries'](this[_0x1bf269(0x202)])['forEach'](([_0x503f40,_0x1c66e8])=>{const _0x437e66=_0x1bf269;this[_0x437e66(0x249)][_0x437e66(0x224)](_0x503f40,_0x1c66e8);}),this[_0x1bf269(0x202)]={};}['_pDoSaveState'](){const _0x343e7a=_0x5804f7;return StorageUtil[_0x343e7a(0x1d2)](this[_0x343e7a(0x2a2)](),this[_0x343e7a(0x1c5)][_0x343e7a(0x1a2)]());}[_0x5804f7(0x2a8)](_0x52c07d){const _0x581cb9=_0x5804f7;super['activateListeners'](_0x52c07d),this[_0x581cb9(0x1bc)]=_0x52c07d;this[_0x581cb9(0x260)]&&Hooks[_0x581cb9(0x1b2)](_0x581cb9(0x1f5),_0x3d8084=>{const _0x98c730=_0x581cb9;if(_0x3d8084['id']===this[_0x98c730(0x260)]['id']){this[_0x98c730(0x22c)]();if(this[_0x98c730(0x26c)])this['_importer'][_0x98c730(0x22c)]();}});if(!this[_0x581cb9(0x1a6)])this[_0x581cb9(0x29d)]=_0x52c07d[_0x581cb9(0x1c8)](_0x581cb9(0x293));this[_0x581cb9(0x210)]=_0x52c07d[_0x581cb9(0x1c8)](_0x581cb9(0x221)),this[_0x581cb9(0x275)]=_0x52c07d[_0x581cb9(0x1c8)](_0x581cb9(0x273));if(!this['_predefinedMode'])this[_0x581cb9(0x29a)](this[_0x581cb9(0x29d)]);else this[_0x581cb9(0x1d1)]();this['_activateListeners_fillPanel2'](this[_0x581cb9(0x210)]),this[_0x581cb9(0x197)](this[_0x581cb9(0x275)]),this['_doSaveStateDebounced']=MiscUtil[_0x581cb9(0x282)](()=>this[_0x581cb9(0x25e)](),0x32),StorageUtil['pGet'](this[_0x581cb9(0x2a2)]())[_0x581cb9(0x1ce)](_0x4a4124=>{const _0x281c8e=_0x581cb9;if(_0x4a4124){if(_0x4a4124[_0x281c8e(0x195)])_0x4a4124[_0x281c8e(0x195)][_0x281c8e(0x26f)]=_0x4a4124['state']['modeId']||this[_0x281c8e(0x29c)][0x0]['id'];else _0x4a4124[_0x281c8e(0x195)]={'modeId':this['_modes'][0x0]['id']};this[_0x281c8e(0x1c5)][_0x281c8e(0x1a9)](_0x4a4124);}this[_0x281c8e(0x1e5)][_0x281c8e(0x222)](_0x5deb59=>_0x5deb59()),this[_0x281c8e(0x1e5)]=[],this[_0x281c8e(0x249)][_0x281c8e(0x1da)](this[_0x281c8e(0x1f6)]);});}[_0x5804f7(0x1d1)](){const _0x5c05b8=_0x5804f7;this[_0x5c05b8(0x29c)]=[this[_0x5c05b8(0x1a6)]],this['_comp'][_0x5c05b8(0x217)](_0x5c05b8(0x26f),this['_activateListeners_pHkMode'][_0x5c05b8(0x1b5)](this)),this[_0x5c05b8(0x1e5)][_0x5c05b8(0x1b7)](this[_0x5c05b8(0x235)][_0x5c05b8(0x1b5)](this));}[_0x5804f7(0x29a)](_0x2f8bd6){const _0x2efb3c=_0x5804f7;this[_0x2efb3c(0x29c)]=ChooseImporter[_0x2efb3c(0x246)][_0x2efb3c(0x1ab)](_0x3bd836=>!_0x3bd836[_0x2efb3c(0x21b)]||_0x3bd836[_0x2efb3c(0x21b)](this['_actor'])),this[_0x2efb3c(0x1eb)]=this[_0x2efb3c(0x29c)][_0x2efb3c(0x21a)](_0x260ed4=>{const _0xac7f8b=_0x2efb3c,_0x38a674=$('<button\x20class=\x22btn\x20btn-sm\x20btn-5et\x20w-100\x22>'+_0x260ed4[_0xac7f8b(0x23b)]+_0xac7f8b(0x274))['click'](()=>this[_0xac7f8b(0x249)][_0xac7f8b(0x1d4)](_0xac7f8b(0x26f),_0x260ed4['id'])),_0x264369=_0x260ed4[_0xac7f8b(0x1ad)]?$(_0xac7f8b(0x264)+_0x260ed4['metaExternalArchive'][_0xac7f8b(0x1dc)]+'\x22>'+_0x260ed4[_0xac7f8b(0x1ad)][_0xac7f8b(0x1e1)]+_0xac7f8b(0x242)):null,_0xf579fe=_0x260ed4[_0xac7f8b(0x1a1)]?$(_0xac7f8b(0x289)+_0x260ed4[_0xac7f8b(0x1a1)][_0xac7f8b(0x1e1)]+'</button>')['click'](()=>_0x260ed4[_0xac7f8b(0x1a1)][_0xac7f8b(0x1fa)]()):null,_0x1d2b1f=_0x260ed4[_0xac7f8b(0x226)]?$(_0xac7f8b(0x1d5))[_0xac7f8b(0x192)](()=>this['_pDoQuickOpen'](_0x260ed4)):null,_0x4d311c=$$`<div class="w-100 mb-1 flex-v-center input-group">
				${_0x38a674}
				${_0x264369}
				${_0xf579fe}
				${_0x1d2b1f}
			</div>`;return{'$btn':_0x38a674,'$row':_0x4d311c,'modeId':_0x260ed4['id']};}),this[_0x2efb3c(0x249)][_0x2efb3c(0x217)](_0x2efb3c(0x26f),this[_0x2efb3c(0x235)][_0x2efb3c(0x1b5)](this)),this['_deferredHooks'][_0x2efb3c(0x1b7)](this[_0x2efb3c(0x235)][_0x2efb3c(0x1b5)](this)),$$(_0x2f8bd6)`
			<h4 class="imp-wiz__head-panel">1: Choose Importer</h4>

			<div class="flex-col w-100 h-100 overflow-y-auto">
				${this['_rowMetasMode']['map'](_0x9bf4f0=>_0x9bf4f0[_0x2efb3c(0x1c3)])}
			</div>
		`;}[_0x5804f7(0x20f)](){const _0x35a5f5=_0x5804f7,_0x15494c=this[_0x35a5f5(0x249)][_0x35a5f5(0x27f)]('modeId');return this[_0x35a5f5(0x29c)][_0x35a5f5(0x1c8)](_0x1b5490=>_0x1b5490['id']===_0x15494c)||this[_0x35a5f5(0x29c)][0x0];}async[_0x5804f7(0x235)](){const _0xb28422=_0x5804f7;if(!this[_0xb28422(0x1b8)]||!this[_0xb28422(0x27e)])return;await this[_0xb28422(0x249)][_0xb28422(0x2a7)](_0xb28422(0x26f));try{const _0x2ec8f9=this[_0xb28422(0x20f)]();this[_0xb28422(0x1eb)][_0xb28422(0x222)](_0x362b07=>_0x362b07[_0xb28422(0x1b4)][_0xb28422(0x220)](_0xb28422(0x24a),_0x362b07[_0xb28422(0x26f)]===_0x2ec8f9['id'])),this['_$panel2Head'][_0xb28422(0x1e1)]((this[_0xb28422(0x1a6)]?0x1:0x2)+_0xb28422(0x283)),this[_0xb28422(0x27e)][_0xb28422(0x1e1)]((this[_0xb28422(0x1a6)]?0x2:0x3)+':\x20'+(MiscUtil[_0xb28422(0x27f)](this[_0xb28422(0x1a6)],_0xb28422(0x1a4))||_0xb28422(0x2a0)));const _0x3bb67b=await UtilApplications['$pGetAddAppLoadingOverlay'](this['_$panel2WrpLoader']),_0x153314=await UtilApplications[_0xb28422(0x208)](this[_0xb28422(0x1c6)]);try{this[_0xb28422(0x26c)]=_0x2ec8f9['Importer']?new _0x2ec8f9[(_0xb28422(0x1ed))]({'actor':this[_0xb28422(0x260)]}):_0x2ec8f9[_0xb28422(0x1bf)],await this[_0xb28422(0x26c)][_0xb28422(0x1c0)](),await this[_0xb28422(0x27d)](),this['_$panel2Head']['text']((this[_0xb28422(0x1a6)]?0x1:0x2)+':\x20'+(_0x2ec8f9[_0xb28422(0x1a5)]?_0xb28422(0x259)+_0x2ec8f9['singleName']+_0xb28422(0x241):'Choose\x20Source\x20for\x20'+_0x2ec8f9[_0xb28422(0x23b)])),this[_0xb28422(0x27e)][_0xb28422(0x1e1)]((this[_0xb28422(0x1a6)]?0x2:0x3)+':\x20'+(_0x2ec8f9['singleName']?_0xb28422(0x299)+_0x2ec8f9[_0xb28422(0x1a5)]:'Configure\x20and\x20Import\x20'+_0x2ec8f9[_0xb28422(0x23b)])),this['_$panel3WrpTabs'][_0xb28422(0x1d3)](_0x2ec8f9[_0xb28422(0x290)]);if(!_0x2ec8f9[_0xb28422(0x290)])this[_0xb28422(0x249)][_0xb28422(0x1d4)](_0xb28422(0x28b),0x0);}catch(_0x3323e9){ui['notifications']['error'](_0xb28422(0x205)+VeCt[_0xb28422(0x267)]);throw _0x3323e9;}finally{_0x3bb67b[_0xb28422(0x1f0)](),_0x153314['remove']();}}finally{this[_0xb28422(0x249)][_0xb28422(0x215)](_0xb28422(0x26f));}}[_0x5804f7(0x2a6)](_0x4fa260){const _0x2b6edd=_0x5804f7;this['_$panel2Head']=$('<h4\x20class=\x22imp-wiz__head-panel\x22>'+(this[_0x2b6edd(0x1a6)]?0x1:0x2)+':\x20Choose\x20Source</h4>'),this['_$panel2WrpList']=$(_0x2b6edd(0x196)),this[_0x2b6edd(0x237)]=$$`<div class="flex-col w-100 h-100 overflow-y-auto">
			${this[_0x2b6edd(0x1d7)]}
		</div>`,$$(_0x4fa260)`
			${this[_0x2b6edd(0x1b8)]}
			${this[_0x2b6edd(0x237)]}
		`;}[_0x5804f7(0x197)](_0x173bb8){const _0x1de106=_0x5804f7;this[_0x1de106(0x27e)]=$(_0x1de106(0x199)+(this[_0x1de106(0x1a6)]?0x2:0x3)+':\x20Configure\x20and\x20Import</h4>'),this[_0x1de106(0x1c2)]=$(_0x1de106(0x1e0)),this[_0x1de106(0x1c6)]=$$`<div class="flex-col w-100 h-100 overflow-y-auto">
			${this[_0x1de106(0x1c2)]}
		</div>`,$$(_0x173bb8)`
			${this[_0x1de106(0x27e)]}
			${this[_0x1de106(0x1c6)]}
		`;}['_getSelectedImporterStorageKey'](){const _0x3405e0=_0x5804f7,_0x80f6f6=this[_0x3405e0(0x1a6)]?'predefinedMode':_0x3405e0(0x1f4),_0x4ed968=this[_0x3405e0(0x260)]?_0x3405e0(0x236):_0x3405e0(0x252);return'chooseImporter_state_'+[_0x80f6f6,_0x4ed968][_0x3405e0(0x28f)]('_');}static[_0x5804f7(0x209)](){const _0x2aa582=_0x5804f7;return MiscUtil[_0x2aa582(0x207)](ChooseImporter[_0x2aa582(0x1f2)]);}async['_pFillUi'](){const _0x2da27d=_0x5804f7;this[_0x2da27d(0x298)](),this['_$panel2WrpList']['empty'](),this[_0x2da27d(0x1c2)]['empty'](),await this['_pFillUi_pFillSourceUi'](),await this['_pFillUi_pFillConfigUi']();}async['_pFillUi_pFillSourceUi'](){const _0x591214=_0x5804f7,_0x1ccaca=await this[_0x591214(0x26c)][_0x591214(0x1b9)]();this[_0x591214(0x19a)]=new AppSourceSelectorMulti({'sourcesToDisplay':_0x1ccaca,'savedSelectionKey':this[_0x591214(0x28d)]['_getSourceSelectionKey'](this[_0x591214(0x26c)]),'filterNamespace':this[_0x591214(0x26b)](),'isRadio':this['_importer'][_0x591214(0x214)]});const {$stgNone:_0x9e299,$stgUpload:_0x5f4432,$stgUrl:_0xdf7fce,$stgSpecial:_0x51a542}=await this[_0x591214(0x19a)]['pGetElements'](this[_0x591214(0x1d7)],_0x476091=>{const _0x1da5d7=_0x591214,_0x442560=this[_0x1da5d7(0x20f)]();if(!_0x442560['hasPackages']||!_0x476091[_0x1da5d7(0x1ca)])return this['_comp'][_0x1da5d7(0x1d4)]('packageSource',null);const _0x2112eb=_0x476091[0x0];this[_0x1da5d7(0x249)][_0x1da5d7(0x1d4)](_0x1da5d7(0x19c),(_0x2112eb[_0x1da5d7(0x1cb)]||{})[_0x1da5d7(0x24e)]||null);});this[_0x591214(0x201)]=_0x9e299,this[_0x591214(0x1e4)]=_0x5f4432,this['_$stgUrl']=_0xdf7fce,this['_$stgSpecial']=_0x51a542;}async[_0x5804f7(0x284)](){const _0x4374f4=_0x5804f7,_0x320824=await this['_pFillUi_$pGetWrpConfigSettings'](),_0x1a7ed7=this[_0x4374f4(0x25a)]();this[_0x4374f4(0x21d)]=$$`<div class="mb-1">Import From:</div>
			<div class="flex-col w-100 min-h-0 max-h-40 overflow-y-auto mb-1">
				${this[_0x4374f4(0x201)]}
				${this[_0x4374f4(0x1e4)]}
				${this[_0x4374f4(0x24d)]}
				${this[_0x4374f4(0x23e)]}
			</div>
			${_0x320824}
			${_0x1a7ed7}`;const _0x274f76=await this['_pFillUi_$pGetWrpPackageImport']();this[_0x4374f4(0x1d9)]=this[_0x4374f4(0x1d9)]||$(_0x4374f4(0x19d)),this[_0x4374f4(0x20e)]=$$`
			${_0x274f76}
			${this[_0x4374f4(0x1d9)]}`,this[_0x4374f4(0x271)]=await this['_pFillUi_$pGetPanel3WrpTabs'](),$$(this[_0x4374f4(0x1c2)])`
			${this['_$panel3WrpTabs']}
			${this[_0x4374f4(0x21d)]}
			${this[_0x4374f4(0x20e)]}
		`;}[_0x5804f7(0x238)](){const _0x16b82c=_0x5804f7,_0x152a26=$(_0x16b82c(0x1e8))[_0x16b82c(0x192)](()=>this[_0x16b82c(0x249)]['set']('ixTabPanel3',0x0)),_0x299901=$(_0x16b82c(0x1bd))[_0x16b82c(0x192)](()=>this['_comp'][_0x16b82c(0x1d4)](_0x16b82c(0x28b),0x1)),_0x3b5e3f=()=>{const _0x2a27f4=_0x16b82c,_0x4d83bd=Number(this[_0x2a27f4(0x249)][_0x2a27f4(0x27f)]('ixTabPanel3')||0x0);_0x152a26[_0x2a27f4(0x220)](_0x2a27f4(0x269),_0x4d83bd===0x0),_0x299901[_0x2a27f4(0x220)](_0x2a27f4(0x269),_0x4d83bd===0x1),this['_$panel3_tab1'][_0x2a27f4(0x1d3)](_0x4d83bd===0x0),this[_0x2a27f4(0x20e)][_0x2a27f4(0x1d3)](_0x4d83bd===0x1);};return this[_0x16b82c(0x249)][_0x16b82c(0x217)](_0x16b82c(0x28b),_0x3b5e3f),this[_0x16b82c(0x1d8)](_0x16b82c(0x28b),_0x3b5e3f),_0x3b5e3f(),$$`<div class="flex btn-group mb-2 w-100">${_0x152a26}${_0x299901}</div>`;}async[_0x5804f7(0x262)](){const _0x5b46f2=_0x5804f7,_0x3d9d17=$('<div\x20class=\x22flex-col\x20h-100\x20w-100\x22></div>'),_0x432a6f=await UtilApplications['$pGetAddAppLoadingOverlay'](_0x3d9d17);return this[_0x5b46f2(0x25f)]=this[_0x5b46f2(0x25f)]||(async()=>{const _0x3fdda0=_0x5b46f2;this[_0x3fdda0(0x1de)]=await ImportSpecialPackages[_0x3fdda0(0x29f)]();})(),this['_pPackageIndex'][_0x5b46f2(0x1ce)](()=>{const _0x12e943=_0x5b46f2;_0x432a6f[_0x12e943(0x1f0)]();const _0x52470=()=>{const _0x47a7ec=_0x12e943,_0x33cac6=this[_0x47a7ec(0x249)][_0x47a7ec(0x27f)](_0x47a7ec(0x19c))?this[_0x47a7ec(0x249)][_0x47a7ec(0x27f)]('packageSource')[_0x47a7ec(0x1cf)]():null,_0x3f4523=this[_0x47a7ec(0x1de)][_0x47a7ec(0x1c8)](_0x135b66=>(_0x135b66[_0x47a7ec(0x24e)]||'')['toLowerCase']()===_0x33cac6);if(_0x3f4523){const _0x3ae02c=!!_0x3f4523[_0x47a7ec(0x1c1)],_0x3041e6=!!_0x3f4523[_0x47a7ec(0x22a)],_0x2872da=$(_0x47a7ec(0x248)+(_0x3ae02c?'':_0x47a7ec(0x1fd))+'\x20'+(_0x3ae02c?_0x47a7ec(0x1d0):'')+'>'),_0x208f0a=$('<input\x20class=\x22mr-1\x22\x20type=\x22radio\x22\x20name=\x22package-mode\x22\x20'+(_0x3041e6?'':_0x47a7ec(0x29b))+'\x20'+(!_0x3ae02c&&_0x3041e6?_0x47a7ec(0x1d0):'')+'>');$$(_0x3d9d17[_0x47a7ec(0x229)]())`
						<div class="mb-1">Import As:</div>
						<label class="flex-v-center mb-1">
							<div class="flex-v-center col-3">${_0x2872da}<b class="mr-1">Module</b></div>
							<div class="col-9">
								A resource which can be used in this and other worlds. Usually includes a selection of compendiums.
							</div>
						</label>
						<label class="flex-v-center">
							<div class="flex-v-center col-3">${_0x208f0a}<b class="mr-1">World</b></div>
							<div class="col-9">
								A complete world, ready to be run. This is imported as a new, separate world; your current world will not be affected.
							</div>
						</label>
					`,this[_0x47a7ec(0x1d9)][_0x47a7ec(0x1dd)]('disabled',![])['off'](_0x47a7ec(0x192))[_0x47a7ec(0x192)](async()=>{const _0x1b2598=_0x47a7ec,_0xbd8b47=_0x2872da[_0x1b2598(0x1dd)](_0x1b2598(0x1d0)),_0x2ef71f=_0x208f0a[_0x1b2598(0x1dd)](_0x1b2598(0x1d0));if(_0xbd8b47)await ImportSpecialPackages[_0x1b2598(0x1ff)](_0x3f4523[_0x1b2598(0x1c1)]);else{if(_0x2ef71f)await ImportSpecialPackages[_0x1b2598(0x193)](_0x3f4523['manifesturlWorld']);else ui[_0x1b2598(0x294)][_0x1b2598(0x265)](_0x1b2598(0x1af));}});}else $$(_0x3d9d17[_0x47a7ec(0x229)]())`<div class="flex mb-1"><i>No world/module package found.</i></div>`,this[_0x47a7ec(0x1d9)][_0x47a7ec(0x1dd)](_0x47a7ec(0x1ea),!![])[_0x47a7ec(0x1ec)]('click');};this['_comp'][_0x12e943(0x217)](_0x12e943(0x19c),_0x52470),this[_0x12e943(0x1d8)](_0x12e943(0x19c),_0x52470),_0x52470();})[_0x5b46f2(0x231)](_0x58f994=>{const _0x4d3742=_0x5b46f2;_0x432a6f[_0x4d3742(0x1f0)](),_0x3d9d17['append'](_0x4d3742(0x1fe)),ui[_0x4d3742(0x294)]['error']('Failed\x20to\x20load\x20package\x20(worlds/modules)\x20index!\x20The\x20package\x20importer\x20may\x20not\x20function\x20correctly.\x20'+VeCt['STR_SEE_CONSOLE']);throw _0x58f994;}),_0x3d9d17;}async[_0x5804f7(0x1db)](){const _0x2d4dd7=_0x5804f7,_0x4a4e93=ComponentUiUtil['$getCbBool'](this[_0x2d4dd7(0x1c5)],_0x2d4dd7(0x270)),_0x475771=$$`<div class="w-100 flex-col mb-1">
			${!this[_0x2d4dd7(0x230)]?$$`<label class="w-100 mb-1 split-v-center" title="If this Import Wizard window should be kept open after clicking &quot;Open Importer&quot;">
				<div>Keep Window Open</div>${_0x4a4e93}
			</label>`:''}
		</div>`;if(this[_0x2d4dd7(0x260)]!=null||this[_0x2d4dd7(0x244)])return _0x475771;const _0x17a858=$$`<div class="w-100 flex-col"></div>`,_0xf90a2b=new FolderPathBuilder(this[_0x2d4dd7(0x26c)]);_0xf90a2b[_0x2d4dd7(0x1f3)](_0x17a858);if(this[_0x2d4dd7(0x26c)][_0x2d4dd7(0x277)])return $$`<div class="flex-col w-100">
				${_0x475771}
				${_0x17a858}
			</div>`;const _0x5d6c12=game['packs'][_0x2d4dd7(0x1ab)](_0x134eee=>!_0x134eee[_0x2d4dd7(0x216)]&&_0x134eee[_0x2d4dd7(0x206)][_0x2d4dd7(0x254)]===this['_importer']['folderType']);let _0x24f5ce=await StorageUtil[_0x2d4dd7(0x1a0)](this[_0x2d4dd7(0x28d)][_0x2d4dd7(0x219)](this[_0x2d4dd7(0x26c)]))||![];const _0x120f62=()=>{const _0x2fdf6a=_0x2d4dd7,_0x5347cb=_0x4784ff[_0x2fdf6a(0x213)]()==null?_0x5d6c12[_0x2fdf6a(0x1ca)]?_0x5d6c12[0x0][_0x2fdf6a(0x227)]:null:_0x4784ff[_0x2fdf6a(0x213)]();return game['packs'][_0x2fdf6a(0x1c8)](_0x2c5f65=>_0x2c5f65[_0x2fdf6a(0x227)]===_0x5347cb);},_0x39f089=_0x5533c5=>{const _0x3fa4e9=_0x2d4dd7;_0x24f5ce=_0x5533c5;const _0x472cac=_0x120f62();if(!_0x472cac&&_0x5533c5){_0x39f089(![]),ui[_0x3fa4e9(0x294)][_0x3fa4e9(0x25c)]('No\x20unlocked/compatible\x20compendiums\x20found\x20for\x20type\x20\x22'+this['_importer']['folderType']+_0x3fa4e9(0x1fc));return;}this['_importer'][_0x3fa4e9(0x233)]=_0x472cac,_0x3a808f[_0x3fa4e9(0x220)](_0x3fa4e9(0x24a),!_0x24f5ce),_0x1f4efc['toggleClass']('btn--active',_0x24f5ce),_0x5b11b5[_0x3fa4e9(0x1d3)](!_0x24f5ce),_0x1fcca1[_0x3fa4e9(0x1d3)](_0x24f5ce),this[_0x3fa4e9(0x26c)][_0x3fa4e9(0x233)]=_0x24f5ce?_0x120f62():null,StorageUtil[_0x3fa4e9(0x1d2)](this[_0x3fa4e9(0x28d)][_0x3fa4e9(0x219)](this['_importer']),_0x24f5ce),StorageUtil[_0x3fa4e9(0x1d2)](this[_0x3fa4e9(0x28d)][_0x3fa4e9(0x295)](this['_importer']),_0x4784ff[_0x3fa4e9(0x213)]());},_0x3a808f=$(_0x2d4dd7(0x204)+(_0x24f5ce?'':_0x2d4dd7(0x24a))+'\x22>Import\x20to\x20Folder</button>')[_0x2d4dd7(0x192)](()=>_0x39f089(![])),_0x1f4efc=$(_0x2d4dd7(0x26e)+(_0x24f5ce?'':_0x2d4dd7(0x24a))+_0x2d4dd7(0x24c))['click'](()=>_0x39f089(!![])),_0x4784ff=$(_0x2d4dd7(0x296)+_0x5d6c12[_0x2d4dd7(0x21a)](_0x338eb8=>_0x2d4dd7(0x1f8)+_0x338eb8[_0x2d4dd7(0x227)]+'\x22>'+_0x338eb8[_0x2d4dd7(0x206)]['label']+_0x2d4dd7(0x1b0))['join']('')+_0x2d4dd7(0x1a8))['change'](()=>{_0x39f089(_0x24f5ce);}),_0x2413b6=await StorageUtil[_0x2d4dd7(0x1a0)](this[_0x2d4dd7(0x28d)][_0x2d4dd7(0x295)](this[_0x2d4dd7(0x26c)]));if(_0x24f5ce&&_0x5d6c12['some'](_0x4096c9=>_0x4096c9[_0x2d4dd7(0x227)]===_0x2413b6))_0x4784ff[_0x2d4dd7(0x213)](_0x2413b6);else{if(_0x5d6c12[_0x2d4dd7(0x1ca)])_0x4784ff[_0x2d4dd7(0x213)](_0x5d6c12[0x0][_0x2d4dd7(0x227)]);}const _0x5b11b5=$$`<div class="w-100 h-100 flex-col imp-wiz__tab-config py-1">
			${_0x17a858}
		</div>`,_0x1fcca1=$$`<div class="w-100 h-100 flex-col imp-wiz__tab-config py-1">
			<div class="mb-1">Compendium:</div>
			${_0x4784ff}
		</div>`,_0x4d900d=$$`<div class="flex-col w-100 min-h-0">
			${_0x475771}
			<div class="flex">${_0x3a808f}${_0x1f4efc}</div>
			${_0x5b11b5}
			${_0x1fcca1}
		</div>`;return _0x39f089(_0x24f5ce),_0x4d900d;}async[_0x5804f7(0x23c)](_0x282835){const _0x1c321f=_0x5804f7,_0x34a9a7=_0x282835[_0x1c321f(0x1ed)]?new _0x282835[(_0x1c321f(0x1ed))]({'actor':this[_0x1c321f(0x260)]}):_0x282835[_0x1c321f(0x1bf)];await _0x34a9a7[_0x1c321f(0x1c0)]();const _0x188b16=await _0x34a9a7[_0x1c321f(0x1b9)](),_0x4968a7=_0x188b16[_0x1c321f(0x1c8)](_0x2505b3=>_0x2505b3['isDefault']);if(!_0x4968a7)return ui['notifications'][_0x1c321f(0x291)](_0x1c321f(0x21c));await this['_pHandleOpenImporter']([_0x4968a7],_0x34a9a7);}[_0x5804f7(0x25a)](){const _0x2e986d=_0x5804f7;return $(_0x2e986d(0x1e7)+(MiscUtil['get'](this[_0x2e986d(0x1a6)],_0x2e986d(0x1cd))||_0x2e986d(0x223))+_0x2e986d(0x274))[_0x2e986d(0x192)](async()=>{const _0x33781d=_0x2e986d,_0x530ec9=this[_0x33781d(0x19a)][_0x33781d(0x228)]();if(!_0x530ec9['length'])return ui[_0x33781d(0x294)][_0x33781d(0x291)](_0x33781d(0x1c7));await this[_0x33781d(0x1fb)](_0x530ec9);});}async[_0x5804f7(0x1fb)](_0x137fc4,_0x3a5150=null){const _0x400f6c=_0x5804f7;_0x3a5150=_0x3a5150||this[_0x400f6c(0x26c)];const _0x51e131=await UtilApplications[_0x400f6c(0x208)](this['_$window']),_0x519e32=[],_0x152c9c=[];try{for(const _0x210b19 of _0x137fc4){if(_0x210b19['isFile']){const _0x5e231a=await this[_0x400f6c(0x256)](_0x3a5150,_0x210b19);_0x519e32['push'](..._0x5e231a[_0x400f6c(0x28c)]),_0x152c9c['push'](null);}else{if(_0x210b19['url']!=null){const _0x3c314e=await this[_0x400f6c(0x1c9)](_0x3a5150,_0x210b19);_0x519e32[_0x400f6c(0x1b7)](..._0x3c314e[_0x400f6c(0x28c)]),_0x152c9c['push'](..._0x3c314e[_0x400f6c(0x20a)]);}else{const _0x5f027a=await this[_0x400f6c(0x247)](_0x3a5150,_0x210b19);_0x519e32['push'](..._0x5f027a[_0x400f6c(0x28c)]),_0x152c9c[_0x400f6c(0x1b7)](..._0x5f027a[_0x400f6c(0x20a)]);}}}}catch(_0x3c5576){ui[_0x400f6c(0x294)]['error'](_0x400f6c(0x205)+VeCt['STR_SEE_CONSOLE']);throw _0x3c5576;}finally{_0x51e131[_0x400f6c(0x1f0)]();}const _0x718d4e=_0x519e32[_0x400f6c(0x1ca)]===0x1?_0x519e32[0x0]:_0x519e32['flat'](),_0x1ac8cd=new Set(),_0x4b36f2=_0x3a5150[_0x400f6c(0x288)]&&_0x3a5150['page']?_0x718d4e['filter'](_0x1c783b=>{const _0x44572a=_0x400f6c,_0x1f9c65=UrlUtil[_0x44572a(0x1b6)][_0x3a5150[_0x44572a(0x278)]];if(!_0x1f9c65)return!![];const _0x4f5fc4=_0x1f9c65(_0x1c783b);if(_0x1ac8cd[_0x44572a(0x19e)](_0x4f5fc4))return![];return _0x1ac8cd[_0x44572a(0x191)](_0x4f5fc4),!![];}):_0x718d4e,_0x3c1c85=_0x152c9c[_0x400f6c(0x272)](null)?null:_0x152c9c['join']('__');await this[_0x400f6c(0x1be)](_0x3a5150,_0x4b36f2,_0x3c1c85);}async[_0x5804f7(0x256)](_0x33b224,_0x596ffc){const _0x6278f7=_0x5804f7,_0x5da16b=(await Promise[_0x6278f7(0x22b)](this[_0x6278f7(0x19a)][_0x6278f7(0x2a5)][_0x6278f7(0x21a)](_0x3ede39=>_0x596ffc[_0x6278f7(0x1cc)]?_0x596ffc[_0x6278f7(0x1cc)](_0x33b224[_0x6278f7(0x279)](_0x3ede39),_0x3ede39,_0x596ffc['userData']):_0x33b224['getContent'](_0x3ede39))))[_0x6278f7(0x1ab)](_0x1b1c9c=>_0x1b1c9c!=null);return{'contents':_0x5da16b};}async[_0x5804f7(0x1c9)](_0x2aefff,_0xdb296a){const _0x5c754d=_0x5804f7;if(_0xdb296a[_0x5c754d(0x1dc)]===''){const _0x15a51e=this[_0x5c754d(0x19a)][_0x5c754d(0x218)]();let _0x15683e;try{_0x15683e=await Promise[_0x5c754d(0x22b)](_0x15a51e[_0x5c754d(0x21a)](async _0x424c2c=>{const _0x4ff5ba=_0x5c754d,_0x2d3e4c=await Vetools[_0x4ff5ba(0x1df)](_0x424c2c);return _0xdb296a[_0x4ff5ba(0x1cc)]?_0xdb296a[_0x4ff5ba(0x1cc)](_0x2aefff[_0x4ff5ba(0x279)](_0x2d3e4c),_0x2d3e4c,_0xdb296a[_0x4ff5ba(0x1cb)]):_0x2aefff[_0x4ff5ba(0x279)](_0x2d3e4c);}));}catch(_0x576c84){ui[_0x5c754d(0x294)][_0x5c754d(0x291)]('Failed\x20to\x20load\x20one\x20or\x20more\x20URLs!\x20'+VeCt['STR_SEE_CONSOLE']);throw _0x576c84;}return{'cacheKeys':_0x15a51e,'contents':_0x15683e};}let _0x3b425c;try{const _0x2e050a=await Vetools[_0x5c754d(0x1df)](_0xdb296a[_0x5c754d(0x1dc)]);_0x3b425c=_0x2aefff['getContent'](_0x2e050a);if(_0xdb296a[_0x5c754d(0x1cc)])_0x3b425c=await _0xdb296a[_0x5c754d(0x1cc)](_0x3b425c,_0x2e050a,_0xdb296a[_0x5c754d(0x1cb)]);}catch(_0x22063c){ui[_0x5c754d(0x294)][_0x5c754d(0x291)](_0x5c754d(0x255)+VeCt[_0x5c754d(0x267)]);throw _0x22063c;}return{'cacheKeys':[_0xdb296a['url']],'contents':[_0x3b425c]};}async['_pFillUi_handleOpenClick_pGetSpecialMeta'](_0xf5da9e,_0x5ac8e7){const _0x4298bd=_0x5804f7;let _0x316d2f;try{const _0x9c5227=await Vetools[_0x4298bd(0x286)](_0x5ac8e7);_0x316d2f=_0x9c5227;if(_0x5ac8e7['isUseProps'])_0x316d2f=_0xf5da9e[_0x4298bd(0x279)](_0x316d2f);if(_0x5ac8e7['pPostLoad'])_0x316d2f=await _0x5ac8e7[_0x4298bd(0x1cc)](_0x316d2f,_0x9c5227,_0x5ac8e7[_0x4298bd(0x1cb)]);}catch(_0x8e1005){ui[_0x4298bd(0x294)][_0x4298bd(0x291)](_0x4298bd(0x25b)+_0x5ac8e7[_0x4298bd(0x258)]+_0x4298bd(0x1a3)+VeCt['STR_SEE_CONSOLE']);throw _0x8e1005;}return{'cacheKeys':[_0x5ac8e7['cacheKey']],'contents':[_0x316d2f]};}async[_0x5804f7(0x1be)](_0x40459d,_0x2318ef,_0x50c7df){const _0x14c86f=_0x5804f7;if(_0x2318ef==null||_0x2318ef instanceof Array&&!_0x2318ef[_0x14c86f(0x1ca)])return;const _0x573d4a=await this['_pGetUi_pCheckOpenCachedInstance'](_0x40459d,{'fnCheckHit':_0x2b512f=>_0x2b512f[_0x14c86f(0x258)]&&_0x2b512f[_0x14c86f(0x258)]===_0x50c7df&&_0x2b512f[_0x14c86f(0x198)]===!!this['_actor']});if(_0x573d4a){if(this[_0x14c86f(0x230)]||!this['_comp'][_0x14c86f(0x27f)]('isRemainOpen'))this['close']();return;}if(this[_0x14c86f(0x230)]||!this[_0x14c86f(0x249)]['get'](_0x14c86f(0x270)))this[_0x14c86f(0x22c)]();_0x40459d['content']=_0x2318ef;if(this['_importerPreRenderArgs'])await _0x40459d[_0x14c86f(0x232)](...this[_0x14c86f(0x212)]);_0x40459d[_0x14c86f(0x257)](!![]),this[_0x14c86f(0x1f7)](_0x40459d,{'cacheKey':_0x50c7df,'hasActor':!!this[_0x14c86f(0x260)]});}async[_0x5804f7(0x261)](_0x2479be,{fnCheckHit:_0x4ec688}){const _0x51ac29=_0x5804f7,_0x219d60=this[_0x51ac29(0x276)](_0x2479be),_0x37e89d=ChooseImporter[_0x51ac29(0x1bb)][_0x219d60];if(!_0x37e89d)return![];if(!_0x4ec688(_0x37e89d))return delete ChooseImporter['_INSTANCE_CACHE'][_0x219d60],_0x37e89d[_0x51ac29(0x1ae)]['isClosable']=!![],_0x37e89d[_0x51ac29(0x1ae)][_0x51ac29(0x22c)](),![];await _0x37e89d['instance'][_0x51ac29(0x1e3)](_0x2479be);if(this[_0x51ac29(0x212)])await _0x37e89d['instance'][_0x51ac29(0x232)](...this[_0x51ac29(0x212)]);return _0x37e89d['instance']['render'](!![]),_0x37e89d[_0x51ac29(0x1ae)][_0x51ac29(0x26d)](),UtilApplications[_0x51ac29(0x2a4)](_0x37e89d['instance']),!![];}[_0x5804f7(0x1f7)](_0x5a3662,_0xecbd3a){const _0x3b1c3f=_0x5804f7,_0x178824=this['_getInstanceCacheKey'](_0x5a3662);if(_0x5a3662['isNonCacheableInstance']||_0xecbd3a[_0x3b1c3f(0x258)]==null)return;_0x5a3662[_0x3b1c3f(0x28a)]=![],ChooseImporter[_0x3b1c3f(0x1bb)][_0x178824]={..._0xecbd3a,'instance':_0x5a3662};}static['_getSourceSelectionKey'](_0x2b0e41){const _0x7c823d=_0x5804f7;return'ChooseImporter_source_'+(_0x2b0e41[_0x7c823d(0x23d)]||_0x2b0e41['props'][_0x7c823d(0x28f)]('_'));}static[_0x5804f7(0x219)](_0x37a632){const _0x451f37=_0x5804f7;return _0x451f37(0x1ac)+(_0x37a632[_0x451f37(0x23d)]||_0x37a632[_0x451f37(0x281)][_0x451f37(0x28f)]('_'));}static[_0x5804f7(0x295)](_0x209352){const _0x156d2e=_0x5804f7;return _0x156d2e(0x28e)+(_0x209352['namespace']||_0x209352[_0x156d2e(0x281)][_0x156d2e(0x28f)]('_'));}['_getFilterNamespace'](){return'ChooseImporter_source_filter';}[_0x5804f7(0x276)](_0x589465){const _0x3f03bd=_0x5804f7,_0x340417=this[_0x3f03bd(0x28d)][_0x3f03bd(0x245)](_0x589465);return[_0x340417,this[_0x3f03bd(0x2a1)]][_0x3f03bd(0x28f)]('_');}async[_0x5804f7(0x22c)](..._0x10def1){const _0x30df28=_0x5804f7;if(this['_appSourceSelector'])this[_0x30df28(0x19a)][_0x30df28(0x1b1)]();await super[_0x30df28(0x22c)](..._0x10def1);if(this[_0x30df28(0x19a)])this['_appSourceSelector']['handlePostClose']();}}ChooseImporter[_0x5804f7(0x1f2)]={'modeId':'adventures','isRemainOpen':!![],'ixTabPanel3':0x0,'packageSource':null},ChooseImporter[_0x5804f7(0x246)]=[{'id':_0x5804f7(0x19f),'name':'Adventures','singleName':_0x5804f7(0x1a7),'Importer':ImportListAdventure,'fnCheckRequirements':_0x5b5fca=>_0x5b5fca==null,'metaOther':{'text':_0x5804f7(0x1f1),'pFn':async()=>{const _0x23e0ab=new ImportSpecialPackages();await _0x23e0ab['pInit'](),_0x23e0ab['render'](!![]);}},'hasPackages':!![]},{'id':_0x5804f7(0x292),'name':_0x5804f7(0x200),'Importer':ImportListBackground,'hasDefaultSource':!![]},{'id':_0x5804f7(0x250),'name':_0x5804f7(0x251),'singleName':_0x5804f7(0x1e6),'Importer':ImportListBook,'fnCheckRequirements':_0x2e4395=>_0x2e4395==null,'hasPackages':!![]},{'id':'classes-subclasses','name':_0x5804f7(0x20c),'Importer':ImportListClass,'hasDefaultSource':!![]},{'id':_0x5804f7(0x27b),'name':'Conditions\x20and\x20Diseases','Importer':ImportListConditionDisease,'hasDefaultSource':!![]},{'id':'creatures','name':_0x5804f7(0x27a),'Importer':ImportListCreature,'fnCheckRequirements':_0x445653=>_0x445653==null,'hasDefaultSource':!![]},{'id':_0x5804f7(0x2a3),'name':_0x5804f7(0x1e9),'Importer':ImportListFeat,'hasDefaultSource':!![]},{'id':'items','name':_0x5804f7(0x20d),'Importer':ImportListItem,'hasDefaultSource':!![]},{'id':_0x5804f7(0x21f),'name':'Optional\x20and\x20Variant\x20Rules','Importer':ImportListVariantRule,'fnCheckRequirements':_0x57210d=>_0x57210d==null,'hasDefaultSource':!![]},{'id':_0x5804f7(0x190),'name':'Other\x20Options\x20and\x20Features','Importer':ImportListOptionalFeature,'hasDefaultSource':!![]},{'id':'psionics','name':_0x5804f7(0x1e2),'Importer':ImportListPsionic,'hasDefaultSource':!![]},{'id':'races-and-subraces','name':'Races\x20and\x20Subraces','Importer':ImportListRace,'hasDefaultSource':!![]},{'id':_0x5804f7(0x243),'name':_0x5804f7(0x24f),'Importer':ImportListSpell,'hasDefaultSource':!![]},{'id':_0x5804f7(0x19b),'name':_0x5804f7(0x21e),'Importer':ImportListRollableTable,'fnCheckRequirements':_0x5401d8=>_0x5401d8==null,'hasDefaultSource':!![]},{'id':_0x5804f7(0x234),'name':_0x5804f7(0x22f),'Importer':ImportListVehicle,'fnCheckRequirements':_0x53b748=>_0x53b748==null,'hasDefaultSource':!![]}],ChooseImporter['_INSTANCE_CACHE']={};export{ChooseImporter};