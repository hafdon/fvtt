const _0x3b7a=['absorbFnBindListeners','isToken','\x22\x20(from\x20\x22','TASK_EXIT_CANCELLED','skillProficiencies','Upload\x20File','pFillActorImmunityData','bind','_pImportEntry_pFillAbilities','_vAbility','doHookSpellLinkRender','pGetRaces','update','darkvision','link','_pImportEntry_pImportToActor','race','Size','items','_pImportEntry_fillToken','ability','pFillActorVulnerabilityData','isStreamerMode','DataSourceUrl','some','5etools','vulnerable','_pImportEntry_fillFlags','pFillItemArrayAdditionalSpells','absorbFnBindListenersRadio','doAbsorbItems','srd','halflingLucky','Savage\x20Attacks','_baseSrd','value','languageProficiencies','source','sheet','\x20ft.','speed','getData','getSpeedString','toolProf','isTemp','Name','pImportEntry','includes','entries','data','_list','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','pGetHomebrewSources','isCancelled','sizeAbvToFull','ele','_pImportEntry_pFillSkills','mutateForFilters','_isRadio','pFillActorSkillData','pFillActorConditionImmunityData','Import\x20Races','addHook','_pImportEntry_pImportToDirectoryGeneric','pGetRaceItem','sourceJsonToFull','conditionImmune','SOURCE_TYP_BREW','map','pFillActorToolData','races','render','log','resist','Lucky','text-center','URL_TO_HASH_BUILDER','PG_RACES','Races','languages','_pageFilter','mergeSubraces','5etools-races','Custom\x20URL','token','DataSourceSpecial','Halfling','savageAttacks','_content','get','skills','Darkvision\x20','_pPostLoad','asTextShort','additionalSpells','_actor','senses','sourceJsonToAbv','DataSourceFile','_pImportEntry_pFillTraits','SOURCE_TYP_OFFICIAL_ALL','attributes','Importing\x20race\x20\x22','push','getAbilityData','SOURCE_TYP_CUSTOM','subrace','length','adoptSubraces','keys','pAddActorItems','VET_SIZE_TO_ABV','_page','powerfulBuild','size','sourceJsonToColor','removeHook','floor','_isPreviewable','_pImportEntry_pFillItems','traitTags','SRD','pGetRaceFeatureItem','med','name','_activateListeners_absorbListItems','forEach','_vSize','Powerful\x20Build','Source','join','string','immune','level','traits','_baseName'];(function(_0x590e30,_0x3b7a18){const _0x157f24=function(_0x564cde){while(--_0x564cde){_0x590e30['push'](_0x590e30['shift']());}};_0x157f24(++_0x3b7a18);}(_0x3b7a,0xf2));const _0x157f=function(_0x590e30,_0x3b7a18){_0x590e30=_0x590e30-0x0;let _0x157f24=_0x3b7a[_0x590e30];return _0x157f24;};const _0x44e3a4=_0x157f;import{ImportList}from'./ImportList.js';import{LGT}from'./Util.js';import{Vetools}from'./Vetools.js';import{UtilActors}from'./UtilActors.js';import{DataConverter}from'./DataConverter.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterRace}from'./DataConverterRace.js';import{UtilApplications}from'./UtilApplications.js';class ImportListRace extends ImportList{constructor(_0x564cde){const _0x277ed2=_0x157f;_0x564cde=_0x564cde||{},super({'title':_0x277ed2('0x5b')},_0x564cde,{'props':[_0x277ed2('0x2e')],'titleSearch':_0x277ed2('0x64'),'sidebarTab':_0x277ed2('0x30'),'gameProp':_0x277ed2('0x30'),'defaultFolderPath':[_0x277ed2('0x6c')],'folderType':'Item','pageFilter':new PageFilterRaces(),'isActorRadio':!![],'page':UrlUtil[_0x277ed2('0x6b')],'isPreviewable':!![]});}async[_0x44e3a4('0x7a')](_0x2547aa,_0x1fa9aa){const _0x5e815c=_0x44e3a4,_0xc909ce=[];if(_0x1fa9aa['race'])_0xc909ce[_0x5e815c('0x85')](...Renderer[_0x5e815c('0x2e')][_0x5e815c('0x6f')](_0x1fa9aa[_0x5e815c('0x2e')],{'isAddBaseRaces':!![]}));if(_0x1fa9aa[_0x5e815c('0x0')]){const _0x2b7119=(await Vetools[_0x5e815c('0x29')]({'isAddBaseRaces':!![]}))[_0x5e815c('0x2e')];_0x2b7119[_0x5e815c('0x14')](_0x33ffdf=>this[_0x5e815c('0x6e')][_0x5e815c('0x57')](_0x33ffdf));const _0x48acc6=Renderer[_0x5e815c('0x2e')][_0x5e815c('0x2')](_0x2b7119,_0x1fa9aa[_0x5e815c('0x0')]),_0x557379=Renderer[_0x5e815c('0x2e')]['mergeSubraces'](_0x48acc6);_0xc909ce[_0x5e815c('0x85')](..._0x557379);}return _0xc909ce;}async['pGetSources'](){const _0x2a4e41=_0x44e3a4,_0x6e8c72={'pPostLoad':this['_pPostLoad'][_0x2a4e41('0x25')](this)};return[new ImportList[(_0x2a4e41('0x73'))](Config['get']('ui',_0x2a4e41('0x34'))?_0x2a4e41('0xf'):_0x2a4e41('0x37'),async()=>(await Vetools[_0x2a4e41('0x29')]())[_0x2a4e41('0x2e')],{'cacheKey':_0x2a4e41('0x70'),'filterTypes':[ImportList[_0x2a4e41('0x82')]],'isDefault':!![]}),new ImportList[(_0x2a4e41('0x35'))](_0x2a4e41('0x71'),'',{..._0x6e8c72,'filterTypes':[ImportList[_0x2a4e41('0x87')]]}),new ImportList[(_0x2a4e41('0x80'))](_0x2a4e41('0x23'),{..._0x6e8c72,'filterTypes':[ImportList[_0x2a4e41('0x87')]]}),...(await Vetools[_0x2a4e41('0x52')](_0x2a4e41('0x2e'),_0x2a4e41('0x0')))[_0x2a4e41('0x62')](({name:_0x1b7495,url:_0x46e385})=>new ImportList[(_0x2a4e41('0x35'))](_0x1b7495,_0x46e385,{..._0x6e8c72,'filterTypes':[ImportList[_0x2a4e41('0x61')]]}))];}[_0x44e3a4('0x47')](){const _0xa6b197=_0x44e3a4;return{'isRadio':this[_0xa6b197('0x58')],'isPreviewable':this[_0xa6b197('0xc')],'titleButtonRun':this['_titleButtonRun'],'titleSearch':this['_titleSearch'],'cols':[{'name':_0xa6b197('0x4b'),'width':0x4,'field':_0xa6b197('0x12')},{'name':'Ability','width':0x5,'field':'ability'},{'name':_0xa6b197('0x2f'),'width':0x1,'field':_0xa6b197('0x8')},{'name':_0xa6b197('0x17'),'width':0x1,'field':'source','titleProp':'sourceLong','displayProp':'sourceShort','classNameProp':'sourceClassName','rowClassName':_0xa6b197('0x69')}],'rows':this[_0xa6b197('0x76')]['map']((_0x465948,_0x90c644)=>{const _0x368fed=_0xa6b197;return this[_0x368fed('0x6e')][_0x368fed('0x57')](_0x465948),_0x465948[_0x368fed('0x27')]=_0x465948[_0x368fed('0x32')]?Renderer[_0x368fed('0x86')](_0x465948[_0x368fed('0x32')])[_0x368fed('0x7b')]:'None',_0x465948[_0x368fed('0x15')]=Parser[_0x368fed('0x54')](_0x465948[_0x368fed('0x8')]||SZ_VARIES),{'name':_0x465948[_0x368fed('0x12')],'ability':_0x465948['_vAbility'],'size':_0x465948[_0x368fed('0x15')],'source':_0x465948[_0x368fed('0x43')],'sourceShort':Parser[_0x368fed('0x7f')](_0x465948['source']),'sourceLong':Parser[_0x368fed('0x5f')](_0x465948[_0x368fed('0x43')]),'sourceClassName':Parser[_0x368fed('0x9')](_0x465948[_0x368fed('0x43')]),'ix':_0x90c644};})};}[_0x44e3a4('0x13')](){const _0x1acbae=_0x44e3a4;this[_0x1acbae('0x50')][_0x1acbae('0x3c')](this['_content'],{'fnGetName':_0x1fb114=>_0x1fb114['name'],'fnGetValues':_0x1d2b01=>({'source':_0x1d2b01[_0x1acbae('0x43')],'ability':_0x1d2b01['_vAbility'],'size':_0x1d2b01[_0x1acbae('0x15')],'hash':UrlUtil[_0x1acbae('0x6a')][this[_0x1acbae('0x6')]](_0x1d2b01)}),'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0x3521d9=>this[_0x1acbae('0x58')]?UtilList2[_0x1acbae('0x3b')](this[_0x1acbae('0x50')],_0x3521d9):UtilList2[_0x1acbae('0x1e')](this[_0x1acbae('0x50')],_0x3521d9)});}async[_0x44e3a4('0x4c')](_0x23b462,_0x6f5ec9){const _0x50ccd2=_0x44e3a4;_0x6f5ec9=_0x6f5ec9||{},console[_0x50ccd2('0x66')](...LGT,_0x50ccd2('0x84')+_0x23b462[_0x50ccd2('0x12')]+_0x50ccd2('0x20')+Parser[_0x50ccd2('0x7f')](_0x23b462[_0x50ccd2('0x43')])+'\x22)');if(_0x6f5ec9[_0x50ccd2('0x4a')])return this[_0x50ccd2('0x5d')](_0x23b462,_0x6f5ec9);else{if(this[_0x50ccd2('0x7d')])return this[_0x50ccd2('0x2d')](_0x23b462,_0x6f5ec9);else return this[_0x50ccd2('0x5d')](_0x23b462,_0x6f5ec9);}}async[_0x44e3a4('0x2d')](_0x3dbc1e,_0x5e7243){const _0x3d9d3b=_0x44e3a4,_0x49be89={'data':{'details':{'race':_0x3dbc1e[_0x3d9d3b('0x12')]}},'token':{}},_0x57de1c=MiscUtil[_0x3d9d3b('0x77')](this['_actor'],_0x3d9d3b('0x4f'),_0x3d9d3b('0x4f'),'details',_0x3d9d3b('0x1b'),_0x3d9d3b('0x41'))||0x1,_0x5a77d2={'pb':Math[_0x3d9d3b('0xb')]((_0x57de1c-0x1)/0x4)+0x2,'isCancelled':![]};this['_pImportEntry_fillFlags'](_0x3dbc1e,_0x49be89,_0x5a77d2),await this[_0x3d9d3b('0x26')](_0x3dbc1e,_0x49be89[_0x3d9d3b('0x4f')],_0x5a77d2);if(_0x5a77d2[_0x3d9d3b('0x53')])return{'status':UtilApplications[_0x3d9d3b('0x21')]};this['_pImportEntry_fillAttributes'](_0x3dbc1e,_0x49be89[_0x3d9d3b('0x4f')],_0x5a77d2),await this[_0x3d9d3b('0x56')](_0x3dbc1e,_0x49be89[_0x3d9d3b('0x4f')],_0x5a77d2);if(_0x5a77d2[_0x3d9d3b('0x53')])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this[_0x3d9d3b('0x81')](_0x3dbc1e,_0x49be89['data'],_0x5a77d2);if(_0x5a77d2[_0x3d9d3b('0x53')])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this['_pImportEntry_fillToken'](_0x3dbc1e,_0x49be89['token'],_0x5a77d2);if(_0x5a77d2['isCancelled'])return{'status':UtilApplications[_0x3d9d3b('0x21')]};await this[_0x3d9d3b('0xd')](_0x3dbc1e,_0x49be89,_0x5a77d2);if(_0x5a77d2[_0x3d9d3b('0x53')])return{'status':UtilApplications[_0x3d9d3b('0x21')]};this['_actor'][_0x3d9d3b('0x2a')](_0x49be89);if(this['_actor'][_0x3d9d3b('0x1f')])this['_actor'][_0x3d9d3b('0x44')][_0x3d9d3b('0x65')]();return{'imported':{'name':_0x3dbc1e[_0x3d9d3b('0x12')],'actor':this[_0x3d9d3b('0x7d')]},'status':UtilApplications['TASK_EXIT_COMPLETE']};}[_0x44e3a4('0x51')](_0x11954b,_0x2597ee){const _0x292a7c=_0x44e3a4;return DataConverterRace[_0x292a7c('0x5e')](_0x11954b,_0x2597ee);}[_0x44e3a4('0x39')](_0x321590,_0x1ba39b,_0x9f683c){const _0x465e4d=_0x44e3a4,_0x11a16e={},_0x5efdb4={},_0x160cec=_0x321590[_0x465e4d('0xe')]&&_0x321590[_0x465e4d('0xe')][_0x465e4d('0x4d')](_0x465e4d('0x16'))||_0x321590['entries'][_0x465e4d('0x36')](_0x1a158c=>_0x1a158c[_0x465e4d('0x12')]==='Powerful\x20Build');if(_0x160cec)_0x5efdb4[_0x465e4d('0x7')]=!![];if(_0x321590['entries'][_0x465e4d('0x36')](_0x5058f3=>_0x5058f3[_0x465e4d('0x12')]===_0x465e4d('0x3f')))_0x5efdb4[_0x465e4d('0x75')]=!![];if(_0x321590[_0x465e4d('0x4e')][_0x465e4d('0x36')](_0x4174ce=>_0x4174ce[_0x465e4d('0x12')]===_0x465e4d('0x68'))&&_0x321590[_0x465e4d('0x1d')]===_0x465e4d('0x74'))_0x5efdb4[_0x465e4d('0x3e')]=!![];if(Object['keys'](_0x5efdb4)[_0x465e4d('0x1')])_0x11a16e['dnd5e']=_0x5efdb4;if(Object[_0x465e4d('0x3')](_0x11a16e)['length'])_0x1ba39b['flags']=_0x11a16e;}async[_0x44e3a4('0x26')](_0x5f22e8,_0x260cdf,_0x4e94ba){const _0x417ad5=_0x44e3a4;await DataConverter['pFillActorAbilityData'](this[_0x417ad5('0x7d')],_0x5f22e8['ability'],_0x260cdf,_0x4e94ba);}['_pImportEntry_fillAttributes'](_0x312a0b,_0x25a24b,_0x5e5444){const _0x16cbc4=_0x44e3a4,_0x4f3c82={};if(_0x312a0b['speed']){const _0x538a65=Parser[_0x16cbc4('0x48')](_0x312a0b),[_0x47eb05,..._0x87b559]=_0x538a65['split'](',\x20');_0x4f3c82[_0x16cbc4('0x46')]={'value':_0x47eb05,'special':_0x87b559[_0x16cbc4('0x18')](',\x20')};}_0x25a24b[_0x16cbc4('0x83')]=_0x4f3c82;}async['_pImportEntry_pFillSkills'](_0x58ec2f,_0x52642b,_0xff301b){const _0xca8a28=_0x44e3a4;await DataConverter[_0xca8a28('0x59')](MiscUtil[_0xca8a28('0x77')](this[_0xca8a28('0x7d')],_0xca8a28('0x4f'),_0xca8a28('0x4f'),_0xca8a28('0x78')),_0x58ec2f[_0xca8a28('0x22')],_0x52642b,_0xff301b);}async['_pImportEntry_pFillTraits'](_0x3e51c0,_0xd300de,_0x22b763){const _0x3ca52d=_0x44e3a4,_0x5cfc80={};_0x5cfc80[_0x3ca52d('0x8')]=UtilActors[_0x3ca52d('0x5')][_0x3e51c0[_0x3ca52d('0x8')]]||_0x3ca52d('0x11');if(_0x3e51c0[_0x3ca52d('0x2b')])_0x5cfc80[_0x3ca52d('0x7e')]=_0x3ca52d('0x79')+_0x3e51c0[_0x3ca52d('0x2b')]+_0x3ca52d('0x45');_0xd300de[_0x3ca52d('0x1c')]=_0x5cfc80,await DataConverter['pFillActorLanguageData'](MiscUtil[_0x3ca52d('0x77')](this['_actor'],_0x3ca52d('0x4f'),_0x3ca52d('0x4f'),_0x3ca52d('0x1c'),_0x3ca52d('0x6d')),_0x3e51c0[_0x3ca52d('0x42')],_0xd300de,_0x22b763);if(_0x22b763[_0x3ca52d('0x53')])return;await DataConverter[_0x3ca52d('0x63')](MiscUtil[_0x3ca52d('0x77')](this[_0x3ca52d('0x7d')],'data','data',_0x3ca52d('0x1c'),_0x3ca52d('0x49')),_0x3e51c0['toolProficiencies'],_0xd300de,_0x22b763);if(_0x22b763['isCancelled'])return;await DataConverter[_0x3ca52d('0x24')](MiscUtil[_0x3ca52d('0x77')](this[_0x3ca52d('0x7d')],'data','data',_0x3ca52d('0x1c'),'di'),_0x3e51c0[_0x3ca52d('0x1a')],_0xd300de,_0x22b763);if(_0x22b763[_0x3ca52d('0x53')])return;await DataConverter['pFillActorResistanceData'](MiscUtil['get'](this[_0x3ca52d('0x7d')],_0x3ca52d('0x4f'),_0x3ca52d('0x4f'),_0x3ca52d('0x1c'),'dr'),_0x3e51c0[_0x3ca52d('0x67')],_0xd300de,_0x22b763);if(_0x22b763[_0x3ca52d('0x53')])return;await DataConverter[_0x3ca52d('0x33')](MiscUtil[_0x3ca52d('0x77')](this[_0x3ca52d('0x7d')],_0x3ca52d('0x4f'),_0x3ca52d('0x4f'),_0x3ca52d('0x1c'),'dv'),_0x3e51c0[_0x3ca52d('0x38')],_0xd300de,_0x22b763);if(_0x22b763[_0x3ca52d('0x53')])return;await DataConverter[_0x3ca52d('0x5a')](MiscUtil[_0x3ca52d('0x77')](this[_0x3ca52d('0x7d')],_0x3ca52d('0x4f'),'data',_0x3ca52d('0x1c'),'ci'),_0x3e51c0[_0x3ca52d('0x60')],_0xd300de,_0x22b763);}[_0x44e3a4('0x31')](_0x4edab6,_0x29e36a,_0x35ee19){const _0x22e6f6=_0x44e3a4;if(_0x4edab6[_0x22e6f6('0x2b')]){const {dimSight:_0x1227b6}=this[_0x22e6f6('0x7d')][_0x22e6f6('0x4f')][_0x22e6f6('0x72')]||{};(!_0x1227b6||!isNaN(_0x1227b6)&&Number(_0x1227b6)<_0x4edab6['darkvision'])&&(_0x29e36a['dimSight']=_0x4edab6[_0x22e6f6('0x2b')],_0x29e36a['vision']=!![]);}}async[_0x44e3a4('0xd')](_0x217459,_0x1c2cb4,_0x4091fc){const _0x1ba9be=_0x44e3a4;_0x4091fc[_0x1ba9be('0x30')]=_0x4091fc[_0x1ba9be('0x30')]||[];const _0x263c83={},_0x1476d2=await UtilActors[_0x1ba9be('0x3a')](this[_0x1ba9be('0x7d')],_0x217459[_0x1ba9be('0x7c')],{'sourceHintText':_0x217459[_0x1ba9be('0x12')],'hashToIdMap':_0x263c83});_0x4091fc[_0x1ba9be('0x53')]=_0x4091fc[_0x1ba9be('0x53')]||_0x1476d2;const _0x5b2f0b=DataConverterSpell[_0x1ba9be('0x28')][_0x1ba9be('0x25')](null,this[_0x1ba9be('0x7d')]['id'],_0x263c83);Renderer[_0x1ba9be('0x77')]()[_0x1ba9be('0x5c')](_0x1ba9be('0x2c'),_0x1ba9be('0x55'),_0x5b2f0b);for(const _0x178dfd of _0x217459['entries']){if(typeof _0x178dfd===_0x1ba9be('0x19'))continue;if(_0x178dfd[_0x1ba9be('0x12')]==='Size')continue;const _0x4f18d1=MiscUtil['copy'](_0x178dfd);if(_0x217459[_0x1ba9be('0x3d')]||_0x217459[_0x1ba9be('0x40')])_0x4f18d1[_0x1ba9be('0x3d')]=!![];_0x4091fc[_0x1ba9be('0x30')][_0x1ba9be('0x85')](await DataConverterRace[_0x1ba9be('0x10')](_0x217459,_0x4f18d1,{'actor':this['_actor']}));}Renderer[_0x1ba9be('0x77')]()[_0x1ba9be('0xa')](_0x1ba9be('0x2c'),_0x1ba9be('0x55'),_0x5b2f0b);if(_0x4091fc['items'][_0x1ba9be('0x1')])await UtilActors[_0x1ba9be('0x4')](this[_0x1ba9be('0x7d')],_0x4091fc[_0x1ba9be('0x30')]);}}export{ImportListRace};