const _0x2afb=['unhook','proficienciesGained','_compsClassFeatureOptionsSelect','_compsClassSkillProficiencies','Could\x20not\x20find\x20selected\x20class:\x20','_CUR_LEVEL','mergeMap','195659uyOmUf','toDisplay','toLowerCase','compsClassLevelSelect','_class_pRenderFeatureOptionsSelects','_class_renderClass','appendTo','findIndex','Primary\x20Class','compsClassSkillProficiencies','[+]','copy','ability\x20score\x20improvement','section','143250HYLjlb','ActorCharactermancer.classes','_compsClassLevelSelect','keys','onchange','showVe','getFilteredFeatures','stringify','empty','class_','$wrp','subclass','getFilteredEntries','1120802UBVBCt','</div>','_compsClassHpIncreaseMode','getValues','_modalFilterClasses','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>','_addHookBase','name','_state','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','_unlock','14479UWobjK','filter','getFeaturesGroupedByOptionsSet','73kAOwgz','length','class_getMaxSpellLevel','pGetDereferencedSubclassData','map','startingProficiencies','.class_','<hr\x20class=\x22hr-1\x22>','off','entries','addClass','source','skills','level','text','sourceJsonToAbv','then','hideVe','_parent','class','flat','_proxyAssignSimple','data','pGetUserSelection','_actor','2091199tXpuBe','class_getProps','_class_getFilteredFeatures','append','6PmcrTa','_class_renderEntriesSection','_class_pRenderFeatureOptionsSelects_','filterBox','actor','Could\x20not\x20find\x20selected\x20subclass:\x20','getTargetLevel','disabled','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','pIsNoChoice','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','doApplyFilterToFeatureEntries','pPreloadHidden','subclassFeatures','_pHkChangeSubclass','subclasses','$iptSearch','render','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','_renderFeatureOptionsSelects','pGetFormData','class_ixMax','$getHoverContent_generic','pLoad','hover','__state','EVNT_VALCHANGE','[‒]','compsClassFeatureOptionsSelect','_removeHookBase','click','br-0','class_pulseChange','_data','$iptDisplay','Select\x20a\x20Class','get','toggleVe','_metaHksClassStgSkills','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','push','setFeatures','startsWith','classFeatures','modalTitle','_pHkChangeClass','class_totalLevels','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','1297288FbEPgw','_pLock','class_ixPrimaryClass','pageFilter','isHpAvailable','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>HP\x20Increase\x20Mode</div>','prop','max','class_getPrimaryClass','79002sisTsQ','multiclassing','casterProgression','class_getTotalLevels','$getSelSearchable','_metaHksClassStgSubclass'];const _0x3849=function(_0x1185bd,_0xd01d9f){_0x1185bd=_0x1185bd-0x1e7;let _0x2afbf6=_0x2afb[_0x1185bd];return _0x2afbf6;};const _0x240428=_0x3849;(function(_0x577059,_0x5ac20c){const _0x4bd53b=_0x3849;while(!![]){try{const _0x41fff3=-parseInt(_0x4bd53b(0x250))*parseInt(_0x4bd53b(0x24d))+parseInt(_0x4bd53b(0x240))+parseInt(_0x4bd53b(0x233))+parseInt(_0x4bd53b(0x218))+-parseInt(_0x4bd53b(0x225))*-parseInt(_0x4bd53b(0x26d))+parseInt(_0x4bd53b(0x20f))+-parseInt(_0x4bd53b(0x269));if(_0x41fff3===_0x5ac20c)break;else _0x577059['push'](_0x577059['shift']());}catch(_0x155469){_0x577059['push'](_0x577059['shift']());}}}(_0x2afb,0xa2a12));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_SkillSelect}from'./UtilCharactermancer.js';import{UtilActors}from'./UtilActors.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x9aa973){const _0x3f6a16=_0x3849;_0x9aa973=_0x9aa973||{},super(),this['_actor']=_0x9aa973[_0x3f6a16(0x271)],this[_0x3f6a16(0x1ff)]=_0x9aa973[_0x3f6a16(0x266)],this[_0x3f6a16(0x262)]=_0x9aa973['parent'],this[_0x3f6a16(0x244)]=new ModalFilterClasses({'namespace':_0x3f6a16(0x234)}),this['_metaHksClassStgSubclass']=[],this[_0x3f6a16(0x242)]=[],this[_0x3f6a16(0x235)]=[],this[_0x3f6a16(0x220)]=[],this[_0x3f6a16(0x221)]=[],this[_0x3f6a16(0x204)]=[];}get['modalFilterClasses'](){const _0x1cb062=_0x3849;return this[_0x1cb062(0x244)];}get['compsClassHpIncreaseMode'](){const _0x214737=_0x3849;return this[_0x214737(0x242)];}get[_0x240428(0x228)](){return this['_compsClassLevelSelect'];}get[_0x240428(0x1fa)](){const _0x843d6a=_0x240428;return this[_0x843d6a(0x220)];}get[_0x240428(0x22e)](){const _0x115183=_0x240428;return this[_0x115183(0x221)];}async[_0x240428(0x1f5)](){const _0x5c3c69=_0x240428;await this[_0x5c3c69(0x244)][_0x5c3c69(0x1ea)]();}[_0x240428(0x1ef)](_0x484321){const _0x3d8c97=_0x240428,_0x415a8f=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x3ef939=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x3869a7=0x0;_0x3869a7<this[_0x3d8c97(0x248)][_0x3d8c97(0x1f3)]+0x1;++_0x3869a7)this[_0x3d8c97(0x22a)](_0x415a8f,_0x3ef939,_0x3869a7);this[_0x3d8c97(0x246)](_0x3d8c97(0x211),()=>this['_state']['class_pulseChange']=!this[_0x3d8c97(0x248)][_0x3d8c97(0x1fe)]);const _0x494aad=$(_0x3d8c97(0x1e8))['click'](()=>{const _0x17e708=_0x3d8c97;this[_0x17e708(0x22a)](_0x415a8f,_0x3ef939,++this['_state'][_0x17e708(0x1f3)]);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x415a8f}
				<div class="mt-2">${_0x494aad}</div>
			</div>
			<div class="vr-1"></div>
			${_0x3ef939}
		</div>`[_0x3d8c97(0x22b)](_0x484321);}['_class_renderClass'](_0x3bf83b,_0x18a7fa,_0x449753){const _0x128e26=_0x240428,{propPrefixClass:_0x12fe42,propIxClass:_0x592670,propPrefixSubclass:_0x2de0ac,propIxSubclass:_0x144434,propCntAsi:_0xea6d5b,propTargetLevel:_0x484661}=ActorCharactermancerBaseComponent['class_getProps'](_0x449753),_0x4741ab=FilterBox['EVNT_VALCHANGE']+_0x128e26(0x256)+_0x449753+'_classLevels',_0x154047=FilterBox[_0x128e26(0x1f8)]+_0x128e26(0x256)+_0x449753+'_subclass',_0x1ab04c='class_'+_0x449753+_0x128e26(0x20b),_0x11becf=_0x128e26(0x23c)+_0x449753+_0x128e26(0x1ec),_0x3cd6f4=_0x128e26(0x23c)+_0x449753+_0x128e26(0x1f1);this['_addHookBase'](_0x592670,()=>this['_state'][_0x128e26(0x1fe)]=!this['_state'][_0x128e26(0x1fe)]);const {$wrp:_0x38eead,$iptDisplay:_0x3df880,$iptSearch:_0x19881a,fnUpdateHidden:_0x74fac4}=ComponentUiUtil[_0x128e26(0x21c)](this,_0x592670,{'values':this['_data']['class'][_0x128e26(0x254)]((_0x2c3689,_0x1ab995)=>_0x1ab995),'isAllowNull':!![],'fnDisplay':_0x467a3d=>{const _0x393119=_0x128e26,_0x3f9bcb=this[_0x393119(0x1ff)]['class'][_0x467a3d];return _0x3f9bcb['name']+'\x20'+(_0x3f9bcb[_0x393119(0x25b)]!==SRC_PHB?'['+Parser[_0x393119(0x25f)](_0x3f9bcb['source'])+']':'');},'asMeta':!![]});_0x3df880['addClass'](_0x128e26(0x1fd)),_0x19881a[_0x128e26(0x25a)](_0x128e26(0x1fd));const _0xea5bcf=()=>{const _0x310525=_0x128e26,_0x54fde2=this[_0x310525(0x244)][_0x310525(0x212)][_0x310525(0x270)][_0x310525(0x243)](),_0x2a62d6=this['_data'][_0x310525(0x263)][_0x310525(0x254)](_0xdeaac3=>!this[_0x310525(0x244)]['pageFilter'][_0x310525(0x226)](_0x54fde2,_0xdeaac3));_0x74fac4(_0x2a62d6,![]);},_0x1ad6e8=()=>{const _0x4283b3=_0x128e26,_0x1e1505=this['_data'][_0x4283b3(0x263)][this[_0x4283b3(0x248)][_0x592670]];if(!_0x1e1505||!_0x430275)return;const _0x2d99cb=this[_0x4283b3(0x244)][_0x4283b3(0x212)][_0x4283b3(0x270)][_0x4283b3(0x243)](),_0xc761d4=_0x1e1505[_0x4283b3(0x1ed)][_0x4283b3(0x254)](_0x1dea8a=>!this[_0x4283b3(0x244)][_0x4283b3(0x212)]['toDisplay'](_0x2d99cb,_0x1dea8a));_0x430275['fnUpdateHidden'](_0xc761d4,![]);};let _0x430275;this[_0x128e26(0x244)][_0x128e26(0x212)][_0x128e26(0x270)]['on'](FilterBox['EVNT_VALCHANGE'],()=>_0xea5bcf()),_0xea5bcf();const _0x5e5027=$('<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btl-0\x20bbl-0\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span></button>')[_0x128e26(0x1fc)](async()=>{const _0x5664d3=_0x128e26,_0x5e685f=await this[_0x5664d3(0x244)][_0x5664d3(0x267)]();if(_0x5e685f==null||!_0x5e685f[_0x5664d3(0x263)])return;const _0x3d28ab=this['_data']['class'][_0x5664d3(0x22c)](_0xede213=>_0xede213[_0x5664d3(0x247)]===_0x5e685f['class']['name']&&_0xede213['source']===_0x5e685f[_0x5664d3(0x263)][_0x5664d3(0x25b)]);if(!~_0x3d28ab)throw new Error(_0x5664d3(0x222)+JSON[_0x5664d3(0x23a)](_0x5e685f[_0x5664d3(0x263)]));this[_0x5664d3(0x248)][_0x592670]=_0x3d28ab,await this['_pGate'](_0x1ab04c);if(_0x5e685f[_0x5664d3(0x23e)]!=null){const _0x4d32b3=this['_data']['class'][_0x3d28ab],_0x5877a5=_0x4d32b3[_0x5664d3(0x1ed)][_0x5664d3(0x22c)](_0x3ac9c6=>_0x3ac9c6[_0x5664d3(0x247)]===_0x5e685f[_0x5664d3(0x23e)]['name']&&_0x3ac9c6[_0x5664d3(0x25b)]===_0x5e685f[_0x5664d3(0x23e)][_0x5664d3(0x25b)]);if(!~_0x5877a5)throw new Error(_0x5664d3(0x272)+JSON[_0x5664d3(0x23a)](_0x5e685f[_0x5664d3(0x23e)]));this['_state'][_0x144434]=_0x5877a5;}else this['_state'][_0x144434]=null;}),_0x56b5a7=async()=>{const _0x1eb7ad=_0x128e26;this['_modalFilterClasses'][_0x1eb7ad(0x212)][_0x1eb7ad(0x270)][_0x1eb7ad(0x258)](_0x154047);const _0x1bd29e=Object[_0x1eb7ad(0x236)](this[_0x1eb7ad(0x1f7)])[_0x1eb7ad(0x24e)](_0x50c14b=>_0x50c14b[_0x1eb7ad(0x208)](_0x12fe42)&&_0x50c14b!==_0x592670)[_0x1eb7ad(0x224)](_0x1ba159=>({[_0x1ba159]:null}));this[_0x1eb7ad(0x265)]('state',_0x1bd29e);const _0x2a7de7=this[_0x1eb7ad(0x1ff)][_0x1eb7ad(0x263)][this[_0x1eb7ad(0x248)][_0x592670]],_0x2fffea=_0x2a7de7?.[_0x1eb7ad(0x1ed)]?.[this[_0x1eb7ad(0x248)][_0x144434]];_0x1b9293['empty']();if(this[_0x1eb7ad(0x21d)][_0x449753])this['_metaHksClassStgSubclass'][_0x449753][_0x1eb7ad(0x21e)]();if(_0x2a7de7&&_0x2a7de7[_0x1eb7ad(0x1ed)]&&_0x2a7de7[_0x1eb7ad(0x1ed)][_0x1eb7ad(0x251)]){_0x430275=ComponentUiUtil[_0x1eb7ad(0x21c)](this,_0x144434,{'values':_0x2a7de7[_0x1eb7ad(0x1ed)][_0x1eb7ad(0x254)]((_0x402b92,_0x30b8c3)=>_0x30b8c3),'isAllowNull':!![],'fnDisplay':_0x199057=>{const _0x46443e=_0x1eb7ad,_0x4e6396=_0x2a7de7[_0x46443e(0x1ed)][_0x199057];return _0x4e6396['name']+'\x20'+(_0x4e6396[_0x46443e(0x25b)]!==SRC_PHB?'['+Parser['sourceJsonToAbv'](_0x4e6396[_0x46443e(0x25b)])+']':'');},'asMeta':!![]}),_0x430275[_0x1eb7ad(0x200)][_0x1eb7ad(0x25a)](_0x1eb7ad(0x1fd)),_0x430275[_0x1eb7ad(0x1ee)][_0x1eb7ad(0x25a)](_0x1eb7ad(0x1fd)),this['_modalFilterClasses'][_0x1eb7ad(0x212)][_0x1eb7ad(0x270)]['on'](_0x154047,()=>_0x1ad6e8()),_0x1ad6e8();const _0x242a84=$$`<div class="flex-col w-100 mt-1">
					<div class="mb-1">Select a Subclass</div>
					${_0x430275[_0x1eb7ad(0x23d)]}
				</div>`;_0x1b9293[_0x1eb7ad(0x238)]()[_0x1eb7ad(0x26c)](_0x242a84),this['_metaHksClassStgSubclass'][_0x449753]=_0x430275;}else _0x1b9293['hideVe'](),this[_0x1eb7ad(0x21d)][_0x449753]=null;_0x3a6c51[_0x1eb7ad(0x23b)]();_0x2a7de7&&Charactermancer_Class_HpIncreaseModeSelect[_0x1eb7ad(0x213)](_0x2a7de7)?(_0x3a6c51[_0x1eb7ad(0x238)]()[_0x1eb7ad(0x26c)](_0x1eb7ad(0x214)),this[_0x1eb7ad(0x242)][_0x449753]=new Charactermancer_Class_HpIncreaseModeSelect(),this['_compsClassHpIncreaseMode'][_0x449753][_0x1eb7ad(0x1ef)](_0x3a6c51)):(_0x3a6c51[_0x1eb7ad(0x261)](),this['_compsClassHpIncreaseMode'][_0x449753]=null);_0x12b933[_0x1eb7ad(0x23b)]();if(_0x2a7de7){_0x12b933[_0x1eb7ad(0x238)]()['append'](_0x1eb7ad(0x245));const _0x131a44=this[_0x1eb7ad(0x26b)](_0x2a7de7,_0x2fffea);this[_0x1eb7ad(0x235)][_0x449753]=new Charactermancer_Class_LevelSelect({'features':_0x131a44,'isRadio':ActorCharactermancerBaseComponent[_0x1eb7ad(0x223)]===0x0,'isSubclass':!![]}),this[_0x1eb7ad(0x235)][_0x449753][_0x1eb7ad(0x1ef)](_0x12b933),this[_0x1eb7ad(0x235)][_0x449753][_0x1eb7ad(0x237)](async()=>{const _0x30a4e9=_0x1eb7ad,_0x2c0a2e=_0x2a7de7?.[_0x30a4e9(0x1ed)]?.[this[_0x30a4e9(0x248)][_0x144434]],_0x5eabad=this['_class_getFilteredFeatures'](_0x2a7de7,_0x2c0a2e);await this['_class_pRenderFeatureOptionsSelects']({'ix':_0x449753,'propCntAsi':_0xea6d5b,'filteredFeatures':_0x5eabad,'$stgFeatureOptions':_0x50a174,'lockRenderFeatureOptionsSelects':_0x3cd6f4}),this[_0x30a4e9(0x248)][_0x484661]=this['_compsClassLevelSelect'][_0x449753]['getTargetLevel'](),this[_0x30a4e9(0x248)][_0x30a4e9(0x20c)]=this[_0x30a4e9(0x21b)]();}),await this[_0x1eb7ad(0x229)]({'ix':_0x449753,'propCntAsi':_0xea6d5b,'filteredFeatures':_0x131a44,'$stgFeatureOptions':_0x50a174,'lockRenderFeatureOptionsSelects':_0x3cd6f4}),this[_0x1eb7ad(0x248)][_0x484661]=this[_0x1eb7ad(0x235)][_0x449753]['getTargetLevel'](),this[_0x1eb7ad(0x244)][_0x1eb7ad(0x212)][_0x1eb7ad(0x270)]['on'](_0x4741ab,()=>{const _0x252b77=_0x1eb7ad;if(!this['_compsClassLevelSelect'][_0x449753])return;const _0x562796=_0x2a7de7?.[_0x252b77(0x1ed)]?.[this[_0x252b77(0x248)][_0x144434]],_0x33d029=this[_0x252b77(0x26b)](_0x2a7de7,_0x562796);if(this[_0x252b77(0x235)][_0x449753])this['_compsClassLevelSelect'][_0x449753][_0x252b77(0x207)](_0x33d029);this[_0x252b77(0x229)]({'ix':_0x449753,'propCntAsi':_0xea6d5b,'filteredFeatures':_0x33d029,'$stgFeatureOptions':_0x50a174,'lockRenderFeatureOptionsSelects':_0x3cd6f4});});}else _0x12b933[_0x1eb7ad(0x261)](),this['_compsClassLevelSelect'][_0x449753]=null,_0x50a174[_0x1eb7ad(0x23b)]()['hideVe'](),this['_compsClassFeatureOptionsSelect'][_0x449753]=null,this[_0x1eb7ad(0x248)][_0xea6d5b]=null,this[_0x1eb7ad(0x244)][_0x1eb7ad(0x212)][_0x1eb7ad(0x270)]['off'](_0x4741ab);this['_state']['class_totalLevels']=this[_0x1eb7ad(0x21b)]();if(this['_metaHksClassStgSkills'][_0x449753])this[_0x1eb7ad(0x204)][_0x449753][_0x1eb7ad(0x21e)]();const _0x403f70=()=>{const _0x22cfd5=_0x1eb7ad;_0x524331[_0x22cfd5(0x23b)]();const _0x8ba067=this[_0x22cfd5(0x1ff)][_0x22cfd5(0x263)][this[_0x22cfd5(0x248)][_0x592670]],_0x3e20d3=this[_0x22cfd5(0x248)][_0x22cfd5(0x211)]===_0x449753;if(_0x8ba067&&(_0x3e20d3&&_0x8ba067[_0x22cfd5(0x255)]?.[_0x22cfd5(0x25c)]||!_0x3e20d3&&_0x8ba067[_0x22cfd5(0x219)]?.[_0x22cfd5(0x21f)]?.[_0x22cfd5(0x25c)])){_0x524331[_0x22cfd5(0x238)]()[_0x22cfd5(0x26c)](_0x22cfd5(0x275));const _0x12e765=_0x3e20d3?_0x8ba067[_0x22cfd5(0x255)][_0x22cfd5(0x25c)]:_0x8ba067['multiclassing']['proficienciesGained'][_0x22cfd5(0x25c)];this[_0x22cfd5(0x221)][_0x449753]=new Charactermancer_SkillSelect({'existingProficiencies':Charactermancer_SkillSelect['getExistingProficiencies'](MiscUtil[_0x22cfd5(0x202)](this[_0x22cfd5(0x268)],_0x22cfd5(0x266),'data','skills')),'availableProficiencies':_0x12e765}),this['_compsClassSkillProficiencies'][_0x449753][_0x22cfd5(0x1ef)](_0x524331);}else _0x524331[_0x22cfd5(0x261)](),this['_compsClassSkillProficiencies'][_0x449753]=null;};this[_0x1eb7ad(0x246)](_0x1eb7ad(0x211),_0x403f70),this['_metaHksClassStgSkills'][_0x449753]={'unhook':()=>this[_0x1eb7ad(0x1fb)](_0x1eb7ad(0x211),_0x403f70)},_0x403f70(),_0x54329b[_0x1eb7ad(0x23b)]();if(_0x2a7de7){const _0x258a48=await DataUtil[_0x1eb7ad(0x263)]['pGetDereferencedClassData'](_0x2a7de7);let _0x274c87=MiscUtil['copy'](_0x258a48[_0x1eb7ad(0x209)])['flat']();_0x274c87=Charactermancer_Class_Util[_0x1eb7ad(0x23f)](_0x274c87,this[_0x1eb7ad(0x244)]['pageFilter'],this[_0x1eb7ad(0x244)]['pageFilter'][_0x1eb7ad(0x270)][_0x1eb7ad(0x243)]());const _0x43f605={'type':_0x1eb7ad(0x232),'entries':_0x274c87};this[_0x1eb7ad(0x26e)](_0x54329b,_0x2a7de7[_0x1eb7ad(0x247)],_0x43f605);}_0x124215[_0x1eb7ad(0x23b)]();},_0x37d824=async()=>{const _0x521966=_0x128e26;try{await this[_0x521966(0x210)](_0x1ab04c),await _0x56b5a7();}finally{this[_0x521966(0x24c)](_0x1ab04c);}};this[_0x128e26(0x246)](_0x592670,_0x37d824);const _0x32916e=async()=>{const _0x9ad045=_0x128e26;this['_modalFilterClasses']['pageFilter']['filterBox']['off'](_0x154047);const _0x348f1a=Object[_0x9ad045(0x236)](this[_0x9ad045(0x1f7)])[_0x9ad045(0x24e)](_0x4f7c8f=>_0x4f7c8f['startsWith'](_0x2de0ac)&&_0x4f7c8f!==_0x144434)[_0x9ad045(0x224)](_0x28a92d=>({[_0x28a92d]:null}));this['_proxyAssignSimple']('state',_0x348f1a);const _0x53166b=this[_0x9ad045(0x1ff)][_0x9ad045(0x263)][this[_0x9ad045(0x248)][_0x592670]],_0x410eb4=_0x53166b?.[_0x9ad045(0x1ed)]?.[this[_0x9ad045(0x248)][_0x144434]],_0x186848=this[_0x9ad045(0x26b)](_0x53166b,_0x410eb4);if(this['_compsClassLevelSelect'][_0x449753])this['_compsClassLevelSelect'][_0x449753][_0x9ad045(0x207)](_0x186848);this['_class_pRenderFeatureOptionsSelects']({'ix':_0x449753,'propCntAsi':_0xea6d5b,'filteredFeatures':_0x186848,'$stgFeatureOptions':_0x50a174,'lockRenderFeatureOptionsSelects':_0x3cd6f4}),_0x124215[_0x9ad045(0x23b)]();if(_0x410eb4){_0x124215['append'](_0x9ad045(0x257));const _0x22d96d=await DataUtil['class'][_0x9ad045(0x253)](_0x410eb4);let _0x3ed8b7=MiscUtil[_0x9ad045(0x230)](_0x22d96d[_0x9ad045(0x1eb)])[_0x9ad045(0x264)]();_0x3ed8b7=Charactermancer_Class_Util[_0x9ad045(0x23f)](_0x3ed8b7,this[_0x9ad045(0x244)][_0x9ad045(0x212)],this[_0x9ad045(0x244)]['pageFilter']['filterBox'][_0x9ad045(0x243)]());const _0x343e53={'type':_0x9ad045(0x232),'entries':_0x3ed8b7};if(_0x343e53[_0x9ad045(0x259)][0x0]&&_0x343e53[_0x9ad045(0x259)][0x0][_0x9ad045(0x247)])delete _0x343e53[_0x9ad045(0x259)][0x0][_0x9ad045(0x247)];this['_class_renderEntriesSection'](_0x124215,_0x410eb4['name'],_0x343e53);}this['_modalFilterClasses'][_0x9ad045(0x212)][_0x9ad045(0x270)]['on'](_0x154047,()=>_0x1ad6e8()),_0x1ad6e8();},_0x49b683=async()=>{const _0x5a71f1=_0x128e26;try{await this[_0x5a71f1(0x210)](_0x11becf),await _0x32916e();}finally{this[_0x5a71f1(0x24c)](_0x11becf);}};this[_0x128e26(0x246)](_0x144434,_0x49b683);const _0x300a7a=$(_0x128e26(0x205)),_0x1b9293=$$`<div class="flex-col w-100"></div>`[_0x128e26(0x261)](),_0x3a6c51=$$`<div class="flex-col"></div>`[_0x128e26(0x261)](),_0x12b933=$$`<div class="flex-col"></div>`['hideVe'](),_0x50a174=$$`<div class="flex-col"></div>`[_0x128e26(0x261)](),_0x524331=$$`<div class="flex-col"></div>`[_0x128e26(0x261)](),_0x39086c=$(_0x128e26(0x20e))[_0x128e26(0x1fc)](()=>this[_0x128e26(0x248)]['class_ixPrimaryClass']=_0x449753),_0x4928f5=()=>{const _0x5ca319=_0x128e26;_0x39086c['text'](this[_0x5ca319(0x248)]['class_ixPrimaryClass']===_0x449753?_0x5ca319(0x22d):'Make\x20Primary')['title'](this[_0x5ca319(0x248)][_0x5ca319(0x211)]===_0x449753?_0x5ca319(0x24b):_0x5ca319(0x24a))[_0x5ca319(0x215)](_0x5ca319(0x274),this[_0x5ca319(0x248)][_0x5ca319(0x211)]===_0x449753);};this[_0x128e26(0x246)](_0x128e26(0x211),_0x4928f5),_0x4928f5();const _0xfc7468=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x128e26(0x1fc)](()=>{const _0x585978=_0x128e26,_0x190d62=_0xfc7468[_0x585978(0x25e)]()===_0x585978(0x22f);_0xfc7468[_0x585978(0x25e)](_0x190d62?_0x585978(0x1f9):'[+]');if(_0x190d62)_0x300a7a[_0x585978(0x25e)](_0x585978(0x201));else{const _0x5ab7f9=this[_0x585978(0x1ff)]['class'][this[_0x585978(0x248)][_0x592670]],_0xbc400d=_0x5ab7f9?.[_0x585978(0x1ed)]?.[this[_0x585978(0x248)][_0x144434]];if(_0x5ab7f9)_0x300a7a['text'](''+_0x5ab7f9[_0x585978(0x247)]+(_0xbc400d?'\x20('+_0xbc400d[_0x585978(0x247)]+')':''));else _0x300a7a['text'](_0x585978(0x201));}_0x2daf56[_0x585978(0x203)]();}),_0x54329b=$$`<div class="flex-col w-100"></div>`,_0x124215=$$`<div class="flex-col w-100"></div>`,_0x2daf56=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex-col w-100">
					${_0x38eead}
					${_0x1b9293}
				</div>
				<div class="flex no-shrink">
					${_0x5e5027}
				</div>
			</div>
			${_0x3a6c51}
			${_0x12b933}
			${_0x50a174}
			${_0x524331}
		</div>`,_0x137e06=$$`<div class="flex-col">
			${_0x449753>0x0?'<hr\x20class=\x22hr-3\x20hr--heavy\x22>':''}

			<div class="split-v-center">
				${_0x300a7a}
				<div class="flex-v-center">
					${_0x39086c}
					${_0xfc7468}
				</div>
			</div>

			${_0x2daf56}
		</div>`[_0x128e26(0x22b)](_0x3bf83b),_0x5e0324=$$`<div>
			${_0x449753>0x0?_0x128e26(0x249):''}

			${_0x54329b}
			${_0x124215}
		</div>`['appendTo'](_0x18a7fa);_0x37d824()[_0x128e26(0x260)](()=>_0x49b683());}['_class_getFilteredFeatures'](_0x4d8948,_0xba1b2e){const _0x1fc6c6=_0x240428;if(!_0x4d8948)return[];return _0x4d8948=MiscUtil[_0x1fc6c6(0x230)](_0x4d8948),_0x4d8948[_0x1fc6c6(0x1ed)]=[_0xba1b2e][_0x1fc6c6(0x24e)](Boolean),Charactermancer_Class_Util[_0x1fc6c6(0x239)](Charactermancer_Class_Util['getAllFeatures'](_0x4d8948),this['_modalFilterClasses']['pageFilter'],this[_0x1fc6c6(0x244)][_0x1fc6c6(0x212)]['filterBox']['getValues']());}async[_0x240428(0x229)](_0x27c3f6){const _0x1b32fb=_0x240428,{lockRenderFeatureOptionsSelects:_0x579281}=_0x27c3f6;try{return await this[_0x1b32fb(0x210)](_0x579281),this[_0x1b32fb(0x26f)](_0x27c3f6);}finally{this['_unlock'](_0x579281);}}async[_0x240428(0x26f)]({ix:_0x488a00,propCntAsi:_0x1c6d5e,filteredFeatures:_0x1c48f3,$stgFeatureOptions:_0x475b55}){const _0x5310f1=_0x240428;_0x475b55['empty']();const _0x1356a3=Charactermancer_Class_Util['getImportableFeatures'](_0x1c48f3),_0x2dbb9a=MiscUtil[_0x5310f1(0x230)](_0x1356a3);Charactermancer_Class_Util[_0x5310f1(0x1e9)](_0x2dbb9a,this['_modalFilterClasses'][_0x5310f1(0x212)],this[_0x5310f1(0x244)]['pageFilter'][_0x5310f1(0x270)][_0x5310f1(0x243)]());const _0x5130dc=Charactermancer_Class_Util[_0x5310f1(0x24f)](_0x2dbb9a),_0x2a13b7=this[_0x5310f1(0x235)][_0x488a00]?Math[_0x5310f1(0x216)](...await this[_0x5310f1(0x235)][_0x488a00][_0x5310f1(0x1f2)]()[_0x5310f1(0x266)])+0x1:0x0;let _0x4a5af9=0x0;this[_0x5310f1(0x220)][_0x488a00]=[];for(const _0x443512 of _0x5130dc){const {topLevelFeature:_0x3596d1,optionsSets:_0x46fba8}=_0x443512;if(_0x3596d1['level']>_0x2a13b7)continue;const _0x3914ec=_0x3596d1['name'][_0x5310f1(0x227)]();if(_0x3914ec===_0x5310f1(0x231)){_0x4a5af9++;continue;}for(const _0x3143c1 of _0x46fba8){const _0x3f5d42=new Charactermancer_Class_FeatureOptionsSelect({'actor':this[_0x5310f1(0x268)],'optionsSet':_0x3143c1,'level':_0x3596d1[_0x5310f1(0x25d)]});this['_compsClassFeatureOptionsSelect'][_0x488a00][_0x5310f1(0x206)](_0x3f5d42);}}this[_0x5310f1(0x248)][_0x1c6d5e]=_0x4a5af9;const _0x25cd1e=await this[_0x5310f1(0x220)][_0x488a00]['pSerialAwaitMap'](_0x20b2a0=>_0x20b2a0[_0x5310f1(0x1e7)]()),_0x2e7ee0=!!_0x25cd1e[_0x5310f1(0x24e)](_0x53afcc=>!_0x53afcc)['length'];if(_0x2e7ee0){_0x475b55[_0x5310f1(0x238)]();for(const _0x51ec58 of this[_0x5310f1(0x220)][_0x488a00]){!await _0x51ec58[_0x5310f1(0x1e7)]()&&(_0x475b55['append'](_0x5310f1(0x20d)+_0x51ec58[_0x5310f1(0x20a)]+_0x5310f1(0x241)),_0x51ec58[_0x5310f1(0x1ef)](_0x475b55));}}}['_class_renderEntriesSection'](_0xa5d3c2,_0x324bad,_0x28aafb){const _0x8d5bd1=_0x240428,_0x4ab56e=$(_0x8d5bd1(0x1f0))[_0x8d5bd1(0x1fc)](()=>{const _0x5f06cf=_0x8d5bd1;_0x4ab56e[_0x5f06cf(0x25e)](_0x4ab56e['text']()===_0x5f06cf(0x22f)?'[‒]':_0x5f06cf(0x22f)),_0x38ce78[_0x5f06cf(0x203)]();}),_0x38ce78=Renderer[_0x8d5bd1(0x1f6)][_0x8d5bd1(0x1f4)](_0x28aafb);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x324bad||'')['qq']()}</div></div>
				${_0x4ab56e}
			</div>
			${_0x38ce78}
		</div>`[_0x8d5bd1(0x22b)](_0xa5d3c2);}[_0x240428(0x217)](){const _0x245196=_0x240428;if(this[_0x245196(0x248)][_0x245196(0x211)])return null;const {propIxClass:_0x38f767}=ActorCharactermancerBaseComponent[_0x245196(0x26a)](this['_state'][_0x245196(0x211)]);return this['_data'][_0x245196(0x263)][this['_state'][_0x38f767]];}[_0x240428(0x21b)](){const _0x2f73e1=_0x240428;return this[_0x2f73e1(0x235)][_0x2f73e1(0x24e)](Boolean)[_0x2f73e1(0x254)](_0x4813c1=>_0x4813c1[_0x2f73e1(0x273)]())['reduce']((_0x1b6694,_0x3e8bc8)=>_0x1b6694+_0x3e8bc8,0x0);}[_0x240428(0x252)](){const _0x69a371=_0x240428,_0x305f7d=[];for(let _0x125af8=0x0;_0x125af8<this['_state'][_0x69a371(0x1f3)]+0x1;++_0x125af8){const {propIxClass:_0xd5a5ad,propIxSubclass:_0x1a3f1a,propTargetLevel:_0x3d41a4}=ActorCharactermancerBaseComponent[_0x69a371(0x26a)](_0x125af8),_0x53a4e4=this['_data'][_0x69a371(0x263)][this[_0x69a371(0x248)][_0xd5a5ad]],_0x2aa0cb=this[_0x69a371(0x248)][_0x1a3f1a]!=null?_0x53a4e4[_0x69a371(0x1ed)][this[_0x69a371(0x248)][_0x1a3f1a]]:null;if(!_0x53a4e4)continue;const _0x2b2cab=this[_0x69a371(0x248)][_0x3d41a4];let _0x1cffb2=_0x53a4e4['casterProgression']||_0x2aa0cb?.[_0x69a371(0x21a)];if(_0x1cffb2){const _0x2a65cf=UtilActors['CASTER_TYPE_TO_PROGRESSION'][_0x53a4e4[_0x69a371(0x21a)]];if(!_0x2a65cf)continue;const _0x3358d4=_0x2a65cf[_0x2b2cab-0x1];if(_0x3358d4)_0x305f7d[_0x69a371(0x206)](_0x3358d4[_0x69a371(0x24e)](Boolean)[_0x69a371(0x251)]);}}return Math[_0x69a371(0x216)](..._0x305f7d);}['_getDefaultState'](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}export{ActorCharactermancerClass};