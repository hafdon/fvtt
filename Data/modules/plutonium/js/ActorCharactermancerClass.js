const _0x3736=['getFeaturesGroupedByOptionsSet','<hr\x20class=\x22hr-1\x22>','fnUpdateHidden','class_ixMax','class_ixPrimaryClass','compsClassLevelSelect','modalFilterClasses','_class_renderClass_pStgLevelSelect','render','class_totalLevels','[+]','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','$getSelSearchable','toDisplay','getExistingClassItems','_compsClassHpIncreaseMode','pGetDereferencedClassData','\x20subclasses\x20were\x20available\x20for\x20class\x20','map','_pLoad_pDoHandleExistingClassItems','STR_WARN_SOURCE_SELECTION','$wrp','177207tVuOSM','copy','$iptDisplay','getTargetLevel','_class_renderClass_stgHpInfo','MODULE_NAME_FAKE','_class_isSubclassSelectionDisabled','pageFilter','\x22\x20in\x20loaded\x20data.\x20','8578sRyTcd','232799PczbCC','_pDoProxySetBase','hover','title','_class_renderClass_pClassTable','_$wrpsClassTable','.class_','startsWith','Select\x20a\x20Class','_class_getExistingClassMeta','stringify','trim','source','subclass','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>','1hYTUVq','off','97nFpYuk','filterBox','some','Could\x20not\x20find\x20subclass\x20\x22','_tabClass','_compsClassFeatureOptionsSelect','showVe','Could\x20not\x20find\x20selected\x20subclass:\x20','_class_getFilteredFeatures','sum','</div>','getFilteredEntries','Could\x20not\x20find\x20class\x20with\x20index\x20','type','class_getTotalLevels','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>','pIsNoChoice','pGetFormData','\x22)\x20in\x20loaded\x20data.\x20','_class_pRenderFeatureOptionsSelects','1CAPZbK','_class_renderClass','parent','getExistingProficienciesFvttSavingThrows','pGetDereferencedSubclassData','getMaxCasterProgression','class','modalFilterSpells','import','_class_renderClass_stgHpMode','_metaHksClassStgSkills','_renderFeatureOptionsSelects','_modalFilterClasses','bl-0','casterProgression','toggleVe','_compsClassLevelSelect','state','_class_renderEntriesSection','getExistingClassTotalLevels_','empty','_compsClassHpInfo','item','pLoad','Primary\x20Class','compsClassFeatureOptionsSelect','skills','ixSubclass','Could\x20not\x20find\x20selected\x20class:\x20','classFeatures','forEach','_parent','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','ExistingClassMeta','proficienciesGained','_pGate','class_getProps','originalClass','ExistingFeatureChecker','appendTo','_compsClassStartingProficiencies','isPrimaryClass','(Unknown)','fastSetHtml','_metaHksClassStgSubclass','_addHookBase','getExisting','_proxyAssignSimple','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','flags','class_pulseChange','click','append','warn','_removeHookBase','min','featureSourceTracker_','spellLevelLow','$wrpTab','text','_existingClassMetas','disabled','ability\x20score\x20improvement','_pLoad_getExistingClassIndex','toLowerCase','levels','mergeMap','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','items','getClassStub','findIndex','_class_renderClass_pDispSubclass','setFeatures','_class_isClassSelectionDisabled','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','filter','sourceJsonToAbv','_getDefaultState','ixClass','notifications','_class_renderClass_stgSkills','isStrictMatching','pIsForceDisplay','existingClassMetas','196124aUlCdx','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','_class_renderClass_stgSelectSubclass','_pLock','_getExistingClassCount','getSubclass_','hideVe','multiclassing','_state','_class_pRenderFeatureComps','_class_renderClass_stgStartingProficiencies','addClass','_compsClassSkillProficiencies','length','html','flat','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','getClass_','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','793836zzcBfU','1131803uOSDzg','modalTitle','compsClassStartingProficiencies','level','actor','push','_class_renderClass_pDispClass','subclasses','toolProf','isPrimary','getValues','_class_pRenderFeatureOptionsSelects_','3ZJtnPA','_pHkChangeSubclass','__state','getAllFeatures','startingProficiencies','name','spellLevelHigh','unhook','max','reduce','keys','class_getPrimaryClass','_subclass','weaponProf','class_','<div\x20class=\x22flex-col\x20w-100\x22></div>','[â€’]','Select\x20a\x20Subclass','_unlock','pGetUserSelection','Could\x20not\x20find\x20subclass\x20with\x20index\x20','subclassFeatures','get','class_getMinMaxSpellLevel','getSubclassStub','entries','getCasterProgressionMeta','section','constructor','_class_unregisterFeatureSourceTrackingFeatureComps','_class_getLocks','proficiency','_class_pGetMinMaxLevel','data','findAndCopyStateFrom','370857TiMsse','_pHkChangeClass','detach','_data','isUnknownClass','EVNT_VALCHANGE','getImportableFeatures','_actor','_metaHksClassStgStartingProficiencies','then','MODE_PRIMARY','Strict\x20source\x20matching\x20is:\x20','traits','Could\x20not\x20find\x20class\x20\x22','details','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>','tabClass'];const _0x48d7=function(_0x91a75f,_0x43cdfd){_0x91a75f=_0x91a75f-0xa0;let _0x3736d1=_0x3736[_0x91a75f];return _0x3736d1;};const _0x10adcd=_0x48d7;(function(_0x2f51c8,_0x133207){const _0x4bee63=_0x48d7;while(!![]){try{const _0xf6aa18=parseInt(_0x4bee63(0xe5))*-parseInt(_0x4bee63(0xd3))+-parseInt(_0x4bee63(0x160))*parseInt(_0x4bee63(0xf9))+parseInt(_0x4bee63(0xa3))+-parseInt(_0x4bee63(0xca))+parseInt(_0x4bee63(0x161))*parseInt(_0x4bee63(0xe3))+parseInt(_0x4bee63(0x16d))*parseInt(_0x4bee63(0xd4))+parseInt(_0x4bee63(0x14d));if(_0xf6aa18===_0x133207)break;else _0x2f51c8['push'](_0x2f51c8['shift']());}catch(_0x106f7e){_0x2f51c8['push'](_0x2f51c8['shift']());}}}(_0x3736,0x91098));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_SkillProficiencySelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x252df3){const _0x26947f=_0x48d7;_0x252df3=_0x252df3||{},super(),this[_0x26947f(0xaa)]=_0x252df3[_0x26947f(0x165)],this[_0x26947f(0xa6)]=_0x252df3[_0x26947f(0xa1)],this[_0x26947f(0x118)]=_0x252df3[_0x26947f(0xfb)],this[_0x26947f(0xe9)]=_0x252df3[_0x26947f(0xb3)],this['_modalFilterClasses']=new ModalFilterClassesFvtt({'namespace':'ActorCharactermancer.classes'}),this[_0x26947f(0x125)]=[],this[_0x26947f(0x121)]=[],this[_0x26947f(0xc3)]=[],this[_0x26947f(0x10e)]=[],this[_0x26947f(0x109)]=[],this[_0x26947f(0xea)]=[],this['_compsClassSkillProficiencies']=[],this['_metaHksClassStgSkills']=[],this[_0x26947f(0xab)]=[],this[_0x26947f(0xd9)]=[],this[_0x26947f(0x135)]=[];}get[_0x10adcd(0xba)](){const _0x442009=_0x10adcd;return this[_0x442009(0x105)];}get[_0x10adcd(0x163)](){return this['_compsClassStartingProficiencies'];}get['compsClassHpIncreaseMode'](){const _0x5bc9ac=_0x10adcd;return this[_0x5bc9ac(0xc3)];}get[_0x10adcd(0xb9)](){const _0x1707bc=_0x10adcd;return this[_0x1707bc(0x109)];}get[_0x10adcd(0x112)](){return this['_compsClassFeatureOptionsSelect'];}get['compsClassSkillProficiencies'](){return this['_compsClassSkillProficiencies'];}get[_0x10adcd(0x14c)](){const _0x262426=_0x10adcd;return this[_0x262426(0x135)];}async[_0x10adcd(0x110)](){const _0x4b3faf=_0x10adcd;await this[_0x4b3faf(0x105)]['pPreloadHidden'](),await this[_0x4b3faf(0xc7)]();}async[_0x10adcd(0xc7)](){const _0x259f78=_0x10adcd,_0x15d0fa=this['_actor'][_0x259f78(0x13d)][_0x259f78(0x144)](_0x282cf5=>_0x282cf5[_0x259f78(0xf2)]===_0x259f78(0xff));this['_existingClassMetas']=_0x15d0fa[_0x259f78(0xc6)](_0x4686f1=>{const _0x592288=_0x259f78,_0x50485b=this[_0x592288(0x138)](_0x4686f1),_0x1dc16c=_0x4686f1['data'][_0x592288(0xa1)]?.[_0x592288(0xe1)]||'';let _0x21b1d1=-0x1;if(~_0x50485b){if(!_0x1dc16c)_0x21b1d1=null;else{const _0x4523cb=this[_0x592288(0xa6)][_0x592288(0xff)][_0x50485b];_0x21b1d1=_0x4523cb['subclasses']['findIndex'](_0xe60bd9=>_0x1dc16c[_0x592288(0x139)]()['trim']()===_0xe60bd9[_0x592288(0x172)]['toLowerCase']()['trim']());}}const _0xd987df=this[_0x592288(0xaa)]['data']['data']?.[_0x592288(0xb1)]?.[_0x592288(0x11e)]?this[_0x592288(0xaa)]['data'][_0x592288(0xa1)]?.['details']?.[_0x592288(0x11e)]===_0x4686f1['id']:!!_0x4686f1[_0x592288(0xa1)][_0x592288(0x12a)]?.[SharedConsts[_0x592288(0xcf)]]?.[_0x592288(0x122)],_0x5721bd=~_0x50485b?null:_0x592288(0xb0)+_0x4686f1['name']+'\x22\x20(\x22'+_0x4686f1[_0x592288(0xa1)][_0x592288(0xa1)][_0x592288(0xe0)]+_0x592288(0xf7)+Charactermancer_Util[_0x592288(0xc8)];_0x5721bd&&(ui[_0x592288(0x148)]['warn'](_0x5721bd),console['warn'](...LGT,_0x5721bd,_0x592288(0xae)+Config['get'](_0x592288(0x101),_0x592288(0x14a))+'.'));const _0x1ca7cb=_0x21b1d1==null||~_0x21b1d1?null:_0x592288(0xe8)+_0x1dc16c+_0x592288(0xd2)+Charactermancer_Util['STR_WARN_SOURCE_SELECTION'];return _0x1ca7cb&&(ui[_0x592288(0x148)][_0x592288(0x12e)](_0x1ca7cb),console[_0x592288(0x12e)](...LGT,_0x1ca7cb,'Strict\x20source\x20matching\x20is:\x20'+Config['get'](_0x592288(0x101),_0x592288(0x14a))+'.')),new ActorCharactermancerClass[(_0x592288(0x11a))]({'item':_0x4686f1,'ixClass':_0x50485b,'isUnknownClass':!~_0x50485b,'ixSubclass':_0x21b1d1,'isUnknownSubclass':_0x21b1d1==null&&!~_0x21b1d1,'level':Number(_0x4686f1['data'][_0x592288(0xa1)][_0x592288(0x13a)]||0x0),'isPrimary':_0xd987df});});if(!this[_0x259f78(0x135)][_0x259f78(0x15a)])return;this[_0x259f78(0x155)][_0x259f78(0xb7)]=this['_existingClassMetas'][_0x259f78(0x15a)]-0x1;for(let _0x59ab80=0x0;_0x59ab80<this[_0x259f78(0x135)][_0x259f78(0x15a)];++_0x59ab80){const _0x1b0fe6=this[_0x259f78(0x135)][_0x59ab80],{propIxClass:_0x69fb91,propIxSubclass:_0x3bbee1}=ActorCharactermancerBaseComponent['class_getProps'](_0x59ab80);await this[_0x259f78(0xd5)](_0x69fb91,_0x1b0fe6[_0x259f78(0x147)]),await this[_0x259f78(0xd5)](_0x3bbee1,_0x1b0fe6[_0x259f78(0x114)]);if(_0x1b0fe6[_0x259f78(0x16a)])this[_0x259f78(0x155)][_0x259f78(0xb8)]=_0x59ab80;}if(!this[_0x259f78(0x135)][_0x259f78(0xe7)](_0x1ad216=>_0x1ad216['isPrimary']))this['_state']['class_ixPrimaryClass']=0x0;}['_pLoad_getExistingClassIndex'](_0x4312a4){const _0x2f41d1=_0x10adcd,_0x48576d=(_0x4312a4[_0x2f41d1(0x172)]||'')['toLowerCase']()[_0x2f41d1(0xdf)]();let _0x4a4a44=this[_0x2f41d1(0xa6)][_0x2f41d1(0xff)][_0x2f41d1(0x13f)](_0x3f4cbc=>{const _0x2b8642=_0x2f41d1;return _0x48576d===_0x3f4cbc[_0x2b8642(0x172)][_0x2b8642(0x139)]()[_0x2b8642(0xdf)]()&&(!Config[_0x2b8642(0x183)](_0x2b8642(0x101),_0x2b8642(0x14a))||(DataConverter['getItemSource'](_0x4312a4)||'')['toLowerCase']()===Parser['sourceJsonToAbv'](_0x3f4cbc[_0x2b8642(0xe0)])['toLowerCase']());});if(~_0x4a4a44)return _0x4a4a44;const _0x2b1d5b=/^(.*?)\(.*\)$/['exec'](_0x48576d);if(!_0x2b1d5b)return _0x4a4a44;return this[_0x2f41d1(0xa6)][_0x2f41d1(0xff)][_0x2f41d1(0x13f)](_0x48d820=>{const _0x1a5a98=_0x2f41d1;return _0x2b1d5b[0x1][_0x1a5a98(0xdf)]()===_0x48d820[_0x1a5a98(0x172)][_0x1a5a98(0x139)]()[_0x1a5a98(0xdf)]()&&(!Config['get'](_0x1a5a98(0x101),_0x1a5a98(0x14a))||(DataConverter['getItemSource'](_0x4312a4)||'')[_0x1a5a98(0x139)]()===Parser['sourceJsonToAbv'](_0x48d820[_0x1a5a98(0xe0)])[_0x1a5a98(0x139)]());});}[_0x10adcd(0x10c)](){const _0x536930=_0x10adcd;return this[_0x536930(0x135)]['filter'](Boolean)['map'](_0x4b8d37=>_0x4b8d37[_0x536930(0x164)])[_0x536930(0xee)]();}[_0x10adcd(0x151)](){const _0xe9392b=_0x10adcd;return this[_0xe9392b(0x135)][_0xe9392b(0x144)](Boolean)[_0xe9392b(0x15a)];}[_0x10adcd(0x15e)]({ix:_0x527113,propIxClass:_0x327dd1}){const _0x3a33c5=_0x10adcd;if(_0x527113==null&&_0x327dd1==null)throw new Error('At\x20least\x20one\x20argument\x20must\x20be\x20provided!');if(_0x327dd1!=null){if(this[_0x3a33c5(0x155)][_0x327dd1]==null)return null;if(!~this[_0x3a33c5(0x155)][_0x327dd1])return DataConverterClass[_0x3a33c5(0x13e)]();return this[_0x3a33c5(0xa6)][_0x3a33c5(0xff)][this['_state'][_0x327dd1]];}if(_0x527113!=null&&~_0x527113)return this[_0x3a33c5(0xa6)][_0x3a33c5(0xff)][_0x527113];return DataConverterClass['getClassStub']();}[_0x10adcd(0x152)]({cls:_0x14a682,propIxSubclass:_0x52c42b,ix:_0x20724d}){const _0x561ab0=_0x10adcd;if(_0x20724d==null&&_0x52c42b==null)throw new Error(_0x561ab0(0x119));if(!_0x14a682)return null;if(_0x52c42b!=null){if(this['_state'][_0x52c42b]==null)return null;if(!~this[_0x561ab0(0x155)][_0x52c42b])return DataConverterClass[_0x561ab0(0x185)]({'cls':_0x14a682});if(!_0x14a682['subclasses']?.[_0x561ab0(0x15a)])return DataConverterClass[_0x561ab0(0x185)]({'cls':_0x14a682});return _0x14a682[_0x561ab0(0x168)][this[_0x561ab0(0x155)][_0x52c42b]];}if(_0x20724d!=null&&~_0x20724d)return _0x14a682[_0x561ab0(0x168)][_0x20724d];return DataConverterClass[_0x561ab0(0x185)]({'cls':_0x14a682});}[_0x10adcd(0x142)]({ix:_0x2c39ca}){return!!this['_existingClassMetas'][_0x2c39ca];}[_0x10adcd(0xd0)]({ix:_0x33a1c8}){const _0x5e3737=_0x10adcd;return this[_0x5e3737(0x135)][_0x33a1c8]&&(this[_0x5e3737(0x135)][_0x33a1c8]['ixSubclass']!=null||this[_0x5e3737(0x135)][_0x33a1c8][_0x5e3737(0xa7)]);}[_0x10adcd(0xbc)](){const _0xfeaab=_0x10adcd,_0x29929b=this[_0xfeaab(0xe9)]?.[_0xfeaab(0x133)];if(!_0x29929b)return;const _0x291b03=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x5c55a7=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0xe8b303=0x0;_0xe8b303<this['_state']['class_ixMax']+0x1;++_0xe8b303)this[_0xfeaab(0xfa)](_0x291b03,_0x5c55a7,_0xe8b303);this[_0xfeaab(0x126)](_0xfeaab(0xb8),()=>this[_0xfeaab(0x155)][_0xfeaab(0x12b)]=!this['_state'][_0xfeaab(0x12b)]);const _0x2e31a2=$(_0xfeaab(0x14e))[_0xfeaab(0x12c)](()=>{const _0x32f663=_0xfeaab;this['_class_renderClass'](_0x291b03,_0x5c55a7,++this[_0x32f663(0x155)]['class_ixMax']);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x291b03}
				<div class="mt-2">${_0x2e31a2}</div>
			</div>
			<div class="vr-1"></div>
			${_0x5c55a7}
		</div>`[_0xfeaab(0x120)](_0x29929b);}static['_class_getLocks'](_0x517e47){const _0x440ad1=_0x10adcd;return{'lockChangeClass':_0x440ad1(0x17b)+_0x517e47+_0x440ad1(0xa4),'lockChangeSubclass':'class_'+_0x517e47+_0x440ad1(0x16e),'lockRenderFeatureOptionsSelects':_0x440ad1(0x17b)+_0x517e47+_0x440ad1(0x104)};}[_0x10adcd(0xfa)](_0x312e6a,_0x1c23fe,_0x2e0d05){const _0x322bc9=_0x10adcd,{propPrefixClass:_0x5d1159,propIxClass:_0x28ce5a,propPrefixSubclass:_0x138ad1,propIxSubclass:_0x3e702e,propCntAsi:_0x2ee4d9,propCurLevel:_0x464620,propTargetLevel:_0x137808}=ActorCharactermancerBaseComponent[_0x322bc9(0x11d)](_0x2e0d05),_0x249eef=FilterBox['EVNT_VALCHANGE']+_0x322bc9(0xda)+_0x2e0d05+'_classLevels',_0x29d07b=FilterBox['EVNT_VALCHANGE']+_0x322bc9(0xda)+_0x2e0d05+_0x322bc9(0x179),{lockChangeClass:_0x24e103,lockChangeSubclass:_0x41c0c7,lockRenderFeatureOptionsSelects:_0x2e3cc0}=this[_0x322bc9(0x189)][_0x322bc9(0x18b)](_0x2e0d05);this['_addHookBase'](_0x28ce5a,()=>this[_0x322bc9(0x155)][_0x322bc9(0x12b)]=!this[_0x322bc9(0x155)][_0x322bc9(0x12b)]);const {$wrp:_0x27adc3,$iptDisplay:_0x4de927,$iptSearch:_0x3e6012,fnUpdateHidden:_0x30c3ca}=ComponentUiUtil[_0x322bc9(0xc0)](this,_0x28ce5a,{'values':this[_0x322bc9(0xa6)][_0x322bc9(0xff)][_0x322bc9(0xc6)]((_0x21721f,_0x556019)=>_0x556019),'isAllowNull':!![],'fnDisplay':_0x3c44d0=>{const _0x540d94=_0x322bc9,_0x3e3f7a=this[_0x540d94(0x15e)]({'ix':_0x3c44d0});if(!_0x3e3f7a)return console[_0x540d94(0x12e)](...LGT,_0x540d94(0xf1)+_0x3c44d0+'\x20('+this[_0x540d94(0xa6)][_0x540d94(0xff)]['length']+'\x20classes\x20were\x20available)'),_0x540d94(0x123);return _0x3e3f7a[_0x540d94(0x172)]+'\x20'+(_0x3e3f7a[_0x540d94(0xe0)]!==SRC_PHB?'['+Parser['sourceJsonToAbv'](_0x3e3f7a[_0x540d94(0xe0)])+']':'');},'asMeta':!![],'isDisabled':this[_0x322bc9(0x142)]({'ix':_0x2e0d05})});_0x4de927['addClass'](_0x322bc9(0x106)),_0x3e6012[_0x322bc9(0x158)](_0x322bc9(0x106));const _0x35ce4c=()=>{const _0x3e650e=_0x322bc9,_0xf5b44f=this[_0x3e650e(0x105)]['pageFilter']['filterBox'][_0x3e650e(0x16b)](),_0x81516=this[_0x3e650e(0xa6)]['class']['map'](_0x22ce7c=>!this['_modalFilterClasses'][_0x3e650e(0xd1)][_0x3e650e(0xc1)](_0xf5b44f,_0x22ce7c));_0x30c3ca(_0x81516,![]);},_0x438ca4=()=>{const _0x3636d9=_0x322bc9,_0x412254=this[_0x3636d9(0x15e)]({'propIxClass':_0x28ce5a});if(!_0x412254||!this['_metaHksClassStgSubclass'][_0x2e0d05])return;const _0x1dd7e9=this[_0x3636d9(0x105)][_0x3636d9(0xd1)][_0x3636d9(0xe6)][_0x3636d9(0x16b)](),_0x53bdbd=_0x412254[_0x3636d9(0x168)][_0x3636d9(0xc6)](_0x72aacd=>!this[_0x3636d9(0x105)][_0x3636d9(0xd1)][_0x3636d9(0xc1)](_0x1dd7e9,_0x72aacd));this['_metaHksClassStgSubclass'][_0x2e0d05][_0x3636d9(0xb6)](_0x53bdbd,![]);};this['_modalFilterClasses']['pageFilter']['filterBox']['on'](FilterBox[_0x322bc9(0xa8)],()=>_0x35ce4c()),_0x35ce4c();const _0x2ce969=$(_0x322bc9(0xf4))['click'](async()=>{const _0x1dd629=_0x322bc9,_0x29b9e3=this[_0x1dd629(0x15e)]({'propIxClass':_0x28ce5a}),_0x122fdb=this['getSubclass_']({'cls':_0x29b9e3,'propIxSubclass':_0x3e702e}),_0x194330=this[_0x1dd629(0x142)]({'ix':_0x2e0d05}),_0x487282=this['_class_isSubclassSelectionDisabled']({'ix':_0x2e0d05}),_0x4fb7b5=await this[_0x1dd629(0x105)][_0x1dd629(0x180)]({'selectedClass':_0x29b9e3,'selectedSubclass':_0x122fdb,'isClassDisabled':_0x194330,'isSubclassDisabled':_0x487282});if(_0x194330&&_0x487282)return;if(_0x4fb7b5==null||!_0x4fb7b5['class'])return;const _0x95f641=this['_data'][_0x1dd629(0xff)][_0x1dd629(0x13f)](_0x231164=>_0x231164[_0x1dd629(0x172)]===_0x4fb7b5[_0x1dd629(0xff)]['name']&&_0x231164[_0x1dd629(0xe0)]===_0x4fb7b5['class'][_0x1dd629(0xe0)]);if(!~_0x95f641)throw new Error(_0x1dd629(0x115)+JSON[_0x1dd629(0xde)](_0x4fb7b5['class']));this[_0x1dd629(0x155)][_0x28ce5a]=_0x95f641,await this[_0x1dd629(0x11c)](_0x24e103);if(_0x4fb7b5[_0x1dd629(0xe1)]!=null){const _0x264b3b=this[_0x1dd629(0x15e)]({'propIxClass':_0x28ce5a}),_0x3cf807=_0x264b3b[_0x1dd629(0x168)]['findIndex'](_0x18c3ed=>_0x18c3ed['name']===_0x4fb7b5[_0x1dd629(0xe1)][_0x1dd629(0x172)]&&_0x18c3ed[_0x1dd629(0xe0)]===_0x4fb7b5['subclass'][_0x1dd629(0xe0)]);if(!~_0x3cf807)throw new Error(_0x1dd629(0xec)+JSON[_0x1dd629(0xde)](_0x4fb7b5[_0x1dd629(0xe1)]));this['_state'][_0x3e702e]=_0x3cf807;}else this[_0x1dd629(0x155)][_0x3e702e]=null;}),_0x18216f=async _0x2345a8=>{const _0x3c996d=_0x322bc9;this[_0x3c996d(0x105)][_0x3c996d(0xd1)][_0x3c996d(0xe6)][_0x3c996d(0xe4)](_0x29d07b);if(_0x2345a8){const _0x4c15a8=Object[_0x3c996d(0x177)](this[_0x3c996d(0x16f)])['filter'](_0x5ec158=>_0x5ec158['startsWith'](_0x5d1159)&&_0x5ec158!==_0x28ce5a)[_0x3c996d(0x13b)](_0x1712f7=>({[_0x1712f7]:null}));this[_0x3c996d(0x128)]('state',_0x4c15a8);}const _0x3e0898=this[_0x3c996d(0x15e)]({'propIxClass':_0x28ce5a}),_0x297591=this['getSubclass_']({'cls':_0x3e0898,'propIxSubclass':_0x3e702e});this[_0x3c996d(0x14f)]({'$stgSelectSubclass':_0x56eb68,'cls':_0x3e0898,'ix':_0x2e0d05,'propIxSubclass':_0x3e702e,'idFilterBoxChangeSubclass':_0x29d07b,'doApplyFilterToSelSubclass':_0x438ca4}),this['_class_renderClass_stgHpMode']({'$stgHpMode':_0x5be94f,'ix':_0x2e0d05,'cls':_0x3e0898}),this[_0x3c996d(0xce)]({'$stgHpInfo':_0x24b57b,'ix':_0x2e0d05,'cls':_0x3e0898}),this[_0x3c996d(0x157)]({'$stgStartingProficiencies':_0x1b5bd2,'ix':_0x2e0d05,'cls':_0x3e0898}),await this['_class_renderClass_pStgLevelSelect']({'$stgLevelSelect':_0x2e911b,'$stgFeatureOptions':_0x31ed5a,'ix':_0x2e0d05,'cls':_0x3e0898,'sc':_0x297591,'propIxSubclass':_0x3e702e,'propCurLevel':_0x464620,'propTargetLevel':_0x137808,'propCntAsi':_0x2ee4d9,'lockRenderFeatureOptionsSelects':_0x2e3cc0,'idFilterBoxChangeClassLevels':_0x249eef}),this[_0x3c996d(0x155)][_0x3c996d(0xbd)]=this[_0x3c996d(0xf3)](),this[_0x3c996d(0x149)]({'$stgSkills':_0x56d5c0,'ix':_0x2e0d05,'propIxClass':_0x28ce5a}),await this[_0x3c996d(0x167)]({'ix':_0x2e0d05,'$dispClass':_0x6f94cb,'cls':_0x3e0898,'sc':_0x297591}),_0x22971e[_0x3c996d(0x10d)]();},_0x5340d8=async _0x7674f=>{const _0x1dbe83=_0x322bc9;try{await this[_0x1dbe83(0x150)](_0x24e103),await _0x18216f(_0x7674f);}finally{this[_0x1dbe83(0x17f)](_0x24e103);}};this[_0x322bc9(0x126)](_0x28ce5a,_0x5340d8);const _0x14e96d=async()=>{const _0x49b780=_0x322bc9;this[_0x49b780(0x105)]['pageFilter'][_0x49b780(0xe6)][_0x49b780(0xe4)](_0x29d07b);const _0x4c9aef=Object[_0x49b780(0x177)](this[_0x49b780(0x16f)])[_0x49b780(0x144)](_0xa7d67=>_0xa7d67[_0x49b780(0xdb)](_0x138ad1)&&_0xa7d67!==_0x3e702e)[_0x49b780(0x13b)](_0x1315de=>({[_0x1315de]:null}));this[_0x49b780(0x128)](_0x49b780(0x10a),_0x4c9aef);const _0x41cdd4=this[_0x49b780(0x15e)]({'propIxClass':_0x28ce5a}),_0x572f1a=this[_0x49b780(0x152)]({'cls':_0x41cdd4,'propIxSubclass':_0x3e702e}),_0x1a15d1=this[_0x49b780(0xed)](_0x41cdd4,_0x572f1a);if(this[_0x49b780(0x109)][_0x2e0d05])this[_0x49b780(0x109)][_0x2e0d05][_0x49b780(0x141)](_0x1a15d1);await this[_0x49b780(0xf8)]({'ix':_0x2e0d05,'propCntAsi':_0x2ee4d9,'filteredFeatures':_0x1a15d1,'$stgFeatureOptions':_0x31ed5a,'lockRenderFeatureOptionsSelects':_0x2e3cc0}),this[_0x49b780(0x105)]['pageFilter'][_0x49b780(0xe6)]['on'](_0x29d07b,()=>_0x438ca4()),_0x438ca4(),await this[_0x49b780(0x140)]({'ix':_0x2e0d05,'$dispSubclass':_0x22971e,'cls':_0x41cdd4,'sc':_0x572f1a});},_0x3c05d2=async()=>{const _0x3d6d2f=_0x322bc9;try{await this['_pLock'](_0x41c0c7),await _0x14e96d();}finally{this[_0x3d6d2f(0x17f)](_0x41c0c7);}};this[_0x322bc9(0x126)](_0x3e702e,_0x3c05d2);const _0x5bc65f=$(_0x322bc9(0x15f)),_0x56eb68=$$`<div class="flex-col w-100"></div>`[_0x322bc9(0x153)](),_0x5be94f=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)](),_0x24b57b=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)](),_0x1b5bd2=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)](),_0x2e911b=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)](),_0x31ed5a=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)](),_0x56d5c0=$$`<div class="flex-col"></div>`[_0x322bc9(0x153)]();let _0x40fa1c=null;if(!this['_existingClassMetas'][_0x322bc9(0x15a)]){_0x40fa1c=$('<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>')[_0x322bc9(0x12c)](()=>this['_state'][_0x322bc9(0xb8)]=_0x2e0d05);const _0x37bbf5=()=>{const _0x3a1457=_0x322bc9;_0x40fa1c['text'](this[_0x3a1457(0x155)][_0x3a1457(0xb8)]===_0x2e0d05?_0x3a1457(0x111):'Make\x20Primary')[_0x3a1457(0xd7)](this[_0x3a1457(0x155)][_0x3a1457(0xb8)]===_0x2e0d05?_0x3a1457(0x13c):_0x3a1457(0x143))['prop'](_0x3a1457(0x136),this['_state'][_0x3a1457(0xb8)]===_0x2e0d05);};this[_0x322bc9(0x126)]('class_ixPrimaryClass',_0x37bbf5),_0x37bbf5();}const _0x3bc97c=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[â€’]</div>')[_0x322bc9(0x12c)](()=>{const _0x4898f6=_0x322bc9,_0x380db3=_0x3bc97c[_0x4898f6(0x134)]()===_0x4898f6(0xbe);_0x3bc97c[_0x4898f6(0x134)](_0x380db3?_0x4898f6(0x17d):_0x4898f6(0xbe));if(_0x380db3)_0x5bc65f['text'](_0x4898f6(0xdc));else{const _0x408ae9=this[_0x4898f6(0x15e)]({'propIxClass':_0x28ce5a}),_0x2859c8=this[_0x4898f6(0x152)]({'cls':_0x408ae9,'propIxSubclass':_0x3e702e});if(_0x408ae9)_0x5bc65f[_0x4898f6(0x134)](''+_0x408ae9[_0x4898f6(0x172)]+(_0x2859c8?'\x20('+_0x2859c8[_0x4898f6(0x172)]+')':''));else _0x5bc65f['text'](_0x4898f6(0xdc));}_0x4536a5[_0x4898f6(0x108)]();}),_0x6f94cb=$$`<div class="flex-col w-100"></div>`,_0x22971e=$$`<div class="flex-col w-100"></div>`,_0x4536a5=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex no-shrink">
					${_0x2ce969}
				</div>
				<div class="flex-col w-100">
					${_0x27adc3}
					${_0x56eb68}
				</div>
			</div>
			${_0x5be94f}
			${_0x24b57b}
			${_0x1b5bd2}
			${_0x56d5c0}
			${_0x2e911b}
			${_0x31ed5a}
		</div>`,_0x1f7593=$$`<div class="flex-col">
			${_0x2e0d05>0x0?_0x322bc9(0xbf):''}

			<div class="split-v-center">
				${_0x5bc65f}
				<div class="flex-v-center">
					${_0x40fa1c}
					${_0x3bc97c}
				</div>
			</div>

			${_0x4536a5}
		</div>`[_0x322bc9(0x120)](_0x312e6a),_0x41dfb9=$$`<div>
			${_0x2e0d05>0x0?'<hr\x20class=\x22hr-2\x20hr--heavy\x22>':''}

			${_0x6f94cb}
			${_0x22971e}
		</div>`[_0x322bc9(0x120)](_0x1c23fe);_0x5340d8()[_0x322bc9(0xac)](()=>_0x3c05d2());}[_0x10adcd(0x14f)]({$stgSelectSubclass:_0x3fa3a0,cls:_0x5303cd,ix:_0x18bc57,propIxSubclass:_0x4b0821,idFilterBoxChangeSubclass:_0x2c4af6,doApplyFilterToSelSubclass:_0x2efe84}){const _0x12ff5f=_0x10adcd;_0x3fa3a0[_0x12ff5f(0x10d)]();if(this[_0x12ff5f(0x125)][_0x18bc57])this[_0x12ff5f(0x125)][_0x18bc57]['unhook']();if(_0x5303cd&&_0x5303cd[_0x12ff5f(0x168)]&&_0x5303cd[_0x12ff5f(0x168)][_0x12ff5f(0x15a)]){const _0x14db09=ComponentUiUtil[_0x12ff5f(0xc0)](this,_0x4b0821,{'values':_0x5303cd[_0x12ff5f(0x168)][_0x12ff5f(0xc6)]((_0x3729f3,_0x1baf3a)=>_0x1baf3a),'isAllowNull':!![],'fnDisplay':_0x41c8d9=>{const _0x322010=_0x12ff5f,_0x1b7641=this[_0x322010(0x152)]({'cls':_0x5303cd,'ix':_0x41c8d9});if(!_0x1b7641)return console[_0x322010(0x12e)](...LGT,_0x322010(0x181)+_0x41c8d9+'\x20('+_0x5303cd[_0x322010(0x168)][_0x322010(0x15a)]+_0x322010(0xc5)+_0x5303cd[_0x322010(0x172)]+')'),'(Unknown)';return _0x1b7641['name']+'\x20'+(_0x1b7641['source']!==SRC_PHB?'['+Parser[_0x322010(0x145)](_0x1b7641[_0x322010(0xe0)])+']':'');},'asMeta':!![],'isDisabled':this['_class_isSubclassSelectionDisabled']({'ix':_0x18bc57}),'displayNullAs':_0x12ff5f(0x17e)});_0x14db09[_0x12ff5f(0xcc)]['addClass']('bl-0'),_0x14db09['$iptSearch'][_0x12ff5f(0x158)](_0x12ff5f(0x106)),this[_0x12ff5f(0x125)][_0x18bc57]=_0x14db09,this[_0x12ff5f(0x105)]['pageFilter']['filterBox']['on'](_0x2c4af6,()=>_0x2efe84()),_0x2efe84();const _0x5872a3=$$`<div class="flex-col w-100 mt-1">
				${_0x14db09[_0x12ff5f(0xc9)]}
			</div>`;_0x3fa3a0[_0x12ff5f(0xeb)]()[_0x12ff5f(0x12d)](_0x5872a3);}else _0x3fa3a0[_0x12ff5f(0x153)](),this[_0x12ff5f(0x125)][_0x18bc57]=null;}[_0x10adcd(0x102)]({$stgHpMode:_0x3d4205,ix:_0x64ce4f,cls:_0x25af8c}){const _0x17719b=_0x10adcd;_0x3d4205[_0x17719b(0x10d)](),_0x25af8c&&Charactermancer_Class_HpIncreaseModeSelect['isHpAvailable'](_0x25af8c)?(_0x3d4205[_0x17719b(0xeb)]()['append']('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>'),this[_0x17719b(0xc3)][_0x64ce4f]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0x17719b(0xc3)][_0x64ce4f][_0x17719b(0xbc)](_0x3d4205)):(_0x3d4205[_0x17719b(0x153)](),this[_0x17719b(0xc3)][_0x64ce4f]=null);}['_class_renderClass_stgHpInfo']({$stgHpInfo:_0x1f963d,ix:_0x4e04dd,cls:_0x3ba449}){const _0x2045d1=_0x10adcd;_0x1f963d[_0x2045d1(0x10d)](),_0x3ba449&&Charactermancer_Class_HpIncreaseModeSelect['isHpAvailable'](_0x3ba449)?(_0x1f963d[_0x2045d1(0xeb)]()[_0x2045d1(0x12d)](_0x2045d1(0xe2)),this[_0x2045d1(0x10e)][_0x4e04dd]=new Charactermancer_Class_HpInfo({'className':_0x3ba449[_0x2045d1(0x172)],'hitDice':_0x3ba449['hd']}),this['_compsClassHpInfo'][_0x4e04dd][_0x2045d1(0xbc)](_0x1f963d)):(_0x1f963d[_0x2045d1(0x153)](),this[_0x2045d1(0x10e)][_0x4e04dd]=null);}[_0x10adcd(0x157)]({$stgStartingProficiencies:_0x1f08f5,ix:_0x2e039a,cls:_0x2c741c}){const _0x5e1501=_0x10adcd,_0x554738=this[_0x5e1501(0xdd)](_0x2e039a);if(_0x554738)return;if(this[_0x5e1501(0xab)][_0x2e039a])this[_0x5e1501(0xab)][_0x2e039a][_0x5e1501(0x174)]();_0x1f08f5[_0x5e1501(0x10d)](),this[_0x5e1501(0x118)][_0x5e1501(0x131)]['unregister'](this[_0x5e1501(0x121)][_0x2e039a]);_0x2c741c&&(_0x2c741c[_0x5e1501(0x171)]||_0x2c741c[_0x5e1501(0x154)]?.[_0x5e1501(0x11b)])?(_0x1f08f5[_0x5e1501(0xeb)]()[_0x5e1501(0x12d)](_0x5e1501(0xb2)),this[_0x5e1501(0x121)][_0x2e039a]=Charactermancer_Class_StartingProficiencies[_0x5e1501(0x183)]({'featureSourceTracker':this[_0x5e1501(0x118)][_0x5e1501(0x131)],'primaryProficiencies':_0x2c741c[_0x5e1501(0x171)],'multiclassProficiencies':_0x2c741c[_0x5e1501(0x154)]?.[_0x5e1501(0x11b)],'savingThrowsProficiencies':_0x2c741c[_0x5e1501(0x18c)],'existingProficienciesFvttArmor':MiscUtil['get'](this[_0x5e1501(0xaa)],_0x5e1501(0xa1),'data','traits','armorProf'),'existingProficienciesFvttWeapons':MiscUtil[_0x5e1501(0x183)](this['_actor'],_0x5e1501(0xa1),_0x5e1501(0xa1),_0x5e1501(0xaf),_0x5e1501(0x17a)),'existingProficienciesFvttTools':MiscUtil[_0x5e1501(0x183)](this[_0x5e1501(0xaa)],_0x5e1501(0xa1),_0x5e1501(0xa1),'traits',_0x5e1501(0x169)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x5e1501(0xfc)](this[_0x5e1501(0xaa)])}),this[_0x5e1501(0x121)][_0x2e039a]['render'](_0x1f08f5)):(_0x1f08f5[_0x5e1501(0x153)](),this[_0x5e1501(0x121)][_0x2e039a]=null);const _0x40cbe5=()=>{const _0x417e95=_0x5e1501;if(this['_compsClassStartingProficiencies'][_0x2e039a])this[_0x417e95(0x121)][_0x2e039a]['mode']=this[_0x417e95(0x155)][_0x417e95(0xb8)]===_0x2e039a?Charactermancer_Class_ProficiencyImportModeSelect[_0x417e95(0xad)]:Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'];};this[_0x5e1501(0x126)](_0x5e1501(0xb8),_0x40cbe5),this['_metaHksClassStgStartingProficiencies'][_0x2e039a]={'unhook':()=>this[_0x5e1501(0x12f)](_0x5e1501(0xb8),_0x40cbe5)},_0x40cbe5();}[_0x10adcd(0xdd)](_0x5c8778){const _0x343e39=_0x10adcd;if(this['_existingClassMetas'][_0x5c8778])return this[_0x343e39(0x135)][_0x5c8778];const {propIxClass:_0x4a755e}=ActorCharactermancerBaseComponent[_0x343e39(0x11d)](_0x5c8778),_0x149273=this[_0x343e39(0x15e)]({'propIxClass':_0x4a755e}),_0x5acf15=Charactermancer_Class_Util[_0x343e39(0xc2)](this[_0x343e39(0xaa)],_0x149273),_0x549e5a=_0x5acf15['length']?_0x5acf15[0x0]:null;if(!_0x549e5a)return null;return{'item':_0x549e5a,'level':Number(_0x549e5a[_0x343e39(0xa1)][_0x343e39(0xa1)][_0x343e39(0x13a)]||0x0)};}async[_0x10adcd(0xbb)]({$stgLevelSelect:_0x1aa301,$stgFeatureOptions:_0x432401,ix:_0x49eaee,cls:_0x517e4e,sc:_0x32820f,propIxSubclass:_0x1682ac,propCurLevel:_0x20c0af,propTargetLevel:_0x15905f,propCntAsi:_0x451f2e,lockRenderFeatureOptionsSelects:_0x289d5a,idFilterBoxChangeClassLevels:_0x24985e}){const _0xb43725=_0x10adcd;_0x1aa301[_0xb43725(0x10d)]();if(_0x517e4e){_0x1aa301[_0xb43725(0xeb)]()[_0xb43725(0x12d)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>');const _0x1eebef=this[_0xb43725(0xed)](_0x517e4e,_0x32820f),_0x20bc1e=this[_0xb43725(0xdd)](_0x49eaee);this[_0xb43725(0x109)][_0x49eaee]=new Charactermancer_Class_LevelSelect({'features':_0x1eebef,'isRadio':!![],'isForceSelect':this['getExistingClassTotalLevels_']()===0x0||!_0x20bc1e,'maxPreviousLevel':_0x20bc1e?.[_0xb43725(0x164)],'isSubclass':!![]}),this[_0xb43725(0x109)][_0x49eaee][_0xb43725(0xbc)](_0x1aa301);const _0x3a432f=async()=>{const _0x587170=_0xb43725,_0x17d96a=this[_0x587170(0x152)]({'cls':_0x517e4e,'propIxSubclass':_0x1682ac}),_0x3f510b=this['_class_getFilteredFeatures'](_0x517e4e,_0x17d96a);await this[_0x587170(0xf8)]({'ix':_0x49eaee,'propCntAsi':_0x451f2e,'filteredFeatures':_0x3f510b,'$stgFeatureOptions':_0x432401,'lockRenderFeatureOptionsSelects':_0x289d5a}),this[_0x587170(0x155)][_0x20c0af]=this[_0x587170(0x109)][_0x49eaee]['getCurLevel'](),this['_state'][_0x15905f]=this[_0x587170(0x109)][_0x49eaee][_0x587170(0xcd)](),this[_0x587170(0x155)][_0x587170(0xbd)]=this[_0x587170(0xf3)]();};this[_0xb43725(0x109)][_0x49eaee]['onchange'](_0x3a432f),await _0x3a432f(),this[_0xb43725(0x105)][_0xb43725(0xd1)]['filterBox']['on'](_0x24985e,()=>{const _0x25976a=_0xb43725;if(!this[_0x25976a(0x109)][_0x49eaee])return;const _0x2b0a34=this[_0x25976a(0x152)]({'cls':_0x517e4e,'propIxSubclass':_0x1682ac}),_0x4b21e4=this[_0x25976a(0xed)](_0x517e4e,_0x2b0a34);if(this[_0x25976a(0x109)][_0x49eaee])this[_0x25976a(0x109)][_0x49eaee][_0x25976a(0x141)](_0x4b21e4);this[_0x25976a(0xf8)]({'ix':_0x49eaee,'propCntAsi':_0x451f2e,'filteredFeatures':_0x4b21e4,'$stgFeatureOptions':_0x432401,'lockRenderFeatureOptionsSelects':_0x289d5a});});}else _0x1aa301['hideVe'](),this[_0xb43725(0x109)][_0x49eaee]=null,_0x432401[_0xb43725(0x10d)]()[_0xb43725(0x153)](),this[_0xb43725(0x18a)](_0x49eaee),this[_0xb43725(0x155)][_0x451f2e]=null,this['_modalFilterClasses'][_0xb43725(0xd1)]['filterBox'][_0xb43725(0xe4)](_0x24985e);}[_0x10adcd(0x149)]({$stgSkills:_0x1887ab,ix:_0x393f48,propIxClass:_0x11f738}){const _0x5a9e7c=_0x10adcd,_0x7fe306=this[_0x5a9e7c(0xdd)](_0x393f48);if(_0x7fe306)return;if(this[_0x5a9e7c(0x103)][_0x393f48])this['_metaHksClassStgSkills'][_0x393f48][_0x5a9e7c(0x174)]();const _0x1fe951=()=>{const _0x549652=_0x5a9e7c;_0x1887ab['empty']();const _0x5a437d=this[_0x549652(0x15e)]({'propIxClass':_0x11f738}),_0x44cd8e=this[_0x549652(0x155)][_0x549652(0xb8)]===_0x393f48;this[_0x549652(0x118)][_0x549652(0x131)]['unregister'](this[_0x549652(0x159)][_0x393f48]);if(_0x5a437d&&(_0x44cd8e&&_0x5a437d[_0x549652(0x171)]?.[_0x549652(0x113)]||!_0x44cd8e&&_0x5a437d[_0x549652(0x154)]?.[_0x549652(0x11b)]?.[_0x549652(0x113)])){_0x1887ab[_0x549652(0xeb)]()['append'](_0x549652(0x129));const _0x15bad9=_0x44cd8e?_0x5a437d['startingProficiencies'][_0x549652(0x113)]:_0x5a437d['multiclassing'][_0x549652(0x11b)][_0x549652(0x113)];this[_0x549652(0x159)][_0x393f48]=new Charactermancer_SkillProficiencySelect({'featureSourceTracker':this[_0x549652(0x118)][_0x549652(0x131)],'existing':Charactermancer_SkillProficiencySelect[_0x549652(0x127)]({'skillProficiencies':MiscUtil['get'](this[_0x549652(0xaa)],_0x549652(0xa1),_0x549652(0xa1),_0x549652(0x113))}),'available':_0x15bad9}),this[_0x549652(0x159)][_0x393f48][_0x549652(0xbc)](_0x1887ab);}else _0x1887ab[_0x549652(0x153)](),this[_0x549652(0x159)][_0x393f48]=null;};this[_0x5a9e7c(0x126)]('class_ixPrimaryClass',_0x1fe951),this[_0x5a9e7c(0x103)][_0x393f48]={'unhook':()=>this[_0x5a9e7c(0x12f)](_0x5a9e7c(0xb8),_0x1fe951)},_0x1fe951();}async['_class_renderClass_pDispClass']({ix:_0x4c4ca9,$dispClass:_0x3f852a,cls:_0x2ded62,sc:_0x3aad47}){const _0xb51a05=_0x10adcd;if(this[_0xb51a05(0xd9)][_0x4c4ca9])this[_0xb51a05(0xd9)][_0x4c4ca9][_0xb51a05(0xa5)]();else this[_0xb51a05(0xd9)][_0x4c4ca9]=$(_0xb51a05(0x17c));_0x3f852a['empty']();if(_0x2ded62){const _0x458064=await DataUtil[_0xb51a05(0xff)][_0xb51a05(0xc4)](_0x2ded62);let _0x117136=MiscUtil[_0xb51a05(0xcb)](_0x458064[_0xb51a05(0x116)]||[])[_0xb51a05(0x15c)]();_0x117136=Charactermancer_Class_Util[_0xb51a05(0xf0)](_0x117136,this[_0xb51a05(0x105)][_0xb51a05(0xd1)],this[_0xb51a05(0x105)][_0xb51a05(0xd1)][_0xb51a05(0xe6)][_0xb51a05(0x16b)]());const _0x39526f={'type':_0xb51a05(0x188),'entries':_0x117136};this[_0xb51a05(0x10b)](_0x3f852a,_0x2ded62[_0xb51a05(0x172)],_0x39526f,{'$wrpTable':this['_$wrpsClassTable'][_0x4c4ca9]}),await this[_0xb51a05(0xd8)]({'ix':_0x4c4ca9,'cls':_0x2ded62,'sc':_0x3aad47});}}async[_0x10adcd(0x140)]({ix:_0xb8dfc0,$dispSubclass:_0x54ec29,cls:_0x56e560,sc:_0x1aa914}){const _0x45946a=_0x10adcd;_0x54ec29['empty']();if(_0x1aa914){_0x54ec29[_0x45946a(0x12d)](_0x45946a(0xb5));const _0x7d39da=await DataUtil[_0x45946a(0xff)][_0x45946a(0xfd)](_0x1aa914);let _0x25f89f=MiscUtil[_0x45946a(0xcb)](_0x7d39da[_0x45946a(0x182)])[_0x45946a(0x15c)]();_0x25f89f=Charactermancer_Class_Util[_0x45946a(0xf0)](_0x25f89f,this['_modalFilterClasses'][_0x45946a(0xd1)],this[_0x45946a(0x105)]['pageFilter']['filterBox'][_0x45946a(0x16b)]());const _0x1481dc={'type':'section','entries':_0x25f89f};if(_0x1481dc[_0x45946a(0x186)][0x0]&&_0x1481dc[_0x45946a(0x186)][0x0][_0x45946a(0x172)])delete _0x1481dc['entries'][0x0]['name'];this[_0x45946a(0x10b)](_0x54ec29,_0x1aa914[_0x45946a(0x172)],_0x1481dc);}await this[_0x45946a(0xd8)]({'ix':_0xb8dfc0,'cls':_0x56e560,'sc':_0x1aa914});}async[_0x10adcd(0xd8)]({ix:_0x4f3a7c,cls:_0x42ca31,sc:_0x404ef5}){const _0x37bdf3=_0x10adcd,_0x330a1e=_0x42ca31?await DataUtil[_0x37bdf3(0xff)]['pGetDereferencedClassData'](_0x42ca31):null,_0x31fac3=_0x404ef5?await DataUtil['class'][_0x37bdf3(0xfd)](_0x404ef5):null,_0x3677d7=_0x330a1e?.['classFeatures']||_0x31fac3?.[_0x37bdf3(0x182)]?this[_0x37bdf3(0x105)][_0x37bdf3(0xd1)][_0x37bdf3(0xe6)][_0x37bdf3(0x16b)]():null;_0x330a1e?.[_0x37bdf3(0x116)]&&(_0x330a1e[_0x37bdf3(0x116)]=_0x330a1e[_0x37bdf3(0x116)][_0x37bdf3(0xc6)](_0x5292dc=>{const _0x296072=_0x37bdf3;return _0x5292dc=MiscUtil['copy'](_0x5292dc),_0x5292dc=Charactermancer_Class_Util[_0x296072(0xf0)](_0x5292dc,this['_modalFilterClasses'][_0x296072(0xd1)],_0x3677d7),_0x5292dc;}));_0x31fac3?.[_0x37bdf3(0x182)]&&(_0x31fac3[_0x37bdf3(0x182)]=_0x31fac3[_0x37bdf3(0x182)][_0x37bdf3(0xc6)](_0x2a0bc7=>{const _0x192952=_0x37bdf3;return _0x2a0bc7=MiscUtil['copy'](_0x2a0bc7),_0x2a0bc7=Charactermancer_Class_Util['getFilteredEntries'](_0x2a0bc7,this[_0x192952(0x105)][_0x192952(0xd1)],_0x3677d7),_0x2a0bc7;}));const _0x2cf903=DataConverterClass['getRenderedClassTableFromDereferenced'](_0x330a1e,_0x31fac3);this[_0x37bdf3(0xd9)][_0x4f3a7c][_0x37bdf3(0x15b)]('')[_0x37bdf3(0x124)](_0x2cf903);}[_0x10adcd(0xed)](_0x3ce86e,_0x240589){const _0x47c37a=_0x10adcd;if(!_0x3ce86e)return[];return _0x3ce86e=MiscUtil[_0x47c37a(0xcb)](_0x3ce86e),_0x3ce86e['subclasses']=[_0x240589][_0x47c37a(0x144)](Boolean),Charactermancer_Class_Util['getFilteredFeatures'](Charactermancer_Class_Util[_0x47c37a(0x170)](_0x3ce86e),this['_modalFilterClasses']['pageFilter'],this[_0x47c37a(0x105)][_0x47c37a(0xd1)][_0x47c37a(0xe6)][_0x47c37a(0x16b)]());}async[_0x10adcd(0xf8)](_0x100563){const _0x247bcc=_0x10adcd,{lockRenderFeatureOptionsSelects:_0x15f922}=_0x100563;try{return await this[_0x247bcc(0x150)](_0x15f922),this[_0x247bcc(0x16c)](_0x100563);}finally{this[_0x247bcc(0x17f)](_0x15f922);}}async['_class_pRenderFeatureOptionsSelects_']({ix:_0x1f238f,propCntAsi:_0x3032ba,filteredFeatures:_0x30e349,$stgFeatureOptions:_0x3852a3}){const _0x48cfce=_0x10adcd,_0x5d728d=this['_compsClassFeatureOptionsSelect'][_0x1f238f]||[];_0x3852a3['empty']();const _0x831bda=this[_0x48cfce(0x135)][_0x1f238f]?new Charactermancer_Class_Util[(_0x48cfce(0x11f))](this[_0x48cfce(0xaa)]):null,_0x2e307=Charactermancer_Class_Util[_0x48cfce(0xa9)](_0x30e349),_0xe1c207=MiscUtil[_0x48cfce(0xcb)](_0x2e307);Charactermancer_Class_Util['doApplyFilterToFeatureEntries'](_0xe1c207,this['_modalFilterClasses'][_0x48cfce(0xd1)],this[_0x48cfce(0x105)][_0x48cfce(0xd1)][_0x48cfce(0xe6)][_0x48cfce(0x16b)]());const _0x2012a3=Charactermancer_Class_Util[_0x48cfce(0xb4)](_0xe1c207),{lvlMin:_0x166a1b,lvlMax:_0x2c1cf5}=await this[_0x48cfce(0xa0)](_0x1f238f);this[_0x48cfce(0x18a)](_0x1f238f);let _0x5b3f48=0x0;for(const _0x59006c of _0x2012a3){const {topLevelFeature:_0x569dd0,optionsSets:_0x265b29}=_0x59006c;if(_0x569dd0[_0x48cfce(0x164)]<_0x166a1b||_0x569dd0[_0x48cfce(0x164)]>_0x2c1cf5)continue;const _0x484790=_0x569dd0['name'][_0x48cfce(0x139)]();if(_0x484790===_0x48cfce(0x137)){_0x5b3f48++;continue;}for(const _0x22f0e2 of _0x265b29){const _0x72ee65=new Charactermancer_Class_FeatureOptionsSelect({'featureSourceTracker':this[_0x48cfce(0x118)]['featureSourceTracker_'],'existingFeatureChecker':_0x831bda,'actor':this[_0x48cfce(0xaa)],'optionsSet':_0x22f0e2,'level':_0x569dd0[_0x48cfce(0x164)],'modalFilterSpells':this[_0x48cfce(0x118)]['compSpell'][_0x48cfce(0x100)]});this[_0x48cfce(0xea)][_0x1f238f][_0x48cfce(0x166)](_0x72ee65),_0x72ee65[_0x48cfce(0xa2)](_0x5d728d);}}this['_state'][_0x3032ba]=_0x5b3f48,await this['_class_pRenderFeatureComps'](_0x1f238f,{'$stgFeatureOptions':_0x3852a3});}[_0x10adcd(0x18a)](_0x28dd4c){const _0x4e601d=_0x10adcd;(this['_compsClassFeatureOptionsSelect'][_0x28dd4c]||[])[_0x4e601d(0x117)](_0xf2b6dd=>_0xf2b6dd['unregisterFeatureSourceTracking']()),this[_0x4e601d(0xea)][_0x28dd4c]=[];}async[_0x10adcd(0xa0)](_0x1bb37a){const _0x14513c=_0x10adcd;let _0x5367d9=0x0,_0x450569=0x0;if(this[_0x14513c(0x109)][_0x1bb37a]){const _0x14c3a1=await this[_0x14513c(0x109)][_0x1bb37a][_0x14513c(0xf6)]()[_0x14513c(0xa1)];_0x5367d9=Math[_0x14513c(0x130)](..._0x14c3a1)+0x1,_0x450569=Math[_0x14513c(0x175)](..._0x14c3a1)+0x1;}return{'lvlMin':_0x5367d9,'lvlMax':_0x450569};}async[_0x10adcd(0x156)](_0x98459b,{$stgFeatureOptions:_0x7d83c0}){const _0x497339=_0x10adcd;for(const _0x2caf9e of this[_0x497339(0xea)][_0x98459b]){if(await _0x2caf9e[_0x497339(0xf5)]()&&!await _0x2caf9e[_0x497339(0x14b)]())continue;_0x7d83c0[_0x497339(0xeb)]()[_0x497339(0x12d)](''+(_0x2caf9e[_0x497339(0x162)]?_0x497339(0x15d)+_0x2caf9e[_0x497339(0x162)]+_0x497339(0xef):'')),_0x2caf9e[_0x497339(0xbc)](_0x7d83c0);}}[_0x10adcd(0x10b)](_0x3f115b,_0x10b334,_0x580388,{$wrpTable:$wrpTable=null}={}){const _0x1cb18a=_0x10adcd,_0x882c5b=$('<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[â€’]</div>')[_0x1cb18a(0x12c)](()=>{const _0x317028=_0x1cb18a;_0x882c5b['text'](_0x882c5b[_0x317028(0x134)]()===_0x317028(0xbe)?'[â€’]':'[+]');if($wrpTable)$wrpTable[_0x317028(0x108)]();_0x333faa[_0x317028(0x108)]();}),_0x333faa=Renderer[_0x1cb18a(0xd6)]['$getHoverContent_generic'](_0x580388);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x10b334||'')['qq']()}</div></div>
				${_0x882c5b}
			</div>
			${$wrpTable}
			${_0x333faa}
		</div>`[_0x1cb18a(0x120)](_0x3f115b);}[_0x10adcd(0x178)](){const _0x9c2b36=_0x10adcd;if(this[_0x9c2b36(0x155)][_0x9c2b36(0xb8)])return null;const {propIxClass:_0x142ad}=ActorCharactermancerBaseComponent[_0x9c2b36(0x11d)](this[_0x9c2b36(0x155)][_0x9c2b36(0xb8)]);return this['_data'][_0x9c2b36(0xff)][this[_0x9c2b36(0x155)][_0x142ad]];}[_0x10adcd(0xf3)](){const _0x42bcea=_0x10adcd;return this[_0x42bcea(0x109)][_0x42bcea(0x144)](Boolean)[_0x42bcea(0xc6)](_0x4b770c=>_0x4b770c[_0x42bcea(0xcd)]())[_0x42bcea(0x176)]((_0x552e2e,_0x122736)=>_0x552e2e+_0x122736,0x0);}[_0x10adcd(0x184)](){const _0x5aa1a3=_0x10adcd,_0x3bf485=[],_0x190c77=[];for(let _0x58e230=0x0;_0x58e230<this[_0x5aa1a3(0x155)][_0x5aa1a3(0xb7)]+0x1;++_0x58e230){const {propIxClass:_0x2582cb,propIxSubclass:_0x3ce24e,propCurLevel:_0x48c779,propTargetLevel:_0x4d2ed4}=ActorCharactermancerBaseComponent[_0x5aa1a3(0x11d)](_0x58e230),_0x253caa=this[_0x5aa1a3(0x15e)]({'propIxClass':_0x2582cb});if(!_0x253caa)continue;const _0x1748a5=this['getSubclass_']({'cls':_0x253caa,'propIxSubclass':_0x3ce24e}),_0x1d1ca4=this[_0x5aa1a3(0x155)][_0x48c779],_0x56d285=this[_0x5aa1a3(0x155)][_0x4d2ed4],_0x2f6b7d=DataConverterClass[_0x5aa1a3(0xfe)](_0x253caa[_0x5aa1a3(0x107)],_0x1748a5?.[_0x5aa1a3(0x107)]),_0x389e7c=Charactermancer_Util['getCasterProgressionMeta']({'casterProgression':_0x2f6b7d,'curLevel':_0x1d1ca4,'targetLevel':_0x56d285,'isBreakpointsOnly':!![]})?.[_0x5aa1a3(0x132)];if(_0x389e7c!=null)_0x3bf485[_0x5aa1a3(0x166)](_0x389e7c);const _0x28531f=Charactermancer_Util[_0x5aa1a3(0x187)]({'casterProgression':_0x2f6b7d,'curLevel':_0x1d1ca4,'targetLevel':_0x56d285,'isBreakpointsOnly':!![]})?.[_0x5aa1a3(0x173)];if(_0x28531f!=null)_0x190c77[_0x5aa1a3(0x166)](_0x28531f);}return{'min':_0x3bf485[_0x5aa1a3(0x15a)]?Math[_0x5aa1a3(0x130)](..._0x3bf485):null,'max':_0x190c77[_0x5aa1a3(0x15a)]?Math[_0x5aa1a3(0x175)](..._0x190c77):null};}[_0x10adcd(0x146)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}ActorCharactermancerClass[_0x10adcd(0x11a)]=class{constructor({item:_0x8d34d8,ixClass:_0x4e352a,ixSubclass:_0x3d9e6d,level:_0x50eb46}){const _0x39b9de=_0x10adcd;this[_0x39b9de(0x10f)]=_0x8d34d8,this[_0x39b9de(0x147)]=_0x4e352a,this['ixSubclass']=_0x3d9e6d,this['level']=_0x50eb46;if(isNaN(this['level']))this['level']=0x0;}};export{ActorCharactermancerClass};