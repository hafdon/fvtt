const _0x4322=['source','toggleVe','keys','subclassFeatures','_compsClassSkillProficiencies','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','pIsNoChoice','class_getProps','Primary\x20Class','copy','class_','name','startsWith','_class_pRenderFeatureOptionsSelects','_getDefaultState','_compsClassFeatureOptionsSelect','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','_actor','3VcACnB','hover','entries','_metaHksClassStgSkills','append','compsClassSkillProficiencies','section','_addHookBase','isHpAvailable','onchange','1205219EyNTpK','_class_pRenderFeatureOptionsSelects_','map','_metaHksClassStgSubclass','[‒]','fnUpdateHidden','Select\x20a\x20Class','class','getFilteredFeatures','push','_renderFeatureOptionsSelects','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>','27099JpEfYb','subclass','EVNT_VALCHANGE','__state','pGetFormData','class_getPrimaryClass','Could\x20not\x20find\x20selected\x20subclass:\x20','_compsClassHpIncreaseMode','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','getFeaturesGroupedByOptionsSet','then','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btl-0\x20bbl-0\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span></button>','off','_pHkChangeClass','$iptSearch','showVe','stringify','addClass','$getSelSearchable','mergeMap','compsClassHpIncreaseMode','proficienciesGained','filter','89150NSTimq','Could\x20not\x20find\x20selected\x20class:\x20','reduce','modalTitle','pGetUserSelection','Make\x20Primary','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','subclasses','setFeatures','pGetDereferencedClassData','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','ability\x20score\x20improvement','text','[+]','br-0','.class_','349239GYAejP','995315fsWzsq','pSerialAwaitMap','ActorCharactermancer.classes','_class_getFilteredFeatures','class_ixMax','_subclass','getValues','_class_renderEntriesSection','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','_removeHookBase','_pGate','classFeatures','empty','state','parent','_modalFilterClasses','flat','class_getMaxSpellLevel','disabled','1029505GrJwJD','getExistingProficiencies','class_totalLevels','multiclassing','963876DfgvGK','_state','getFilteredEntries','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','pGetDereferencedSubclassData','sourceJsonToAbv','appendTo','_unlock','getImportableFeatures','max','getAllFeatures','<hr\x20class=\x22hr-1\x22>','casterProgression','data','getMaxSpellLevelAtLevel','class_ixPrimaryClass','class_pulseChange','level','getTargetLevel','pLoad','class_getTotalLevels','hideVe','length','_proxyAssignSimple','pPreloadHidden','1OjtwQk','skills','$getHoverContent_generic','_pLock','click','_data','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','pageFilter','startingProficiencies','render','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','filterBox','_compsClassLevelSelect','compsClassFeatureOptionsSelect','toDisplay','</div>'];const _0x1a47=function(_0x23bff0,_0x117b8e){_0x23bff0=_0x23bff0-0x1e1;let _0x432295=_0x4322[_0x23bff0];return _0x432295;};const _0x1043ed=_0x1a47;(function(_0x225ae5,_0x21ac87){const _0x35c2d4=_0x1a47;while(!![]){try{const _0x50fbc9=parseInt(_0x35c2d4(0x213))*-parseInt(_0x35c2d4(0x1e7))+parseInt(_0x35c2d4(0x246))*parseInt(_0x35c2d4(0x209))+parseInt(_0x35c2d4(0x247))+-parseInt(_0x35c2d4(0x21f))+parseInt(_0x35c2d4(0x25a))+-parseInt(_0x35c2d4(0x25e))+-parseInt(_0x35c2d4(0x236));if(_0x50fbc9===_0x21ac87)break;else _0x225ae5['push'](_0x225ae5['shift']());}catch(_0x1217a0){_0x225ae5['push'](_0x225ae5['shift']());}}}(_0x4322,0xc02f9));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_SkillSelect}from'./UtilCharactermancer.js';import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpell.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x4b6ba8){const _0x180e31=_0x1a47;_0x4b6ba8=_0x4b6ba8||{},super(),this[_0x180e31(0x208)]=_0x4b6ba8['actor'],this[_0x180e31(0x1ec)]=_0x4b6ba8['data'],this['_parent']=_0x4b6ba8[_0x180e31(0x255)],this[_0x180e31(0x256)]=new ModalFilterClasses({'namespace':_0x180e31(0x249)}),this[_0x180e31(0x216)]=[],this[_0x180e31(0x226)]=[],this[_0x180e31(0x1f3)]=[],this[_0x180e31(0x206)]=[],this['_compsClassSkillProficiencies']=[],this[_0x180e31(0x20c)]=[];}get['modalFilterClasses'](){const _0x585696=_0x1a47;return this[_0x585696(0x256)];}get[_0x1043ed(0x233)](){const _0x2e94b6=_0x1043ed;return this[_0x2e94b6(0x226)];}get['compsClassLevelSelect'](){const _0x4f7dd3=_0x1043ed;return this[_0x4f7dd3(0x1f3)];}get[_0x1043ed(0x1f4)](){const _0x97cdc7=_0x1043ed;return this[_0x97cdc7(0x206)];}get[_0x1043ed(0x20e)](){const _0x10a3d0=_0x1043ed;return this[_0x10a3d0(0x1fb)];}async[_0x1043ed(0x1e1)](){const _0x126e84=_0x1043ed;await this['_modalFilterClasses'][_0x126e84(0x1e6)]();}[_0x1043ed(0x1f0)](_0x2e2320){const _0x5461d4=_0x1043ed,_0x3e4e3a=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x432da0=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x33d71b=0x0;_0x33d71b<this['_state'][_0x5461d4(0x24b)]+0x1;++_0x33d71b)this['_class_renderClass'](_0x3e4e3a,_0x432da0,_0x33d71b);this['_addHookBase'](_0x5461d4(0x26d),()=>this['_state'][_0x5461d4(0x26e)]=!this['_state'][_0x5461d4(0x26e)]);const _0x19e3a9=$(_0x5461d4(0x23c))[_0x5461d4(0x1eb)](()=>{const _0x7080d6=_0x5461d4;this['_class_renderClass'](_0x3e4e3a,_0x432da0,++this[_0x7080d6(0x25f)][_0x7080d6(0x24b)]);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x3e4e3a}
				<div class="mt-2">${_0x19e3a9}</div>
			</div>
			<div class="vr-1"></div>
			${_0x432da0}
		</div>`['appendTo'](_0x2e2320);}['_class_renderClass'](_0x1f6731,_0x233ff4,_0x1714c3){const _0x5a71fa=_0x1043ed,{propPrefixClass:_0x3b82ad,propIxClass:_0x5a039c,propPrefixSubclass:_0x1449ad,propIxSubclass:_0x58080f,propCntAsi:_0x40c593,propTargetLevel:_0x59d2de}=ActorCharactermancerBaseComponent['class_getProps'](_0x1714c3),_0x3df511=FilterBox['EVNT_VALCHANGE']+_0x5a71fa(0x245)+_0x1714c3+'_classLevels',_0x16fc6e=FilterBox[_0x5a71fa(0x221)]+'.class_'+_0x1714c3+_0x5a71fa(0x24c),_0x3e7a30=_0x5a71fa(0x201)+_0x1714c3+_0x5a71fa(0x22c),_0x2981f1='class_'+_0x1714c3+'_pHkChangeSubclass',_0x5711fb=_0x5a71fa(0x201)+_0x1714c3+_0x5a71fa(0x21d);this[_0x5a71fa(0x210)](_0x5a039c,()=>this[_0x5a71fa(0x25f)][_0x5a71fa(0x26e)]=!this[_0x5a71fa(0x25f)][_0x5a71fa(0x26e)]);const {$wrp:_0x1e8989,$iptDisplay:_0x556528,$iptSearch:_0x54bd4d,fnUpdateHidden:_0x479e2a}=ComponentUiUtil[_0x5a71fa(0x231)](this,_0x5a039c,{'values':this[_0x5a71fa(0x1ec)][_0x5a71fa(0x21a)][_0x5a71fa(0x215)]((_0x5a2830,_0x54c844)=>_0x54c844),'isAllowNull':!![],'fnDisplay':_0x2f6b77=>{const _0x5b081e=_0x5a71fa,_0x53d863=this['_data'][_0x5b081e(0x21a)][_0x2f6b77];return _0x53d863[_0x5b081e(0x202)]+'\x20'+(_0x53d863[_0x5b081e(0x1f7)]!==SRC_PHB?'['+Parser[_0x5b081e(0x263)](_0x53d863[_0x5b081e(0x1f7)])+']':'');},'asMeta':!![]});_0x556528[_0x5a71fa(0x230)](_0x5a71fa(0x244)),_0x54bd4d['addClass']('br-0');const _0x39cb8b=()=>{const _0x6d0ff8=_0x5a71fa,_0x515bdb=this['_modalFilterClasses'][_0x6d0ff8(0x1ee)][_0x6d0ff8(0x1f2)][_0x6d0ff8(0x24d)](),_0x5cf1ec=this[_0x6d0ff8(0x1ec)][_0x6d0ff8(0x21a)][_0x6d0ff8(0x215)](_0x67e94d=>!this['_modalFilterClasses'][_0x6d0ff8(0x1ee)][_0x6d0ff8(0x1f5)](_0x515bdb,_0x67e94d));_0x479e2a(_0x5cf1ec,![]);},_0x384f93=()=>{const _0x125e59=_0x5a71fa,_0x992fe0=this[_0x125e59(0x1ec)][_0x125e59(0x21a)][this['_state'][_0x5a039c]];if(!_0x992fe0||!_0x3e9e0b)return;const _0x590864=this[_0x125e59(0x256)]['pageFilter']['filterBox'][_0x125e59(0x24d)](),_0x445370=_0x992fe0[_0x125e59(0x23d)][_0x125e59(0x215)](_0x5cd680=>!this['_modalFilterClasses'][_0x125e59(0x1ee)][_0x125e59(0x1f5)](_0x590864,_0x5cd680));_0x3e9e0b[_0x125e59(0x218)](_0x445370,![]);};let _0x3e9e0b;this[_0x5a71fa(0x256)]['pageFilter'][_0x5a71fa(0x1f2)]['on'](FilterBox[_0x5a71fa(0x221)],()=>_0x39cb8b()),_0x39cb8b();const _0x5f2df6=$(_0x5a71fa(0x22a))[_0x5a71fa(0x1eb)](async()=>{const _0x36bf30=_0x5a71fa,_0x4b51b7=await this[_0x36bf30(0x256)][_0x36bf30(0x23a)]();if(_0x4b51b7==null||!_0x4b51b7[_0x36bf30(0x21a)])return;const _0x3ba7f7=this[_0x36bf30(0x1ec)][_0x36bf30(0x21a)]['findIndex'](_0x3e61c5=>_0x3e61c5[_0x36bf30(0x202)]===_0x4b51b7[_0x36bf30(0x21a)][_0x36bf30(0x202)]&&_0x3e61c5['source']===_0x4b51b7[_0x36bf30(0x21a)][_0x36bf30(0x1f7)]);if(!~_0x3ba7f7)throw new Error(_0x36bf30(0x237)+JSON[_0x36bf30(0x22f)](_0x4b51b7[_0x36bf30(0x21a)]));this[_0x36bf30(0x25f)][_0x5a039c]=_0x3ba7f7,await this[_0x36bf30(0x251)](_0x3e7a30);if(_0x4b51b7[_0x36bf30(0x220)]!=null){const _0x4e391c=this[_0x36bf30(0x1ec)]['class'][_0x3ba7f7],_0x317f8a=_0x4e391c[_0x36bf30(0x23d)]['findIndex'](_0x57912b=>_0x57912b[_0x36bf30(0x202)]===_0x4b51b7[_0x36bf30(0x220)][_0x36bf30(0x202)]&&_0x57912b[_0x36bf30(0x1f7)]===_0x4b51b7[_0x36bf30(0x220)]['source']);if(!~_0x317f8a)throw new Error(_0x36bf30(0x225)+JSON[_0x36bf30(0x22f)](_0x4b51b7['subclass']));this['_state'][_0x58080f]=_0x317f8a;}else this[_0x36bf30(0x25f)][_0x58080f]=null;}),_0x4cbc95=async()=>{const _0x58a17e=_0x5a71fa;this[_0x58a17e(0x256)]['pageFilter'][_0x58a17e(0x1f2)][_0x58a17e(0x22b)](_0x16fc6e);const _0x813f29=Object[_0x58a17e(0x1f9)](this[_0x58a17e(0x222)])[_0x58a17e(0x235)](_0x761041=>_0x761041[_0x58a17e(0x203)](_0x3b82ad)&&_0x761041!==_0x5a039c)[_0x58a17e(0x232)](_0x539c4d=>({[_0x539c4d]:null}));this[_0x58a17e(0x1e5)](_0x58a17e(0x254),_0x813f29);const _0xf06008=this[_0x58a17e(0x1ec)][_0x58a17e(0x21a)][this[_0x58a17e(0x25f)][_0x5a039c]],_0x14f81c=_0xf06008?.[_0x58a17e(0x23d)]?.[this['_state'][_0x58080f]];_0x289df9[_0x58a17e(0x253)]();if(this[_0x58a17e(0x216)][_0x1714c3])this['_metaHksClassStgSubclass'][_0x1714c3]['unhook']();if(_0xf06008&&_0xf06008['subclasses']&&_0xf06008[_0x58a17e(0x23d)][_0x58a17e(0x1e4)]){_0x3e9e0b=ComponentUiUtil[_0x58a17e(0x231)](this,_0x58080f,{'values':_0xf06008[_0x58a17e(0x23d)][_0x58a17e(0x215)]((_0x32b25a,_0x16c373)=>_0x16c373),'isAllowNull':!![],'fnDisplay':_0x22961e=>{const _0x2a35a0=_0x58a17e,_0x2bfe87=_0xf06008[_0x2a35a0(0x23d)][_0x22961e];return _0x2bfe87['name']+'\x20'+(_0x2bfe87[_0x2a35a0(0x1f7)]!==SRC_PHB?'['+Parser['sourceJsonToAbv'](_0x2bfe87[_0x2a35a0(0x1f7)])+']':'');},'asMeta':!![]}),_0x3e9e0b['$iptDisplay'][_0x58a17e(0x230)]('br-0'),_0x3e9e0b[_0x58a17e(0x22d)][_0x58a17e(0x230)](_0x58a17e(0x244)),this[_0x58a17e(0x256)][_0x58a17e(0x1ee)][_0x58a17e(0x1f2)]['on'](_0x16fc6e,()=>_0x384f93()),_0x384f93();const _0x38ade4=$$`<div class="flex-col w-100 mt-1">
					<div class="mb-1">Select a Subclass</div>
					${_0x3e9e0b['$wrp']}
				</div>`;_0x289df9[_0x58a17e(0x22e)]()[_0x58a17e(0x20d)](_0x38ade4),this[_0x58a17e(0x216)][_0x1714c3]=_0x3e9e0b;}else _0x289df9[_0x58a17e(0x1e3)](),this[_0x58a17e(0x216)][_0x1714c3]=null;_0x366c1b[_0x58a17e(0x253)]();_0xf06008&&Charactermancer_Class_HpIncreaseModeSelect[_0x58a17e(0x211)](_0xf06008)?(_0x366c1b[_0x58a17e(0x22e)]()[_0x58a17e(0x20d)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>HP\x20Increase\x20Mode</div>'),this[_0x58a17e(0x226)][_0x1714c3]=new Charactermancer_Class_HpIncreaseModeSelect(),this['_compsClassHpIncreaseMode'][_0x1714c3][_0x58a17e(0x1f0)](_0x366c1b)):(_0x366c1b[_0x58a17e(0x1e3)](),this[_0x58a17e(0x226)][_0x1714c3]=null);_0x13b6c1['empty']();if(_0xf06008){_0x13b6c1[_0x58a17e(0x22e)]()[_0x58a17e(0x20d)](_0x58a17e(0x21e));const _0x2f9f86=this['_class_getFilteredFeatures'](_0xf06008,_0x14f81c);this[_0x58a17e(0x1f3)][_0x1714c3]=new Charactermancer_Class_LevelSelect({'features':_0x2f9f86,'isRadio':ActorCharactermancerBaseComponent['_CUR_LEVEL']===0x0,'isSubclass':!![]}),this[_0x58a17e(0x1f3)][_0x1714c3][_0x58a17e(0x1f0)](_0x13b6c1),this[_0x58a17e(0x1f3)][_0x1714c3][_0x58a17e(0x212)](async()=>{const _0x146f9e=_0x58a17e,_0x45dccf=_0xf06008?.['subclasses']?.[this[_0x146f9e(0x25f)][_0x58080f]],_0x5c9a27=this['_class_getFilteredFeatures'](_0xf06008,_0x45dccf);await this[_0x146f9e(0x204)]({'ix':_0x1714c3,'propCntAsi':_0x40c593,'filteredFeatures':_0x5c9a27,'$stgFeatureOptions':_0x2cd0e1,'lockRenderFeatureOptionsSelects':_0x5711fb}),this[_0x146f9e(0x25f)][_0x59d2de]=this['_compsClassLevelSelect'][_0x1714c3][_0x146f9e(0x270)](),this[_0x146f9e(0x25f)][_0x146f9e(0x25c)]=this[_0x146f9e(0x1e2)]();}),await this[_0x58a17e(0x204)]({'ix':_0x1714c3,'propCntAsi':_0x40c593,'filteredFeatures':_0x2f9f86,'$stgFeatureOptions':_0x2cd0e1,'lockRenderFeatureOptionsSelects':_0x5711fb}),this['_state'][_0x59d2de]=this[_0x58a17e(0x1f3)][_0x1714c3][_0x58a17e(0x270)](),this['_modalFilterClasses'][_0x58a17e(0x1ee)]['filterBox']['on'](_0x3df511,()=>{const _0x99bc79=_0x58a17e;if(!this['_compsClassLevelSelect'][_0x1714c3])return;const _0x5bd919=_0xf06008?.[_0x99bc79(0x23d)]?.[this[_0x99bc79(0x25f)][_0x58080f]],_0x49fdb1=this[_0x99bc79(0x24a)](_0xf06008,_0x5bd919);if(this[_0x99bc79(0x1f3)][_0x1714c3])this[_0x99bc79(0x1f3)][_0x1714c3][_0x99bc79(0x23e)](_0x49fdb1);this[_0x99bc79(0x204)]({'ix':_0x1714c3,'propCntAsi':_0x40c593,'filteredFeatures':_0x49fdb1,'$stgFeatureOptions':_0x2cd0e1,'lockRenderFeatureOptionsSelects':_0x5711fb});});}else _0x13b6c1['hideVe'](),this['_compsClassLevelSelect'][_0x1714c3]=null,_0x2cd0e1[_0x58a17e(0x253)]()[_0x58a17e(0x1e3)](),this[_0x58a17e(0x206)][_0x1714c3]=null,this[_0x58a17e(0x25f)][_0x40c593]=null,this[_0x58a17e(0x256)]['pageFilter'][_0x58a17e(0x1f2)][_0x58a17e(0x22b)](_0x3df511);this[_0x58a17e(0x25f)][_0x58a17e(0x25c)]=this['class_getTotalLevels']();if(this[_0x58a17e(0x20c)][_0x1714c3])this['_metaHksClassStgSkills'][_0x1714c3]['unhook']();const _0x454e23=()=>{const _0x476e6a=_0x58a17e;_0xdb0dcb[_0x476e6a(0x253)]();const _0x16089b=this['_data'][_0x476e6a(0x21a)][this['_state'][_0x5a039c]],_0x30cfc6=this[_0x476e6a(0x25f)][_0x476e6a(0x26d)]===_0x1714c3;if(_0x16089b&&(_0x30cfc6&&_0x16089b[_0x476e6a(0x1ef)]?.[_0x476e6a(0x1e8)]||!_0x30cfc6&&_0x16089b['multiclassing']?.['proficienciesGained']?.[_0x476e6a(0x1e8)])){_0xdb0dcb[_0x476e6a(0x22e)]()['append'](_0x476e6a(0x1ed));const _0x3843e9=_0x30cfc6?_0x16089b['startingProficiencies']['skills']:_0x16089b[_0x476e6a(0x25d)][_0x476e6a(0x234)][_0x476e6a(0x1e8)];this[_0x476e6a(0x1fb)][_0x1714c3]=new Charactermancer_SkillSelect({'existingProficiencies':Charactermancer_SkillSelect[_0x476e6a(0x25b)](MiscUtil['get'](this[_0x476e6a(0x208)],_0x476e6a(0x26b),_0x476e6a(0x26b),_0x476e6a(0x1e8))),'availableProficiencies':_0x3843e9}),this[_0x476e6a(0x1fb)][_0x1714c3][_0x476e6a(0x1f0)](_0xdb0dcb);}else _0xdb0dcb[_0x476e6a(0x1e3)](),this[_0x476e6a(0x1fb)][_0x1714c3]=null;};this[_0x58a17e(0x210)](_0x58a17e(0x26d),_0x454e23),this[_0x58a17e(0x20c)][_0x1714c3]={'unhook':()=>this[_0x58a17e(0x250)](_0x58a17e(0x26d),_0x454e23)},_0x454e23(),_0x443561[_0x58a17e(0x253)]();if(_0xf06008){const _0x208212=await DataUtil['class'][_0x58a17e(0x23f)](_0xf06008);let _0x1684a4=MiscUtil[_0x58a17e(0x200)](_0x208212[_0x58a17e(0x252)])['flat']();_0x1684a4=Charactermancer_Class_Util[_0x58a17e(0x260)](_0x1684a4,this[_0x58a17e(0x256)]['pageFilter'],this['_modalFilterClasses']['pageFilter'][_0x58a17e(0x1f2)][_0x58a17e(0x24d)]());const _0x210095={'type':_0x58a17e(0x20f),'entries':_0x1684a4};this['_class_renderEntriesSection'](_0x443561,_0xf06008['name'],_0x210095);}_0x159b65[_0x58a17e(0x253)]();},_0x306e13=async()=>{const _0xa40e43=_0x5a71fa;try{await this[_0xa40e43(0x1ea)](_0x3e7a30),await _0x4cbc95();}finally{this['_unlock'](_0x3e7a30);}};this[_0x5a71fa(0x210)](_0x5a039c,_0x306e13);const _0x3d38e1=async()=>{const _0x13d267=_0x5a71fa;this[_0x13d267(0x256)][_0x13d267(0x1ee)]['filterBox'][_0x13d267(0x22b)](_0x16fc6e);const _0x24bb1d=Object[_0x13d267(0x1f9)](this[_0x13d267(0x222)])['filter'](_0x7d7e1a=>_0x7d7e1a[_0x13d267(0x203)](_0x1449ad)&&_0x7d7e1a!==_0x58080f)[_0x13d267(0x232)](_0x2e1407=>({[_0x2e1407]:null}));this[_0x13d267(0x1e5)](_0x13d267(0x254),_0x24bb1d);const _0x2eb02d=this[_0x13d267(0x1ec)]['class'][this['_state'][_0x5a039c]],_0x25172a=_0x2eb02d?.[_0x13d267(0x23d)]?.[this['_state'][_0x58080f]],_0x3e4f8a=this[_0x13d267(0x24a)](_0x2eb02d,_0x25172a);if(this['_compsClassLevelSelect'][_0x1714c3])this[_0x13d267(0x1f3)][_0x1714c3][_0x13d267(0x23e)](_0x3e4f8a);this['_class_pRenderFeatureOptionsSelects']({'ix':_0x1714c3,'propCntAsi':_0x40c593,'filteredFeatures':_0x3e4f8a,'$stgFeatureOptions':_0x2cd0e1,'lockRenderFeatureOptionsSelects':_0x5711fb}),_0x159b65['empty']();if(_0x25172a){_0x159b65[_0x13d267(0x20d)](_0x13d267(0x269));const _0x1552f9=await DataUtil[_0x13d267(0x21a)][_0x13d267(0x262)](_0x25172a);let _0x27173a=MiscUtil[_0x13d267(0x200)](_0x1552f9[_0x13d267(0x1fa)])[_0x13d267(0x257)]();_0x27173a=Charactermancer_Class_Util['getFilteredEntries'](_0x27173a,this[_0x13d267(0x256)][_0x13d267(0x1ee)],this[_0x13d267(0x256)][_0x13d267(0x1ee)][_0x13d267(0x1f2)][_0x13d267(0x24d)]());const _0x2dd05a={'type':_0x13d267(0x20f),'entries':_0x27173a};if(_0x2dd05a['entries'][0x0]&&_0x2dd05a['entries'][0x0][_0x13d267(0x202)])delete _0x2dd05a[_0x13d267(0x20b)][0x0][_0x13d267(0x202)];this[_0x13d267(0x24e)](_0x159b65,_0x25172a['name'],_0x2dd05a);}this[_0x13d267(0x256)]['pageFilter'][_0x13d267(0x1f2)]['on'](_0x16fc6e,()=>_0x384f93()),_0x384f93();},_0x2b8bd8=async()=>{const _0x31f53c=_0x5a71fa;try{await this[_0x31f53c(0x1ea)](_0x2981f1),await _0x3d38e1();}finally{this[_0x31f53c(0x265)](_0x2981f1);}};this[_0x5a71fa(0x210)](_0x58080f,_0x2b8bd8);const _0x491fcc=$(_0x5a71fa(0x261)),_0x289df9=$$`<div class="flex-col w-100"></div>`[_0x5a71fa(0x1e3)](),_0x366c1b=$$`<div class="flex-col"></div>`[_0x5a71fa(0x1e3)](),_0x13b6c1=$$`<div class="flex-col"></div>`['hideVe'](),_0x2cd0e1=$$`<div class="flex-col"></div>`[_0x5a71fa(0x1e3)](),_0xdb0dcb=$$`<div class="flex-col"></div>`[_0x5a71fa(0x1e3)](),_0x208eed=$(_0x5a71fa(0x227))[_0x5a71fa(0x1eb)](()=>this[_0x5a71fa(0x25f)][_0x5a71fa(0x26d)]=_0x1714c3),_0x3e5b3b=()=>{const _0x1f6438=_0x5a71fa;_0x208eed[_0x1f6438(0x242)](this[_0x1f6438(0x25f)][_0x1f6438(0x26d)]===_0x1714c3?_0x1f6438(0x1ff):_0x1f6438(0x23b))['title'](this[_0x1f6438(0x25f)]['class_ixPrimaryClass']===_0x1714c3?_0x1f6438(0x24f):'Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.')['prop'](_0x1f6438(0x259),this['_state'][_0x1f6438(0x26d)]===_0x1714c3);};this[_0x5a71fa(0x210)](_0x5a71fa(0x26d),_0x3e5b3b),_0x3e5b3b();const _0x3938c3=$(_0x5a71fa(0x1fc))[_0x5a71fa(0x1eb)](()=>{const _0x5238d2=_0x5a71fa,_0x3af0f6=_0x3938c3[_0x5238d2(0x242)]()===_0x5238d2(0x243);_0x3938c3[_0x5238d2(0x242)](_0x3af0f6?_0x5238d2(0x217):_0x5238d2(0x243));if(_0x3af0f6)_0x491fcc['text'](_0x5238d2(0x219));else{const _0x509097=this[_0x5238d2(0x1ec)][_0x5238d2(0x21a)][this[_0x5238d2(0x25f)][_0x5a039c]],_0x3ef55f=_0x509097?.[_0x5238d2(0x23d)]?.[this['_state'][_0x58080f]];if(_0x509097)_0x491fcc[_0x5238d2(0x242)](''+_0x509097[_0x5238d2(0x202)]+(_0x3ef55f?'\x20('+_0x3ef55f[_0x5238d2(0x202)]+')':''));else _0x491fcc[_0x5238d2(0x242)](_0x5238d2(0x219));}_0xa5db1d[_0x5238d2(0x1f8)]();}),_0x443561=$$`<div class="flex-col w-100"></div>`,_0x159b65=$$`<div class="flex-col w-100"></div>`,_0xa5db1d=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex-col w-100">
					${_0x1e8989}
					${_0x289df9}
				</div>
				<div class="flex no-shrink">
					${_0x5f2df6}
				</div>
			</div>
			${_0x366c1b}
			${_0x13b6c1}
			${_0x2cd0e1}
			${_0xdb0dcb}
		</div>`,_0x27e18a=$$`<div class="flex-col">
			${_0x1714c3>0x0?'<hr\x20class=\x22hr-3\x20hr--heavy\x22>':''}

			<div class="split-v-center">
				${_0x491fcc}
				<div class="flex-v-center">
					${_0x208eed}
					${_0x3938c3}
				</div>
			</div>

			${_0xa5db1d}
		</div>`[_0x5a71fa(0x264)](_0x1f6731),_0x286ce2=$$`<div>
			${_0x1714c3>0x0?_0x5a71fa(0x1f1):''}

			${_0x443561}
			${_0x159b65}
		</div>`['appendTo'](_0x233ff4);_0x306e13()[_0x5a71fa(0x229)](()=>_0x2b8bd8());}[_0x1043ed(0x24a)](_0x293b79,_0x289536){const _0x11da6a=_0x1043ed;if(!_0x293b79)return[];return _0x293b79=MiscUtil['copy'](_0x293b79),_0x293b79[_0x11da6a(0x23d)]=[_0x289536][_0x11da6a(0x235)](Boolean),Charactermancer_Class_Util[_0x11da6a(0x21b)](Charactermancer_Class_Util[_0x11da6a(0x268)](_0x293b79),this[_0x11da6a(0x256)][_0x11da6a(0x1ee)],this[_0x11da6a(0x256)]['pageFilter']['filterBox']['getValues']());}async[_0x1043ed(0x204)](_0x292474){const _0x586a4f=_0x1043ed,{lockRenderFeatureOptionsSelects:_0x163444}=_0x292474;try{return await this[_0x586a4f(0x1ea)](_0x163444),this[_0x586a4f(0x214)](_0x292474);}finally{this[_0x586a4f(0x265)](_0x163444);}}async[_0x1043ed(0x214)]({ix:_0x570996,propCntAsi:_0x2ed332,filteredFeatures:_0x5f7b0a,$stgFeatureOptions:_0x115935}){const _0x257bd0=_0x1043ed;_0x115935[_0x257bd0(0x253)]();const _0xa0bda4=Charactermancer_Class_Util[_0x257bd0(0x266)](_0x5f7b0a),_0x3fee45=MiscUtil[_0x257bd0(0x200)](_0xa0bda4);Charactermancer_Class_Util['doApplyFilterToFeatureEntries'](_0x3fee45,this['_modalFilterClasses'][_0x257bd0(0x1ee)],this[_0x257bd0(0x256)][_0x257bd0(0x1ee)][_0x257bd0(0x1f2)][_0x257bd0(0x24d)]());const _0x45aa25=Charactermancer_Class_Util[_0x257bd0(0x228)](_0x3fee45),_0x134251=this[_0x257bd0(0x1f3)][_0x570996]?Math[_0x257bd0(0x267)](...await this[_0x257bd0(0x1f3)][_0x570996][_0x257bd0(0x223)]()[_0x257bd0(0x26b)])+0x1:0x0;let _0x1a2dfd=0x0;this['_compsClassFeatureOptionsSelect'][_0x570996]=[];for(const _0x2b108d of _0x45aa25){const {topLevelFeature:_0x22c16e,optionsSets:_0x36c346}=_0x2b108d;if(_0x22c16e[_0x257bd0(0x26f)]>_0x134251)continue;const _0x48b5dc=_0x22c16e[_0x257bd0(0x202)]['toLowerCase']();if(_0x48b5dc===_0x257bd0(0x241)){_0x1a2dfd++;continue;}for(const _0x5bc865 of _0x36c346){const _0x41ab5d=new Charactermancer_Class_FeatureOptionsSelect({'actor':this[_0x257bd0(0x208)],'optionsSet':_0x5bc865,'level':_0x22c16e[_0x257bd0(0x26f)]});this[_0x257bd0(0x206)][_0x570996][_0x257bd0(0x21c)](_0x41ab5d);}}this[_0x257bd0(0x25f)][_0x2ed332]=_0x1a2dfd;const _0x163f4f=await this['_compsClassFeatureOptionsSelect'][_0x570996][_0x257bd0(0x248)](_0x235a23=>_0x235a23[_0x257bd0(0x1fd)]()),_0x10e8f5=!!_0x163f4f[_0x257bd0(0x235)](_0x550bea=>!_0x550bea)['length'];if(_0x10e8f5){_0x115935[_0x257bd0(0x22e)]();for(const _0x4493ab of this[_0x257bd0(0x206)][_0x570996]){!await _0x4493ab[_0x257bd0(0x1fd)]()&&(_0x115935[_0x257bd0(0x20d)](_0x257bd0(0x240)+_0x4493ab[_0x257bd0(0x239)]+_0x257bd0(0x1f6)),_0x4493ab['render'](_0x115935));}}}[_0x1043ed(0x24e)](_0x20030,_0x2107f9,_0x2c74f1){const _0x29c391=_0x1043ed,_0x26f148=$(_0x29c391(0x207))[_0x29c391(0x1eb)](()=>{const _0xc41d38=_0x29c391;_0x26f148[_0xc41d38(0x242)](_0x26f148[_0xc41d38(0x242)]()===_0xc41d38(0x243)?_0xc41d38(0x217):_0xc41d38(0x243)),_0x1a0a76[_0xc41d38(0x1f8)]();}),_0x1a0a76=Renderer[_0x29c391(0x20a)][_0x29c391(0x1e9)](_0x2c74f1);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x2107f9||'')['qq']()}</div></div>
				${_0x26f148}
			</div>
			${_0x1a0a76}
		</div>`[_0x29c391(0x264)](_0x20030);}[_0x1043ed(0x224)](){const _0x5c7b41=_0x1043ed;if(this['_state']['class_ixPrimaryClass'])return null;const {propIxClass:_0x509369}=ActorCharactermancerBaseComponent[_0x5c7b41(0x1fe)](this[_0x5c7b41(0x25f)][_0x5c7b41(0x26d)]);return this[_0x5c7b41(0x1ec)][_0x5c7b41(0x21a)][this[_0x5c7b41(0x25f)][_0x509369]];}['class_getTotalLevels'](){const _0xd8e773=_0x1043ed;return this[_0xd8e773(0x1f3)][_0xd8e773(0x235)](Boolean)['map'](_0x46108e=>_0x46108e['getTargetLevel']())[_0xd8e773(0x238)]((_0x57f52d,_0x71089f)=>_0x57f52d+_0x71089f,0x0);}[_0x1043ed(0x258)](){const _0x37b3ab=_0x1043ed,_0x497992=[];for(let _0x1ee0e=0x0;_0x1ee0e<this['_state'][_0x37b3ab(0x24b)]+0x1;++_0x1ee0e){const {propIxClass:_0xe63581,propIxSubclass:_0x1c4e37,propTargetLevel:_0x866ff5}=ActorCharactermancerBaseComponent[_0x37b3ab(0x1fe)](_0x1ee0e),_0x581506=this['_data'][_0x37b3ab(0x21a)][this[_0x37b3ab(0x25f)][_0xe63581]],_0x182fdf=this['_state'][_0x1c4e37]!=null?_0x581506['subclasses'][this['_state'][_0x1c4e37]]:null;if(!_0x581506)continue;const _0x4f3111=this[_0x37b3ab(0x25f)][_0x866ff5],_0x24c088=Charactermancer_Spell_Util[_0x37b3ab(0x26c)](_0x581506[_0x37b3ab(0x26a)]||_0x182fdf?.[_0x37b3ab(0x26a)],_0x4f3111);_0x497992[_0x37b3ab(0x21c)](_0x24c088);}return Math[_0x37b3ab(0x267)](..._0x497992);}[_0x1043ed(0x205)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}export{ActorCharactermancerClass};