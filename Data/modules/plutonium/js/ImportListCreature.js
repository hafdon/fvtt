const _0x1dc5=['_DEFAULT_SAVING_THROW_DATA','replace','getData','23nsSmFt','reset','effects','class','doHookSpellLinkRender','sourceLong','ADD','VALID_LANGUAGES','prop','SOURCE_TYP_ARCANA','function','_getItemHashesFromAcItem','initBtnSortHandlers','<div>','race','Source','will','getCombinedFoundryFlags','_pImportEntry_pFillItems_pLegendaryHeader','Import\x20Creatures','pGetFluff','getCleanEntityName','spelldc','substring','pAddActorItems','PG_BESTIARY','ImportEntryOpts','innate','bardingType','sortMonsters','pGetSpellHashToItemPosMapAndFillSpells','_getSavingThrowData','ScaleRename','5etools','prof','getDataSpells','pGetSources','attackBonus','getLegendaryActionIntro','number','flags','creature','isTemp','titleSearch','getCombinedFoundryData','get','permission','_isRadio','special','splice','200033ZivIQc','flat','_WALER_RENAME','truesight','_getRenamedMon','fnPreProcess','Import\x20with\x20CR\x20Scaling/Renames','Actor','[name=\x22sel-cr\x22]','URL_TO_HASH_BUILDER','427568kCrmkK','getWalker','Failed\x20to\x20find\x20parent\x20sheet\x20item\x20for\x20item\x20\x22','isUseExtendedActiveEffectsParser','311572wiANET','min','languages','test','rarity','feat','spellcasting','data.attributes.ac.value','_pImportEntry_pFillItems_pActions','Type','Custom\x20URL','229724xibaxJ','mutateForFilters','monster','details','pact','PG_ITEMS','_getSpellCount','pGetTraitReactionLegendaryImage','damageParts','getDataSkills','getItemActorPassive','crToPb','entries','size','_vCr','from','monsterFluff','postItemItemUpdates','_activateListeners_absorbListItems','consume','legendaryActions','1uJeqBS','utils','link','length','weight','Lair:\x20','Regional\x20Effects','getDamageTupleMetas','.search','_initSpellcasterData','swim','getSourceWithPagePart','spellAbility','Lair\x20Actions','uppercaseFirst','climb','currency','_pCr','source','_getDamageTuplesWithMod','isStreamerMode','crToNumber','mon','pGetLairActionImage','_pImportEntry_fillData_Currency','_list','reaction','_dataList','wis','getCreatureUrl','pCacheAndGetHash','_plut_cleanName','_plut_isLegendaryResistance','add','getSpeedValue','_pImportEntry_pFillItems_pAddItem','_plut_legActions','pGetParsedAction','perm','rest','1ZbfHUi','absorbFnBindListenersRadio','_content','_pImportEntry_pFillItems_pInventory','dex','bonus','item','_pImportEntry_pFillItems_pTraitsReactionsLegendaries','price','attributes','absorbFnBindListeners','_pImportEntry_pGetImportMetadata','action','variant','actors','constant','Failed\x20to\x20find\x20sheet\x20item\x20for\x20item\x20\x22','_pImportEntry_fillData_Skills','lairActions','all','assumedPb','legendaryMeta','_titleButtonRun','init','_getCasterLevelFromEntry','_pImportEntry_pFillItems_pAddWeapon','burrow','copy','permissions','data','_page','_pImportEntry_fillData_Resources','spellcastingPrimaryTraitMode','spell','_$btnReset','int','hover','type','darkvision','trait','_displayName','isDaeActive','val','weapon','_isUseMods','forEach','Upload\x20File','SOURCE_TYP_OFFICIAL_SINGLE','Eye\x20Ray:\x20','alignmentListToFull','absorbFnGetData','_pImportEntry_pFillItems_pSpellcasting','Name','find','[data-name=\x22wrp-btns-sort\x22]','_tmpItemId','con','_pImportEntry_pFillData_Attributes_Ac_getAcFromItemEffects','asText','getAbilityModNumber','rendered','_getAbsorbListItemOpts','filter','spellClass','formula','_pImportEntry_pFillItems_pRegionalEffects','prepared','isEquipped','_pImportEntry_pFillItems_pSpellcasting_recharge','_pImportEntry_pFillItems_pAction','CR_CUSTOM','Scale\x20and\x20Rename\x20Creatures','name','updateEntity','_pTypes','render','close','_resolve','getSpellcastingRenderedTraits','items','getDamagePartsAndOtherFormula','uid','getMaxWindowHeight','importItem','string','style','[name=\x22btn-reset\x22]','_pImportEntry_pFillItems_pLairActions','pGetActionWeaponDetails','following\x20breath\x20weapon','click','MODULE_NAME','join','isAddActiveEffects','actor','push','split','headerEntries','pGetCreatureIndex','fly','custom','isSpeedHover','_pImportEntry_fillData_Traits','DataSourceUrl','stripTags','_postLoadVetools','SRD','weekly','legendary','pGetAllCreatures','_pImportEntry_pFillData_Attributes','updateEmbeddedEntity','sort','sourceJsonToFull','339983iGsFPt','sourceJsonToColor','environment','ascSortLower','alias','_pImportEntry_pFillToken','removeHook','doAbsorbItems','traits','lair','111933ijwvDN','addHook','senses','map','average','isNonstandardSource','ascSort','ACTIVE_EFFECT_MODES','_pImportEntry_pFillItems_addTextOnlyItem','Other\x20AC\x20Bonus','_pImportEntry_fillData_Details','bind','sourceShort','exec','stringify','toTitleCase','_pImportEntry_pFillBase','list','spells','fluff','_id','_getCasterClassFromEntry','getFolderPathMeta','constructor','spellDc','alignment','monCrToFull','_initAssumedPb','Challenge\x20Rating','trim','day','</div>','npc','Unknown\x20CR','has','resources','isUseTokenImageAsPortrait','postProcessFluff','findIndex','walk','skills','_pImportEntry_pFillItems','max','_pImportEntry_fillData_Spells','med','every','set','entry','_pack','legact','VET_SIZE_TO_ABV','Legendary\x20Actions','toLowerCase','getEntryDescription','folder','target','ele','daily','movement','img','_isPreviewable','attuned','_pImportEntry_fillData_Abilities','blindsight','Unhandled\x20lair\x20action\x20format!','importCreature','includes','scale','_pImportEntry_pFillItems_lairActions_addLairAction','charges','Breath\x20Weapons:\x20','4405UmPCJz','warn','monTypeToFullObj','_titleSearch','tremorsense','Lair\x20Action','spellLevel','sourceJsonToAbv','attribute','MODULE_LOCATION','biography','_getBiographyValue','modules/','speed','ability','_pImportEntry_pFillData_Attributes_Ac','/template/ImportListCreatureScaleRename.handlebars','pGetItemItem','_getLairActionName','identified','.veapp__list'];const _0x3b0c=function(_0x98c6bf,_0x2bc06b){_0x98c6bf=_0x98c6bf-0x1dc;let _0x1dc571=_0x1dc5[_0x98c6bf];return _0x1dc571;};const _0x4c8a9c=_0x3b0c;(function(_0x2c754b,_0x13cc5d){const _0x2908b2=_0x3b0c;while(!![]){try{const _0x2c3142=-parseInt(_0x2908b2(0x301))+parseInt(_0x2908b2(0x30b))+parseInt(_0x2908b2(0x2cf))*parseInt(_0x2908b2(0x2b7))+-parseInt(_0x2908b2(0x31a))+parseInt(_0x2908b2(0x32f))*-parseInt(_0x2908b2(0x30f))+-parseInt(_0x2908b2(0x1f4))*-parseInt(_0x2908b2(0x270))+parseInt(_0x2908b2(0x266));if(_0x2c3142===_0x13cc5d)break;else _0x2c754b['push'](_0x2c754b['shift']());}catch(_0x4e3e9e){_0x2c754b['push'](_0x2c754b['shift']());}}}(_0x1dc5,0x3a76e));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Util,LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{DataConverter}from'./DataConverter.js';import{DataConverterItem}from'./DataConverterItem.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterCreature}from'./DataConverterCreature.js';import{UtilDataSource}from'./UtilDataSource.js';import{UtilCompat}from'./UtilCompat.js';class ImportListCreature extends ImportListActor{constructor(_0x59dbbe,_0x438199,_0xf26184,_0x2560e5){const _0x5b59ba=_0x3b0c;_0x59dbbe=_0x59dbbe||{},_0x438199=_0x438199||{},_0xf26184=_0xf26184||{},_0x2560e5=_0x2560e5||{},super({'title':_0x5b59ba(0x2e2),..._0x438199},_0x59dbbe,{'props':[_0x5b59ba(0x31c)],'titleSearch':'creatures','sidebarTab':_0x5b59ba(0x202),'gameProp':_0x5b59ba(0x202),'defaultFolderPath':['Creatures'],'folderType':_0x5b59ba(0x308),'fnListSort':PageFilterBestiary[_0x5b59ba(0x2ec)],'pageFilter':new PageFilterBestiary(),'isActorRadio':!![],'page':UrlUtil[_0x5b59ba(0x2e8)],'isPreviewable':!![],'isModdable':!![],'isDedupable':!![],..._0xf26184},{'actorType':_0x5b59ba(0x290),..._0x2560e5}),this[_0x5b59ba(0x220)]=![];}async[_0x4c8a9c(0x2f3)](){const _0x345a89=_0x4c8a9c,_0x5d13da=await Vetools[_0x345a89(0x256)]();return[new UtilDataSource['DataSourceSpecial'](Config[_0x345a89(0x2fc)]('ui',_0x345a89(0x1e0))?_0x345a89(0x25e):_0x345a89(0x2f0),async()=>(await Vetools[_0x345a89(0x261)]())[_0x345a89(0x31c)],{'cacheKey':'5etools-creatures','filterTypes':[UtilDataSource['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]}),new UtilDataSource[(_0x345a89(0x25b))](_0x345a89(0x319),'',{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),new UtilDataSource['DataSourceFile'](_0x345a89(0x222),{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...Object[_0x345a89(0x326)](_0x5d13da)[_0x345a89(0x273)](([_0x43377e,_0x4d95c1])=>new UtilDataSource[(_0x345a89(0x25b))](Parser[_0x345a89(0x265)](_0x43377e),Vetools[_0x345a89(0x1e9)](_0x4d95c1),{'source':_0x43377e,'pPostLoad':ImportListCreature['_postLoadVetools'][_0x345a89(0x27b)](ImportListCreature,_0x43377e),'filterTypes':SourceUtil[_0x345a89(0x275)](_0x43377e)?[UtilDataSource[_0x345a89(0x2d8)]]:[UtilDataSource[_0x345a89(0x223)]]})),...(await Vetools['pGetHomebrewSources'](_0x345a89(0x2f8)))['map'](({name:_0xcf80fe,url:_0x320111})=>new UtilDataSource[(_0x345a89(0x25b))](_0xcf80fe,_0x320111,{'filterTypes':[UtilDataSource['SOURCE_TYP_BREW']]}))];}static[_0x4c8a9c(0x25d)](_0x3a9dfe,_0x55d2dd){const _0xf4342f=_0x4c8a9c;return _0x55d2dd[_0xf4342f(0x232)](_0x2e0b36=>_0x2e0b36[_0xf4342f(0x1de)]===_0x3a9dfe);}[_0x4c8a9c(0x2ce)](){const _0x3770cf=_0x4c8a9c;return{'isRadio':this[_0x3770cf(0x2fe)],'isPreviewable':this[_0x3770cf(0x2ac)],'titleButtonRun':this[_0x3770cf(0x20a)],'titleSearch':this[_0x3770cf(0x2ba)],'buttonsAdditional':[{'name':'btn-run-mods','text':_0x3770cf(0x307)}],'cols':[{'name':_0x3770cf(0x228),'width':0x4,'field':_0x3770cf(0x23c)},{'name':_0x3770cf(0x318),'width':0x5,'field':_0x3770cf(0x219)},{'name':'CR','width':0x1,'field':'cr','rowClassName':'text-center'},{'name':_0x3770cf(0x2de),'width':0x1,'field':_0x3770cf(0x1de),'titleProp':_0x3770cf(0x2d4),'displayProp':_0x3770cf(0x27c),'classNameProp':'sourceClassName','rowClassName':'text-center'}],'rows':this['_content'][_0x3770cf(0x273)]((_0x10ae5d,_0x3360ef)=>{const _0x579d35=_0x3770cf;return this['_pageFilter'][_0x579d35(0x287)][_0x579d35(0x31b)](_0x10ae5d),_0x10ae5d['_vCr']=_0x10ae5d[_0x579d35(0x1dd)]||'—',{'name':_0x10ae5d[_0x579d35(0x23c)],'type':_0x10ae5d[_0x579d35(0x23e)][_0x579d35(0x22e)][_0x579d35(0x33d)](),'cr':_0x10ae5d[_0x579d35(0x328)],'source':_0x10ae5d[_0x579d35(0x1de)],'sourceShort':Parser['sourceJsonToAbv'](_0x10ae5d[_0x579d35(0x1de)]),'sourceLong':Parser[_0x579d35(0x265)](_0x10ae5d[_0x579d35(0x1de)]),'sourceClassName':Parser[_0x579d35(0x267)](_0x10ae5d[_0x579d35(0x1de)]),'ix':_0x3360ef};})};}[_0x4c8a9c(0x231)](){const _0x410de7=_0x4c8a9c;return{'fnGetName':_0x3508ce=>_0x3508ce['name'],'fnGetValues':_0xcdacab=>({'source':_0xcdacab[_0x410de7(0x1de)],'type':_0xcdacab[_0x410de7(0x23e)]['asText'],'cr':_0xcdacab[_0x410de7(0x328)],'group':_0xcdacab['group']||'','alias':(_0xcdacab[_0x410de7(0x26a)]||[])['map'](_0xb74836=>'\x22'+_0xb74836+'\x22')['join'](','),'hash':UrlUtil[_0x410de7(0x30a)][this[_0x410de7(0x212)]](_0xcdacab)}),'fnGetData':UtilList2[_0x410de7(0x226)],'fnBindListeners':_0x4d7114=>this['_isRadio']?UtilList2[_0x410de7(0x1f5)](this[_0x410de7(0x1e5)],_0x4d7114):UtilList2[_0x410de7(0x1fe)](this[_0x410de7(0x1e5)],_0x4d7114)};}[_0x4c8a9c(0x32c)](){const _0x58cc9a=_0x4c8a9c;this[_0x58cc9a(0x1e5)][_0x58cc9a(0x26d)](this[_0x58cc9a(0x1f6)],this[_0x58cc9a(0x231)]());}['getFolderPathMeta'](){const _0x5cf1fc=_0x4c8a9c;return{...super[_0x5cf1fc(0x286)](),'cr':{'label':_0x5cf1fc(0x28c),'getter':_0x34c322=>_0x34c322['cr']?_0x34c322['cr']['cr']||_0x34c322['cr']:_0x5cf1fc(0x291)},'type':{'label':_0x5cf1fc(0x318),'getter':_0x2dd678=>Parser[_0x5cf1fc(0x2b9)](_0x2dd678[_0x5cf1fc(0x219)])[_0x5cf1fc(0x219)][_0x5cf1fc(0x27f)]()},'typeTags':{'label':'Type\x20(With\x20Tags)','getter':_0xcaf74e=>Parser['monTypeToFullObj'](_0xcaf74e['type'])['asText'][_0x5cf1fc(0x33d)]()}};}['_pFnPostProcessEntries'](_0x5c73cc){if(!this['_isUseMods'])return _0x5c73cc;return new Promise(_0x18d650=>{const _0x1c898b=_0x3b0c,_0x5a657b=new ImportListCreature[(_0x1c898b(0x2ef))](_0x5c73cc,_0x18d650,{'titleSearch':this[_0x1c898b(0x2ba)]});_0x5a657b[_0x1c898b(0x23f)](!![]);});}async[_0x4c8a9c(0x1ff)](_0x3b646b,_0x17d56f,_0x55f9bf){const _0xd14210=_0x4c8a9c,_0x4ff6b5={},_0x14c3e4=await Renderer[_0xd14210(0x330)]['pGetFluff']({'entity':_0x17d56f,'pFnPostProcess':Renderer['monster'][_0xd14210(0x295)][_0xd14210(0x27b)](null,_0x17d56f),'fluffBaseUrl':'data/bestiary/','fluffProp':_0xd14210(0x32a)}),_0x55c739=new ImportListCreature[(_0xd14210(0x2e9))](_0x3b646b,_0x17d56f,_0x14c3e4);await this[_0xd14210(0x280)](_0x17d56f,_0x4ff6b5,_0x55c739[_0xd14210(0x283)],{'isUseTokenImageAsPortrait':Config[_0xd14210(0x2fc)]('importCreature',_0xd14210(0x294))}),_0x4ff6b5[_0xd14210(0x211)]={};if(!_0x55f9bf[_0xd14210(0x2f9)]&&!this[_0xd14210(0x2a0)]){const _0x54682c=await this['_pImportEntry_pGetFolderId'](_0x17d56f);if(_0x54682c)_0x4ff6b5[_0xd14210(0x2a6)]=_0x54682c;}return _0x4ff6b5[_0xd14210(0x2fd)]={'default':Config[_0xd14210(0x2fc)](_0xd14210(0x2b1),_0xd14210(0x210))},this[_0xd14210(0x2ae)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),await this[_0xd14210(0x262)](_0x17d56f,_0x4ff6b5,_0x55c739),this[_0xd14210(0x27a)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),this[_0xd14210(0x205)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),this[_0xd14210(0x25a)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),this[_0xd14210(0x1e4)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),this[_0xd14210(0x29b)](_0x17d56f,_0x4ff6b5['data'],_0x55c739),this[_0xd14210(0x213)](_0x17d56f,_0x4ff6b5[_0xd14210(0x211)],_0x55c739),await this[_0xd14210(0x26b)](_0x17d56f,_0x4ff6b5,_0xd14210(0x2b1)),{'dataBuilderOpts':_0x55c739,'actorData':_0x4ff6b5};}async['_pImportEntry_pFillData_Attributes'](_0x314311,_0x324e00,_0x454fca){const _0x345be5=_0x4c8a9c,_0x31d368=_0x324e00[_0x345be5(0x211)],_0x16ae3c={};let _0x3a5cec=0xa;if(_0x314311['ac']&&_0x314311['ac'][_0x345be5(0x332)]){const _0x35bfe0=_0x314311['ac'][0x0];if(typeof _0x35bfe0===_0x345be5(0x2f6))_0x3a5cec=_0x35bfe0;else{if(typeof _0x35bfe0['ac']===_0x345be5(0x2f6))_0x3a5cec=_0x35bfe0['ac'];}_0x3a5cec=await this[_0x345be5(0x2c6)](_0x314311,_0x324e00,_0x454fca,_0x3a5cec,_0x35bfe0);}_0x16ae3c['ac']={'min':0x0,'value':_0x3a5cec};let _0x5d5481=0x0,_0x274114='';if(_0x314311['hp']){if(_0x314311['hp'][_0x345be5(0x274)])_0x5d5481=_0x314311['hp'][_0x345be5(0x274)];if(_0x314311['hp'][_0x345be5(0x234)])_0x274114=_0x314311['hp'][_0x345be5(0x234)];}_0x16ae3c['hp']={'value':_0x5d5481,'min':0x0,'max':_0x5d5481,'temp':0x0,'tempmax':0x0,'formula':_0x274114},_0x16ae3c[_0x345be5(0x20b)]={'value':0x0,'mod':0x0,'bonus':0x0,'total':Parser['getAbilityModNumber'](_0x314311[_0x345be5(0x1f8)]),'prof':0x0},_0x16ae3c[_0x345be5(0x2f1)]=_0x454fca['pb'],_0x16ae3c[_0x345be5(0x2aa)]={'burrow':DataConverter[_0x345be5(0x1ee)](_0x314311[_0x345be5(0x2c4)],_0x345be5(0x20e)),'climb':DataConverter[_0x345be5(0x1ee)](_0x314311[_0x345be5(0x2c4)],_0x345be5(0x33e)),'fly':DataConverter[_0x345be5(0x1ee)](_0x314311['speed'],_0x345be5(0x257)),'swim':DataConverter[_0x345be5(0x1ee)](_0x314311[_0x345be5(0x2c4)],_0x345be5(0x339)),'walk':DataConverter['getSpeedValue'](_0x314311[_0x345be5(0x2c4)],'walk'),'units':'ft','hover':DataConverter[_0x345be5(0x259)](_0x314311[_0x345be5(0x2c4)])},_0x16ae3c['spellcasting']=_0x454fca['spellAbility'],_0x16ae3c[_0x345be5(0x2e5)]=_0x454fca[_0x345be5(0x288)],_0x16ae3c[_0x345be5(0x272)]={'darkvision':0x0,'blindsight':0x0,'tremorsense':0x0,'truesight':0x0,'units':'ft','special':''},_0x16ae3c[_0x345be5(0x272)][_0x345be5(0x2ff)]=(_0x314311[_0x345be5(0x272)]||[])[_0x345be5(0x232)](_0x2350eb=>{const _0x4de70e=_0x345be5,_0x2d004c=/(blindsight|darkvision|tremorsense|truesight)\s*(\d+)/i[_0x4de70e(0x27d)](_0x2350eb);if(!_0x2d004c)return!![];const _0x1cee88=Number(_0x2d004c[0x2]);switch(_0x2d004c[0x1]){case _0x4de70e(0x21a):_0x16ae3c[_0x4de70e(0x272)][_0x4de70e(0x21a)]=_0x1cee88;break;case _0x4de70e(0x2af):_0x16ae3c['senses'][_0x4de70e(0x2af)]=_0x1cee88;break;case _0x4de70e(0x2bb):_0x16ae3c[_0x4de70e(0x272)]['tremorsense']=_0x1cee88;break;case _0x4de70e(0x304):_0x16ae3c[_0x4de70e(0x272)][_0x4de70e(0x304)]=_0x1cee88;break;}return![];})[_0x345be5(0x250)](',\x20'),_0x31d368[_0x345be5(0x1fd)]=_0x16ae3c;}async[_0x4c8a9c(0x2c6)](_0x5f3c3c,_0x516eb9,_0x7770aa,_0x534c95,_0x507d79){const _0x91fd6f=_0x4c8a9c;if(!_0x507d79[_0x91fd6f(0x329)])return _0x534c95;const _0x5a9c89=this[_0x91fd6f(0x287)][_0x91fd6f(0x2da)](_0x507d79);if(!_0x5a9c89[_0x91fd6f(0x332)])return _0x534c95;const _0x5908e5=await this['_pImportEntry_pFillData_Attributes_Ac_getAcFromItemEffects'](_0x5f3c3c,_0x5a9c89);_0x534c95!==_0x5908e5&&_0x7770aa[_0x91fd6f(0x2d1)][_0x91fd6f(0x253)]({'label':_0x91fd6f(0x279),'icon':_0x91fd6f(0x2c3)+SharedConsts[_0x91fd6f(0x24f)]+'/media/icon/mighty-force.svg','changes':[{'key':_0x91fd6f(0x316),'value':_0x534c95-_0x5908e5,'mode':CONST[_0x91fd6f(0x277)][_0x91fd6f(0x2d5)],'priority':0x7}],'flags':{}});if(!Config['get'](_0x91fd6f(0x247),'isAddActiveEffects'))return _0x5908e5;if(!Config[_0x91fd6f(0x2fc)]('actor',_0x91fd6f(0x30e))&&!UtilCompat[_0x91fd6f(0x21d)]())return 0x0;return 0xa;}async[_0x4c8a9c(0x22d)](_0x1f8951,_0x1a42d1){const _0x4d973c=_0x4c8a9c;let _0x2f8d18=0xa,_0x8562f3=0x0,_0x280927=0x0;for(const _0x435166 of _0x1a42d1){const _0x178f8d=await Renderer[_0x4d973c(0x218)]['pCacheAndGetHash'](UrlUtil[_0x4d973c(0x31f)],_0x435166);if(!_0x178f8d)continue;let _0xe5b0a9=Number(_0x178f8d['bonusAc']||0x0);if(isNaN(_0xe5b0a9))_0xe5b0a9=0x0;switch(_0x178f8d[_0x4d973c(0x2eb)]||_0x178f8d[_0x4d973c(0x219)]){case'HA':{_0x2f8d18=Math[_0x4d973c(0x29a)](_0x2f8d18,(_0x178f8d['ac']||0xa)+_0xe5b0a9);break;}case'MA':{_0x2f8d18=Math['max'](_0x2f8d18,(_0x178f8d['ac']||0xa)+Math[_0x4d973c(0x310)](0x2,Parser[_0x4d973c(0x22f)](_0x1f8951[_0x4d973c(0x1f8)]||0xa))+_0xe5b0a9);break;}case'LA':{_0x2f8d18=Math['max'](_0x2f8d18,(_0x178f8d['ac']||0xa)+Parser[_0x4d973c(0x22f)](_0x1f8951['dex']||0xa)+_0xe5b0a9);break;}case'S':{_0x8562f3=Math['max'](_0x8562f3,0x2+_0xe5b0a9);break;}default:{if(Config[_0x4d973c(0x2fc)]('importItem',_0x4d973c(0x251)))_0x280927+=_0xe5b0a9;}}}return _0x2f8d18+_0x8562f3+_0x280927;}['_pImportEntry_fillData_Details'](_0x41a15b,_0x2dd814,_0x559d22){const _0xf394c3=_0x4c8a9c,_0x3c05c4={};_0x3c05c4['alignment']=_0x41a15b[_0xf394c3(0x289)]?Parser[_0xf394c3(0x225)](_0x41a15b[_0xf394c3(0x289)])['toLowerCase']():'',_0x3c05c4[_0xf394c3(0x2c1)]={'value':Config['get'](_0xf394c3(0x2b1),'isImportBio')?this[_0xf394c3(0x2c2)](_0x559d22[_0xf394c3(0x283)]):''};_0x559d22['spellLevel']||_0x559d22[_0xf394c3(0x233)]?_0x3c05c4['class']={'level':_0x559d22[_0xf394c3(0x2bd)],'name':_0x559d22['spellClass']}:_0x3c05c4[_0xf394c3(0x2d2)]={};_0x3c05c4['spellLevel']=_0x559d22[_0xf394c3(0x2bd)],_0x3c05c4[_0xf394c3(0x2dd)]='',_0x3c05c4[_0xf394c3(0x219)]=Parser[_0xf394c3(0x2b9)](_0x41a15b['type'])['asText'],_0x3c05c4[_0xf394c3(0x268)]=_0x41a15b[_0xf394c3(0x268)]?_0x41a15b[_0xf394c3(0x268)][_0xf394c3(0x264)](SortUtil[_0xf394c3(0x269)])[_0xf394c3(0x273)](_0x164175=>_0x164175[_0xf394c3(0x27f)]())['join'](',\x20'):'';const _0x18d436=Parser[_0xf394c3(0x1e1)](_0x41a15b['cr']);_0x3c05c4['cr']=_0x18d436>=VeCt['CR_CUSTOM']?0x0:_0x18d436,_0x3c05c4['xp']={'value':_0x41a15b['cr']?Parser['crToXpNumber'](_0x41a15b['cr'])||0x0:0x0},_0x3c05c4[_0xf394c3(0x1de)]=DataConverter[_0xf394c3(0x33a)](_0x41a15b),_0x2dd814[_0xf394c3(0x31d)]=_0x3c05c4;}[_0x4c8a9c(0x205)](_0x22b89c,_0x1c5d83,_0x3ac4c0){const _0x161afe=_0x4c8a9c;_0x1c5d83[_0x161afe(0x298)]=DataConverterCreature[_0x161afe(0x323)](_0x22b89c,_0x1c5d83,_0x3ac4c0);}[_0x4c8a9c(0x25a)](_0x366630,_0x2047e0,_0x426702){const _0x40cd4f=_0x4c8a9c,_0x5d1019={};_0x5d1019['size']=UtilActors[_0x40cd4f(0x2a2)][_0x366630[_0x40cd4f(0x327)]]||_0x40cd4f(0x29c);const _0x1d794d=new Set();let _0x4c0a4c=[];_0x366630[_0x40cd4f(0x311)]&&_0x366630[_0x40cd4f(0x311)][_0x40cd4f(0x221)](_0xd8a71=>{const _0x3897b7=_0x40cd4f,_0x541b65=_0xd8a71[_0x3897b7(0x2a4)](),_0x16d99c=_0x541b65==='thieves\x27\x20cant'?'cant':_0x541b65;if(UtilActors[_0x3897b7(0x2d6)][_0x3897b7(0x2b2)](_0x16d99c))_0x1d794d['add'](_0x16d99c);else _0x1d794d[_0x3897b7(0x1ed)](_0x3897b7(0x258)),_0x4c0a4c[_0x3897b7(0x253)](_0xd8a71);}),_0x5d1019[_0x40cd4f(0x311)]={'value':[..._0x1d794d],'custom':_0x4c0a4c[_0x40cd4f(0x232)](Boolean)['join'](';\x20')},this['_pImportEntry_fillConditionsDamage'](_0x366630,_0x5d1019),_0x2047e0[_0x40cd4f(0x26e)]=_0x5d1019;}[_0x4c8a9c(0x1e4)](_0x394a44,_0x5c52da,_0x4ce2a1){const _0xc073c5=_0x4c8a9c;_0x5c52da[_0xc073c5(0x1dc)]={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}[_0x4c8a9c(0x29b)](_0x768827,_0x1fd527,_0x38b2c1){const _0x5e53e6=_0x4c8a9c;_0x1fd527[_0x5e53e6(0x282)]=DataConverterCreature[_0x5e53e6(0x2f2)](_0x768827,_0x1fd527,_0x38b2c1);}[_0x4c8a9c(0x213)](_0x1ad9a8,_0x2e6a10,_0x141fcc){const _0x1f9e76=_0x4c8a9c,_0x20f49b={};let _0x2bb321=0x0;if(_0x1ad9a8[_0x1f9e76(0x260)])_0x2bb321=_0x1ad9a8[_0x1f9e76(0x32e)]||0x3;_0x20f49b[_0x1f9e76(0x2a1)]={'value':_0x2bb321,'max':_0x2bb321};let _0x46c247=0x0;if(_0x1ad9a8[_0x1f9e76(0x21b)]){const _0x1fb4c6=_0x1ad9a8[_0x1f9e76(0x21b)]['find'](_0xd503a6=>/legendary resistance/gi[_0x1f9e76(0x312)](_0xd503a6['name']||''));if(_0x1fb4c6){const _0x4cdc82=/\((\d+)\/Day\)/i[_0x1f9e76(0x27d)](_0x1fb4c6[_0x1f9e76(0x23c)]);if(_0x4cdc82)_0x46c247=Number(_0x4cdc82[0x1]);}}_0x20f49b['legres']={'value':_0x46c247,'max':_0x46c247},_0x20f49b['lair']={'value':!!(_0x141fcc[_0x1f9e76(0x209)]&&_0x141fcc[_0x1f9e76(0x209)][_0x1f9e76(0x206)]),'initiative':0x14},_0x2e6a10[_0x1f9e76(0x293)]=_0x20f49b;}async[_0x4c8a9c(0x299)](_0x3cade7,_0x407345,_0x3b1d96,_0x278921){const _0x28955a=_0x4c8a9c;await this[_0x28955a(0x317)](_0x3cade7,_0x407345,_0x3b1d96),await this[_0x28955a(0x1fb)](_0x3cade7,_0x407345,_0x3b1d96,{'prop':'trait','fnPreProcess':_0x543a17=>{const _0x49c44e=_0x28955a;if(!/legendary resistance/gi[_0x49c44e(0x312)](_0x543a17[_0x49c44e(0x23c)]||''))return;_0x543a17[_0x49c44e(0x1ec)]=!![];}},{'consumeType':_0x552d49=>_0x552d49[_0x28955a(0x1ec)]?'attribute':null,'consumeTarget':_0x3baec5=>_0x3baec5[_0x28955a(0x1ec)]?'resources.legres.value':null,'consumeAmount':_0xbf6b45=>_0xbf6b45['_plut_isLegendaryResistance']?0x1:null}),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x3cade7,_0x407345,_0x3b1d96,{'prop':_0x28955a(0x1f9)},{'activationType':'bonus','activationCost':0x1}),await this[_0x28955a(0x1fb)](_0x3cade7,_0x407345,_0x3b1d96,{'prop':_0x28955a(0x1e6)},{'activationType':_0x28955a(0x1e6),'activationCost':0x1}),await this[_0x28955a(0x2e1)](_0x3cade7,_0x407345,_0x3b1d96),await this[_0x28955a(0x1fb)](_0x3cade7,_0x407345,_0x3b1d96,{'prop':_0x28955a(0x260),'fnPreProcess':_0x3ff925=>{const _0x52d71c=_0x28955a;_0x3ff925[_0x52d71c(0x1f0)]=0x1,_0x3ff925[_0x52d71c(0x23c)]&&(_0x3ff925[_0x52d71c(0x23c)]=_0x3ff925['name'][_0x52d71c(0x2cd)](/\(costs (\d+) actions?\)/i,(..._0x31f0ee)=>{const _0x1f28da=_0x52d71c;return _0x3ff925[_0x1f28da(0x1f0)]=Number(_0x31f0ee[0x1]),'';})[_0x52d71c(0x28d)]());}},{'activationType':'legendary','activationCost':_0x36319d=>_0x36319d[_0x28955a(0x1f0)],'consumeType':_0x28955a(0x2bf),'consumeTarget':'resources.legact.value','consumeAmount':_0x26fec6=>_0x26fec6[_0x28955a(0x1f0)]}),await this[_0x28955a(0x24b)](_0x3cade7,_0x407345,_0x3b1d96),await this['_pImportEntry_pFillItems_pRegionalEffects'](_0x3cade7,_0x407345,_0x3b1d96),await this[_0x28955a(0x1f7)](_0x3cade7,_0x407345,_0x3b1d96);const _0x188c1b=_0x278921[_0x28955a(0x2f9)]||this[_0x28955a(0x2a0)]!=null;await this[_0x28955a(0x227)](_0x3cade7,_0x407345,_0x188c1b,_0x3b1d96),await UtilActors[_0x28955a(0x2e7)](_0x3b1d96[_0x28955a(0x252)],_0x3b1d96['items'],_0x188c1b);}['_pImportEntry_pFillItems_addTextOnlyItem'](_0x2e6522,_0x1cf669,_0x12cd39,_0x3f3b67,_0x2350b0){const _0x369670=_0x4c8a9c;_0x1cf669[_0x369670(0x243)][_0x369670(0x253)](DataConverter['getItemActorPassive'](_0x3f3b67,{..._0x2350b0,'mode':_0x369670(0x2f8),'pb':_0x1cf669[_0x369670(0x208)],'entity':_0x2e6522,'source':_0x2e6522[_0x369670(0x1de)],'actor':{'data':_0x12cd39}}));}async['_pImportEntry_pFillItems_pLegendaryHeader'](_0x814d99,_0x534f33,_0x2077e3){const _0x3448c0=_0x4c8a9c;let _0x259414=0x0;if(_0x814d99['legendary'])_0x259414=_0x814d99[_0x3448c0(0x32e)]||0x3;if(!_0x259414)return;const _0x2d228d=_0x3448c0(0x2dc)+Renderer[_0x3448c0(0x31c)][_0x3448c0(0x2f5)](_0x814d99)+_0x3448c0(0x28f),_0xc4661=await DataConverterCreature[_0x3448c0(0x321)](_0x814d99,{'name':_0x3448c0(0x2a3)},_0x2077e3);_0x2077e3[_0x3448c0(0x243)][_0x3448c0(0x253)](DataConverter[_0x3448c0(0x324)]({'name':_0x3448c0(0x2a3)},{'fvttType':'feat','description':_0x2d228d,'mode':'creature','pb':_0x2077e3[_0x3448c0(0x208)],'entity':_0x814d99,'source':_0x814d99[_0x3448c0(0x1de)],'actor':{'data':_0x534f33},'img':_0xc4661}));}async['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x13a433,_0xf3eb2,_0x2dd485,_0x19c8e6,_0x49ecdc){const _0x154685=_0x4c8a9c;_0x49ecdc=_0x49ecdc||{};if(!_0x13a433[_0x19c8e6[_0x154685(0x2d7)]])return;for(let _0x4a136a of _0x13a433[_0x19c8e6['prop']]){_0x19c8e6[_0x154685(0x306)]&&(_0x4a136a=MiscUtil[_0x154685(0x20f)](_0x4a136a),_0x19c8e6[_0x154685(0x306)](_0x4a136a));const _0x3e509b={};Object[_0x154685(0x326)](_0x49ecdc)[_0x154685(0x221)](([_0x3c6657,_0x5ab315])=>{const _0x28a954=_0x154685;if(typeof _0x5ab315===_0x28a954(0x2d9))_0x3e509b[_0x3c6657]=_0x5ab315(_0x4a136a);else _0x3e509b[_0x3c6657]=MiscUtil[_0x28a954(0x20f)](_0x5ab315);});const _0x284536=await DataConverterCreature[_0x154685(0x321)](_0x13a433,_0x4a136a,_0x2dd485,{'isLegendary':_0x19c8e6['prop']===_0x154685(0x260)});this['_pImportEntry_pFillItems_addTextOnlyItem'](_0x13a433,_0x2dd485,_0xf3eb2,_0x4a136a,{..._0x3e509b,'fvttType':_0x154685(0x314),'img':_0x284536});}}static['_getLairActionName'](_0x28fe03){const _0x22e148=_0x4c8a9c,_0x572dc0=Renderer['stripTags'](_0x28fe03);let _0x3107ad=_0x22e148(0x334);const _0x2f5990=_0x572dc0[_0x22e148(0x254)]('\x20');for(const _0x100cd1 of _0x2f5990){if(_0x3107ad[_0x22e148(0x332)]+_0x100cd1[_0x22e148(0x332)]<0x32)_0x3107ad+=_0x100cd1+'\x20';else break;}if(_0x572dc0['length']>_0x3107ad[_0x22e148(0x28d)]()[_0x22e148(0x332)])_0x3107ad+='...';else _0x3107ad=_0x3107ad['trim']();return _0x3107ad;}async[_0x4c8a9c(0x24b)](_0x1f63e5,_0x46bf9b,_0x353468){const _0x25f890=_0x4c8a9c;if(!_0x353468[_0x25f890(0x209)]?.[_0x25f890(0x206)])return;const _0x5b1426=_0x353468[_0x25f890(0x209)][_0x25f890(0x206)],_0x446e59=_0x5b1426[_0x25f890(0x229)](_0x4366de=>_0x4366de['type']===_0x25f890(0x281));if(_0x446e59)for(let _0x4eddcb=0x0;_0x4eddcb<_0x446e59['items']['length'];++_0x4eddcb){const _0x212363=_0x446e59[_0x25f890(0x243)][_0x4eddcb];await this[_0x25f890(0x2b4)](_0x1f63e5,_0x46bf9b,_0x353468,_0x212363,_0x4eddcb);}else await this[_0x25f890(0x2b4)](_0x1f63e5,_0x46bf9b,_0x353468,_0x5b1426);}async['_pImportEntry_pFillItems_lairActions_addLairAction'](_0x4145d8,_0x47abe7,_0x472d7f,_0x46c904,_0x133ff6){const _0x2b3697=_0x4c8a9c;if(_0x46c904 instanceof Array)typeof _0x46c904[0x0]===_0x2b3697(0x248)?_0x46c904={'type':_0x2b3697(0x326),'name':this[_0x2b3697(0x287)][_0x2b3697(0x2c9)](_0x46c904[0x0]),'entries':_0x46c904}:_0x46c904={'type':_0x2b3697(0x326),'name':_0x2b3697(0x2bc)+(_0x133ff6!=null?'\x20'+(_0x133ff6+0x1):''),'entries':_0x46c904};else{if(typeof _0x46c904===_0x2b3697(0x248))_0x46c904={'type':_0x2b3697(0x326),'name':this['constructor'][_0x2b3697(0x2c9)](_0x46c904),'entries':[_0x46c904]};else throw new Error(_0x2b3697(0x2b0));}const _0x3a5443=JSON[_0x2b3697(0x27e)](_0x46c904),{saveAbility:_0x5b5ff9,saveScaling:_0x23ab09,saveDc:_0x516b8c}=this[_0x2b3697(0x2ee)](_0x4145d8,_0x472d7f[_0x2b3697(0x208)],_0x3a5443),_0x4137fe=[];let _0x2db84f='';if(typeof _0x46c904[_0x2b3697(0x326)][0x0]==='string'){const {damageTupleMetas:_0x2cbde2}=DataConverter[_0x2b3697(0x336)](_0x46c904[_0x2b3697(0x326)][0x0]),{damageParts:_0x2e4c64,formula:_0x5ed960}=DataConverter[_0x2b3697(0x244)](_0x2cbde2);_0x4137fe[_0x2b3697(0x253)](..._0x2e4c64),_0x2db84f=_0x5ed960;}const _0x456309=this[_0x2b3697(0x1df)](_0x4137fe),_0x12fe8f=await DataConverterCreature[_0x2b3697(0x1e3)](_0x4145d8,{'name':_0x2b3697(0x33c)},_0x472d7f);this[_0x2b3697(0x278)](_0x4145d8,_0x472d7f,_0x47abe7,_0x46c904,{'fvttType':_0x2b3697(0x314),'activationType':_0x2b3697(0x26f),'activationCost':0x1,'img':_0x12fe8f,'saveAbility':_0x5b5ff9,'saveDc':_0x516b8c,'saveScaling':_0x23ab09,'damageParts':_0x456309,'formula':_0x2db84f});}async[_0x4c8a9c(0x235)](_0x2f4132,_0x6a5599,_0x78093b){const _0x204051=_0x4c8a9c;if(!_0x78093b[_0x204051(0x209)]?.['regionalEffects'])return;const _0x26008d={'type':_0x204051(0x326),'name':_0x204051(0x335),'entries':MiscUtil[_0x204051(0x20f)](_0x78093b[_0x204051(0x209)]['regionalEffects'])},_0x36c5fd=await DataConverterCreature[_0x204051(0x1e3)](_0x2f4132,_0x26008d,_0x78093b);this['_pImportEntry_pFillItems_addTextOnlyItem'](_0x2f4132,_0x78093b,_0x6a5599,_0x26008d,{'fvttType':_0x204051(0x314),'img':_0x36c5fd});}async[_0x4c8a9c(0x317)](_0x5ade6a,_0x9f8767,_0x1d626c){const _0x263eb7=_0x4c8a9c;if(!_0x5ade6a['action'])return;for(const _0x26f8f5 of _0x5ade6a[_0x263eb7(0x200)]){const _0x1a7501=this['_pImportEntry_pFillItems_getSubActions'](_0x26f8f5,_0x1d626c);for(const _0x3f7e65 of _0x1a7501){await this['_pImportEntry_pFillItems_pAction'](_0x5ade6a,_0x9f8767,_0x3f7e65,_0x1d626c);}}}['_pImportEntry_pFillItems_getSubActions'](_0x21a11c,_0x327cb2){const _0x1bf3d4=_0x4c8a9c;if(!_0x21a11c['name']||!_0x21a11c[_0x1bf3d4(0x326)])return[_0x21a11c];if(_0x21a11c[_0x1bf3d4(0x326)]['length']===0x2&&typeof _0x21a11c['entries'][0x0]==='string'&&_0x21a11c[_0x1bf3d4(0x326)][0x0][_0x1bf3d4(0x2b2)](_0x1bf3d4(0x24d))&&_0x21a11c['entries'][0x1][_0x1bf3d4(0x219)]===_0x1bf3d4(0x281)&&_0x21a11c[_0x1bf3d4(0x326)][0x1][_0x1bf3d4(0x243)][_0x1bf3d4(0x29d)](_0x17a77f=>_0x17a77f[_0x1bf3d4(0x23c)]&&_0x17a77f[_0x1bf3d4(0x29f)])){const _0x3c7687=[],_0x45a9b2=CryptUtil['uid'](),_0x3bc682=_0x21a11c[_0x1bf3d4(0x326)][0x1][_0x1bf3d4(0x243)][_0x1bf3d4(0x273)](_0x25f2aa=>{const _0x13aa96=_0x1bf3d4,_0x4c7959=_0x25f2aa[_0x13aa96(0x23c)][_0x13aa96(0x2cd)](/\.\s*$/,''),_0x1220e6=_0x13aa96(0x2b6)+_0x4c7959,_0x5da633=CryptUtil[_0x13aa96(0x245)]();return _0x327cb2[_0x13aa96(0x32b)]['push'](async({actor:_0x1552b6,isTemp:_0x77eea8,isPack:_0x318b94,pack:_0x2fdb50})=>{const _0x433f3a=_0x13aa96;if(_0x77eea8)return;const _0x1ebe35=_0x1552b6[_0x433f3a(0x211)]['items'][_0x433f3a(0x229)](_0xbee732=>_0xbee732[_0x433f3a(0x2f7)]?.[SharedConsts['MODULE_NAME']]?.[_0x433f3a(0x22b)]===_0x45a9b2);if(!_0x1ebe35)return console[_0x433f3a(0x2b8)](...LGT,_0x433f3a(0x30d)+_0x25f2aa['name']+'\x22');const _0x25ce17=_0x1552b6['data']['items'][_0x433f3a(0x229)](_0x359d76=>_0x359d76['flags']?.[SharedConsts['MODULE_NAME']]?.[_0x433f3a(0x22b)]===_0x5da633);if(!_0x25ce17)return console['warn'](...LGT,_0x433f3a(0x204)+_0x25f2aa[_0x433f3a(0x23c)]+'\x22');if(_0x318b94){MiscUtil[_0x433f3a(0x29e)](_0x25ce17,_0x433f3a(0x211),_0x433f3a(0x32d),_0x433f3a(0x2a7),_0x1ebe35[_0x433f3a(0x284)]||_0x1ebe35['id']);const _0x3483f8=MiscUtil['copy'](_0x1552b6[_0x433f3a(0x211)]);await _0x2fdb50[_0x433f3a(0x23d)](_0x3483f8);}else{const _0x32029d={'_id':_0x25ce17[_0x433f3a(0x284)],'data':{'consume':{'target':_0x1ebe35[_0x433f3a(0x284)]||_0x1ebe35['id']}}};await _0x1552b6[_0x433f3a(0x263)]('OwnedItem',_0x32029d);}}),{'name':_0x1220e6,'_plut_cleanName':_0x4c7959,'entries':[_0x25f2aa[_0x13aa96(0x29f)]],'_foundryData':{'consume.type':_0x13aa96(0x2b5),'consume.amount':0x1},'_foundryFlags':{[SharedConsts[_0x13aa96(0x24f)]]:{'_tmpItemId':_0x5da633}}};});return _0x3c7687['push']({'name':_0x21a11c[_0x1bf3d4(0x23c)],'entries':[_0x21a11c['entries'][0x0][_0x1bf3d4(0x28d)]()[_0x1bf3d4(0x2cd)](/[.,!?:]$/,'')+':\x20'+_0x3bc682[_0x1bf3d4(0x273)](_0x340016=>_0x340016['_plut_cleanName'])['joinConjunct'](',\x20','\x20or\x20')],'_foundryFlags':{[SharedConsts[_0x1bf3d4(0x24f)]]:{'_tmpItemId':_0x45a9b2}}}),_0x3bc682[_0x1bf3d4(0x221)](_0xd6beb5=>delete _0xd6beb5[_0x1bf3d4(0x1eb)]),_0x3c7687[_0x1bf3d4(0x253)](..._0x3bc682),_0x3c7687;}if(/^eye ray/gi[_0x1bf3d4(0x312)](_0x21a11c[_0x1bf3d4(0x23c)])&&_0x21a11c[_0x1bf3d4(0x326)][_0x1bf3d4(0x229)](_0x42806b=>_0x42806b[_0x1bf3d4(0x219)]==='list'&&(_0x42806b[_0x1bf3d4(0x243)]||[])[_0x1bf3d4(0x29d)](_0x1e9553=>_0x1e9553['type']===_0x1bf3d4(0x1fa)))){const _0x7a21e3=[],_0x2be6c6=MiscUtil['copy'](_0x21a11c),_0x1312c5=_0x21a11c[_0x1bf3d4(0x326)][_0x1bf3d4(0x296)](_0x2d7d3a=>_0x2d7d3a[_0x1bf3d4(0x219)]===_0x1bf3d4(0x281)&&(_0x2d7d3a[_0x1bf3d4(0x243)]||[])[_0x1bf3d4(0x29d)](_0x5af13b=>_0x5af13b['type']===_0x1bf3d4(0x1fa))),_0xfa08a1=_0x21a11c[_0x1bf3d4(0x326)][_0x1312c5];return _0x2be6c6['entries'][_0x1bf3d4(0x300)](_0x1312c5,0x1),_0x7a21e3['push'](_0x2be6c6),_0xfa08a1[_0x1bf3d4(0x243)]['forEach'](_0x576884=>{const _0x37e929=_0x1bf3d4,_0x3c70a6={..._0x576884,'type':_0x37e929(0x326),'name':_0x37e929(0x224)+_0x576884[_0x37e929(0x23c)][_0x37e929(0x2cd)](/[.,!:?]\\s*$/,'')};_0x3c70a6[_0x37e929(0x29f)]&&(_0x3c70a6['entries']=[_0x3c70a6['entry']],delete _0x3c70a6[_0x37e929(0x29f)]),delete _0x3c70a6[_0x37e929(0x249)],_0x7a21e3[_0x37e929(0x253)](_0x3c70a6);}),_0x7a21e3;}return[_0x21a11c];}async[_0x4c8a9c(0x239)](_0x555adb,_0x17e466,_0x269afa,_0x264daa){const _0x2a33ff=_0x4c8a9c,_0x310c5c=DataConverter[_0x2a33ff(0x2a5)](_0x269afa),_0x1dc48d=_0x269afa[_0x2a33ff(0x326)]?JSON[_0x2a33ff(0x27e)](_0x269afa[_0x2a33ff(0x326)]):null,{damageTuples:_0x2a153d,formula:_0x165b98,offensiveAbility:_0x4a4d75,isAttack:_0x3429fe,rangeShort:_0x47f527,rangeLong:_0x1fedc4,actionType:_0x3a4688,isProficient:_0x4a4797,attackBonus:_0xde4d15,_foundryData:_0x16c48d,foundryData:_0x35b290,_foundryFlags:_0xf8c9b6,foundryFlags:_0x5b4b9c,img:_0x11afe1}=await DataConverterCreature[_0x2a33ff(0x1f1)](_0x555adb,_0x269afa,_0x264daa),_0x45a6f0=[];_0x45a6f0[_0x2a33ff(0x253)](...this['_getDamageTuplesWithMod'](_0x2a153d,_0x555adb[_0x4a4d75]));const {saveAbility:_0x123761,saveScaling:_0x175eb6,saveDc:_0x59b168}=this[_0x2a33ff(0x2ee)](_0x555adb,_0x264daa[_0x2a33ff(0x208)],_0x1dc48d);_0x3429fe?await this[_0x2a33ff(0x20d)](_0x555adb,_0x17e466,_0x269afa,_0x264daa,{'offensiveAbility':_0x4a4d75,'damageParts':_0x45a6f0,'formula':_0x165b98,'rangeShort':_0x47f527,'rangeLong':_0x1fedc4,'actionType':_0x3a4688,'isProficient':_0x4a4797,'description':_0x310c5c,'saveAbility':_0x123761,'saveDc':_0x59b168,'saveScaling':_0x175eb6,'attackBonus':_0xde4d15,'_foundryData':_0x16c48d,'foundryData':_0x35b290,'_foundryFlags':_0xf8c9b6,'foundryFlags':_0x5b4b9c,'img':_0x11afe1}):this[_0x2a33ff(0x278)](_0x555adb,_0x264daa,_0x17e466,_0x269afa,{'fvttType':_0x2a33ff(0x314),'activationType':_0x2a33ff(0x200),'activationCost':0x1,'description':_0x310c5c,'saveAbility':_0x123761,'saveDc':_0x59b168,'saveScaling':_0x175eb6,'damageParts':_0x45a6f0,'formula':_0x165b98,'attackBonus':_0xde4d15,'_foundryData':_0x16c48d,'foundryData':_0x35b290,'_foundryFlags':_0xf8c9b6,'foundryFlags':_0x5b4b9c,'img':_0x11afe1});}[_0x4c8a9c(0x2ee)](_0xb13968,_0x1120cb,_0x4ab1e9){const _0xbc0ac0=_0x4c8a9c;if(!_0x4ab1e9)return MiscUtil[_0xbc0ac0(0x20f)](ImportListCreature[_0xbc0ac0(0x2cc)]);let {saveAbility:_0x25ab54,saveScaling:_0x4ca51c,saveDc:_0xbb408}=MiscUtil['copy'](ImportListCreature[_0xbc0ac0(0x2cc)]);const _0x469a44=/(?:{@dc (\d+)}|DC\s*(\d+))\s*(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i[_0xbc0ac0(0x27d)](_0x4ab1e9);if(_0x469a44){_0xbb408=Number(_0x469a44[0x1]||_0x469a44[0x2]),_0x25ab54=_0x469a44[0x3][_0xbc0ac0(0x2a4)]()[_0xbc0ac0(0x2e6)](0x0,0x3),_0x4ca51c=_0xbc0ac0(0x302);if(_0x1120cb&&0x1===0x2){const _0x45216e=_0xbb408-_0x1120cb-0x8;for(const _0x5f1843 of['cha',_0xbc0ac0(0x1e8),_0xbc0ac0(0x217),'str','dex',_0xbc0ac0(0x22c)]){const _0x4ef58b=Parser[_0xbc0ac0(0x22f)](_0xb13968[_0x5f1843]);if(_0x4ef58b===_0x45216e){_0x4ca51c=_0x5f1843;break;}}}}return{'saveAbility':_0x25ab54,'saveScaling':_0x4ca51c,'saveDc':_0xbb408};}[_0x4c8a9c(0x1df)](_0x18eac3,_0x2661c0){const _0x3b79ee=_0x4c8a9c;if(!_0x18eac3['length'])return[];return _0x18eac3=MiscUtil[_0x3b79ee(0x20f)](_0x18eac3),_0x2661c0&&_0x18eac3[_0x3b79ee(0x221)](_0x41b5fb=>{const _0x4c7112=_0x3b79ee,_0x2ead0b=Parser[_0x4c7112(0x22f)](_0x2661c0),_0x1e6705=/(\d+d\d+\s*)([-+]\s*\d+)([ -+].*)?$/[_0x4c7112(0x27d)](_0x41b5fb[0x0]);if(!_0x1e6705)return;const _0x58b926=Number(_0x1e6705[0x2][_0x4c7112(0x2cd)](/\s*/g,''));if(_0x58b926===_0x2ead0b)_0x41b5fb[0x0]=_0x1e6705[0x1]+'\x20+\x20@mod'+(_0x1e6705[0x3]||'');}),_0x18eac3[_0x3b79ee(0x232)](_0x499843=>_0x499843[_0x3b79ee(0x332)]);}async[_0x4c8a9c(0x20d)](_0x4353df,_0x49d096,_0x581d22,_0x3dc972,{offensiveAbility:_0x2aedb4,damageParts:_0xb6352c,formula:_0x532b4c,rangeShort:_0x280ccb,rangeLong:_0x3820ba,actionType:_0x458b1a,isProficient:_0x4df2f3,description:_0x19012b,saveAbility:_0x1a23e8,saveDc:_0x355d11,saveScaling:_0x5873f4,attackBonus:_0x17b86f,_foundryData:_0x1ba90c,foundryData:_0x33e30a,_foundryFlags:_0x3c91e5,foundryFlags:_0x28be16,img:_0x13091d}){const _0x394595=_0x4c8a9c,_0x11444e=await DataConverterItem[_0x394595(0x24c)](_0x4353df[_0x394595(0x327)],_0x581d22,_0xb6352c),_0x1bd0cd=DataConverter[_0x394595(0x2fb)](_0x33e30a,_0x1ba90c),_0x181d24=DataConverter[_0x394595(0x2e0)](_0x28be16,_0x3c91e5),_0x40c23d={'name':UtilApplications[_0x394595(0x2e4)](Renderer[_0x394595(0x25c)](_0x581d22['name']||'')||'\x20'),'type':_0x394595(0x21f),'data':{'source':DataConverter[_0x394595(0x33a)](_0x4353df),'description':{'value':_0x19012b},'damage':{'parts':_0x11444e[_0x394595(0x322)],'versatile':_0x11444e['damageVersatile']},'range':{'value':_0x280ccb,'long':_0x3820ba,'units':'ft'},'actionType':_0x458b1a,'proficient':_0x4df2f3,'quantity':0x1,'weight':_0x11444e[_0x394595(0x333)],'price':_0x11444e[_0x394595(0x1fc)],'rarity':_0x11444e[_0x394595(0x313)],'weaponType':_0x11444e['weaponType'],'properties':_0x11444e['itemProperties'],'attuned':_0x11444e[_0x394595(0x2ad)],'ability':_0x2aedb4,'equipped':!![],'identified':_0x11444e[_0x394595(0x2ca)],'activation':{'type':'action','cost':0x1,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'uses':{'value':0x0,'max':0x0,'per':null},'attackBonus':_0x17b86f||_0x11444e[_0x394595(0x2f4)]||0x0,'chatFlavor':'','critical':null,'formula':_0x532b4c,'save':{'ability':_0x1a23e8,'dc':_0x355d11,'scaling':_0x5873f4},..._0x1bd0cd||{}},'img':_0x11444e[_0x394595(0x2ab)]||_0x13091d,'flags':{..._0x181d24||{}}};_0x3dc972[_0x394595(0x243)]['push'](_0x40c23d);}static[_0x4c8a9c(0x2da)](_0xbb17f8){const _0xa2246a=_0x4c8a9c,_0x5d4c5d=[];if(!_0xbb17f8[_0xa2246a(0x329)]||!_0xbb17f8[_0xa2246a(0x329)]['length'])return _0x5d4c5d;return _0xbb17f8[_0xa2246a(0x329)][_0xa2246a(0x221)](_0x460959=>{_0x460959['replace'](/{@item ([^}]+)}/gi,(..._0x30aab4)=>{const _0x257b26=_0x3b0c,[_0x557eed,_0x3e5ac6]=_0x30aab4[0x1][_0x257b26(0x28d)]()[_0x257b26(0x2a4)]()[_0x257b26(0x254)]('|'),_0x5b0768=UrlUtil[_0x257b26(0x30a)][UrlUtil[_0x257b26(0x31f)]]({'name':_0x557eed,'source':_0x3e5ac6||SRC_DMG});if(!_0x5d4c5d[_0x257b26(0x2b2)](_0x5b0768))_0x5d4c5d[_0x257b26(0x253)](_0x5b0768);});}),_0x5d4c5d;}async[_0x4c8a9c(0x1f7)](_0x2b1f26,_0x5bc993,_0xeaff84){const _0x4f05dd=_0x4c8a9c;if(!_0x2b1f26['ac'])return;const _0x38c831=new Set(),_0x38a0a7=new Set();_0x2b1f26['ac'][_0x4f05dd(0x221)]((_0x2147f2,_0x39ef8c)=>{const _0x734db=_0x4f05dd,_0x1acde0=this[_0x734db(0x287)][_0x734db(0x2da)](_0x2147f2);_0x1acde0[_0x734db(0x221)](_0x59952d=>_0x38c831[_0x734db(0x1ed)](_0x59952d));if(_0x39ef8c===0x0)_0x1acde0[_0x734db(0x221)](_0x23709f=>_0x38a0a7[_0x734db(0x1ed)](_0x23709f));});for(const _0x2c12e3 of _0x38c831){const _0x469937=await Renderer[_0x4f05dd(0x218)][_0x4f05dd(0x1ea)](UrlUtil['PG_ITEMS'],_0x2c12e3);if(!_0x469937)continue;await this[_0x4f05dd(0x1ef)](_0x2b1f26,_0x5bc993,_0x469937,_0xeaff84,{'isEquipped':_0x38a0a7[_0x4f05dd(0x292)](_0x2c12e3)});}}async['_pImportEntry_pFillItems_pAddItem'](_0x218829,_0x39bfb1,_0x5cf120,_0x5cc65d,_0x132abb){const _0x1d5f42=_0x4c8a9c;_0x132abb=_0x132abb||{};const _0x5b2f01=await Renderer['item'][_0x1d5f42(0x2e3)](_0x5cf120),_0x163fdb=await DataConverterItem[_0x1d5f42(0x2c8)](_0x5cf120,{'fluff':_0x5b2f01,'size':_0x218829[_0x1d5f42(0x327)],'isEquipped':_0x132abb[_0x1d5f42(0x237)],'dexMod':Parser[_0x1d5f42(0x22f)](_0x218829[_0x1d5f42(0x1f8)])});_0x5cc65d['items']['push'](_0x163fdb);}async[_0x4c8a9c(0x227)](_0x920b61,_0x3acbd7,_0x32ea59,_0x5720a0){const _0x2e4216=_0x4c8a9c;if(!_0x920b61['spellcasting'])return;const _0x4853fd={},_0x2dffd0=_0xd6f94a=>{const _0x504f43=_0x3b0c;Object[_0x504f43(0x326)](_0xd6f94a)[_0x504f43(0x221)](([_0x40a030,_0x592434])=>{_0x4853fd[_0x40a030]=_0x4853fd[_0x40a030]||_0x592434;});},_0x1acb99=!![],_0x5808a5=[];for(const _0x7803bc of _0x920b61['spellcasting']){const _0x5298e9=MiscUtil[_0x2e4216(0x20f)](_0x7803bc);if(_0x5298e9[_0x2e4216(0x282)]){const _0x11d4ee=Object['keys'](_0x5298e9[_0x2e4216(0x282)]);for(const _0x59d29b of _0x11d4ee){const _0x395447=_0x5298e9[_0x2e4216(0x282)][_0x59d29b],_0x49934a=_0x395447['lower']!=null?_0x2e4216(0x31e):_0x2e4216(0x236),_0x51001f=await DataConverterSpell[_0x2e4216(0x2ed)](_0x5720a0['actor'],JSON['stringify'](_0x395447[_0x2e4216(0x282)]),{'isTemporary':_0x32ea59,'optsGetSpellItem':{'casterLevel':_0x5720a0['spellLevel'],'abilityAbv':_0x5720a0[_0x2e4216(0x33b)],'isPrepared':_0x1acb99,'preparationMode':_0x49934a}});_0x2dffd0(_0x51001f);}delete _0x5298e9[_0x2e4216(0x282)];}_0x5298e9[_0x2e4216(0x25f)]&&await this[_0x2e4216(0x238)](_0x5720a0,_0x5298e9,'weekly',_0x2dffd0,{'isTemporary':_0x32ea59,'isPrepared':_0x1acb99,'usesPer':_0x2e4216(0x2b5)});_0x5298e9[_0x2e4216(0x2a9)]&&await this['_pImportEntry_pFillItems_pSpellcasting_recharge'](_0x5720a0,_0x5298e9,_0x2e4216(0x2a9),_0x2dffd0,{'isTemporary':_0x32ea59,'isPrepared':_0x1acb99,'usesPer':_0x2e4216(0x28e)});_0x5298e9[_0x2e4216(0x1f3)]&&await this[_0x2e4216(0x238)](_0x5720a0,_0x5298e9,'daily',_0x2dffd0,{'isTemporary':_0x32ea59,'isPrepared':_0x1acb99,'usesPer':'sr'});if(_0x5298e9['will']){const _0x2edf25='innate',_0x52dea5=await DataConverterSpell[_0x2e4216(0x2ed)](_0x5720a0[_0x2e4216(0x252)],JSON[_0x2e4216(0x27e)](_0x5298e9[_0x2e4216(0x2df)]),{'isTemporary':_0x32ea59,'optsGetSpellItem':{'casterLevel':_0x5720a0[_0x2e4216(0x2bd)],'abilityAbv':_0x5720a0['spellAbility'],'isPrepared':_0x1acb99,'preparationMode':_0x2edf25}});_0x2dffd0(_0x52dea5),delete _0x5298e9[_0x2e4216(0x2df)];}if(_0x5298e9['constant']){const _0x574b53=_0x2e4216(0x2ea),_0x4bf92f=await DataConverterSpell[_0x2e4216(0x2ed)](_0x5720a0[_0x2e4216(0x252)],JSON[_0x2e4216(0x27e)](_0x5298e9[_0x2e4216(0x203)]),{'isTemporary':_0x32ea59,'optsGetSpellItem':{'casterLevel':_0x5720a0[_0x2e4216(0x2bd)],'abilityAbv':_0x5720a0[_0x2e4216(0x33b)],'isPrepared':_0x1acb99,'preparationMode':_0x574b53,'durationAmount':null,'durationUnit':_0x2e4216(0x1f2)}});_0x2dffd0(_0x4bf92f),delete _0x5298e9['constant'];}_0x5808a5[_0x2e4216(0x253)](_0x5298e9);}await DataConverterSpell['pGetSpellHashToItemPosMapAndFillSpells'](_0x5720a0[_0x2e4216(0x252)],JSON['stringify'](_0x5808a5),{'isTemporary':_0x32ea59,'hashToIdMap':_0x4853fd,'optsGetSpellItem':{'casterLevel':_0x5720a0['spellLevel'],'abilityAbv':_0x5720a0[_0x2e4216(0x33b)]}});const _0x3c3882=DataConverterSpell[_0x2e4216(0x2d3)]['bind'](null,_0x5720a0['actor']['id'],_0x4853fd);Renderer[_0x2e4216(0x2fc)]()[_0x2e4216(0x271)](_0x2e4216(0x331),_0x2e4216(0x2a8),_0x3c3882);const _0x246ba7=Renderer['monster'][_0x2e4216(0x242)](_0x920b61,Renderer[_0x2e4216(0x2fc)]());for(const _0x24283d of _0x246ba7){const _0x42384f=await DataConverterCreature['pGetSpellcastingImage'](_0x920b61,_0x24283d,_0x5720a0);this[_0x2e4216(0x278)](_0x920b61,_0x5720a0,_0x3acbd7,_0x24283d,{'fvttType':'feat','img':_0x42384f,'description':_0x24283d[_0x2e4216(0x230)]});}Renderer[_0x2e4216(0x2fc)]()[_0x2e4216(0x26c)](_0x2e4216(0x331),'ele',_0x3c3882);}async[_0x4c8a9c(0x238)](_0x1e70e3,_0x530063,_0x208aca,_0x5b8eeb,{isTemporary:_0x413838,isPrepared:_0x4969d4,usesPer:_0x56c1b3}){const _0x2450fb=_0x4c8a9c,_0xee8ef5=_0x2450fb(0x2ea);for(let _0x3f917c=0x1;_0x3f917c<=0x9;++_0x3f917c){const _0x59294e=_0x3f917c+'e',_0x8123d=[...(_0x530063[_0x208aca]||{})[_0x3f917c]||[],...(_0x530063[_0x208aca]||{})[_0x59294e]||[]];if(!_0x8123d['length'])continue;const _0x5eff56=await DataConverterSpell[_0x2450fb(0x2ed)](_0x1e70e3['actor'],JSON[_0x2450fb(0x27e)](_0x8123d),{'isTemporary':_0x413838,'optsGetSpellItem':{'casterLevel':_0x1e70e3[_0x2450fb(0x2bd)],'abilityAbv':_0x1e70e3['spellAbility'],'isPrepared':_0x4969d4,'preparationMode':_0xee8ef5,'usesCurrent':_0x3f917c,'usesMax':_0x3f917c,'usesPer':_0x56c1b3}});_0x5b8eeb(_0x5eff56);}delete _0x530063[_0x208aca];}static['_getCasterLevelFromEntry'](_0x8a32f4){const _0x36a32a=_0x4c8a9c;let _0x39284c=0x0;return _0x8a32f4[_0x36a32a(0x255)]&&JSON[_0x36a32a(0x27e)](_0x8a32f4[_0x36a32a(0x255)])[_0x36a32a(0x2cd)](/an? (\d+)[A-Za-z]+-level/i,(..._0x3c1ceb)=>{const _0x2dfcfc=Number(_0x3c1ceb[0x1]);if(!isNaN(_0x2dfcfc))_0x39284c=_0x2dfcfc;}),_0x39284c;}static[_0x4c8a9c(0x285)](_0x36110d){const _0xc79205=_0x4c8a9c;let _0x46218b='';return _0x36110d[_0xc79205(0x255)]&&JSON['stringify'](_0x36110d[_0xc79205(0x255)])[_0xc79205(0x2cd)](/(?:^| )(bard|cleric|druid|paladin|ranger|sorcerer|warlock|wizard)(?:\W|$)?/i,(..._0x1f99c3)=>{_0x46218b=_0x1f99c3[0x1];}),_0x46218b;}}ImportListCreature[_0x4c8a9c(0x2cc)]={'saveAbility':'','saveScaling':_0x4c8a9c(0x215),'saveDc':null},ImportListCreature[_0x4c8a9c(0x2e9)]=class{constructor(_0xbbd0f7,_0x187920,_0x197301){const _0x2d2317=_0x4c8a9c;this[_0x2d2317(0x252)]=_0xbbd0f7,this[_0x2d2317(0x1e2)]=_0x187920,this['fluff']=_0x197301,this['pb']=Parser[_0x2d2317(0x325)](_0x187920['cr']),this[_0x2d2317(0x208)]=this['pb'],this[_0x2d2317(0x209)]=DataUtil[_0x2d2317(0x31c)]['getMetaGroup'](_0x187920),this[_0x2d2317(0x33b)]='',this[_0x2d2317(0x288)]=0x8,this[_0x2d2317(0x2bd)]=0x0,this[_0x2d2317(0x233)]='',this['_initSpellcasterData'](_0x187920),this[_0x2d2317(0x28b)](_0x187920),this['items']=[],this[_0x2d2317(0x2d1)]=[],this['postItemItemUpdates']=[];}[_0x4c8a9c(0x28b)](_0x5b6b52){const _0x42e722=_0x4c8a9c;if(!_0x5b6b52[_0x42e722(0x200)])return;_0x5b6b52[_0x42e722(0x200)][_0x42e722(0x221)](_0x596732=>DataConverterCreature['getParsedActionEntryData'](_0x5b6b52,_0x596732,this));}[_0x4c8a9c(0x338)](_0x51c04b){const _0x5a2719=_0x4c8a9c;if(_0x51c04b['spellcasting']){const _0xbe3c94=_0x51c04b[_0x5a2719(0x315)][_0x5a2719(0x232)](_0x4a0f1e=>_0x4a0f1e[_0x5a2719(0x2c5)]);if(_0xbe3c94[_0x5a2719(0x332)]){let _0x498f87=_0xbe3c94[0x0];if(_0xbe3c94['length']>0x1)switch(Config[_0x5a2719(0x2fc)](_0x5a2719(0x2b1),_0x5a2719(0x214))){case 0x1:{_0x498f87=_0xbe3c94[_0x5a2719(0x264)]((_0x28ac85,_0x295b28)=>{const _0xdf17b7=_0x5a2719,_0x47321c=this[_0xdf17b7(0x287)]['_getSpellCount'](_0x28ac85),_0x7d8e32=this[_0xdf17b7(0x287)][_0xdf17b7(0x320)](_0x295b28);return SortUtil[_0xdf17b7(0x276)](_0x7d8e32,_0x47321c);})[0x0];break;}case 0x2:{_0x498f87=_0xbe3c94[_0x5a2719(0x264)]((_0x4e5211,_0x41ed95)=>SortUtil[_0x5a2719(0x276)](Parser['getAbilityModNumber'](_0x51c04b[_0x41ed95[_0x5a2719(0x2c5)]]),Parser[_0x5a2719(0x22f)](_0x51c04b[_0x4e5211[_0x5a2719(0x2c5)]])))[0x0];break;}}const _0x1cb183=_0x498f87[_0x5a2719(0x2c5)],_0x5548e1=Parser[_0x5a2719(0x22f)](_0x51c04b[_0x1cb183]);this[_0x5a2719(0x33b)]=_0x1cb183,this['spellDc']=_0x5548e1+this['pb'];}this[_0x5a2719(0x2bd)]=_0x51c04b['spellcasting'][_0x5a2719(0x273)](_0x43bce8=>ImportListCreature[_0x5a2719(0x20c)](_0x43bce8))[_0x5a2719(0x229)](Boolean)||0x0,this['spellClass']=_0x51c04b[_0x5a2719(0x315)][_0x5a2719(0x273)](_0x183eb7=>ImportListCreature[_0x5a2719(0x285)](_0x183eb7))[_0x5a2719(0x229)](Boolean)||'';}}static[_0x4c8a9c(0x320)](_0x3ea5c0){const _0x575f14=_0x4c8a9c;let _0x1aa397=0x0;return JSON[_0x575f14(0x27e)](_0x3ea5c0)[_0x575f14(0x2cd)](/{@spell [^}]+}/g,()=>{return _0x1aa397++,'';}),_0x1aa397;}},ImportListCreature['ScaleRename']=class extends Application{constructor(_0x4148e8,_0x2e29d3,_0x4891d1){const _0x152059=_0x4c8a9c;super({'title':_0x152059(0x23b),'template':SharedConsts[_0x152059(0x2c0)]+_0x152059(0x2c7),'width':0x3c0,'height':Util[_0x152059(0x246)](),'resizable':!![]}),this['_dataList']=_0x4148e8,this[_0x152059(0x241)]=_0x2e29d3,this[_0x152059(0x2ba)]=_0x4891d1[_0x152059(0x2fa)],this['_list']=null,this[_0x152059(0x216)]=null;}[_0x4c8a9c(0x2ce)](){const _0x567c78=_0x4c8a9c;return{'titleSearch':this[_0x567c78(0x2ba)],'rows':this['_dataList'][_0x567c78(0x273)]((_0x507da7,_0x145110)=>({'name':_0x507da7['name'],'source':_0x507da7[_0x567c78(0x1de)],'sourceShort':Parser[_0x567c78(0x2be)](_0x507da7[_0x567c78(0x1de)]),'sourceLong':Parser['sourceJsonToFull'](_0x507da7[_0x567c78(0x1de)]),'sourceClassName':Parser[_0x567c78(0x267)](_0x507da7[_0x567c78(0x1de)]),'cr':Parser['monCrToFull'](_0x507da7['cr']),'isAdjustable':Parser[_0x567c78(0x1e1)](_0x507da7['cr'])<VeCt[_0x567c78(0x23a)],'ix':_0x145110}))};}['activateListeners'](_0x351025){const _0x511c4d=_0x4c8a9c;super['activateListeners'](_0x351025),this[_0x511c4d(0x1e5)]=new List({'$iptSearch':_0x351025[_0x511c4d(0x229)](_0x511c4d(0x337)),'$wrpList':_0x351025[_0x511c4d(0x229)](_0x511c4d(0x2cb)),'valueNames':[_0x511c4d(0x23c),_0x511c4d(0x1de),'cr','ix']}),SortUtil[_0x511c4d(0x2db)](_0x351025[_0x511c4d(0x229)](_0x511c4d(0x22a)),this[_0x511c4d(0x1e5)]),this[_0x511c4d(0x1e5)][_0x511c4d(0x26d)](this[_0x511c4d(0x1e7)],{'fnGetName':_0x2ba171=>_0x2ba171[_0x511c4d(0x23c)],'fnGetValues':_0x234470=>({'source':_0x234470[_0x511c4d(0x1de)],'cr':Parser[_0x511c4d(0x28a)](_0x234470['cr'])})}),this['_list']['init'](),this[_0x511c4d(0x216)]=_0x351025[_0x511c4d(0x229)](_0x511c4d(0x24a))[_0x511c4d(0x24e)](()=>{const _0x27d844=_0x511c4d;_0x351025['find']('.search')[_0x27d844(0x21e)]('');if(this['_list'])this[_0x27d844(0x1e5)][_0x27d844(0x2d0)]();}),_0x351025[_0x511c4d(0x229)]('[name=\x22btn-run\x22]')[_0x511c4d(0x24e)](async()=>{const _0x56c115=_0x511c4d,_0x9b3ef4=this['_list']['items']['map'](_0x535b7f=>{const _0x3a834c=_0x3b0c,_0x20646b=$(_0x535b7f[_0x3a834c(0x2a8)]),_0x59984c=_0x20646b[_0x3a834c(0x229)](_0x3a834c(0x309));return{'ix':_0x535b7f['ix'],'targetCr':_0x59984c[_0x3a834c(0x332)]?Number(_0x59984c[_0x3a834c(0x21e)]())===-0x1?null:Number(_0x59984c['val']()):null,'rename':_0x20646b[_0x3a834c(0x229)]('[name=\x22ipt-rename\x22]')[_0x3a834c(0x21e)]()[_0x3a834c(0x28d)]()};}),_0x4a7ed7=await Promise[_0x56c115(0x207)](_0x9b3ef4[_0x56c115(0x273)](async({ix:_0x25f8cf,targetCr:_0x741695,rename:_0x28d20a})=>{const _0x2b333d=_0x56c115;let _0x53b8a1=this[_0x2b333d(0x1e7)][_0x25f8cf];if(_0x741695!=null&&_0x741695!==Parser[_0x2b333d(0x1e1)](_0x53b8a1['cr']))_0x53b8a1=await ScaleCreature[_0x2b333d(0x2b3)](_0x53b8a1,_0x741695);if(_0x28d20a)_0x53b8a1=ImportListCreature[_0x2b333d(0x2ef)]['_getRenamedMon'](_0x53b8a1,_0x28d20a);return _0x53b8a1;}));this[_0x56c115(0x241)](_0x4a7ed7),this[_0x56c115(0x240)]();});if(this[_0x511c4d(0x216)])this[_0x511c4d(0x216)][_0x511c4d(0x24e)]();}static[_0x4c8a9c(0x305)](_0x3e1663,_0xff9762){const _0x43d729=_0x4c8a9c;ImportListCreature['ScaleRename'][_0x43d729(0x303)]=ImportListCreature[_0x43d729(0x2ef)]['_WALER_RENAME']||MiscUtil[_0x43d729(0x30c)](),_0x3e1663=MiscUtil['copy'](_0x3e1663);const _0x4aa640=_0xff9762[_0x43d729(0x2cd)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22'),_0x2efbf4=new RegExp('(^|[^a-zA-Z0-9])'+_0x3e1663[_0x43d729(0x23c)]['escapeRegexp']()+'([^a-zA-Z0-9]|$)','gi'),_0x3e63fc=_0x24245f=>{const _0x14a3b0=_0x43d729;_0x3e1663[_0x24245f]&&_0x3e1663[_0x24245f][_0x14a3b0(0x221)](_0x44e4d6=>{const _0x156519=_0x14a3b0;_0x44e4d6[_0x156519(0x326)]&&(_0x44e4d6['entries']=ImportListCreature[_0x156519(0x2ef)]['_WALER_RENAME'][_0x156519(0x297)](_0x44e4d6['entries'],{'string':_0x281a82=>_0x281a82[_0x156519(0x2cd)](_0x2efbf4,(..._0x5a72c5)=>''+_0x5a72c5[0x1]+_0x4aa640+_0x5a72c5[0x2])})),_0x44e4d6[_0x156519(0x255)]&&(_0x44e4d6[_0x156519(0x255)]=ImportListCreature['ScaleRename'][_0x156519(0x303)][_0x156519(0x297)](_0x44e4d6[_0x156519(0x255)],{'string':_0x2d8f3f=>_0x2d8f3f[_0x156519(0x2cd)](_0x2efbf4,(..._0x5dcd0c)=>''+_0x5dcd0c[0x1]+_0x4aa640+_0x5dcd0c[0x2])}));});};return _0x3e63fc(_0x43d729(0x200)),_0x3e63fc('bonus'),_0x3e63fc(_0x43d729(0x1e6)),_0x3e63fc('trait'),_0x3e63fc('legendary'),_0x3e63fc(_0x43d729(0x201)),_0x3e1663[_0x43d729(0x21c)]=_0xff9762,_0x3e1663;}async[_0x4c8a9c(0x240)](){const _0x412e1d=_0x4c8a9c;return this[_0x412e1d(0x241)](null),super[_0x412e1d(0x240)]();}},ImportListCreature[_0x4c8a9c(0x2ef)][_0x4c8a9c(0x303)]=null;export{ImportListCreature};