const _0x58d5=['_subclass_','<button\x20class=\x22btn-5et\x20veapp__btn-filter\x22>Filter</button>','STR_SEE_CONSOLE','floor','_ixClass','prepared','hover','toggleVe','mutateForFilters','Are\x20You\x20Sure?','con','skillProficiencies','full','getAbilityModNumber','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','usesPer','hasSourceJson','getTargetLevel','_spell_renderClassSection','ActorCharactermancer.classes','pUpdateActorCurrency','987940YbyoqM','DATA_URL_FEATS','feat_ixMaxRace','addClass','_renderFeatureOptionsSelects','.class_','addHookAbilityScores','MODE_MULTICLASS','common_cntFeatsCustom','_spell_handleFilterChange','cls','br-0','\x20(Race)','constructor','Spells','toMessage','getCasterProgressionMeta','val','notifications','_feat_addFeatSection','_state','feat_cntFeatsCustom','_filterValuesSpellsCache',')</div>','Building...','DATA_URL_BACKGROUNDS','getFeaturesGroupedByOptionsSet','<div\x20class=\x22bold\x20mb-2\x22>Subclass\x20Spells\x20(','_modalFilterRaces','set','_comp','_pHkChangeClass','expanded','defaultData','_pRender_renderTabBackground','Abilities','findIndex','currentLevel','custom','class_','cha','vulnerable','_pHandleSaveClick_pDoApplyToolProficiencies','bind','maxLearnedCantrips','propIxFeat','_feat_getActiveFeatIxProps','<button\x20class=\x22btn\x20btn-5et\x22\x20title=\x22Toggle\x20Filter\x20Summary\x20Display\x22><span\x20class=\x22glyphicon\x20glyphicon-resize-small\x22></span></button>','_compRaceDamageImmunity','_foundrySelectedLevelIndices','pIsNoChoice','<h2\x20class=\x22m-0\x20b-0\x20py-1\x22></h2>','terms','EVNT_VALCHANGE','copy','371ZorYOL','rows','_spell_getMaxPreparedSpells','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','isHpAvailable','_spell_getApproximateCantripProgression','_spell_getMaxLearnedCantrips','con_mod','Importing\x20spells...','decorate','_lastSearchTermSpells','_compAbility','_compSpellAdditionalSpellRace','colLabels','preparedSpells','actor','_class_renderClass','1TnihSS','appendTo','getExisting','_pRender','ActorCharactermancer.spells','_pRender_getFilterSearchMeta','ActorCharactermancer.races','Importing\x20feats...','_compsClassSkillProficiencies','_class_getMaxSpellLevel','_spell_renderFeatSections','class_totalLevels','mutateAndAddToFilters','pGetAllSpells','URL_TO_HASH_BUILDER','toLowerCase','flat','_compRaceSkillProficiencies','_feat_renderEntriesSection','$btnTab','_compBackgroundSkillProficiencies','pageFilter','doApplyFilterToFeatureEntries','/template/Charactermancer.handlebars','background','getAllFeatures','handleSearch','_CUR_LEVEL','background_ixBackground','_pLock','currency','Feat','str','MODULE_LOCATION','_modalFilterFeats','always','item','_filterBoxSpells','_spell_renderFeatSection','<hr\x20class=\x22hr-1\x22>','split','_proxyAssignSimple','5etools','Primary\x20Class','getFormDataAsi','_pHandleSaveClick_pDoApplySkills','_spell_getApproximateNumberCol','getTotals','pGetRaces','max','pPostLoad','_modalFilterClasses','_compBackgroundToolProficiencies','</div>','class_ixPrimaryClass','_class_getProps','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Language\x20Proficiencies</div>','PG_SPELLS','warn','_metaHksClassStgSubclass','equiSpecialSource','_compBackgroundLanguageProficiencies','addHookIxRace','Build\x20complete!','_modalFilterSpells','totals','uses','_spell_getApproximateSpellsKnownProgression','getMaxWindowHeight','isPrepared','_pHandleSaveClick_pDoApplyLanguageProficiencies','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Damage\x20Immunity</div>','maxPrepared','showVe','\x20(ASI)','Make\x20Primary','setProgress','getExistingProficiencies','_unlock','ActorCharactermancerSourceSelector_savedSelection','spellcastingAbility','abilityAbv','then','keys','roll','total','_subclass_ixSubclass','_pRender_renderTabClass','exec','race','sourceJson','spellLevelLow','_subclass','disabled','\x22\x20(originally\x20\x22','feats','\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span></button>','cantripProgression','<hr\x20class=\x22hr-1\x20w-100\x22>','pGetClasses','conditionImmune','_render_loading','sort','getMaxWindowWidth','Starting\x20Equipment','461457JOQPhO','Feats','startingEquipment','forEach','empty','<input\x20type=\x22search\x22\x20class=\x22search\x20w-100\x20form-control\x22\x20placeholder=\x22Find\x20spell...\x22>','error','race_','ability','feat_pulseChange','getImportableFeatures','_class_pRenderFeatureOptionsSelects','immune','Running\x20post-build\x20step...','form-control--error','_compsClassHpIncreaseMode','_mod$>','PG_FEATS','_tabs','text','DataSourceSpecial','_compEquipmentStartingDefault','startingProficiencies','onchange','pGetUserBoolean','stripTags','length','level','_class_getTotalLevels','_spell_isCasterClassAtLevel_additionalSpellsBlock','Imported\x20classes\x20and\x20subclasses.','_removeHookBase','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','Equipment\x20Shop','section','_compsSpellSpells','getValues','ascSort','OwnedItem','_modalFilterBackgrounds','_cbPostSave','_pRender_pRenderTabSpells','ActorCharactermancer.feats','3890717KQBlpc','Setting\x20ability\x20scores...','_foundryStartingProficiencyMode','836989FaAkVN','SKILL_TO_ATB_ABV','delete','6777kBCJpt','filter','bindTypingEnd','_pHandleSaveClick_pDoImportAdditionalSpells','data','class','_pHkChangeSubclass','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','_getTab','sourceJsonToAbv','_pageFilterSpells','_render_pRenderTabEquipmentStarting','stringify','Select\x20Sources','272412lCIAXD','getFilteredEntries','namespace','class_pulseChange','wis','pCacheAndGet','_spell_isCasterClassAtLevel','multiclassing','has','Race','__state','subclass','preparationMode','wis_mod','handleFilterChange','pRender','btn-sm','toolProficiencies','_TOTAL_TASKS','_render_pRenderTabEquipmentShop','PG_RACES','$iptSearch','Importing\x20classes\x20and\x20subclasses...','_pGate','Background','subclassTableGroups','_pRender_renderTabFeats','\x22)\x20as\x20a\x20number!','pImportEntry','classTableGroups','_spell_getMaxLearnedSpells','_spell_pRenderFilterBox','_foundryIsSkipImportPreparedSpells','_compRaceLanguageProficiencies','render','title','_foundryAllFeatures','setIxFeat','Build\x20Complete','Imported\x20race.','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>HP\x20Increase\x20Mode</div>','_feat_getProps','<div\x20class=\x22fltr__mini-view\x20btn-group\x22></div>','_compsSpellAdditionalSpellSubclass','Importing\x20background...','equipmentItemEntries','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','languageProficiencies','rolled_formula','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Tool\x20Proficiencies</div>','Imported\x20background.','ActorCharactermancer.spells_page','feat_ixMaxAbility','getCasterProgression','Imported\x20feats.','ActorCharactermancerSourceSelector_filter','Could\x20not\x20find\x20selected\x20class:\x20','spells\x20known','additionalSpells','_compEquipmentCurrency','_class_pRenderFeatureOptionsSelects_','resist','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Damage\x20Resistance</div>','_compRaceConditionImmunity','class_ixMax','spellLevelHigh','common_cntAsi','mergeMap','cbPostSave','$getSelSearchable','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20bl-0\x22\x20title=\x22Filter\x20for\x20a\x20','<$level$>\x20','_getDefaultState','setFeatures','_class_renderEntriesSection','get','append','innate','Imported\x20equipment.','entries','Set\x20ability\x20scores.','isPrimary','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Damage\x20Vulnerability</div>','languages','getCleanSearchTerm','skills','click','pGetFormData','<div\x20class=\x22flex-vh-center\x20w-100\x20h-100\x22><i>Loading...</i></div>','pGetItems','_data','ABIL_ABVS','startsWith','_spell_renderRaceSection','map','hideVe','933WolzwH','values','_spell_isClassCaster','info','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','pPreloadHidden','abilityChosen','filterBox','_CUR_SPELL_LEVEL','push','spell','MODE_PRIMARY','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Condition\x20Immunity</div>','casterProgression','result','_compsClassLevelSelect','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','_pGetClassData','_pRender_renderTabRace','uid','race_cntFeats','_compEquipmentShopGold','source','maxLearnedSpells','inherit','_compRaceDamageVulnerability','ability_cntFeats','targetLevel','race_ixRace','pGetSpellItem','Build\x20cancelled.','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btl-0\x20bbl-0\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span></button>','feat','some','/\x202\x20','_pGetSources','replace','unhook','_pLoad','Select\x20a\x20Feat','proficienciesGained','_compsSpellAdditionalSpellFeat','isStreamerMode','toolProf','_spell_isCasterClassAtLevel_additionalSpells','TaskRunner','_feat_renderFeat','feat_ixMaxCustom','background_','pInit','pImportEquipmentItemEntries','Imported\x20spells.','CASTER_TYPE_TO_PROGRESSION','pact','Component','pGetDereferencedSubclassData','SRD','_compsClassFeatureOptionsSelect','ixRace','_actor','Importing\x20equipment...','Unknown\x20variable\x20\x22','_roll_getRolledStats','_compRaceDamageResistance','modalTitle','toDisplay','includes','_class_getFilteredFeatures','[‒]','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','page','36AviWSg','_class_getPrimaryClass','state','name','_pRender_renderTabAbilities','_metaHksClassStgSkills','spells','_pHandleSaveClick_','_compRaceToolProficiencies','subclasses','[+]','trim','<button\x20class=\x22btn\x20btn-5et\x22>Finalize</button>','pHandleButtonClick','pGetUserSelection','isCancelled','_pHandleSaveClick','every','traits','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','pGetWithCache','mode','off','reduce','_addHookBase','$getHoverContent_stats','feat_','getFilteredFeatures'];const _0x1a02=function(_0x513de0,_0x5c92b6){_0x513de0=_0x513de0-0x1ee;let _0x58d5ad=_0x58d5[_0x513de0];return _0x58d5ad;};const _0x3e1241=_0x1a02;(function(_0x1f943c,_0x19f94e){const _0x2b7c97=_0x1a02;while(!![]){try{const _0x42562e=parseInt(_0x2b7c97(0x36d))*-parseInt(_0x2b7c97(0x2d6))+-parseInt(_0x2b7c97(0x37e))+-parseInt(_0x2b7c97(0x33f))+parseInt(_0x2b7c97(0x2c5))*-parseInt(_0x2b7c97(0x216))+-parseInt(_0x2b7c97(0x28e))+-parseInt(_0x2b7c97(0x370))*parseInt(_0x2b7c97(0x25d))+parseInt(_0x2b7c97(0x36a));if(_0x42562e===_0x19f94e)break;else _0x1f943c['push'](_0x1f943c['shift']());}catch(_0x5b3a06){_0x1f943c['push'](_0x1f943c['shift']());}}}(_0x58d5,0xb51ac));import{SharedConsts}from'../shared/SharedConsts.js';import{LGT,Util}from'./Util.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{ImportList}from'./ImportList.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{Charactermancer_SkillSelect,Charactermancer_LanguageSelect,Charactermancer_ToolSelect}from'./UtilCharactermancer.js';import{ImportListRace}from'./ImportListRace.js';import{Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect}from'./UtilCharactermancerRace.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{ImportListClass}from'./ImportListClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{ImportListBackground}from'./ImportListBackground.js';import{Charactermancer_Spell}from'./UtilCharactermancerSpell.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilActors}from'./UtilActors.js';import{ImportListFeat}from'./ImportListFeat.js';import{UtilApplications}from'./UtilApplications.js';class ActorCharactermancerSourceSelector extends AppSourceSelectorMulti{static async[_0x3e1241(0x26a)](_0x247ee8,_0x5b68f7,_0xd2fb9f,_0x5539b6){const _0xf78bd8=_0x3e1241,_0x1df6cf=await this[_0xf78bd8(0x239)](),_0x4583eb=new ActorCharactermancerSourceSelector({'title':_0xf78bd8(0x37d),'filterNamespace':_0xf78bd8(0x3b5),'savedSelectionKey':_0xf78bd8(0x325),'sourcesToDisplay':_0x1df6cf});_0x4583eb[_0xf78bd8(0x3a0)](!![]);const _0x8db0ab=await _0x4583eb['pWaitForUserInput']();if(_0x8db0ab==null)return;const _0x5f0cc3=new ActorCharactermancer({'actor':_0x5b68f7['actor'],'data':_0x8db0ab});_0x5f0cc3['render'](!![]);}static async['_pGetSources'](){const _0x1acf9a=_0x3e1241;return[new ImportList[(_0x1acf9a(0x353))](Config[_0x1acf9a(0x201)]('ui',_0x1acf9a(0x240))?_0x1acf9a(0x24e):'5etools',async()=>{const _0x4cc39f=_0x1acf9a,_0xe80eed={},[_0x475041,_0x3f8aff,_0x4a2136,_0x1f44a4,_0x51117a,_0x30b2d2]=await Promise['all']([this[_0x4cc39f(0x227)](),Vetools[_0x4cc39f(0x306)](),Vetools[_0x4cc39f(0x271)](Vetools[_0x4cc39f(0x2a7)]),Vetools[_0x4cc39f(0x20f)](),Vetools[_0x4cc39f(0x2e3)](),Vetools[_0x4cc39f(0x271)](Vetools[_0x4cc39f(0x28f)])]);return _0xe80eed['class']=MiscUtil[_0x4cc39f(0x2c4)](_0x475041[_0x4cc39f(0x375)]),_0xe80eed[_0x4cc39f(0x375)][_0x4cc39f(0x342)](_0x523e95=>PageFilterClasses[_0x4cc39f(0x281)](_0x523e95)),_0xe80eed[_0x4cc39f(0x32f)]=MiscUtil[_0x4cc39f(0x2c4)](_0x3f8aff['race']),_0xe80eed[_0x4cc39f(0x32f)][_0x4cc39f(0x342)](_0x35a89a=>PageFilterRaces[_0x4cc39f(0x281)](_0x35a89a)),_0xe80eed[_0x4cc39f(0x2ee)]=_0x4a2136[_0x4cc39f(0x2ee)],_0xe80eed[_0x4cc39f(0x2fa)]=_0x1f44a4[_0x4cc39f(0x2fa)],_0xe80eed[_0x4cc39f(0x220)]=_0x51117a[_0x4cc39f(0x220)],_0xe80eed[_0x4cc39f(0x236)]=_0x30b2d2['feat'],_0xe80eed;},{'cacheKey':_0x1acf9a(0x300),'filterTypes':[ImportList['SOURCE_TYP_OFFICIAL_ALL']],'isDefault':!![]})];}static async[_0x3e1241(0x227)](){const _0x2056c6=_0x3e1241,_0x3af863=await Vetools[_0x2056c6(0x339)]();return{'class':await PageFilterClassesFoundry[_0x2056c6(0x308)](_0x3af863)};}}class StatGenUiCharactermancer extends StatGenUi{[_0x3e1241(0x254)](){const _0x1cb087=_0x3e1241;try{const _0x5acacf=new Roll(this[_0x1cb087(0x2a2)][_0x1cb087(0x3ae)]);_0x5acacf[_0x1cb087(0x32a)]();}catch(_0x4abe2f){return this['_$rollIptFormula'][_0x1cb087(0x291)](_0x1cb087(0x34d));}const _0x400380=[];for(let _0x29ca2d=0x0;_0x29ca2d<this['_state']['rolled_rollCount'];_0x29ca2d++){const _0x16cf9b=new Roll(this[_0x1cb087(0x2a2)]['rolled_formula']);_0x16cf9b[_0x1cb087(0x32a)](),_0x400380['push'](_0x16cf9b),_0x16cf9b[_0x1cb087(0x29d)]();}return _0x400380['sort']((_0x36f1be,_0x52069d)=>SortUtil[_0x1cb087(0x364)](_0x52069d[_0x1cb087(0x32b)],_0x36f1be[_0x1cb087(0x32b)])),_0x400380[_0x1cb087(0x214)](_0x2587b9=>({'total':_0x2587b9[_0x1cb087(0x32b)],'text':(_0x2587b9?.[_0x1cb087(0x2c2)]||[])[_0x1cb087(0x214)](_0x10cec4=>(_0x10cec4?.['results']||[])['map'](_0x26d22f=>'['+(_0x26d22f[_0x1cb087(0x224)]||'‒')+']')['join']('+'))}));}}class ActorCharactermancer extends Application{constructor(_0xc04f8a){const _0x4ef9cc=_0x3e1241;_0xc04f8a=_0xc04f8a||{},super({'title':'Charactermancer','template':SharedConsts[_0x4ef9cc(0x2f7)]+_0x4ef9cc(0x2ed),'width':Util[_0x4ef9cc(0x33d)](0x4b0),'height':Util[_0x4ef9cc(0x31a)](),'resizable':!![]});const _0x4f1fb2={};_0xc04f8a[_0x4ef9cc(0x374)][_0x4ef9cc(0x342)](_0x17eaa0=>{const _0x3690d0=_0x4ef9cc;Object[_0x3690d0(0x205)](_0x17eaa0)[_0x3690d0(0x342)](([_0x50841a,_0x1b3729])=>{const _0x459d25=_0x3690d0;if(_0x4f1fb2[_0x50841a])_0x4f1fb2[_0x50841a]=[..._0x4f1fb2[_0x50841a],MiscUtil[_0x459d25(0x2c4)](_0x1b3729)];else _0x4f1fb2[_0x50841a]=MiscUtil[_0x459d25(0x2c4)](_0x1b3729);});}),this[_0x4ef9cc(0x2ac)]=new ActorCharactermancer[(_0x4ef9cc(0x24c))]({'actor':_0xc04f8a[_0x4ef9cc(0x2d4)],'data':_0x4f1fb2});}['activateListeners'](_0x28e07c){const _0x3a996f=_0x3e1241;this[_0x3a996f(0x2ac)]['render'](_0x28e07c);}}ActorCharactermancer[_0x3e1241(0x24c)]=class extends BaseComponent{constructor(_0xc1b3c9){const _0x516a5b=_0x3e1241;_0xc1b3c9=_0xc1b3c9||{},super(),TabUiUtil[_0x516a5b(0x2ce)](this),this[_0x516a5b(0x251)]=_0xc1b3c9[_0x516a5b(0x2d4)],this[_0x516a5b(0x210)]=_0xc1b3c9['data'],this[_0x516a5b(0x367)]=_0xc1b3c9[_0x516a5b(0x1fa)],this[_0x516a5b(0x351)]=['Class','Race',_0x516a5b(0x2b1),_0x516a5b(0x396),_0x516a5b(0x33e),_0x516a5b(0x360),_0x516a5b(0x29c),_0x516a5b(0x340)][_0x516a5b(0x214)]((_0x2bfc52,_0x5edebe)=>this[_0x516a5b(0x378)](_0x5edebe,_0x2bfc52,{'hasBorder':!![],'stateObj':this['_state']})),this[_0x516a5b(0x2aa)]=new ModalFilterRaces({'namespace':_0x516a5b(0x2dc),'isRadio':!![],'allData':this[_0x516a5b(0x210)][_0x516a5b(0x32f)]}),this[_0x516a5b(0x2e7)]=null,this[_0x516a5b(0x39f)]=null,this[_0x516a5b(0x265)]=null,this[_0x516a5b(0x2be)]=null,this[_0x516a5b(0x255)]=null,this['_compRaceDamageVulnerability']=null,this[_0x516a5b(0x1f5)]=null,this[_0x516a5b(0x309)]=new ModalFilterClasses({'namespace':_0x516a5b(0x28c)}),this[_0x516a5b(0x311)]=[],this[_0x516a5b(0x34e)]=[],this[_0x516a5b(0x225)]=[],this['_compsClassFeatureOptionsSelect']=[],this['_compsClassSkillProficiencies']=[],this[_0x516a5b(0x262)]=[],this['_modalFilterBackgrounds']=new ModalFilterBackgrounds({'namespace':'ActorCharactermancer.backgrounds','isRadio':!![],'allData':this['_data'][_0x516a5b(0x2ee)]}),this[_0x516a5b(0x2ea)]=null,this['_compBackgroundLanguageProficiencies']=null,this[_0x516a5b(0x30a)]=null;const {compCurrency:_0x3f449f,compDefault:_0xcc1241,compGold:_0x39f739}=Charactermancer_StartingEquipment['getComponents'](this[_0x516a5b(0x251)],{'itemDatas':this[_0x516a5b(0x210)][_0x516a5b(0x2fa)]});this[_0x516a5b(0x1f0)]=_0x3f449f,this['_compEquipmentStartingDefault']=_0xcc1241,this[_0x516a5b(0x22b)]=_0x39f739,this['_pageFilterSpells']=new PageFilterSpells(),this[_0x516a5b(0x316)]=new ModalFilterSpells({'namespace':_0x516a5b(0x2da),'isRadio':!![],'allData':this[_0x516a5b(0x210)][_0x516a5b(0x220)]}),this[_0x516a5b(0x2a4)]=null,this[_0x516a5b(0x2fb)]=null,this[_0x516a5b(0x2cf)]='',this[_0x516a5b(0x362)]=[],this[_0x516a5b(0x2d1)]=null,this['_compsSpellAdditionalSpellSubclass']=[],this['_compsSpellAdditionalSpellFeat']={'ability':[],'race':[],'custom':[]},this[_0x516a5b(0x2f8)]=new ModalFilterFeats({'namespace':_0x516a5b(0x369),'isRadio':!![],'allData':this[_0x516a5b(0x210)]['feat']}),this['_compAbility']=null;}[_0x3e1241(0x3a0)](_0x48c5ee){const _0x29d2d4=_0x3e1241;this[_0x29d2d4(0x33b)](_0x48c5ee),this[_0x29d2d4(0x23c)]()['then'](()=>this['_pRender'](_0x48c5ee))['catch'](_0x4dff3d=>{const _0x16a01f=_0x29d2d4;ui[_0x16a01f(0x2a0)][_0x16a01f(0x345)]('Failed\x20to\x20load!\x20'+VeCt[_0x16a01f(0x27b)]);throw _0x4dff3d;});}['_render_loading'](_0x389535){const _0x47a6d8=_0x3e1241;_0x389535[_0x47a6d8(0x202)](_0x47a6d8(0x20e));}async[_0x3e1241(0x23c)](){const _0xb6c93c=_0x3e1241;await this[_0xb6c93c(0x2aa)][_0xb6c93c(0x21b)](),await this[_0xb6c93c(0x366)][_0xb6c93c(0x21b)](),await this[_0xb6c93c(0x309)][_0xb6c93c(0x21b)](),await this[_0xb6c93c(0x316)][_0xb6c93c(0x21b)](),await this[_0xb6c93c(0x2f8)][_0xb6c93c(0x21b)]();}async[_0x3e1241(0x2d9)](_0x3febfe){const _0x3b7a67=_0x3e1241;_0x3febfe[_0x3b7a67(0x343)]();const _0x158c65=$(_0x3b7a67(0x269))[_0x3b7a67(0x20c)](()=>this[_0x3b7a67(0x26d)]());$$`<div class="w-100 no-shrink ui-tab__wrp-tab-heads--border">
			${this[_0x3b7a67(0x351)][_0x3b7a67(0x214)](_0x23fe78=>_0x23fe78[_0x3b7a67(0x2e9)]['addClass'](_0x3b7a67(0x38e)))}
		</div>`[_0x3b7a67(0x2d7)](_0x3febfe),this[_0x3b7a67(0x351)][_0x3b7a67(0x342)](_0x5b0dd9=>_0x5b0dd9['$wrpTab'][_0x3b7a67(0x2d7)](_0x3febfe)),_0x3febfe[_0x3b7a67(0x202)](_0x3b7a67(0x338)),$$`<div class="w-100 no-shrink flex-h-right pr-3">${_0x158c65}</div>`[_0x3b7a67(0x2d7)](_0x3febfe);const [_0x3e7452,_0x150ecd,_0x588f02,_0x2a802f,_0x572516,_0xb23913,_0x46c0f4,_0x1522d8]=this[_0x3b7a67(0x351)][_0x3b7a67(0x214)](_0x4d8c3c=>_0x4d8c3c['$wrpTab']);this[_0x3b7a67(0x32d)](_0x3e7452),this['_pRender_renderTabRace'](_0x150ecd),this[_0x3b7a67(0x261)](_0x588f02),this[_0x3b7a67(0x2b0)](_0x2a802f),await this[_0x3b7a67(0x37b)](_0x572516),await this['_render_pRenderTabEquipmentShop'](_0xb23913),await this[_0x3b7a67(0x368)](_0x46c0f4),this['_pRender_renderTabFeats'](_0x1522d8);}[_0x3e1241(0x32d)](_0x5cf036){const _0x3566b2=_0x3e1241,_0x17ec8e=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x18f1f9=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x534e91=0x0;_0x534e91<this[_0x3566b2(0x2a2)]['class_ixMax']+0x1;++_0x534e91)this[_0x3566b2(0x2d5)](_0x17ec8e,_0x18f1f9,_0x534e91);this[_0x3566b2(0x275)](_0x3566b2(0x30c),()=>this[_0x3566b2(0x2a2)][_0x3566b2(0x381)]=!this[_0x3566b2(0x2a2)]['class_pulseChange']);const _0x4663d8=$('<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>')[_0x3566b2(0x20c)](()=>{const _0x344f01=_0x3566b2;this[_0x344f01(0x2d5)](_0x17ec8e,_0x18f1f9,++this[_0x344f01(0x2a2)][_0x344f01(0x1f6)]);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x17ec8e}
				<div class="mt-2">${_0x4663d8}</div>
			</div>
			<div class="vr-1"></div>
			${_0x18f1f9}
		</div>`[_0x3566b2(0x2d7)](_0x5cf036);}[_0x3e1241(0x2db)]({prop:_0x44e62a,data:_0x22adfe,modalFilter:_0x5974ca,title:_0x34301f}){const _0x2d569b=_0x3e1241,{$wrp:_0x34ac39,fnUpdateHidden:_0x1b3e3b}=ComponentUiUtil[_0x2d569b(0x1fb)](this,_0x44e62a,{'values':_0x22adfe[_0x2d569b(0x214)]((_0x1b8c83,_0x4e6519)=>_0x4e6519),'isAllowNull':!![],'fnDisplay':_0x2c413f=>{const _0x18dea7=_0x2d569b,_0x3a5cce=_0x22adfe[_0x2c413f];return _0x3a5cce[_0x18dea7(0x260)]+'\x20'+(_0x3a5cce[_0x18dea7(0x22c)]!==SRC_PHB?'['+Parser[_0x18dea7(0x379)](_0x3a5cce[_0x18dea7(0x22c)])+']':'');},'asMeta':!![]}),_0x26a7de=()=>{const _0x461092=_0x2d569b,_0x87bdfa=_0x5974ca[_0x461092(0x2eb)][_0x461092(0x21d)][_0x461092(0x363)](),_0x49260c=_0x22adfe[_0x461092(0x214)](_0x12feae=>!_0x5974ca['pageFilter'][_0x461092(0x257)](_0x87bdfa,_0x12feae));_0x1b3e3b(_0x49260c,![]);};_0x5974ca[_0x2d569b(0x2eb)][_0x2d569b(0x21d)]['on'](FilterBox[_0x2d569b(0x2c3)],()=>_0x26a7de()),_0x26a7de();const _0x60eb3f=$(_0x2d569b(0x1fc)+_0x34301f+_0x2d569b(0x336))['click'](async()=>{const _0x233b69=_0x2d569b,_0x1457f4=await _0x5974ca['pGetUserSelection']();if(_0x1457f4==null||!_0x1457f4['length'])return;const _0x326966=_0x1457f4[0x0],_0x4d97af=_0x22adfe[_0x233b69(0x2b2)](_0x4acd02=>_0x4acd02[_0x233b69(0x260)]===_0x326966['name']&&_0x4acd02['source']===_0x326966[_0x233b69(0x217)][_0x233b69(0x330)]);if(!~_0x4d97af)throw new Error('Could\x20not\x20find\x20selected\x20entity:\x20'+JSON[_0x233b69(0x37c)](_0x326966));this[_0x233b69(0x2a2)][_0x44e62a]=_0x4d97af;});return{'$sel':_0x34ac39,'$btnFilter':_0x60eb3f};}static['_class_getProps'](_0x2834dc){const _0x1bffb3=_0x3e1241;return{'propPrefixClass':_0x1bffb3(0x2b5)+_0x2834dc+'_','propIxClass':_0x1bffb3(0x2b5)+_0x2834dc+_0x1bffb3(0x27d),'propPrefixSubclass':_0x1bffb3(0x2b5)+_0x2834dc+_0x1bffb3(0x279),'propIxSubclass':_0x1bffb3(0x2b5)+_0x2834dc+_0x1bffb3(0x32c),'propCntAsi':_0x1bffb3(0x2b5)+_0x2834dc+'_cntAsi','propTargetLevel':'class_'+_0x2834dc+'_targetLevel'};}[_0x3e1241(0x25e)](){const _0x120c93=_0x3e1241;if(this['_state'][_0x120c93(0x30c)])return null;const {propIxClass:_0x556b75}=ActorCharactermancer['Component'][_0x120c93(0x30d)](this[_0x120c93(0x2a2)][_0x120c93(0x30c)]);return this[_0x120c93(0x210)]['class'][this[_0x120c93(0x2a2)][_0x556b75]];}[_0x3e1241(0x259)](_0x13cb24,_0x489646){const _0x409fed=_0x3e1241;if(!_0x13cb24)return[];return _0x13cb24=MiscUtil['copy'](_0x13cb24),_0x13cb24[_0x409fed(0x266)]=[_0x489646][_0x409fed(0x371)](Boolean),Charactermancer_Class_Util[_0x409fed(0x278)](Charactermancer_Class_Util[_0x409fed(0x2ef)](_0x13cb24),this[_0x409fed(0x309)][_0x409fed(0x2eb)],this[_0x409fed(0x309)][_0x409fed(0x2eb)][_0x409fed(0x21d)]['getValues']());}async[_0x3e1241(0x34a)](_0xe4d20d){const _0x125b16=_0x3e1241,{lockRenderFeatureOptionsSelects:_0x5e5612}=_0xe4d20d;try{return await this['_pLock'](_0x5e5612),this[_0x125b16(0x1f1)](_0xe4d20d);}finally{this[_0x125b16(0x324)](_0x5e5612);}}async[_0x3e1241(0x1f1)]({ix:_0x4c4088,propCntAsi:_0x13cd4c,filteredFeatures:_0x5ef8ae,$stgFeatureOptions:_0x5d06a9}){const _0x133b08=_0x3e1241;_0x5d06a9[_0x133b08(0x343)]();const _0x439b3c=Charactermancer_Class_Util[_0x133b08(0x349)](_0x5ef8ae),_0x377c3d=MiscUtil[_0x133b08(0x2c4)](_0x439b3c);Charactermancer_Class_Util[_0x133b08(0x2ec)](_0x377c3d,this[_0x133b08(0x309)]['pageFilter'],this[_0x133b08(0x309)][_0x133b08(0x2eb)][_0x133b08(0x21d)][_0x133b08(0x363)]());const _0x595fce=Charactermancer_Class_Util[_0x133b08(0x2a8)](_0x377c3d),_0x35ab65=this[_0x133b08(0x225)][_0x4c4088]?Math['max'](...await this[_0x133b08(0x225)][_0x4c4088][_0x133b08(0x20d)]()[_0x133b08(0x374)])+0x1:0x0;let _0x1ee3ed=0x0;this[_0x133b08(0x24f)][_0x4c4088]=[];for(const _0x2e0dfe of _0x595fce){const {topLevelFeature:_0x5d5b8e,optionsSets:_0x4ec1ee}=_0x2e0dfe;if(_0x5d5b8e['level']>_0x35ab65)continue;const _0x57c638=_0x5d5b8e['name'][_0x133b08(0x2e5)]();if(_0x57c638==='ability\x20score\x20improvement'){_0x1ee3ed++;continue;}for(const _0xe45671 of _0x4ec1ee){const _0x39e310=new Charactermancer_Class_FeatureOptionsSelect({'actor':this[_0x133b08(0x251)],'optionsSet':_0xe45671,'level':_0x5d5b8e[_0x133b08(0x35a)]});this[_0x133b08(0x24f)][_0x4c4088][_0x133b08(0x21f)](_0x39e310);}}this[_0x133b08(0x2a2)][_0x13cd4c]=_0x1ee3ed;const _0x2729e9=await this[_0x133b08(0x24f)][_0x4c4088]['pSerialAwaitMap'](_0x58b4a1=>_0x58b4a1[_0x133b08(0x2c0)]()),_0x2a292f=!!_0x2729e9[_0x133b08(0x371)](_0x4db097=>!_0x4db097)[_0x133b08(0x359)];if(_0x2a292f){_0x5d06a9['showVe']();for(const _0xf62c34 of this[_0x133b08(0x24f)][_0x4c4088]){!await _0xf62c34[_0x133b08(0x2c0)]()&&(_0x5d06a9[_0x133b08(0x202)](_0x133b08(0x3ac)+_0xf62c34[_0x133b08(0x256)]+'</div>'),_0xf62c34[_0x133b08(0x3a0)](_0x5d06a9));}}}[_0x3e1241(0x200)](_0x3edfb5,_0x1d7bfd,_0x19d390){const _0x544f79=_0x3e1241,_0x55e252=$('<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x544f79(0x20c)](()=>{const _0x203c1d=_0x544f79;_0x55e252[_0x203c1d(0x352)](_0x55e252[_0x203c1d(0x352)]()===_0x203c1d(0x267)?'[‒]':_0x203c1d(0x267)),_0x217a92[_0x203c1d(0x280)]();}),_0x217a92=Renderer['hover']['$getHoverContent_generic'](_0x19d390);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x1d7bfd||'')['qq']()}</div></div>
				${_0x55e252}
			</div>
			${_0x217a92}
		</div>`[_0x544f79(0x2d7)](_0x3edfb5);}['_class_getTotalLevels'](){const _0x583aab=_0x3e1241;return this[_0x583aab(0x225)][_0x583aab(0x371)](Boolean)[_0x583aab(0x214)](_0x503e73=>_0x503e73[_0x583aab(0x28a)]())[_0x583aab(0x274)]((_0x175bde,_0x2ad3e0)=>_0x175bde+_0x2ad3e0,0x0);}['_class_getMaxSpellLevel'](){const _0x1e8f5a=_0x3e1241,_0x2b1c37=[];for(let _0x7fc943=0x0;_0x7fc943<this[_0x1e8f5a(0x2a2)][_0x1e8f5a(0x1f6)]+0x1;++_0x7fc943){const {propIxClass:_0x45f45f,propIxSubclass:_0x41781f,propTargetLevel:_0x1a08b5}=ActorCharactermancer[_0x1e8f5a(0x24c)][_0x1e8f5a(0x30d)](_0x7fc943),_0x383eca=this[_0x1e8f5a(0x210)][_0x1e8f5a(0x375)][this[_0x1e8f5a(0x2a2)][_0x45f45f]],_0x1448fa=this['_state'][_0x41781f]!=null?_0x383eca['subclasses'][this[_0x1e8f5a(0x2a2)][_0x41781f]]:null;if(!_0x383eca)continue;const _0x5ceaa1=this[_0x1e8f5a(0x2a2)][_0x1a08b5];let _0x2e2626=_0x383eca[_0x1e8f5a(0x223)]||_0x1448fa?.[_0x1e8f5a(0x223)];if(_0x2e2626){const _0x4b17ce=UtilActors[_0x1e8f5a(0x24a)][_0x383eca['casterProgression']];if(!_0x4b17ce)continue;const _0x5aa952=_0x4b17ce[_0x5ceaa1-0x1];if(_0x5aa952)_0x2b1c37[_0x1e8f5a(0x21f)](_0x5aa952['filter'](Boolean)[_0x1e8f5a(0x359)]);}}return Math[_0x1e8f5a(0x307)](..._0x2b1c37);}[_0x3e1241(0x2d5)](_0x526807,_0x232fcc,_0x122dff){const _0x2f36bc=_0x3e1241,{propPrefixClass:_0x3a2d86,propIxClass:_0x38760f,propPrefixSubclass:_0x342631,propIxSubclass:_0x315abc,propCntAsi:_0x130023,propTargetLevel:_0x2f900d}=ActorCharactermancer[_0x2f36bc(0x24c)]['_class_getProps'](_0x122dff),_0x56ffe9=FilterBox[_0x2f36bc(0x2c3)]+'.class_'+_0x122dff+'_classLevels',_0x3691ac=FilterBox[_0x2f36bc(0x2c3)]+_0x2f36bc(0x293)+_0x122dff+_0x2f36bc(0x332),_0x345cbc=_0x2f36bc(0x2b5)+_0x122dff+_0x2f36bc(0x2ad),_0x292fd0=_0x2f36bc(0x2b5)+_0x122dff+_0x2f36bc(0x376),_0x1dfe35='class_'+_0x122dff+_0x2f36bc(0x292);this['_addHookBase'](_0x38760f,()=>this['_state'][_0x2f36bc(0x381)]=!this[_0x2f36bc(0x2a2)][_0x2f36bc(0x381)]);const {$wrp:_0x1dd2c3,$iptDisplay:_0x20fa38,$iptSearch:_0x5acf50,fnUpdateHidden:_0x46a146}=ComponentUiUtil[_0x2f36bc(0x1fb)](this,_0x38760f,{'values':this[_0x2f36bc(0x210)][_0x2f36bc(0x375)][_0x2f36bc(0x214)]((_0x132c2d,_0x1f3dc5)=>_0x1f3dc5),'isAllowNull':!![],'fnDisplay':_0x7f7e5d=>{const _0x5be134=_0x2f36bc,_0x30b9eb=this['_data'][_0x5be134(0x375)][_0x7f7e5d];return _0x30b9eb[_0x5be134(0x260)]+'\x20'+(_0x30b9eb[_0x5be134(0x22c)]!==SRC_PHB?'['+Parser[_0x5be134(0x379)](_0x30b9eb[_0x5be134(0x22c)])+']':'');},'asMeta':!![]});_0x20fa38[_0x2f36bc(0x291)](_0x2f36bc(0x299)),_0x5acf50[_0x2f36bc(0x291)]('br-0');const _0x1fc7e4=()=>{const _0x531286=_0x2f36bc,_0x270d8d=this[_0x531286(0x309)][_0x531286(0x2eb)][_0x531286(0x21d)]['getValues'](),_0x2dfb29=this[_0x531286(0x210)][_0x531286(0x375)][_0x531286(0x214)](_0x2db7c4=>!this[_0x531286(0x309)][_0x531286(0x2eb)][_0x531286(0x257)](_0x270d8d,_0x2db7c4));_0x46a146(_0x2dfb29,![]);},_0x3c0a33=()=>{const _0x1e8276=_0x2f36bc,_0x35857e=this[_0x1e8276(0x210)]['class'][this[_0x1e8276(0x2a2)][_0x38760f]];if(!_0x35857e||!_0xeaeec5)return;const _0x4ccf5a=this[_0x1e8276(0x309)][_0x1e8276(0x2eb)][_0x1e8276(0x21d)]['getValues'](),_0x560caa=_0x35857e[_0x1e8276(0x266)][_0x1e8276(0x214)](_0x1c2dd6=>!this[_0x1e8276(0x309)]['pageFilter'][_0x1e8276(0x257)](_0x4ccf5a,_0x1c2dd6));_0xeaeec5['fnUpdateHidden'](_0x560caa,![]);};let _0xeaeec5;this[_0x2f36bc(0x309)][_0x2f36bc(0x2eb)][_0x2f36bc(0x21d)]['on'](FilterBox[_0x2f36bc(0x2c3)],()=>_0x1fc7e4()),_0x1fc7e4();const _0x17441c=$(_0x2f36bc(0x235))[_0x2f36bc(0x20c)](async()=>{const _0x38fa2e=_0x2f36bc,_0xe2d2a=await this[_0x38fa2e(0x309)][_0x38fa2e(0x26b)]();if(_0xe2d2a==null||!_0xe2d2a['class'])return;const _0x20ba36=this[_0x38fa2e(0x210)][_0x38fa2e(0x375)][_0x38fa2e(0x2b2)](_0x57081c=>_0x57081c[_0x38fa2e(0x260)]===_0xe2d2a['class'][_0x38fa2e(0x260)]&&_0x57081c[_0x38fa2e(0x22c)]===_0xe2d2a[_0x38fa2e(0x375)][_0x38fa2e(0x22c)]);if(!~_0x20ba36)throw new Error(_0x38fa2e(0x3b6)+JSON[_0x38fa2e(0x37c)](_0xe2d2a[_0x38fa2e(0x375)]));this[_0x38fa2e(0x2a2)][_0x38760f]=_0x20ba36,await this[_0x38fa2e(0x395)](_0x345cbc);if(_0xe2d2a[_0x38fa2e(0x389)]!=null){const _0x2e29e7=this['_data']['class'][_0x20ba36],_0x278fd6=_0x2e29e7[_0x38fa2e(0x266)][_0x38fa2e(0x2b2)](_0x4577cd=>_0x4577cd['name']===_0xe2d2a[_0x38fa2e(0x389)]['name']&&_0x4577cd[_0x38fa2e(0x22c)]===_0xe2d2a[_0x38fa2e(0x389)][_0x38fa2e(0x22c)]);if(!~_0x278fd6)throw new Error('Could\x20not\x20find\x20selected\x20subclass:\x20'+JSON[_0x38fa2e(0x37c)](_0xe2d2a[_0x38fa2e(0x389)]));this['_state'][_0x315abc]=_0x278fd6;}else this[_0x38fa2e(0x2a2)][_0x315abc]=null;}),_0x2b850e=async()=>{const _0xdd6090=_0x2f36bc;this[_0xdd6090(0x309)][_0xdd6090(0x2eb)][_0xdd6090(0x21d)][_0xdd6090(0x273)](_0x3691ac);const _0x2519c2=Object[_0xdd6090(0x329)](this['__state'])['filter'](_0x11efec=>_0x11efec[_0xdd6090(0x212)](_0x3a2d86)&&_0x11efec!==_0x38760f)['mergeMap'](_0xf6d483=>({[_0xf6d483]:null}));this[_0xdd6090(0x2ff)]('state',_0x2519c2);const _0x3c3f72=this['_data'][_0xdd6090(0x375)][this[_0xdd6090(0x2a2)][_0x38760f]],_0x302f6c=_0x3c3f72?.[_0xdd6090(0x266)]?.[this[_0xdd6090(0x2a2)][_0x315abc]];_0x467aa3['empty']();if(this['_metaHksClassStgSubclass'][_0x122dff])this[_0xdd6090(0x311)][_0x122dff][_0xdd6090(0x23b)]();if(_0x3c3f72&&_0x3c3f72[_0xdd6090(0x266)]&&_0x3c3f72[_0xdd6090(0x266)][_0xdd6090(0x359)]){_0xeaeec5=ComponentUiUtil[_0xdd6090(0x1fb)](this,_0x315abc,{'values':_0x3c3f72[_0xdd6090(0x266)][_0xdd6090(0x214)]((_0x1e3a69,_0x2757a9)=>_0x2757a9),'isAllowNull':!![],'fnDisplay':_0x5cffbc=>{const _0x3961fe=_0xdd6090,_0x3e18cc=_0x3c3f72['subclasses'][_0x5cffbc];return _0x3e18cc[_0x3961fe(0x260)]+'\x20'+(_0x3e18cc[_0x3961fe(0x22c)]!==SRC_PHB?'['+Parser[_0x3961fe(0x379)](_0x3e18cc['source'])+']':'');},'asMeta':!![]}),_0xeaeec5['$iptDisplay'][_0xdd6090(0x291)]('br-0'),_0xeaeec5[_0xdd6090(0x393)]['addClass'](_0xdd6090(0x299)),this[_0xdd6090(0x309)][_0xdd6090(0x2eb)][_0xdd6090(0x21d)]['on'](_0x3691ac,()=>_0x3c0a33()),_0x3c0a33();const _0x31b9df=$$`<div class="flex-col w-100 mt-1">
					<div class="mb-1">Select a Subclass</div>
					${_0xeaeec5['$wrp']}
				</div>`;_0x467aa3[_0xdd6090(0x31f)]()[_0xdd6090(0x202)](_0x31b9df),this[_0xdd6090(0x311)][_0x122dff]=_0xeaeec5;}else _0x467aa3['hideVe'](),this['_metaHksClassStgSubclass'][_0x122dff]=null;_0x2ed2df[_0xdd6090(0x343)]();_0x3c3f72&&Charactermancer_Class_HpIncreaseModeSelect[_0xdd6090(0x2c9)](_0x3c3f72)?(_0x2ed2df[_0xdd6090(0x31f)]()[_0xdd6090(0x202)](_0xdd6090(0x3a6)),this['_compsClassHpIncreaseMode'][_0x122dff]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0xdd6090(0x34e)][_0x122dff][_0xdd6090(0x3a0)](_0x2ed2df)):(_0x2ed2df['hideVe'](),this[_0xdd6090(0x34e)][_0x122dff]=null);_0x31fe40['empty']();if(_0x3c3f72){_0x31fe40[_0xdd6090(0x31f)]()[_0xdd6090(0x202)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>');const _0x29ac5a=this[_0xdd6090(0x259)](_0x3c3f72,_0x302f6c);this[_0xdd6090(0x225)][_0x122dff]=new Charactermancer_Class_LevelSelect({'features':_0x29ac5a,'isRadio':ActorCharactermancer[_0xdd6090(0x24c)][_0xdd6090(0x2f1)]===0x0,'isSubclass':!![]}),this[_0xdd6090(0x225)][_0x122dff]['render'](_0x31fe40),this[_0xdd6090(0x225)][_0x122dff][_0xdd6090(0x356)](async()=>{const _0x524a38=_0xdd6090,_0x321d48=_0x3c3f72?.['subclasses']?.[this[_0x524a38(0x2a2)][_0x315abc]],_0x20866c=this[_0x524a38(0x259)](_0x3c3f72,_0x321d48);await this[_0x524a38(0x34a)]({'ix':_0x122dff,'propCntAsi':_0x130023,'filteredFeatures':_0x20866c,'$stgFeatureOptions':_0xa91c8a,'lockRenderFeatureOptionsSelects':_0x1dfe35}),this[_0x524a38(0x2a2)][_0x2f900d]=this[_0x524a38(0x225)][_0x122dff][_0x524a38(0x28a)](),this[_0x524a38(0x2a2)][_0x524a38(0x2e1)]=this[_0x524a38(0x35b)]();}),await this[_0xdd6090(0x34a)]({'ix':_0x122dff,'propCntAsi':_0x130023,'filteredFeatures':_0x29ac5a,'$stgFeatureOptions':_0xa91c8a,'lockRenderFeatureOptionsSelects':_0x1dfe35}),this['_state'][_0x2f900d]=this[_0xdd6090(0x225)][_0x122dff][_0xdd6090(0x28a)](),this[_0xdd6090(0x309)]['pageFilter'][_0xdd6090(0x21d)]['on'](_0x56ffe9,()=>{const _0x9aa2ef=_0xdd6090;if(!this['_compsClassLevelSelect'][_0x122dff])return;const _0x1cd11b=_0x3c3f72?.[_0x9aa2ef(0x266)]?.[this['_state'][_0x315abc]],_0xa6d161=this[_0x9aa2ef(0x259)](_0x3c3f72,_0x1cd11b);if(this[_0x9aa2ef(0x225)][_0x122dff])this[_0x9aa2ef(0x225)][_0x122dff][_0x9aa2ef(0x1ff)](_0xa6d161);this[_0x9aa2ef(0x34a)]({'ix':_0x122dff,'propCntAsi':_0x130023,'filteredFeatures':_0xa6d161,'$stgFeatureOptions':_0xa91c8a,'lockRenderFeatureOptionsSelects':_0x1dfe35});});}else _0x31fe40[_0xdd6090(0x215)](),this[_0xdd6090(0x225)][_0x122dff]=null,_0xa91c8a[_0xdd6090(0x343)]()['hideVe'](),this[_0xdd6090(0x24f)][_0x122dff]=null,this['_state'][_0x130023]=null,this['_modalFilterClasses']['pageFilter']['filterBox']['off'](_0x56ffe9);this[_0xdd6090(0x2a2)]['class_totalLevels']=this[_0xdd6090(0x35b)]();if(this[_0xdd6090(0x262)][_0x122dff])this[_0xdd6090(0x262)][_0x122dff][_0xdd6090(0x23b)]();const _0x56b588=()=>{const _0x3fdc15=_0xdd6090;_0x49760b[_0x3fdc15(0x343)]();const _0x6308d6=this['_data'][_0x3fdc15(0x375)][this[_0x3fdc15(0x2a2)][_0x38760f]],_0x31f1f6=this[_0x3fdc15(0x2a2)][_0x3fdc15(0x30c)]===_0x122dff;if(_0x6308d6&&(_0x31f1f6&&_0x6308d6[_0x3fdc15(0x355)]?.[_0x3fdc15(0x20b)]||!_0x31f1f6&&_0x6308d6[_0x3fdc15(0x385)]?.[_0x3fdc15(0x23e)]?.[_0x3fdc15(0x20b)])){_0x49760b[_0x3fdc15(0x31f)]()['append'](_0x3fdc15(0x226));const _0x2d7ef0=_0x31f1f6?_0x6308d6['startingProficiencies'][_0x3fdc15(0x20b)]:_0x6308d6[_0x3fdc15(0x385)][_0x3fdc15(0x23e)][_0x3fdc15(0x20b)];this[_0x3fdc15(0x2de)][_0x122dff]=new Charactermancer_SkillSelect({'existingProficiencies':Charactermancer_SkillSelect['getExistingProficiencies'](MiscUtil[_0x3fdc15(0x201)](this[_0x3fdc15(0x251)],_0x3fdc15(0x374),_0x3fdc15(0x374),_0x3fdc15(0x20b))),'availableProficiencies':_0x2d7ef0}),this['_compsClassSkillProficiencies'][_0x122dff][_0x3fdc15(0x3a0)](_0x49760b);}else _0x49760b['hideVe'](),this[_0x3fdc15(0x2de)][_0x122dff]=null;};this[_0xdd6090(0x275)]('class_ixPrimaryClass',_0x56b588),this[_0xdd6090(0x262)][_0x122dff]={'unhook':()=>this[_0xdd6090(0x35e)](_0xdd6090(0x30c),_0x56b588)},_0x56b588(),_0x5e0b2b['empty']();if(_0x3c3f72){const _0x1316d3=await DataUtil['class']['pGetDereferencedClassData'](_0x3c3f72);let _0x3fe889=MiscUtil[_0xdd6090(0x2c4)](_0x1316d3['classFeatures'])[_0xdd6090(0x2e6)]();_0x3fe889=Charactermancer_Class_Util[_0xdd6090(0x37f)](_0x3fe889,this['_modalFilterClasses'][_0xdd6090(0x2eb)],this['_modalFilterClasses'][_0xdd6090(0x2eb)]['filterBox'][_0xdd6090(0x363)]());const _0x4dc915={'type':_0xdd6090(0x361),'entries':_0x3fe889};this[_0xdd6090(0x200)](_0x5e0b2b,_0x3c3f72[_0xdd6090(0x260)],_0x4dc915);}_0x4914b5[_0xdd6090(0x343)]();},_0xb8c01b=async()=>{const _0x94013c=_0x2f36bc;try{await this[_0x94013c(0x2f3)](_0x345cbc),await _0x2b850e();}finally{this[_0x94013c(0x324)](_0x345cbc);}};this[_0x2f36bc(0x275)](_0x38760f,_0xb8c01b);const _0x499d7e=async()=>{const _0x3c8e51=_0x2f36bc;this[_0x3c8e51(0x309)]['pageFilter'][_0x3c8e51(0x21d)][_0x3c8e51(0x273)](_0x3691ac);const _0x49a9c9=Object[_0x3c8e51(0x329)](this[_0x3c8e51(0x388)])[_0x3c8e51(0x371)](_0x420d0d=>_0x420d0d[_0x3c8e51(0x212)](_0x342631)&&_0x420d0d!==_0x315abc)[_0x3c8e51(0x1f9)](_0x3f5fe4=>({[_0x3f5fe4]:null}));this[_0x3c8e51(0x2ff)]('state',_0x49a9c9);const _0x388437=this[_0x3c8e51(0x210)][_0x3c8e51(0x375)][this[_0x3c8e51(0x2a2)][_0x38760f]],_0x385eab=_0x388437?.['subclasses']?.[this[_0x3c8e51(0x2a2)][_0x315abc]],_0x55d3ed=this[_0x3c8e51(0x259)](_0x388437,_0x385eab);if(this[_0x3c8e51(0x225)][_0x122dff])this[_0x3c8e51(0x225)][_0x122dff][_0x3c8e51(0x1ff)](_0x55d3ed);this[_0x3c8e51(0x34a)]({'ix':_0x122dff,'propCntAsi':_0x130023,'filteredFeatures':_0x55d3ed,'$stgFeatureOptions':_0xa91c8a,'lockRenderFeatureOptionsSelects':_0x1dfe35}),_0x4914b5[_0x3c8e51(0x343)]();if(_0x385eab){_0x4914b5[_0x3c8e51(0x202)](_0x3c8e51(0x2fd));const _0x1297aa=await DataUtil[_0x3c8e51(0x375)][_0x3c8e51(0x24d)](_0x385eab);let _0x14d6bf=MiscUtil[_0x3c8e51(0x2c4)](_0x1297aa['subclassFeatures'])[_0x3c8e51(0x2e6)]();_0x14d6bf=Charactermancer_Class_Util[_0x3c8e51(0x37f)](_0x14d6bf,this['_modalFilterClasses'][_0x3c8e51(0x2eb)],this[_0x3c8e51(0x309)][_0x3c8e51(0x2eb)][_0x3c8e51(0x21d)][_0x3c8e51(0x363)]());const _0x58f433={'type':_0x3c8e51(0x361),'entries':_0x14d6bf};if(_0x58f433[_0x3c8e51(0x205)][0x0]&&_0x58f433[_0x3c8e51(0x205)][0x0][_0x3c8e51(0x260)])delete _0x58f433[_0x3c8e51(0x205)][0x0][_0x3c8e51(0x260)];this[_0x3c8e51(0x200)](_0x4914b5,_0x385eab[_0x3c8e51(0x260)],_0x58f433);}this[_0x3c8e51(0x309)]['pageFilter'][_0x3c8e51(0x21d)]['on'](_0x3691ac,()=>_0x3c0a33()),_0x3c0a33();},_0x3705a9=async()=>{const _0x57a815=_0x2f36bc;try{await this[_0x57a815(0x2f3)](_0x292fd0),await _0x499d7e();}finally{this[_0x57a815(0x324)](_0x292fd0);}};this[_0x2f36bc(0x275)](_0x315abc,_0x3705a9);const _0x5b86ee=$(_0x2f36bc(0x2c8)),_0x467aa3=$$`<div class="flex-col w-100"></div>`['hideVe'](),_0x2ed2df=$$`<div class="flex-col"></div>`[_0x2f36bc(0x215)](),_0x31fe40=$$`<div class="flex-col"></div>`[_0x2f36bc(0x215)](),_0xa91c8a=$$`<div class="flex-col"></div>`[_0x2f36bc(0x215)](),_0x49760b=$$`<div class="flex-col"></div>`[_0x2f36bc(0x215)](),_0x5abd5e=$(_0x2f36bc(0x270))[_0x2f36bc(0x20c)](()=>this[_0x2f36bc(0x2a2)][_0x2f36bc(0x30c)]=_0x122dff),_0x577b24=()=>{const _0x4900c9=_0x2f36bc;_0x5abd5e[_0x4900c9(0x352)](this[_0x4900c9(0x2a2)][_0x4900c9(0x30c)]===_0x122dff?_0x4900c9(0x301):_0x4900c9(0x321))[_0x4900c9(0x3a1)](this[_0x4900c9(0x2a2)][_0x4900c9(0x30c)]===_0x122dff?_0x4900c9(0x377):_0x4900c9(0x21a))['prop'](_0x4900c9(0x333),this[_0x4900c9(0x2a2)]['class_ixPrimaryClass']===_0x122dff);};this[_0x2f36bc(0x275)](_0x2f36bc(0x30c),_0x577b24),_0x577b24();const _0x309174=$(_0x2f36bc(0x35f))[_0x2f36bc(0x20c)](()=>{const _0x534285=_0x2f36bc,_0x40a14f=_0x309174[_0x534285(0x352)]()==='[+]';_0x309174[_0x534285(0x352)](_0x40a14f?_0x534285(0x25a):_0x534285(0x267));if(_0x40a14f)_0x5b86ee[_0x534285(0x352)]('Select\x20a\x20Class');else{const _0xb47313=this[_0x534285(0x210)][_0x534285(0x375)][this[_0x534285(0x2a2)][_0x38760f]],_0x2a13ec=_0xb47313?.['subclasses']?.[this['_state'][_0x315abc]];if(_0xb47313)_0x5b86ee['text'](''+_0xb47313['name']+(_0x2a13ec?'\x20('+_0x2a13ec[_0x534285(0x260)]+')':''));else _0x5b86ee[_0x534285(0x352)]('Select\x20a\x20Class');}_0x322478['toggleVe']();}),_0x5e0b2b=$$`<div class="flex-col w-100"></div>`,_0x4914b5=$$`<div class="flex-col w-100"></div>`,_0x322478=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex-col w-100">
					${_0x1dd2c3}
					${_0x467aa3}
				</div>
				<div class="flex no-shrink">
					${_0x17441c}
				</div>
			</div>
			${_0x2ed2df}
			${_0x31fe40}
			${_0xa91c8a}
			${_0x49760b}
		</div>`,_0x224896=$$`<div class="flex-col">
			${_0x122dff>0x0?_0x2f36bc(0x287):''}

			<div class="split-v-center">
				${_0x5b86ee}
				<div class="flex-v-center">
					${_0x5abd5e}
					${_0x309174}
				</div>
			</div>

			${_0x322478}
		</div>`[_0x2f36bc(0x2d7)](_0x526807),_0x3df264=$$`<div>
			${_0x122dff>0x0?_0x2f36bc(0x25b):''}

			${_0x5e0b2b}
			${_0x4914b5}
		</div>`[_0x2f36bc(0x2d7)](_0x232fcc);_0xb8c01b()[_0x2f36bc(0x328)](()=>_0x3705a9());}[_0x3e1241(0x228)](_0x24791a){const _0x340f3c=_0x3e1241,{$sel:_0x30379e,$btnFilter:_0x582920}=this[_0x340f3c(0x2db)]({'prop':_0x340f3c(0x232),'data':this['_data'][_0x340f3c(0x32f)],'modalFilter':this[_0x340f3c(0x2aa)],'title':_0x340f3c(0x387)}),_0x2431e1=()=>{const _0x4c558e=_0x340f3c,_0x56b4c7=Object[_0x4c558e(0x329)](this['__state'])['filter'](_0x1dcf4d=>_0x1dcf4d[_0x4c558e(0x212)](_0x4c558e(0x346))&&_0x1dcf4d!==_0x4c558e(0x232))[_0x4c558e(0x1f9)](_0x4bd4e2=>({[_0x4bd4e2]:null}));this[_0x4c558e(0x2ff)]('state',_0x56b4c7);const _0x1d0270=this[_0x4c558e(0x210)][_0x4c558e(0x32f)][this[_0x4c558e(0x2a2)][_0x4c558e(0x232)]];this[_0x4c558e(0x2a2)][_0x4c558e(0x22a)]=_0x1d0270?.['feats']||0x0,_0x4908f4[_0x4c558e(0x343)]();_0x1d0270&&_0x1d0270[_0x4c558e(0x284)]?(_0x4908f4['showVe']()[_0x4c558e(0x202)](_0x4c558e(0x226)),this[_0x4c558e(0x2e7)]=new Charactermancer_SkillSelect({'existingProficiencies':Charactermancer_SkillSelect[_0x4c558e(0x323)](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],'data','data','skills')),'availableProficiencies':_0x1d0270[_0x4c558e(0x284)]}),this['_compRaceSkillProficiencies']['render'](_0x4908f4)):(_0x4908f4[_0x4c558e(0x215)](),this[_0x4c558e(0x2e7)]=null);_0x4e2747['empty']();_0x1d0270&&_0x1d0270[_0x4c558e(0x3ad)]?(_0x4e2747['showVe']()[_0x4c558e(0x202)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Language\x20Proficiencies</div>'),this[_0x4c558e(0x39f)]=new Charactermancer_LanguageSelect({'existingProficiencies':Charactermancer_LanguageSelect[_0x4c558e(0x323)](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],_0x4c558e(0x374),_0x4c558e(0x374),_0x4c558e(0x26f),_0x4c558e(0x209))),'availableProficiencies':_0x1d0270[_0x4c558e(0x3ad)]}),this[_0x4c558e(0x39f)][_0x4c558e(0x3a0)](_0x4e2747)):(_0x4e2747[_0x4c558e(0x215)](),this[_0x4c558e(0x39f)]=null);_0x2f5004[_0x4c558e(0x343)]();_0x1d0270&&_0x1d0270['toolProficiencies']?(_0x2f5004[_0x4c558e(0x31f)]()[_0x4c558e(0x202)](_0x4c558e(0x3af)),this['_compRaceToolProficiencies']=new Charactermancer_ToolSelect({'existingProficiencies':Charactermancer_ToolSelect['getExistingProficiencies'](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],_0x4c558e(0x374),_0x4c558e(0x374),'traits',_0x4c558e(0x241))),'availableProficiencies':_0x1d0270[_0x4c558e(0x38f)]}),this[_0x4c558e(0x265)]['render'](_0x2f5004)):(_0x2f5004[_0x4c558e(0x215)](),this[_0x4c558e(0x265)]=null);_0x5d7aa9[_0x4c558e(0x343)]();_0x1d0270&&_0x1d0270['immune']?(_0x5d7aa9[_0x4c558e(0x31f)]()[_0x4c558e(0x202)](_0x4c558e(0x31d)),this[_0x4c558e(0x2be)]=new Charactermancer_Race_DamageImmunitySelect({'existing':Charactermancer_Race_DamageImmunitySelect[_0x4c558e(0x2d8)](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],'data',_0x4c558e(0x374),_0x4c558e(0x26f),'di')),'available':_0x1d0270['immune']}),this['_compRaceDamageImmunity'][_0x4c558e(0x3a0)](_0x5d7aa9)):(_0x5d7aa9[_0x4c558e(0x215)](),this['_compRaceDamageImmunity']=null);_0x1ca041['empty']();_0x1d0270&&_0x1d0270[_0x4c558e(0x1f2)]?(_0x1ca041['showVe']()['append'](_0x4c558e(0x1f4)),this['_compRaceDamageResistance']=new Charactermancer_Race_DamageResistanceSelect({'existing':Charactermancer_Race_DamageResistanceSelect[_0x4c558e(0x2d8)](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],_0x4c558e(0x374),'data',_0x4c558e(0x26f),'dr')),'available':_0x1d0270[_0x4c558e(0x1f2)]}),this[_0x4c558e(0x255)][_0x4c558e(0x3a0)](_0x1ca041)):(_0x1ca041['hideVe'](),this[_0x4c558e(0x255)]=null);_0x303206['empty']();_0x1d0270&&_0x1d0270[_0x4c558e(0x2b7)]?(_0x303206['showVe']()[_0x4c558e(0x202)](_0x4c558e(0x208)),this['_compRaceDamageVulnerability']=new Charactermancer_Race_DamageVulnerabilitySelect({'existing':Charactermancer_Race_DamageVulnerabilitySelect['getExisting'](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],_0x4c558e(0x374),_0x4c558e(0x374),_0x4c558e(0x26f),'dv')),'available':_0x1d0270[_0x4c558e(0x2b7)]}),this['_compRaceDamageVulnerability'][_0x4c558e(0x3a0)](_0x303206)):(_0x303206[_0x4c558e(0x215)](),this[_0x4c558e(0x22f)]=null);_0x6c75bd[_0x4c558e(0x343)]();_0x1d0270&&_0x1d0270['conditionImmune']?(_0x6c75bd['showVe']()['append'](_0x4c558e(0x222)),this[_0x4c558e(0x1f5)]=new Charactermancer_Race_ConditionImmunitySelect({'existing':Charactermancer_Race_ConditionImmunitySelect[_0x4c558e(0x2d8)](MiscUtil[_0x4c558e(0x201)](this[_0x4c558e(0x251)],'data',_0x4c558e(0x374),'traits','ci')),'available':_0x1d0270[_0x4c558e(0x33a)]}),this[_0x4c558e(0x1f5)][_0x4c558e(0x3a0)](_0x6c75bd)):(_0x6c75bd[_0x4c558e(0x215)](),this[_0x4c558e(0x1f5)]=null);_0x4c7868[_0x4c558e(0x343)]();if(_0x1d0270)_0x4c7868[_0x4c558e(0x202)](Renderer[_0x4c558e(0x27f)][_0x4c558e(0x276)](UrlUtil[_0x4c558e(0x392)],MiscUtil[_0x4c558e(0x2c4)](_0x1d0270)));};this[_0x340f3c(0x275)](_0x340f3c(0x232),_0x2431e1);const _0x4908f4=$$`<div class="flex-col"></div>`['hideVe'](),_0x4e2747=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x2f5004=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x5d7aa9=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x1ca041=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x303206=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x6c75bd=$$`<div class="flex-col"></div>`[_0x340f3c(0x215)](),_0x4c7868=$$`<div class="flex-col w-100"></div>`;$$(_0x24791a)`
			<div class="flex w-100 h-100">
				<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry">
					<div class="bold mb-2">Select a Race</div>
					<div class="flex-v-center btn-group w-100">${_0x30379e}${_0x582920}</div>
					${_0x4908f4}
					${_0x4e2747}
					${_0x2f5004}
					${_0x5d7aa9}
					${_0x1ca041}
					${_0x303206}
					${_0x6c75bd}
				</div>

				<div class="vr-1"></div>

				<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry">
					${_0x4c7868}
				</div>
			</div>
		`;}[_0x3e1241(0x261)](_0x3e2b2d){const _0x3fbb7e=_0x3e1241;this[_0x3fbb7e(0x2d0)]=new StatGenUiCharactermancer({'isCharacterMode':!![],'isFvttMode':!![],'races':this[_0x3fbb7e(0x210)][_0x3fbb7e(0x32f)],'feats':this[_0x3fbb7e(0x210)][_0x3fbb7e(0x236)],'modalFilterRaces':this[_0x3fbb7e(0x2aa)],'modalFilterFeats':this['_modalFilterFeats']}),this[_0x3fbb7e(0x2d0)][_0x3fbb7e(0x3a0)](_0x3e2b2d);const _0x34755c=()=>{const _0x54bfa5=_0x3fbb7e;let _0x48d133=0x0;for(let _0xd483b8=0x0;_0xd483b8<this['_state'][_0x54bfa5(0x1f6)]+0x1;++_0xd483b8){const {propIxClass:_0x241963,propCntAsi:_0x512092}=ActorCharactermancer[_0x54bfa5(0x24c)][_0x54bfa5(0x30d)](_0xd483b8),_0x5933f6=this[_0x54bfa5(0x210)][_0x54bfa5(0x375)][this[_0x54bfa5(0x2a2)][_0x241963]];if(!_0x5933f6)continue;_0x48d133+=Number(this['_state'][_0x512092])||0x0;}this[_0x54bfa5(0x2d0)][_0x54bfa5(0x1f8)]=_0x48d133;};this[_0x3fbb7e(0x275)](_0x3fbb7e(0x381),_0x34755c),this['_addHookBase'](_0x3fbb7e(0x2e1),_0x34755c),_0x34755c();const _0x5abb3e=()=>{const _0x596e58=_0x3fbb7e;this[_0x596e58(0x2d0)][_0x596e58(0x296)]=this['_state']['feat_cntFeatsCustom'];};this[_0x3fbb7e(0x275)](_0x3fbb7e(0x2a3),_0x5abb3e),_0x5abb3e();const _0x1b64b2=()=>{const _0x824fff=_0x3fbb7e,_0x177938=this[_0x824fff(0x2d0)][_0x824fff(0x302)]();if(!_0x177938[_0x824fff(0x335)])return;const _0x39a535={};Object[_0x824fff(0x205)](_0x177938[_0x824fff(0x335)])[_0x824fff(0x342)](([_0x29fff7,_0x1838f6])=>{const _0x3145b0=_0x824fff,_0x528a90=_0x1838f6[_0x3145b0(0x371)](Boolean)[_0x3145b0(0x359)];switch(_0x29fff7){case _0x3145b0(0x347):this[_0x3145b0(0x2a2)][_0x3145b0(0x230)]=_0x528a90;break;case _0x3145b0(0x32f):this[_0x3145b0(0x2a2)][_0x3145b0(0x22a)]=_0x528a90;break;case'custom':this[_0x3145b0(0x2a2)][_0x3145b0(0x2a3)]=_0x528a90;break;}_0x1838f6['forEach']((_0x33bb48,_0x83628a)=>{const _0x60965=_0x3145b0,{propIxFeat:_0x150192}=ActorCharactermancer[_0x60965(0x24c)][_0x60965(0x3a7)](_0x83628a,_0x29fff7);if(_0x33bb48){const _0x41de4c=_0x33bb48['ix']===-0x1?null:_0x33bb48['ix'];if(_0x41de4c!==this[_0x60965(0x2a2)][_0x150192])_0x39a535[_0x150192]=_0x41de4c;}else{if(this[_0x60965(0x2a2)][_0x150192]!=null)_0x39a535[_0x150192]=null;}});}),this[_0x824fff(0x2ff)](_0x824fff(0x25f),_0x39a535);};this['_compAbility']['addHookPulseAsi'](_0x1b64b2),_0x1b64b2();const _0x5e288b=()=>this['_state'][_0x3fbb7e(0x232)]=this[_0x3fbb7e(0x2d0)][_0x3fbb7e(0x250)];this['_compAbility'][_0x3fbb7e(0x314)](_0x5e288b);const _0x2a25de=()=>this[_0x3fbb7e(0x2d0)][_0x3fbb7e(0x250)]=this[_0x3fbb7e(0x2a2)][_0x3fbb7e(0x232)];this[_0x3fbb7e(0x275)](_0x3fbb7e(0x232),_0x2a25de),_0x2a25de();}[_0x3e1241(0x2b0)](_0x5c218f){const _0x4ca2f5=_0x3e1241,{$sel:_0x2e6b29,$btnFilter:_0x44c942}=this['_pRender_getFilterSearchMeta']({'prop':_0x4ca2f5(0x2f2),'data':this[_0x4ca2f5(0x210)]['background'],'modalFilter':this[_0x4ca2f5(0x366)],'title':_0x4ca2f5(0x396)}),_0x8c7096=()=>{const _0xdb9c36=_0x4ca2f5,_0x26d950=Object[_0xdb9c36(0x329)](this['__state'])['filter'](_0x9cde3a=>_0x9cde3a[_0xdb9c36(0x212)](_0xdb9c36(0x246))&&_0x9cde3a!==_0xdb9c36(0x2f2))['mergeMap'](_0x8d8ddc=>({[_0x8d8ddc]:null}));this[_0xdb9c36(0x2ff)](_0xdb9c36(0x25f),_0x26d950);const _0x2175be=this[_0xdb9c36(0x210)][_0xdb9c36(0x2ee)][this[_0xdb9c36(0x2a2)][_0xdb9c36(0x2f2)]];_0x227fcc[_0xdb9c36(0x343)]();_0x2175be&&_0x2175be[_0xdb9c36(0x284)]?(_0x227fcc[_0xdb9c36(0x31f)]()[_0xdb9c36(0x202)](_0xdb9c36(0x226)),this[_0xdb9c36(0x2ea)]=new Charactermancer_SkillSelect({'existingProficiencies':Charactermancer_SkillSelect[_0xdb9c36(0x323)](MiscUtil[_0xdb9c36(0x201)](this[_0xdb9c36(0x251)],_0xdb9c36(0x374),_0xdb9c36(0x374),'skills')),'availableProficiencies':_0x2175be[_0xdb9c36(0x284)]}),this['_compBackgroundSkillProficiencies'][_0xdb9c36(0x3a0)](_0x227fcc)):(_0x227fcc[_0xdb9c36(0x215)](),this[_0xdb9c36(0x2ea)]=null);_0x14f9ae['empty']();_0x2175be&&_0x2175be['languageProficiencies']?(_0x14f9ae[_0xdb9c36(0x31f)]()[_0xdb9c36(0x202)](_0xdb9c36(0x30e)),this[_0xdb9c36(0x313)]=new Charactermancer_LanguageSelect({'existingProficiencies':Charactermancer_LanguageSelect['getExistingProficiencies'](MiscUtil['get'](this[_0xdb9c36(0x251)],_0xdb9c36(0x374),_0xdb9c36(0x374),_0xdb9c36(0x26f),_0xdb9c36(0x209))),'availableProficiencies':_0x2175be['languageProficiencies']}),this[_0xdb9c36(0x313)]['render'](_0x14f9ae)):(_0x14f9ae[_0xdb9c36(0x215)](),this[_0xdb9c36(0x313)]=null);_0xb5e2a6[_0xdb9c36(0x343)]();_0x2175be&&_0x2175be[_0xdb9c36(0x38f)]?(_0xb5e2a6[_0xdb9c36(0x31f)]()['append'](_0xdb9c36(0x3af)),this[_0xdb9c36(0x30a)]=new Charactermancer_ToolSelect({'existingProficiencies':Charactermancer_ToolSelect[_0xdb9c36(0x323)](MiscUtil[_0xdb9c36(0x201)](this[_0xdb9c36(0x251)],'data',_0xdb9c36(0x374),_0xdb9c36(0x26f),_0xdb9c36(0x241))),'availableProficiencies':_0x2175be[_0xdb9c36(0x38f)]}),this[_0xdb9c36(0x30a)][_0xdb9c36(0x3a0)](_0xb5e2a6)):(_0xb5e2a6[_0xdb9c36(0x215)](),this[_0xdb9c36(0x30a)]=null);_0x4ff1d8[_0xdb9c36(0x343)]();if(_0x2175be)_0x4ff1d8['append'](Renderer['hover'][_0xdb9c36(0x276)](UrlUtil['PG_BACKGROUNDS'],MiscUtil[_0xdb9c36(0x2c4)](_0x2175be)));};this[_0x4ca2f5(0x275)]('background_ixBackground',_0x8c7096);const _0x227fcc=$$`<div class="flex-col"></div>`[_0x4ca2f5(0x215)](),_0x14f9ae=$$`<div class="flex-col"></div>`[_0x4ca2f5(0x215)](),_0xb5e2a6=$$`<div class="flex-col"></div>`[_0x4ca2f5(0x215)](),_0x4ff1d8=$$`<div class="flex-col w-100"></div>`;$$(_0x5c218f)`
			<div class="flex w-100 h-100">
				<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry">
					<div class="bold mb-2">Select a Background</div>
					<div class="flex-v-center btn-group w-100">${_0x2e6b29}${_0x44c942}</div>
					${_0x227fcc}
					${_0x14f9ae}
					${_0xb5e2a6}
				</div>

				<div class="vr-1"></div>

				<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry">
					${_0x4ff1d8}
				</div>
			</div>
		`;}async[_0x3e1241(0x37b)](_0x5021ef){const _0x3ec7b8=_0x3e1241,_0x3828af=()=>{const _0x55b95f=_0x1a02,_0x4432d9=this['_class_getPrimaryClass'](),_0x1ec464=this[_0x55b95f(0x210)][_0x55b95f(0x2ee)][this['_state']['background_ixBackground']],_0x3f65ca=MiscUtil[_0x55b95f(0x2c4)](_0x4432d9?.['startingEquipment']||{});(!_0x4432d9||_0x4432d9&&!_0x4432d9['startingEquipment']||_0x4432d9&&_0x4432d9[_0x55b95f(0x341)]['additionalFromBackground'])&&_0x1ec464?.[_0x55b95f(0x341)]?.[_0x55b95f(0x359)]&&(_0x3f65ca['defaultData']=_0x3f65ca[_0x55b95f(0x2af)]||[],_0x3f65ca[_0x55b95f(0x2af)][_0x55b95f(0x21f)](...MiscUtil['copy'](_0x1ec464[_0x55b95f(0x341)]))),this['_compEquipmentCurrency'][_0x55b95f(0x341)]=_0x3f65ca,this['_compEquipmentStartingDefault'][_0x55b95f(0x312)]=_0x1ec464?.[_0x55b95f(0x22c)]||_0x4432d9?.[_0x55b95f(0x22c)]||null,this[_0x55b95f(0x354)]['equiSpecialPage']=_0x1ec464?.[_0x55b95f(0x25c)]||_0x4432d9?.[_0x55b95f(0x25c)]||null;};this[_0x3ec7b8(0x275)]('class_pulseChange',_0x3828af),this[_0x3ec7b8(0x275)](_0x3ec7b8(0x2f2),_0x3828af),_0x3828af(),await this[_0x3ec7b8(0x354)][_0x3ec7b8(0x38d)](_0x5021ef);}async[_0x3e1241(0x391)](_0x37c2b3){await this['_compEquipmentShopGold']['pRender'](_0x37c2b3);}static[_0x3e1241(0x218)](_0x31278d,_0x302a62){const _0x37e3b8=_0x3e1241;return _0x31278d?.[_0x37e3b8(0x223)]||_0x302a62?.[_0x37e3b8(0x223)]||_0x31278d?.[_0x37e3b8(0x1ef)]||_0x302a62?.['additionalSpells'];}static[_0x3e1241(0x384)](_0x3fbae4,_0x325d9f,_0x4b4425){const _0x1f7c70=_0x3e1241;if(!this[_0x1f7c70(0x218)](_0x3fbae4,_0x325d9f))return![];if(_0x4b4425==null)return![];const {spellProgression:_0x3e37d3}=Charactermancer_Class_Util[_0x1f7c70(0x3b3)](_0x3fbae4,_0x325d9f,{'targetLevel':_0x4b4425}),_0x4ee5ea=UtilActors[_0x1f7c70(0x24a)][_0x3e37d3];if((_0x4ee5ea?.[_0x4b4425-0x1]||[])[_0x1f7c70(0x237)](Boolean))return!![];if(this[_0x1f7c70(0x242)](_0x3fbae4?.['additionalSpells'],_0x4b4425))return!![];if(this[_0x1f7c70(0x242)](_0x325d9f?.[_0x1f7c70(0x1ef)],_0x4b4425))return!![];return![];}static[_0x3e1241(0x242)](_0x5acf32,_0x555c71){const _0x1c1ced=_0x3e1241;if(!_0x5acf32)return![];if(_0x555c71==null)return![];return _0x5acf32[_0x1c1ced(0x237)](_0x224237=>this[_0x1c1ced(0x35c)](_0x224237,_0x555c71));}static[_0x3e1241(0x35c)](_0x2eeee0,_0xe106cb){const _0x4c7513=_0x3e1241,_0x5ef42e=Object['keys'](_0x2eeee0);for(const _0x1b4f1b of _0x5ef42e){switch(_0x1b4f1b){case _0x4c7513(0x203):case'prepared':case _0x4c7513(0x2ae):{const _0x4be7bd=Object[_0x4c7513(0x329)](_0x2eeee0[_0x1b4f1b]||{})['some'](_0x5891a9=>{const _0x55f678=_0x4c7513,_0x29d11c=/^s(\d+)$/i[_0x55f678(0x32e)](_0x5891a9);if(_0x29d11c)return![];if(isNaN(_0x5891a9))return![];return Number(_0x5891a9)<=_0xe106cb;});if(_0x4be7bd)return!![];}}}return![];}async[_0x3e1241(0x368)](_0x1bd533){const _0x3a0411=_0x3e1241,_0x59a210=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry smooth-scroll"></div>`,_0x2a45b5=$$`<div class="flex-col w-100 h-100"></div>`;await this[_0x3a0411(0x39d)](_0x59a210);for(let _0x2244e2=0x0;_0x2244e2<this[_0x3a0411(0x2a2)][_0x3a0411(0x1f6)]+0x1;++_0x2244e2)this['_spell_renderClassSection'](_0x59a210,_0x2a45b5,_0x2244e2);const _0x4f1407=()=>{const _0x3a737f=_0x3a0411;this[_0x3a737f(0x28b)](_0x59a210,_0x2a45b5,this[_0x3a737f(0x2a2)][_0x3a737f(0x1f6)]);};this[_0x3a0411(0x275)](_0x3a0411(0x1f6),_0x4f1407),this[_0x3a0411(0x213)](_0x59a210),this[_0x3a0411(0x2e0)](_0x59a210,_0x2a45b5,'feat_ixMaxAbility',_0x3a0411(0x347)),this['_spell_renderFeatSections'](_0x59a210,_0x2a45b5,'feat_ixMaxRace',_0x3a0411(0x32f)),this[_0x3a0411(0x2e0)](_0x59a210,_0x2a45b5,_0x3a0411(0x245),_0x3a0411(0x2b4)),this[_0x3a0411(0x297)](),$$`<div class="flex w-100 h-100">
			${_0x59a210}

			<div class="vr-1"></div>

			<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry">
				${_0x2a45b5}
			</div>
		</div>`[_0x3a0411(0x2d7)](_0x1bd533);}[_0x3e1241(0x2e0)](_0x347012,_0x4971b7,_0x1eae2f,_0x3b14db){const _0x3f1def=_0x3e1241;let _0x3cc10f=this[_0x3f1def(0x2a2)][_0x1eae2f]+0x1;const _0x2e25de=()=>{const _0x16ba77=_0x3f1def;for(let _0x4bb183=_0x3cc10f;_0x4bb183<this[_0x16ba77(0x2a2)][_0x1eae2f]+0x1;++_0x4bb183)this[_0x16ba77(0x2fc)](_0x347012,_0x4971b7,_0x4bb183,_0x3b14db);_0x3cc10f=this[_0x16ba77(0x2a2)][_0x1eae2f]+0x1;};this['_addHookBase'](_0x1eae2f,_0x2e25de),_0x2e25de();}[_0x3e1241(0x2fc)](_0x3a1d29,_0xcc1abf,_0x584e33,_0xc49838){const _0x3bb700=_0x3e1241,{propIxFeat:_0x5f2f08}=ActorCharactermancer[_0x3bb700(0x24c)]['_feat_getProps'](_0x584e33,_0xc49838),_0x29a061=$$`<div class="flex-col"></div>`['hideVe'](),_0x1324ef=()=>{const _0x5380b2=_0x3bb700,_0x1dfad4=ActorCharactermancer[_0x5380b2(0x24c)][_0x5380b2(0x2f1)],_0xcea15b=this['_state'][_0x5380b2(0x2e1)],_0x5ef218=this[_0x5380b2(0x23f)][_0xc49838][_0x584e33];_0x5ef218&&(_0x5ef218[_0x5380b2(0x2b3)]=_0x1dfad4,_0x5ef218[_0x5380b2(0x231)]=Math['max'](0x1,_0xcea15b),_0x5ef218[_0x5380b2(0x331)]=ActorCharactermancer[_0x5380b2(0x24c)][_0x5380b2(0x21e)],_0x5ef218[_0x5380b2(0x1f7)]=this[_0x5380b2(0x2df)]());};this[_0x3bb700(0x275)]('class_totalLevels',_0x1324ef);const _0x271939=()=>{const _0x48aace=_0x3bb700,_0xdfb892=this[_0x48aace(0x2bc)]()['includes'](_0x5f2f08),_0x329738=_0xdfb892?this[_0x48aace(0x210)][_0x48aace(0x236)][this[_0x48aace(0x2a2)][_0x5f2f08]]:null;let _0x57945c=![];if(_0xdfb892){if(_0x329738&&_0x329738[_0x48aace(0x1ef)])_0x57945c=!![];}_0x7a5f35[_0x48aace(0x280)](_0x57945c);};if(_0xc49838===_0x3bb700(0x347))this['_addHookBase'](_0x3bb700(0x230),_0x271939);if(_0xc49838==='race')this[_0x3bb700(0x275)](_0x3bb700(0x22a),_0x271939);if(_0xc49838===_0x3bb700(0x2b4))this[_0x3bb700(0x275)](_0x3bb700(0x2a3),_0x271939);const _0x4b3108=()=>{const _0x5aa383=_0x3bb700;_0x29a061['empty']();const _0x4557c8=(_0xc49838===_0x5aa383(0x347)||_0xc49838===_0x5aa383(0x32f))&&!this[_0x5aa383(0x2bc)]()[_0x5aa383(0x258)](_0x5f2f08),_0x46d9a7=_0x4557c8?null:this[_0x5aa383(0x210)][_0x5aa383(0x236)][this[_0x5aa383(0x2a2)][_0x5f2f08]];let _0x44c42e=![];_0x46d9a7&&_0x46d9a7['additionalSpells']?(_0x44c42e=!![],_0x29a061['showVe'](),this[_0x5aa383(0x23f)][_0xc49838][_0x584e33]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this[_0x5aa383(0x210)][_0x5aa383(0x220)],'additionalSpells':_0x46d9a7[_0x5aa383(0x1ef)],'modalFilterSpells':this[_0x5aa383(0x316)]}),this[_0x5aa383(0x23f)][_0xc49838][_0x584e33][_0x5aa383(0x3a0)](_0x29a061)):(_0x29a061[_0x5aa383(0x215)](),this[_0x5aa383(0x23f)][_0xc49838][_0x584e33]=null),_0x44c42e?(_0x7a5f35[_0x5aa383(0x31f)](),_0x4ed53a['text'](_0x46d9a7['name'])):_0x7a5f35[_0x5aa383(0x215)](),_0x1324ef(),_0x271939();};this[_0x3bb700(0x275)](_0x5f2f08,_0x4b3108);const _0x4ed53a=$(_0x3bb700(0x2c1)),_0x3f5482=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x3bb700(0x20c)](()=>{const _0x28a478=_0x3bb700;_0x3f5482[_0x28a478(0x352)](_0x3f5482['text']()===_0x28a478(0x267)?'[‒]':_0x28a478(0x267)),_0x373588['toggleVe']();}),_0x373588=$$`<div class="flex-col w-100">
			${_0x29a061}
		</div>`,_0x7a5f35=$$`<div class="flex-col w-100 mb-2">
			<div class="split-v-center">
				${_0x4ed53a}
				${_0x3f5482}
			</div>

			${_0x373588}
		</div>`[_0x3bb700(0x215)]()[_0x3bb700(0x2d7)](_0x3a1d29);_0x4b3108();}async['_spell_pRenderFilterBox'](_0xe25669){const _0x1cd851=_0x3e1241,_0x4a5ef5=$(_0x1cd851(0x27a)),_0x39cd61=$(_0x1cd851(0x2bd)),_0xf64661=$(_0x1cd851(0x344)),_0x3c6da6=$('<button\x20class=\x22btn-5et\x20veapp__btn-list-reset\x22>Reset</button>')[_0x1cd851(0x20c)](()=>_0xf64661[_0x1cd851(0x29f)]('')['keyup']()),_0x1b36c7=$(_0x1cd851(0x3a8)),_0x33686b=$('<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Save\x20a\x20copy\x20of\x20the\x20current\x20filters,\x20to\x20use\x20when\x20filtering\x20spell\x20lists\x20during\x20import\x20of\x20&quot;prepared\x20spell&quot;\x20casters.\x20For\x20example,\x20if\x20you\x20want\x20your\x20Cleric\x27s\x20spell\x20list\x20to\x20include\x20only\x20PHB\x20spells,\x20you\x20would\x20filter,\x20above,\x20for\x20PHB\x20spells,\x20then\x20click\x20this\x20button.\x20Note\x20that\x20all\x20spells\x20you\x20have\x20learned\x20or\x20prepared\x20will\x20be\x20imported\x20regardless.\x22>Set\x20Prepared\x20Spell\x20Filter</button>')[_0x1cd851(0x20c)](()=>{const _0x3793ab=_0x1cd851;this[_0x3793ab(0x2a4)]=this['_filterBoxSpells'][_0x3793ab(0x363)](),ui['notifications'][_0x3793ab(0x219)]('Set!');});$$(_0xe25669)`
			<div class="flex-v-stretch input-group input-group--top no-shrink">
				${_0x4a5ef5}
				${_0x39cd61}
				${_0xf64661}
				${_0x3c6da6}
			</div>
			${_0x1b36c7}
			<div class="flex-v-stretch input-group input-group--bottom mb-1 no-shrink">
				<button class="btn-5et w-100" disabled></button>
			</div>

			<div class="mb-1">${_0x33686b}</div>
		`,this[_0x1cd851(0x2fb)]=await this['_pageFilterSpells']['pInitFilterBox']({'$iptSearch':_0xf64661,'$btnReset':_0x3c6da6,'$btnOpen':_0x4a5ef5,'$btnToggleSummaryHidden':_0x39cd61,'$wrpMiniPills':_0x1b36c7,'namespace':_0x1cd851(0x3b1)}),this[_0x1cd851(0x210)][_0x1cd851(0x220)][_0x1cd851(0x342)](_0x2abfaa=>this['_pageFilterSpells'][_0x1cd851(0x2e2)](_0x2abfaa)),this['_filterBoxSpells'][_0x1cd851(0x3a0)](),this[_0x1cd851(0x2a4)]=this['_filterBoxSpells']['getValues'](),UiUtil[_0x1cd851(0x372)]({'$ipt':_0xf64661,'fnKeyup':()=>{const _0x31905f=_0x1cd851,_0x4b457f=List[_0x31905f(0x20a)](_0xf64661[_0x31905f(0x29f)]());if(this[_0x31905f(0x2cf)]===_0x4b457f)return;this[_0x31905f(0x2cf)]=_0x4b457f,this['_compsSpellSpells'][_0x31905f(0x371)](Boolean)[_0x31905f(0x342)](_0x15454f=>_0x15454f[_0x31905f(0x2f0)](_0x4b457f));}}),this[_0x1cd851(0x2fb)]['on'](FilterBox[_0x1cd851(0x2c3)],this[_0x1cd851(0x297)][_0x1cd851(0x2b9)](this));}[_0x3e1241(0x297)](){const _0x4212cb=_0x3e1241,_0x4266b1=this[_0x4212cb(0x2fb)][_0x4212cb(0x363)]();this['_compsSpellSpells'][_0x4212cb(0x371)](Boolean)[_0x4212cb(0x342)](_0x4a27c9=>_0x4a27c9[_0x4212cb(0x38c)](_0x4266b1));}[_0x3e1241(0x2cb)](_0x49661a,_0x53f563){const _0x1d84ed=_0x3e1241;if(_0x53f563==null)return null;let _0x4fb79b=_0x49661a[_0x1d84ed(0x337)];if(BrewUtil[_0x1d84ed(0x289)](_0x49661a[_0x1d84ed(0x22c)]))_0x4fb79b=_0x4fb79b||this[_0x1d84ed(0x29b)][_0x1d84ed(0x2ca)](_0x49661a);if(!_0x4fb79b)return null;return _0x4fb79b[_0x53f563-0x1];}[_0x3e1241(0x39c)](_0x4bcbb9,_0x56eed2){const _0x2987ed=_0x3e1241;if(_0x56eed2==null)return null;let _0x40167d=_0x4bcbb9['spellsKnownProgression'];if(BrewUtil[_0x2987ed(0x289)](_0x4bcbb9['source']))_0x40167d=_0x40167d||this[_0x2987ed(0x29b)][_0x2987ed(0x319)](_0x4bcbb9);if(!_0x40167d)return null;return _0x40167d[_0x56eed2-0x1];}static[_0x3e1241(0x2ca)](_0x5d52cf){const _0x1d0e29=_0x3e1241;return this[_0x1d0e29(0x304)](_0x5d52cf,'cantrips\x20known');}static[_0x3e1241(0x319)](_0x1ee536){const _0x10001b=_0x3e1241;return this[_0x10001b(0x304)](_0x1ee536,_0x10001b(0x1ee));}static[_0x3e1241(0x304)](_0x5ef713,_0x4e4395){const _0x2ef36e=_0x3e1241,_0x26c773=_0x5ef713[_0x2ef36e(0x39b)]||_0x5ef713[_0x2ef36e(0x397)];if(!_0x26c773)return;for(const _0x32949d of _0x26c773){const _0x46a00f=(_0x32949d[_0x2ef36e(0x2d2)]||[])[_0x2ef36e(0x2b2)](_0x21ebd1=>(''+_0x21ebd1)['toLowerCase']()[_0x2ef36e(0x258)](_0x4e4395));if(!~_0x46a00f)continue;const _0xd6445f=(_0x32949d[_0x2ef36e(0x2c6)]||[])[_0x2ef36e(0x214)](_0x1863b1=>_0x1863b1['filter']((_0x2db2ed,_0x4bb2a2)=>_0x4bb2a2===_0x46a00f))[_0x2ef36e(0x2e6)]();if(_0xd6445f[_0x2ef36e(0x26e)](_0x3a043e=>!isNaN(_0x3a043e)))return _0xd6445f[_0x2ef36e(0x214)](_0x2f072e=>Number(_0x2f072e));}}[_0x3e1241(0x2c7)](_0x22e5e7,_0x5ca163){const _0x1414d6=_0x3e1241;if(_0x5ca163==null)return null;if(!_0x22e5e7[_0x1414d6(0x223)]||!UtilActors[_0x1414d6(0x24a)][_0x22e5e7[_0x1414d6(0x223)]])return null;const _0x2a14ce=UtilActors['CASTER_TYPE_TO_PROGRESSION'][_0x22e5e7['casterProgression']][_0x5ca163-0x1];if(!_0x2a14ce)return null;if(!_0x2a14ce['some'](Boolean))return null;let _0x3f6799=_0x22e5e7[_0x1414d6(0x2d3)];BrewUtil[_0x1414d6(0x289)](_0x22e5e7[_0x1414d6(0x22c)])&&(_0x3f6799=_0x3f6799||this[_0x1414d6(0x29b)]['_spell_getApproximatePreparedFormula'](_0x22e5e7));if(!_0x3f6799)return null;const _0x994da1=this[_0x1414d6(0x2d0)][_0x1414d6(0x305)](),_0x53dddf=_0x3f6799[_0x1414d6(0x23a)](/<\$([^$]+)\$>/g,(..._0x1fb571)=>{const _0x532fb1=_0x1414d6;switch(_0x1fb571[0x1]){case _0x532fb1(0x35a):return _0x5ca163;case'str_mod':return Parser[_0x532fb1(0x286)](_0x994da1?.[_0x532fb1(0x317)]?.[_0x994da1[_0x532fb1(0x272)]]?.[_0x532fb1(0x2f6)]||0x0);case'dex_mod':return Parser['getAbilityModNumber'](_0x994da1?.['totals']?.[_0x994da1[_0x532fb1(0x272)]]?.['dex']||0x0);case _0x532fb1(0x2cc):return Parser[_0x532fb1(0x286)](_0x994da1?.[_0x532fb1(0x317)]?.[_0x994da1['mode']]?.[_0x532fb1(0x283)]||0x0);case'int_mod':return Parser[_0x532fb1(0x286)](_0x994da1?.[_0x532fb1(0x317)]?.[_0x994da1[_0x532fb1(0x272)]]?.['int']||0x0);case _0x532fb1(0x38b):return Parser['getAbilityModNumber'](_0x994da1?.[_0x532fb1(0x317)]?.[_0x994da1[_0x532fb1(0x272)]]?.[_0x532fb1(0x382)]||0x0);case'cha_mod':return Parser[_0x532fb1(0x286)](_0x994da1?.[_0x532fb1(0x317)]?.[_0x994da1[_0x532fb1(0x272)]]?.[_0x532fb1(0x2b6)]||0x0);default:throw new Error(_0x532fb1(0x253)+_0x1fb571[0x1]+'\x22');}}),_0x1eaa5f=eval(_0x53dddf);if(isNaN(_0x1eaa5f))return console[_0x1414d6(0x310)](...LGT,'Could\x20not\x20evaluate\x20expression\x20\x22'+_0x53dddf+_0x1414d6(0x334)+_0x3f6799+_0x1414d6(0x399)),null;return Math[_0x1414d6(0x307)](0x1,Math[_0x1414d6(0x27c)](_0x1eaa5f));}static['_spell_getApproximatePreparedFormula'](_0x396571){const _0x5c66c2=_0x3e1241;if(!_0x396571['casterProgression']||!_0x396571[_0x5c66c2(0x39b)]||_0x396571[_0x5c66c2(0x223)]===_0x5c66c2(0x24b))return null;const _0x47005d=_0x396571['classTableGroups'][_0x5c66c2(0x214)](_0x1a5ab6=>_0x1a5ab6[_0x5c66c2(0x2d2)]||[])[_0x5c66c2(0x2e6)]()['map'](_0x3ffe72=>Renderer[_0x5c66c2(0x358)]((''+_0x3ffe72)[_0x5c66c2(0x268)]()))['some'](_0x49d069=>{const _0xef3cb6=_0x5c66c2,_0x26d0ab=_0x49d069['toLowerCase']()[_0xef3cb6(0x2fe)](/[^a-z0-9]/g)[_0xef3cb6(0x214)](_0x27cbaa=>_0x27cbaa[_0xef3cb6(0x268)]())[_0xef3cb6(0x371)](Boolean);return _0x26d0ab[_0xef3cb6(0x237)](_0x3c5ffa=>_0x3c5ffa===_0xef3cb6(0x220)||_0x3c5ffa===_0xef3cb6(0x263))&&_0x26d0ab['some'](_0x30a43b=>_0x30a43b==='known');});if(_0x47005d)return null;return _0x5c66c2(0x1fd)+(_0x396571[_0x5c66c2(0x223)]!==_0x5c66c2(0x285)?_0x5c66c2(0x238):'')+'+\x20'+(_0x396571[_0x5c66c2(0x326)]?'<$'+_0x396571[_0x5c66c2(0x326)]+_0x5c66c2(0x34f):'5');}[_0x3e1241(0x28b)](_0x49b411,_0x2e9ccc,_0x388cc7){const _0x45e9ac=_0x3e1241,{propIxClass:_0xf17977,propIxSubclass:_0xf83dd7,propTargetLevel:_0x1495dd}=ActorCharactermancer[_0x45e9ac(0x24c)][_0x45e9ac(0x30d)](_0x388cc7),_0x4dba70=()=>{const _0x5e3fcc=_0x45e9ac,_0x247dd7=this['_data'][_0x5e3fcc(0x375)][this[_0x5e3fcc(0x2a2)][_0xf17977]],_0x3c844e=this[_0x5e3fcc(0x2a2)][_0x1495dd];if(this[_0x5e3fcc(0x362)][_0x388cc7])this['_compsSpellSpells'][_0x388cc7][_0x5e3fcc(0x31e)]=this[_0x5e3fcc(0x2c7)](_0x247dd7,_0x3c844e);};this[_0x45e9ac(0x2d0)][_0x45e9ac(0x294)](_0x4dba70);const _0x4074f2=()=>{const _0x39b5ef=_0x45e9ac,_0x488a5c=this[_0x39b5ef(0x210)][_0x39b5ef(0x375)][this['_state'][_0xf17977]],_0x14def6=_0x488a5c?.[_0x39b5ef(0x266)]?.[this['_state'][_0xf83dd7]],_0x292087=ActorCharactermancer[_0x39b5ef(0x24c)][_0x39b5ef(0x2f1)],_0xe23bb0=this[_0x39b5ef(0x2a2)][_0x1495dd],_0x1e7aa0=Charactermancer_Class_Util[_0x39b5ef(0x29e)]({'casterProgression':_0x488a5c?.[_0x39b5ef(0x223)],'curLevel':_0x292087,'targetLevel':_0xe23bb0}),_0x1b25d1=Charactermancer_Class_Util[_0x39b5ef(0x29e)]({'casterProgression':_0x14def6?.[_0x39b5ef(0x223)]||_0x488a5c?.[_0x39b5ef(0x223)],'curLevel':_0x292087,'targetLevel':_0xe23bb0});if(this['_compsSpellSpells'][_0x388cc7]){if(_0x1e7aa0){const {spellLevelLow:_0x3dfbed,spellLevelHigh:_0x5d0aa3}=_0x1e7aa0;this[_0x39b5ef(0x362)][_0x388cc7][_0x39b5ef(0x331)]=_0x3dfbed,this['_compsSpellSpells'][_0x388cc7][_0x39b5ef(0x1f7)]=_0x5d0aa3;}else this[_0x39b5ef(0x362)][_0x388cc7][_0x39b5ef(0x331)]=null,this[_0x39b5ef(0x362)][_0x388cc7][_0x39b5ef(0x1f7)]=null;this['_compsSpellSpells'][_0x388cc7][_0x39b5ef(0x2ba)]=this['_spell_getMaxLearnedCantrips'](_0x488a5c,_0xe23bb0),this[_0x39b5ef(0x362)][_0x388cc7][_0x39b5ef(0x22d)]=this['_spell_getMaxLearnedSpells'](_0x488a5c,_0xe23bb0),_0x4dba70();}if(this[_0x39b5ef(0x3a9)][_0x388cc7]){this[_0x39b5ef(0x3a9)][_0x388cc7][_0x39b5ef(0x2b3)]=_0x292087,this['_compsSpellAdditionalSpellSubclass'][_0x388cc7][_0x39b5ef(0x231)]=_0xe23bb0;if(_0x1b25d1){const {spellLevelLow:_0x54f4f6,spellLevelHigh:_0x2f2d88}=_0x1b25d1;this[_0x39b5ef(0x3a9)][_0x388cc7][_0x39b5ef(0x331)]=_0x54f4f6,this[_0x39b5ef(0x3a9)][_0x388cc7][_0x39b5ef(0x1f7)]=_0x2f2d88;}else this['_compsSpellAdditionalSpellSubclass'][_0x388cc7][_0x39b5ef(0x331)]=null,this[_0x39b5ef(0x3a9)][_0x388cc7][_0x39b5ef(0x1f7)]=null;}if(_0x488a5c){const _0x2d49d8=this[_0x39b5ef(0x29b)][_0x39b5ef(0x384)](_0x488a5c,_0x14def6,_0xe23bb0);_0x3ff5d2['toggleVe'](_0x2d49d8);}};this[_0x45e9ac(0x275)](_0x1495dd,_0x4074f2);const _0x7033e9=()=>{const _0x165c7=_0x45e9ac,_0x45cd57=this['_data'][_0x165c7(0x375)][this[_0x165c7(0x2a2)][_0xf17977]],_0x31a910=_0x45cd57?.[_0x165c7(0x266)]?.[this[_0x165c7(0x2a2)][_0xf83dd7]];_0x43bc00[_0x165c7(0x343)]();if(!_0x45cd57||!this[_0x165c7(0x29b)][_0x165c7(0x218)](_0x45cd57,_0x31a910)){_0x3ff5d2[_0x165c7(0x215)](),this[_0x165c7(0x362)][_0x388cc7]=null;return;}this[_0x165c7(0x362)][_0x388cc7]=new Charactermancer_Spell({'spellDatas':this[_0x165c7(0x210)][_0x165c7(0x220)],'className':_0x45cd57[_0x165c7(0x260)],'classSource':_0x45cd57['source'],'pageFilter':this[_0x165c7(0x37a)],'$wrpPreparedLearned':_0x91feeb}),_0x1c2d3f(),this[_0x165c7(0x362)][_0x388cc7][_0x165c7(0x3a0)](_0x43bc00,_0x2e9ccc);const _0x27c46f=this['_filterBoxSpells'][_0x165c7(0x363)]();this[_0x165c7(0x362)][_0x388cc7][_0x165c7(0x38c)](_0x27c46f);};this[_0x45e9ac(0x275)](_0xf17977,_0x7033e9);const _0x1c2d3f=()=>{const _0x18e52a=_0x45e9ac,_0x57cba3=this[_0x18e52a(0x210)][_0x18e52a(0x375)][this[_0x18e52a(0x2a2)][_0xf17977]],_0x19f986=_0x57cba3?.[_0x18e52a(0x266)]?.[this['_state'][_0xf83dd7]];_0x5cff4d[_0x18e52a(0x352)](_0x57cba3?''+_0x57cba3[_0x18e52a(0x260)]+(_0x19f986?'\x20('+_0x19f986[_0x18e52a(0x260)]+')':''):''),_0x515f46['empty'](),_0x19f986&&_0x19f986[_0x18e52a(0x1ef)]?(_0x515f46[_0x18e52a(0x31f)]()['append'](_0x18e52a(0x2a9)+_0x19f986[_0x18e52a(0x260)]+_0x18e52a(0x2a5)),this[_0x18e52a(0x3a9)][_0x388cc7]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this['_data']['spell'],'additionalSpells':_0x19f986[_0x18e52a(0x1ef)],'modalFilterSpells':this[_0x18e52a(0x316)]}),this[_0x18e52a(0x3a9)][_0x388cc7][_0x18e52a(0x3a0)](_0x515f46)):(_0x515f46[_0x18e52a(0x215)](),this['_compsSpellAdditionalSpellSubclass'][_0x388cc7]=null),_0x4074f2();};this[_0x45e9ac(0x275)](_0xf83dd7,_0x1c2d3f);const _0x138367=()=>{const _0x129b9a=_0x45e9ac;if(!this['_compsSpellSpells'][_0x388cc7])return;const _0x5cd368=this[_0x129b9a(0x210)][_0x129b9a(0x375)][this[_0x129b9a(0x2a2)][_0xf17977]];if(!_0x5cd368)return;const _0x3c52ec=this[_0x129b9a(0x2a2)][_0x1495dd];this[_0x129b9a(0x362)][_0x388cc7][_0x129b9a(0x2ba)]=this[_0x129b9a(0x2cb)](_0x5cd368,_0x3c52ec),this['_compsSpellSpells'][_0x388cc7][_0x129b9a(0x22d)]=this[_0x129b9a(0x39c)](_0x5cd368,_0x3c52ec),_0x4dba70();};this['_addHookBase'](_0xf17977,_0x138367),this[_0x45e9ac(0x275)](_0x1495dd,_0x138367),_0x138367();const _0x5cff4d=$(_0x45e9ac(0x2c1)),_0x91feeb=$$`<div class="mb-1 ve-muted ve-small manc-sp__disp-prepared flex-v-center"></div>`,_0x43bc00=$$`<div class="flex-col"></div>`,_0x515f46=$$`<div class="flex-col"></div>`[_0x45e9ac(0x215)](),_0x25af03=$(_0x45e9ac(0x35f))[_0x45e9ac(0x20c)](()=>{const _0x3326f4=_0x45e9ac;_0x25af03[_0x3326f4(0x352)](_0x25af03[_0x3326f4(0x352)]()===_0x3326f4(0x267)?_0x3326f4(0x25a):_0x3326f4(0x267)),_0x30dccd[_0x3326f4(0x280)]();}),_0x30dccd=$$`<div class="flex-col w-100">
			${_0x43bc00}
			${_0x515f46}
		</div>`,_0x3ff5d2=$$`<div class="flex-col mb-2">
			<div class="split-v-center">
				${_0x5cff4d}
				${_0x25af03}
			</div>
			${_0x91feeb}

			${_0x30dccd}
		</div>`[_0x45e9ac(0x2d7)](_0x49b411);_0x7033e9(),_0x1c2d3f();}['_spell_renderRaceSection'](_0x261ee8){const _0x26e96d=_0x3e1241,_0x45fdd6=$$`<div class="flex-col"></div>`['hideVe'](),_0x2c8414=()=>{const _0x3ed8da=_0x1a02,_0x8bbb45=ActorCharactermancer[_0x3ed8da(0x24c)][_0x3ed8da(0x2f1)],_0x2dc5f7=this[_0x3ed8da(0x2a2)][_0x3ed8da(0x2e1)];this[_0x3ed8da(0x2d1)]&&(this['_compSpellAdditionalSpellRace'][_0x3ed8da(0x2b3)]=_0x8bbb45,this[_0x3ed8da(0x2d1)][_0x3ed8da(0x231)]=Math[_0x3ed8da(0x307)](0x1,_0x2dc5f7),this[_0x3ed8da(0x2d1)][_0x3ed8da(0x331)]=ActorCharactermancer[_0x3ed8da(0x24c)][_0x3ed8da(0x21e)],this['_compSpellAdditionalSpellRace'][_0x3ed8da(0x1f7)]=this['_class_getMaxSpellLevel']());};this['_addHookBase'](_0x26e96d(0x2e1),_0x2c8414);const _0x579e67=()=>{const _0x348424=_0x26e96d;_0x45fdd6[_0x348424(0x343)]();const _0x276b45=this[_0x348424(0x210)][_0x348424(0x32f)][this[_0x348424(0x2a2)]['race_ixRace']];let _0x27c601=![];_0x276b45&&_0x276b45[_0x348424(0x1ef)]?(_0x27c601=!![],_0x45fdd6[_0x348424(0x31f)](),this[_0x348424(0x2d1)]=new Charactermancer_AdditionalSpellsSelect({'spellDatas':this['_data'][_0x348424(0x220)],'additionalSpells':_0x276b45[_0x348424(0x1ef)],'modalFilterSpells':this[_0x348424(0x316)]}),this[_0x348424(0x2d1)][_0x348424(0x3a0)](_0x45fdd6)):(_0x45fdd6[_0x348424(0x215)](),this[_0x348424(0x2d1)]=null),_0x276b45&&_0x27c601?(_0x228cfa[_0x348424(0x31f)](),_0x47d164['text'](_0x276b45[_0x348424(0x260)])):_0x228cfa[_0x348424(0x215)](),_0x2c8414();};this[_0x26e96d(0x275)](_0x26e96d(0x232),_0x579e67);const _0x47d164=$(_0x26e96d(0x2c1)),_0x427d1d=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x26e96d(0x20c)](()=>{const _0xca3c03=_0x26e96d;_0x427d1d['text'](_0x427d1d['text']()==='[+]'?_0xca3c03(0x25a):_0xca3c03(0x267)),_0xc6d63[_0xca3c03(0x280)]();}),_0xc6d63=$$`<div class="flex-col w-100">
			${_0x45fdd6}
		</div>`,_0x228cfa=$$`<div class="flex-col w-100 mb-2">
			<div class="split-v-center">
				${_0x47d164}
				${_0x427d1d}
			</div>

			${_0xc6d63}
		</div>`[_0x26e96d(0x215)]()[_0x26e96d(0x2d7)](_0x261ee8);_0x579e67();}[_0x3e1241(0x398)](_0x2ad8ca){const _0x35824b=_0x3e1241,_0x5d845c=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x52f588=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x8a5a5f=()=>this[_0x35824b(0x2a2)][_0x35824b(0x3b2)]=Math[_0x35824b(0x307)](this['_state'][_0x35824b(0x3b2)],this[_0x35824b(0x2a2)][_0x35824b(0x230)]-0x1);this[_0x35824b(0x275)](_0x35824b(0x230),_0x8a5a5f),_0x8a5a5f();const _0x2e4a55=()=>this[_0x35824b(0x2a2)]['feat_ixMaxRace']=Math[_0x35824b(0x307)](this['_state'][_0x35824b(0x290)],this['_state'][_0x35824b(0x22a)]-0x1);this[_0x35824b(0x275)](_0x35824b(0x22a),_0x2e4a55),_0x2e4a55();const _0x55cff8=()=>this[_0x35824b(0x2a2)]['feat_ixMaxCustom']=Math[_0x35824b(0x307)](this[_0x35824b(0x2a2)][_0x35824b(0x245)],this[_0x35824b(0x2a2)][_0x35824b(0x2a3)]-0x1);this[_0x35824b(0x275)](_0x35824b(0x2a3),_0x55cff8),_0x55cff8(),this[_0x35824b(0x2a1)](_0x5d845c,_0x52f588,'feat_ixMaxAbility',_0x35824b(0x347)),this['_feat_addFeatSection'](_0x5d845c,_0x52f588,_0x35824b(0x290),'race'),this[_0x35824b(0x2a1)](_0x5d845c,_0x52f588,_0x35824b(0x245),_0x35824b(0x2b4));const _0x1d2900=$('<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Feat</button>')[_0x35824b(0x20c)](()=>this[_0x35824b(0x2a2)][_0x35824b(0x245)]++);$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x5d845c}
				<div class="mt-2">${_0x1d2900}</div>
			</div>
			<div class="vr-1"></div>
			${_0x52f588}
		</div>`['appendTo'](_0x2ad8ca);}['_feat_addFeatSection'](_0x29c733,_0x3704d4,_0x180801,_0x3668f8){const _0xb882c2=_0x3e1241;let _0x79c50=this[_0xb882c2(0x2a2)][_0x180801]+0x1;const _0x43fc02=()=>{const _0x1d4fdb=_0xb882c2;for(let _0x101b69=_0x79c50;_0x101b69<this[_0x1d4fdb(0x2a2)][_0x180801]+0x1;++_0x101b69)this[_0x1d4fdb(0x244)](_0x29c733,_0x3704d4,_0x101b69,_0x3668f8);const _0x4b7db2=_0x79c50!==this[_0x1d4fdb(0x2a2)][_0x180801]+0x1;_0x79c50=this['_state'][_0x180801]+0x1;if(_0x4b7db2)this[_0x1d4fdb(0x2a2)][_0x1d4fdb(0x348)]=!this['_state'][_0x1d4fdb(0x348)];};this[_0xb882c2(0x275)](_0x180801,_0x43fc02),_0x43fc02();}['_feat_renderFeat'](_0x18dfdc,_0x1907d4,_0x2e59b5,_0x24752e){const _0xf738c5=_0x3e1241,{propPrefixFeat:_0x4abc5a,propIxFeat:_0x1cee14}=ActorCharactermancer['Component'][_0xf738c5(0x3a7)](_0x2e59b5,_0x24752e);let _0x29c707=null,_0x5a8b71=this[_0xf738c5(0x2a2)][_0x1cee14];const _0x40cff8=()=>{const _0x396d3f=_0xf738c5,_0x1a98e0=_0x24752e==='custom'||this[_0x396d3f(0x2bc)]()['includes'](_0x1cee14),_0x159e55=_0x29c707!=null&&_0x1a98e0!==_0x29c707,_0x1117b0=this['_state'][_0x1cee14]!==_0x5a8b71;_0x29c707=_0x1a98e0,_0x5a8b71=this[_0x396d3f(0x2a2)][_0x1cee14],(_0x159e55&&this[_0x396d3f(0x2a2)][_0x1cee14]!=null||_0x1117b0)&&(this[_0x396d3f(0x2a2)][_0x396d3f(0x348)]=!this[_0x396d3f(0x2a2)][_0x396d3f(0x348)]);};this['_addHookBase'](_0x1cee14,_0x40cff8);if(_0x24752e===_0xf738c5(0x347))this[_0xf738c5(0x275)](_0xf738c5(0x230),_0x40cff8);if(_0x24752e===_0xf738c5(0x32f))this[_0xf738c5(0x275)](_0xf738c5(0x22a),_0x40cff8);if(_0x24752e===_0xf738c5(0x2b4))this['_addHookBase'](_0xf738c5(0x2a3),_0x40cff8);const {$sel:_0x297e12,$btnFilter:_0x209f8d}=this['_pRender_getFilterSearchMeta']({'prop':_0x1cee14,'data':this[_0xf738c5(0x210)][_0xf738c5(0x236)],'modalFilter':this[_0xf738c5(0x2f8)],'title':_0xf738c5(0x2f5)}),_0x45eb37=()=>{const _0x4b3fc8=_0xf738c5,_0x1aad74=this[_0x4b3fc8(0x2bc)]()[_0x4b3fc8(0x258)](_0x1cee14);_0x3e2562[_0x4b3fc8(0x280)](_0x1aad74),_0x51b82a[_0x4b3fc8(0x280)](_0x1aad74),_0x40cff8();};if(_0x24752e===_0xf738c5(0x347))this['_addHookBase'](_0xf738c5(0x230),_0x45eb37);if(_0x24752e==='race')this['_addHookBase'](_0xf738c5(0x22a),_0x45eb37);if(_0x24752e===_0xf738c5(0x2b4))this[_0xf738c5(0x275)](_0xf738c5(0x2a3),_0x45eb37);const _0x5b6488=()=>{const _0x349503=_0xf738c5,_0x4d161e=Object[_0x349503(0x329)](this[_0x349503(0x388)])[_0x349503(0x371)](_0x418560=>_0x418560['startsWith'](_0x4abc5a)&&_0x418560!==_0x1cee14)[_0x349503(0x1f9)](_0x104ae2=>({[_0x104ae2]:null}));this[_0x349503(0x2ff)](_0x349503(0x25f),_0x4d161e);const _0x38e7a5=(_0x24752e===_0x349503(0x347)||_0x24752e==='race')&&!this['_feat_getActiveFeatIxProps']()[_0x349503(0x258)](_0x1cee14),_0x3367b5=_0x38e7a5?null:this[_0x349503(0x210)]['feat'][this['_state'][_0x1cee14]];_0x2209bc[_0x349503(0x343)]();if(_0x3367b5)this[_0x349503(0x2e8)](_0x2209bc,_0x3367b5);_0x45eb37(),this[_0x349503(0x2d0)][_0x349503(0x3a3)](_0x2e59b5,_0x24752e,this[_0x349503(0x2a2)][_0x1cee14]);};this[_0xf738c5(0x275)](_0x1cee14,_0x5b6488);const _0x4f82a6=_0xf738c5(0x23d)+(_0x24752e==='ability'?_0xf738c5(0x320):_0x24752e===_0xf738c5(0x32f)?_0xf738c5(0x29a):'\x20(Additional/Custom)'),_0x93aeb5=$('<div\x20class=\x22bold\x22>'+_0x4f82a6+_0xf738c5(0x30b)),_0x2af5c1=$$`<div class="flex-col w-100"></div>`[_0xf738c5(0x215)](),_0x2cf7ee=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')['click'](()=>{const _0x573407=_0xf738c5,_0x2e7601=_0x2cf7ee['text']()===_0x573407(0x267);_0x2cf7ee['text'](_0x2e7601?'[‒]':_0x573407(0x267));if(_0x2e7601)_0x93aeb5[_0x573407(0x352)](_0x4f82a6);else{const _0x4c64d8=this[_0x573407(0x210)][_0x573407(0x236)][this[_0x573407(0x2a2)][_0x1cee14]];if(_0x4c64d8)_0x93aeb5[_0x573407(0x352)](_0x4c64d8[_0x573407(0x260)]);else _0x93aeb5[_0x573407(0x352)](_0x4f82a6);}_0x371b20[_0x573407(0x280)]();}),_0x2209bc=$$`<div class="flex-col w-100 mb-3"></div>`,_0x371b20=$$`<div class="flex-col w-100 mt-2">
			<div class="flex-v-center btn-group w-100">${_0x297e12}${_0x209f8d}</div>
			${_0x2af5c1}
		</div>`,_0x3e2562=$$`<div class="flex-col mb-3">
			<div class="split-v-center">
				${_0x93aeb5}
				<div class="flex-v-center">
					${_0x2cf7ee}
				</div>
			</div>

			${_0x371b20}
		</div>`[_0xf738c5(0x2d7)](_0x18dfdc),_0x51b82a=$$`<div>
			${_0x2209bc}
		</div>`[_0xf738c5(0x2d7)](_0x1907d4);_0x5b6488();}['_feat_renderEntriesSection'](_0x34a303,_0x3e3361){const _0x351641=_0x3e1241,_0x422333=$(_0x351641(0x1f3))['click'](()=>{const _0x2f8167=_0x351641;_0x422333['text'](_0x422333[_0x2f8167(0x352)]()===_0x2f8167(0x267)?_0x2f8167(0x25a):'[+]'),_0x17164d[_0x2f8167(0x280)]();}),_0x17164d=Renderer[_0x351641(0x27f)]['$getHoverContent_stats'](UrlUtil[_0x351641(0x350)],MiscUtil['copy'](_0x3e3361),{'isSkipNameRow':!![]});$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x3e3361[_0x351641(0x260)]||'')['qq']()}</div></div>
				${_0x422333}
			</div>
			${_0x17164d}
		</div>`[_0x351641(0x2d7)](_0x34a303);}static[_0x3e1241(0x3a7)](_0x1327d3,_0x56b737){const _0x194101=_0x3e1241;return{'propPrefixFeat':'feat_'+_0x1327d3+'_'+_0x56b737+'_','propIxFeat':_0x194101(0x277)+_0x1327d3+'_'+_0x56b737+'_ixFeat'};}[_0x3e1241(0x2bc)](){const _0x18abd5=_0x3e1241,_0x7c03b7=[];for(let _0x1d28d2=0x0;_0x1d28d2<this['_state'][_0x18abd5(0x3b2)]+0x1;++_0x1d28d2){if(_0x1d28d2>=this[_0x18abd5(0x2a2)][_0x18abd5(0x230)])break;const {propIxFeat:_0x167a16}=this[_0x18abd5(0x29b)][_0x18abd5(0x3a7)](_0x1d28d2,'ability');_0x7c03b7['push'](_0x167a16);}for(let _0x5901ba=0x0;_0x5901ba<this[_0x18abd5(0x2a2)]['feat_ixMaxRace']+0x1;++_0x5901ba){if(_0x5901ba>=this['_state'][_0x18abd5(0x22a)])break;const {propIxFeat:_0x266db6}=this['constructor'][_0x18abd5(0x3a7)](_0x5901ba,_0x18abd5(0x32f));_0x7c03b7[_0x18abd5(0x21f)](_0x266db6);}for(let _0x4bbf56=0x0;_0x4bbf56<this[_0x18abd5(0x2a2)][_0x18abd5(0x245)]+0x1;++_0x4bbf56){if(_0x4bbf56>=this[_0x18abd5(0x2a2)][_0x18abd5(0x2a3)])break;const {propIxFeat:_0x290fd4}=this[_0x18abd5(0x29b)][_0x18abd5(0x3a7)](_0x4bbf56,_0x18abd5(0x2b4));_0x7c03b7[_0x18abd5(0x21f)](_0x290fd4);}return _0x7c03b7;}async['_pHandleSaveClick'](){const _0x598676=_0x3e1241,_0x195534=await InputUiUtil[_0x598676(0x357)]({'title':_0x598676(0x282)});if(!_0x195534)return;const _0x1bb47e=new UtilApplications[(_0x598676(0x243))]({'titleInitial':_0x598676(0x2a6),'titleComplete':_0x598676(0x3a4)});await _0x1bb47e[_0x598676(0x247)]();const _0x3a58c1={'_':0x0};try{await this[_0x598676(0x264)](_0x1bb47e,_0x3a58c1);}catch(_0x4a4804){_0x1bb47e['setProgress']('Build\x20failed!\x20'+VeCt[_0x598676(0x27b)],_0x3a58c1['_'],this['constructor'][_0x598676(0x390)],!![]);throw _0x4a4804;}}async[_0x3e1241(0x264)](_0x42750d,_0x2194b2){const _0x27e961=_0x3e1241;_0x42750d['setProgress'](_0x27e961(0x36b),++_0x2194b2['_'],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d['setProgress'](_0x27e961(0x234),this['constructor'][_0x27e961(0x390)],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);const _0x553c4e=this[_0x27e961(0x2d0)][_0x27e961(0x305)](),_0x4ecf51={'data':{'abilities':{...Parser[_0x27e961(0x211)][_0x27e961(0x1f9)](_0x23eb0b=>({[_0x23eb0b]:{'value':_0x553c4e?.[_0x27e961(0x317)]?.[_0x553c4e[_0x27e961(0x272)]]?.[_0x23eb0b]||0x0}}))}}};await this[_0x27e961(0x251)]['update'](_0x4ecf51),_0x42750d[_0x27e961(0x322)](_0x27e961(0x206),_0x2194b2['_'],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d[_0x27e961(0x322)](_0x27e961(0x234),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);_0x42750d['setProgress']('Importing\x20race...',++_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);const _0x3bc9c9=this[_0x27e961(0x210)][_0x27e961(0x32f)][this[_0x27e961(0x2a2)]['race_ixRace']];if(_0x3bc9c9){const _0x1c3826=new ImportListRace({'actor':this['_actor']});await _0x1c3826['pInit']();const _0x7a9ae0=MiscUtil[_0x27e961(0x2c4)](_0x3bc9c9);delete _0x7a9ae0[_0x27e961(0x347)],delete _0x7a9ae0['feats'],delete _0x7a9ae0[_0x27e961(0x1ef)],await this[_0x27e961(0x303)](this[_0x27e961(0x2e7)],_0x7a9ae0,'skillProficiencies'),await this[_0x27e961(0x31c)](this['_compRaceLanguageProficiencies'],_0x7a9ae0,_0x27e961(0x3ad)),await this[_0x27e961(0x2b8)](this['_compRaceToolProficiencies'],_0x7a9ae0,_0x27e961(0x38f)),delete _0x7a9ae0[_0x27e961(0x34b)];if(this['_compRaceDamageImmunity']){const _0x207649=await this[_0x27e961(0x2be)][_0x27e961(0x20d)](),_0x303d8e=[];Object['entries'](_0x207649[_0x27e961(0x374)])['filter'](([,_0x420902])=>_0x420902)['forEach'](([_0x21ad3c])=>_0x303d8e[_0x27e961(0x21f)](_0x21ad3c));if(_0x303d8e[_0x27e961(0x359)])_0x7a9ae0[_0x27e961(0x34b)]=_0x303d8e;}delete _0x7a9ae0[_0x27e961(0x1f2)];if(this[_0x27e961(0x255)]){const _0x171f15=await this[_0x27e961(0x255)][_0x27e961(0x20d)](),_0x14a194=[];Object[_0x27e961(0x205)](_0x171f15['data'])['filter'](([,_0x3f0131])=>_0x3f0131)[_0x27e961(0x342)](([_0xa194e4])=>_0x14a194[_0x27e961(0x21f)](_0xa194e4));if(_0x14a194[_0x27e961(0x359)])_0x7a9ae0[_0x27e961(0x1f2)]=_0x14a194;}delete _0x7a9ae0['vulnerable'];if(this[_0x27e961(0x22f)]){const _0x21d80d=await this[_0x27e961(0x22f)][_0x27e961(0x20d)](),_0xacc4b8=[];Object[_0x27e961(0x205)](_0x21d80d[_0x27e961(0x374)])[_0x27e961(0x371)](([,_0x446ada])=>_0x446ada)[_0x27e961(0x342)](([_0x408894])=>_0xacc4b8[_0x27e961(0x21f)](_0x408894));if(_0xacc4b8[_0x27e961(0x359)])_0x7a9ae0[_0x27e961(0x2b7)]=_0xacc4b8;}delete _0x7a9ae0[_0x27e961(0x33a)];if(this['_compRaceConditionImmunity']){const _0x1eb0c8=await this[_0x27e961(0x1f5)]['pGetFormData'](),_0x1896b6=[];Object[_0x27e961(0x205)](_0x1eb0c8[_0x27e961(0x374)])['filter'](([,_0x5673aa])=>_0x5673aa)[_0x27e961(0x342)](([_0x20e96e])=>_0x1896b6['push'](_0x20e96e));if(_0x1896b6['length'])_0x7a9ae0[_0x27e961(0x33a)]=_0x1896b6;}await _0x1c3826[_0x27e961(0x39a)](_0x7a9ae0);}_0x42750d[_0x27e961(0x322)](_0x27e961(0x3a5),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d['setProgress'](_0x27e961(0x234),_0x2194b2['_'],this['constructor'][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x394),++_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);const _0x30a60f=[];for(let _0x318afd=0x0;_0x318afd<this[_0x27e961(0x2a2)][_0x27e961(0x1f6)]+0x1;++_0x318afd){const {propIxClass:_0x524115,propIxSubclass:_0x23f414}=ActorCharactermancer['Component']['_class_getProps'](_0x318afd),_0x4198ff=this['_data'][_0x27e961(0x375)][this[_0x27e961(0x2a2)][_0x524115]];if(!_0x4198ff)continue;const _0x5b0285=this[_0x27e961(0x2a2)][_0x23f414]!=null?_0x4198ff[_0x27e961(0x266)][this['_state'][_0x23f414]]:null;_0x30a60f[_0x27e961(0x21f)]({'ix':_0x318afd,'cls':_0x4198ff,'sc':_0x5b0285,'isPrimary':this['_state'][_0x27e961(0x30c)]===_0x318afd});}if(_0x30a60f[_0x27e961(0x359)]){_0x30a60f[_0x27e961(0x33c)]((_0x3ba5f7,_0x55912b)=>SortUtil[_0x27e961(0x364)](Number(_0x55912b[_0x27e961(0x207)]),Number(_0x3ba5f7[_0x27e961(0x207)]))||SortUtil[_0x27e961(0x364)](_0x3ba5f7[_0x27e961(0x298)]['name'],_0x55912b[_0x27e961(0x298)][_0x27e961(0x260)]));const _0x1cf0de=new ImportListClass({'actor':this[_0x27e961(0x251)]});await _0x1cf0de[_0x27e961(0x247)]();const _0x34453f=this[_0x27e961(0x309)][_0x27e961(0x2eb)][_0x27e961(0x21d)]['getValues']();for(let _0x43292f=0x0;_0x43292f<_0x30a60f['length'];++_0x43292f){const {ix:_0x236f45,cls:_0x13254c,sc:_0x1b70e8,isPrimary:_0x2f6ced}=_0x30a60f[_0x43292f],_0x308679=MiscUtil[_0x27e961(0x2c4)](_0x13254c),_0x159b76=_0x1b70e8?MiscUtil[_0x27e961(0x2c4)](_0x1b70e8):null;if(_0x159b76)delete _0x159b76[_0x27e961(0x1ef)];if(_0x159b76)_0x308679[_0x27e961(0x266)]=[_0x159b76];else _0x308679[_0x27e961(0x266)]=[];_0x308679[_0x27e961(0x36c)]=_0x43292f===0x0?Charactermancer_Class_ProficiencyImportModeSelect[_0x27e961(0x221)]:Charactermancer_Class_ProficiencyImportModeSelect[_0x27e961(0x295)],_0x308679['_foundryHpIncreaseMode']=await this[_0x27e961(0x34e)][_0x236f45]['pGetFormData']()['data'],_0x308679[_0x27e961(0x2bf)]=await this[_0x27e961(0x225)][_0x236f45][_0x27e961(0x20d)]()[_0x27e961(0x374)],_0x308679[_0x27e961(0x3a2)]=[];for(const _0x195ad1 of this['_compsClassFeatureOptionsSelect'][_0x236f45]){const _0x21517d=(await _0x195ad1[_0x27e961(0x20d)]())[_0x27e961(0x374)];_0x308679[_0x27e961(0x3a2)][_0x27e961(0x21f)](..._0x21517d);}_0x308679[_0x27e961(0x39e)]=!![];const _0x23ccf2=_0x2f6ced?['startingProficiencies',_0x27e961(0x20b)]:[_0x27e961(0x385),_0x27e961(0x23e),'skills'];await this[_0x27e961(0x303)](this['_compsClassSkillProficiencies'][_0x236f45],_0x308679,..._0x23ccf2),delete _0x308679[_0x27e961(0x341)],await _0x1cf0de['pImportClass'](_0x308679,{'filterValues':_0x34453f});}}_0x42750d[_0x27e961(0x322)](_0x27e961(0x35d),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d[_0x27e961(0x322)](_0x27e961(0x234),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x3aa),++_0x2194b2['_'],this['constructor']['_TOTAL_TASKS']);const _0x54c7e6=this[_0x27e961(0x210)][_0x27e961(0x2ee)][this[_0x27e961(0x2a2)][_0x27e961(0x2f2)]];if(_0x54c7e6){const _0x1dbd7c=new ImportListBackground({'actor':this[_0x27e961(0x251)]});await _0x1dbd7c[_0x27e961(0x247)]();const _0x4549bc=MiscUtil['copy'](_0x54c7e6);await this[_0x27e961(0x303)](this[_0x27e961(0x2ea)],_0x4549bc,_0x27e961(0x284)),await this[_0x27e961(0x31c)](this['_compBackgroundLanguageProficiencies'],_0x4549bc,_0x27e961(0x3ad)),await this[_0x27e961(0x2b8)](this[_0x27e961(0x30a)],_0x4549bc,_0x27e961(0x38f)),delete _0x4549bc[_0x27e961(0x341)],await _0x1dbd7c[_0x27e961(0x39a)](_0x4549bc);}_0x42750d[_0x27e961(0x322)](_0x27e961(0x3b0),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d[_0x27e961(0x322)](_0x27e961(0x234),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x2dd),++_0x2194b2['_'],this['constructor'][_0x27e961(0x390)]);const _0x2791d4=[],_0x37c880=new Set(this[_0x27e961(0x2bc)]());for(let _0x37706f=0x0;_0x37706f<this[_0x27e961(0x2a2)][_0x27e961(0x3b2)]+0x1;++_0x37706f){const {propIxFeat:_0x3a0977}=this[_0x27e961(0x29b)][_0x27e961(0x3a7)](_0x37706f,_0x27e961(0x347));if(!_0x37c880['has'](_0x3a0977))continue;_0x2791d4['push']({'propIxFeat':_0x3a0977,'namespace':_0x27e961(0x347),'ix':_0x37706f});}for(let _0x35b70e=0x0;_0x35b70e<this[_0x27e961(0x2a2)][_0x27e961(0x290)]+0x1;++_0x35b70e){const {propIxFeat:_0x423156}=this[_0x27e961(0x29b)][_0x27e961(0x3a7)](_0x35b70e,_0x27e961(0x32f));if(!_0x37c880[_0x27e961(0x386)](_0x423156))continue;_0x2791d4[_0x27e961(0x21f)]({'propIxFeat':_0x423156,'namespace':_0x27e961(0x32f),'ix':_0x35b70e});}for(let _0x35d9c2=0x0;_0x35d9c2<this['_state'][_0x27e961(0x245)]+0x1;++_0x35d9c2){const {propIxFeat:_0x287bdf}=this[_0x27e961(0x29b)]['_feat_getProps'](_0x35d9c2,'custom');if(!_0x37c880[_0x27e961(0x386)](_0x287bdf))continue;_0x2791d4[_0x27e961(0x21f)]({'propIxFeat':_0x287bdf,'namespace':_0x27e961(0x2b4),'ix':_0x35d9c2});}if(_0x2791d4[_0x27e961(0x359)]){const _0xa0554=new ImportListFeat({'actor':this['_actor']});await _0xa0554[_0x27e961(0x247)]();for(const _0x24a713 of _0x2791d4){const _0x5d9efd=this[_0x27e961(0x210)][_0x27e961(0x236)][this[_0x27e961(0x2a2)][_0x24a713[_0x27e961(0x2bb)]]];if(!_0x5d9efd)continue;const _0x4ac86a=MiscUtil[_0x27e961(0x2c4)](_0x5d9efd);delete _0x4ac86a['ability'],delete _0x4ac86a['additionalSpells'],await _0xa0554[_0x27e961(0x39a)](_0x4ac86a);}}_0x42750d[_0x27e961(0x322)](_0x27e961(0x3b4),_0x2194b2['_'],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d['setProgress'](_0x27e961(0x234),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x2cd),++_0x2194b2['_'],this['constructor'][_0x27e961(0x390)]);const _0x133aaf=this[_0x27e961(0x35b)](),_0x1ebc81=this[_0x27e961(0x2a4)]||this[_0x27e961(0x2fb)]['getValues']();for(let _0x57e4fa=0x0;_0x57e4fa<this[_0x27e961(0x2a2)]['class_ixMax']+0x1;++_0x57e4fa){const {propIxClass:_0x2acd6f,propIxSubclass:_0x1e734b}=ActorCharactermancer[_0x27e961(0x24c)]['_class_getProps'](_0x57e4fa),_0xea6cba=this[_0x27e961(0x210)][_0x27e961(0x375)][this[_0x27e961(0x2a2)][_0x2acd6f]];if(!_0xea6cba)continue;const _0x2ac4b1=await this['_compsClassLevelSelect'][_0x57e4fa][_0x27e961(0x20d)]()[_0x27e961(0x374)],_0x247346=Math[_0x27e961(0x307)](..._0x2ac4b1)+0x1;if(this['_compsSpellSpells'][_0x57e4fa]){const _0x3893b0=await this[_0x27e961(0x362)][_0x57e4fa][_0x27e961(0x20d)](_0x1ebc81),_0x28d724=_0x3893b0?.['data']?.[_0x27e961(0x263)]||[];for(let _0x77e983=0x0;_0x77e983<_0x28d724[_0x27e961(0x359)];++_0x77e983){const {spell:_0x498189,isPrepared:_0x329e13,isLearned:_0x182ee5}=_0x28d724[_0x77e983],_0x1ad666=await DataConverterSpell[_0x27e961(0x233)](_0x498189,{'isPrepared':_0x329e13||_0x182ee5,'preparationMode':_0x182ee5?_0xea6cba[_0x27e961(0x223)]===_0x27e961(0x24b)?_0x27e961(0x24b):_0x27e961(0x2f9):_0x27e961(0x27e),'casterLevel':_0x247346,'abilityAbv':_0xea6cba[_0x27e961(0x326)]}),_0x2522ac=await this['_actor']['createEmbeddedEntity'](_0x27e961(0x365),_0x1ad666,{});}}const _0x4b6d62=this['_state'][_0x1e734b]!=null?_0xea6cba[_0x27e961(0x266)][this[_0x27e961(0x2a2)][_0x1e734b]]:null;if(!_0x4b6d62)continue;if(this['_compsSpellAdditionalSpellSubclass'][_0x57e4fa]){const _0x45e323=await this[_0x27e961(0x3a9)][_0x57e4fa][_0x27e961(0x20d)]();await this['_pHandleSaveClick_pDoImportAdditionalSpells']({'formData':_0x45e323,'targetLevel':_0x247346,'abilityAbv':_0x4b6d62[_0x27e961(0x326)]||_0xea6cba[_0x27e961(0x326)]});}}if(this[_0x27e961(0x2d1)]){const _0x12c318=await this['_compSpellAdditionalSpellRace']['pGetFormData']();await this[_0x27e961(0x373)]({'formData':_0x12c318,'totalClassLevels':_0x133aaf});}const _0x6f671d=this[_0x27e961(0x2d0)][_0x27e961(0x302)]();for(const _0xa11127 of _0x2791d4){const _0x4dbc11=this[_0x27e961(0x23f)][_0xa11127[_0x27e961(0x380)]][_0xa11127['ix']];if(_0x4dbc11){let _0x2177f4=null;if(_0x6f671d[_0x27e961(0x335)][_0xa11127['ix']]){const _0x4ceb84=_0x6f671d[_0x27e961(0x335)][_0xa11127['ix']];_0x2177f4=Object[_0x27e961(0x329)](_0x4ceb84[_0x27e961(0x21c)]||{})[0x0];}const _0x25c80a=await _0x4dbc11['pGetFormData']();await this[_0x27e961(0x373)]({'formData':_0x25c80a,'totalClassLevels':_0x133aaf,'parentAbilityAbv':_0x2177f4});}}_0x42750d[_0x27e961(0x322)](_0x27e961(0x249),_0x2194b2['_'],this['constructor'][_0x27e961(0x390)]);if(_0x42750d[_0x27e961(0x26c)])return _0x42750d['setProgress']('Build\x20cancelled.',_0x2194b2['_'],this['constructor'][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x252),++_0x2194b2['_'],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);const _0x5679c5=await this[_0x27e961(0x1f0)]['pGetFormData'](),_0x20352d=await this[_0x27e961(0x354)][_0x27e961(0x20d)](),_0x2489c3=await this[_0x27e961(0x22b)][_0x27e961(0x20d)]();if(_0x5679c5?.[_0x27e961(0x374)]?.[_0x27e961(0x2f4)])await Charactermancer_StartingEquipment[_0x27e961(0x28d)](this[_0x27e961(0x251)],_0x5679c5);if(_0x20352d?.[_0x27e961(0x374)]?.['equipmentItemEntries'])await Charactermancer_StartingEquipment[_0x27e961(0x248)](this[_0x27e961(0x251)],_0x20352d);if(_0x2489c3?.[_0x27e961(0x374)]?.[_0x27e961(0x3ab)])await Charactermancer_StartingEquipment[_0x27e961(0x248)](this['_actor'],_0x2489c3);_0x42750d[_0x27e961(0x322)](_0x27e961(0x204),_0x2194b2['_'],this[_0x27e961(0x29b)]['_TOTAL_TASKS']);if(_0x42750d['isCancelled'])return _0x42750d['setProgress']('Build\x20cancelled.',_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);_0x42750d[_0x27e961(0x322)](_0x27e961(0x34c),++_0x2194b2['_'],this['constructor']['_TOTAL_TASKS']);if(this['_cbPostSave'])this['_cbPostSave']();_0x42750d['setProgress'](_0x27e961(0x315),_0x2194b2['_'],this[_0x27e961(0x29b)][_0x27e961(0x390)]);}async[_0x3e1241(0x303)](_0x1977f7,_0x2b082b,..._0x5965bd){const _0x3944bd=_0x3e1241;MiscUtil[_0x3944bd(0x36f)](_0x2b082b,..._0x5965bd);if(_0x1977f7){const _0x40dc99=await _0x1977f7[_0x3944bd(0x20d)](),_0x292793={};Object['keys'](Parser[_0x3944bd(0x36e)])['filter'](_0x4f89fe=>_0x40dc99[_0x3944bd(0x374)][_0x4f89fe])[_0x3944bd(0x342)](_0x3c3637=>_0x292793[_0x3c3637]=!![]),Object[_0x3944bd(0x329)](_0x292793)['length']&&MiscUtil[_0x3944bd(0x2ab)](_0x2b082b,..._0x5965bd,[_0x292793]);}}async['_pHandleSaveClick_pDoApplyLanguageProficiencies'](_0x110261,_0xe6e0c1,..._0x214a3a){const _0x223ee0=_0x3e1241;MiscUtil[_0x223ee0(0x36f)](_0xe6e0c1,..._0x214a3a);if(_0x110261){const _0x223f86=await _0x110261['pGetFormData'](),_0x18613d={};Object[_0x223ee0(0x205)](_0x223f86[_0x223ee0(0x374)])['forEach'](([_0x313193,_0x286b28])=>_0x18613d[_0x313193]=_0x286b28),Object[_0x223ee0(0x329)](_0x18613d)['length']&&MiscUtil['set'](_0xe6e0c1,..._0x214a3a,[_0x18613d]);}}async['_pHandleSaveClick_pDoApplyToolProficiencies'](_0x4d7ed4,_0x3f64b3,..._0x30e9ba){const _0x22932c=_0x3e1241;MiscUtil[_0x22932c(0x36f)](_0x3f64b3,..._0x30e9ba);if(_0x4d7ed4){const _0x4850f0=await _0x4d7ed4['pGetFormData'](),_0x3d7d60={};Object[_0x22932c(0x205)](_0x4850f0[_0x22932c(0x374)])['forEach'](([_0x1b4869,_0x57ab4b])=>_0x3d7d60[_0x1b4869]=_0x57ab4b),Object[_0x22932c(0x329)](_0x3d7d60)[_0x22932c(0x359)]&&MiscUtil['set'](_0x3f64b3,..._0x30e9ba,[_0x3d7d60]);}}async['_pHandleSaveClick_pDoImportAdditionalSpells']({formData:_0xd51513,targetLevel:_0x297e41,abilityAbv:_0x1fe571,parentAbilityAbv:_0x164a01}){const _0x5c76bd=_0x3e1241,_0x50def3=_0xd51513?.[_0x5c76bd(0x374)]||[];_0x1fe571=_0xd51513?.[_0x5c76bd(0x327)]||_0x1fe571;if(_0x1fe571===_0x5c76bd(0x22e))_0x1fe571=_0x164a01;for(const _0x528fbd of _0x50def3){let [_0x3a511b,_0x4b68a6]=_0x528fbd[_0x5c76bd(0x229)][_0x5c76bd(0x2fe)]('|');if(!_0x4b68a6)_0x4b68a6=SRC_PHB;const _0x2d75bc=UrlUtil[_0x5c76bd(0x2e4)][UrlUtil[_0x5c76bd(0x30f)]]({'name':_0x3a511b,'source':_0x4b68a6}),_0x116468=await Renderer['hover'][_0x5c76bd(0x383)](UrlUtil[_0x5c76bd(0x30f)],_0x4b68a6,_0x2d75bc),_0x2a6977=await DataConverterSpell[_0x5c76bd(0x233)](_0x116468,{'isPrepared':_0x528fbd[_0x5c76bd(0x31b)],'preparationMode':_0x528fbd[_0x5c76bd(0x38a)],'casterLevel':_0x297e41,'abilityAbv':_0x1fe571,'usesCurrent':_0x528fbd[_0x5c76bd(0x318)],'usesMax':_0x528fbd['uses'],'usesPer':_0x528fbd[_0x5c76bd(0x288)]}),_0x458897=await this[_0x5c76bd(0x251)]['createEmbeddedEntity'](_0x5c76bd(0x365),_0x2a6977,{});}}[_0x3e1241(0x1fe)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![],'feat_ixMaxAbility':-0x1,'feat_ixMaxRace':-0x1,'feat_ixMaxCustom':-0x1,'feat_cntFeatsCustom':0x0,'feat_pulseChange':![],'ability_cntFeats':0x0,'race_cntFeats':0x0};}},ActorCharactermancer[_0x3e1241(0x24c)]['_CUR_LEVEL']=0x0,ActorCharactermancer[_0x3e1241(0x24c)]['_CUR_SPELL_LEVEL']=0x0,ActorCharactermancer[_0x3e1241(0x24c)][_0x3e1241(0x390)]=0x8;export{ActorCharactermancerSourceSelector};