const _0x1d8a=['pHandleButtonClick','7yCReQc','$wrpTab','keys','actor','get','OwnedItem','ActorCharactermancerSourceSelector_filter','_pRender_renderTabRace','_setActiveTab','pGetSpellItem','Select\x20Sources','Importing\x20spells...','compSpell','MODE_MULTICLASS','Running\x20post-build\x20step...','equipmentItemEntries','_pRender_renderTabClass','class_getTotalLevels','_BREW_DIRS','pGetRaces','usesPer','compRaceDamageResistance','5etools','compStatgen','compEquipmentStartingDefault','_pHandleSaveClick_pDoImportAdditionalSpells','Component','toolProficiencies','currency','_hasPrevTab','compsSpellAdditionalSpellSubclass','_compSpell','isExpanded','<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20w-100p\x22>Next</button>','_render_pRenderTabEquipmentShop','SRD','/template/Charactermancer.handlebars','136308gmNLYw','ABIL_ABVS','DataSourceFile','<div\x20class=\x22flex-vh-center\x20w-100\x20h-100\x22><i>Loading...</i></div>','Imported\x20spells.','flat','cls','DATA_URL_FEATS','_foundrySelectedLevelIndices','compRaceToolProficiencies','Custom\x20URL','pPostLoad','compAbility','background','_foundryAllFeatures','9020uJDTAX','_foundryIsSkipImportPreparedSpells','filter','pGetHomebrewSources','subclasses','empty','feat_ixMaxAbility','filterBoxSpells','_pLoad','$btnTab','startingEquipment','pGetItems','cbPostSave','Class','notifications','TaskRunner','has','_foundryStartingProficiencyMode','Spells','Imported\x20feats.','Importing\x20classes\x20and\x20subclasses...','catch','feat','compBackgroundSkillProficiencies','spellcastingAbility','set','MODULE_LOCATION','push','_pLoadVetoolsSource','pageFilter','render','pGetUserBoolean','compsClassSkillProficiencies','Feats','getMaxWindowHeight','STR_SEE_CONSOLE','_cbPostSave','_pGetSources','spell','mergeMap','compBackgroundCharacteristics','<button\x20class=\x22btn\x20btn-5et\x20btn-primary\x22>Finalize</button>','spells','_doSwitchToNextTab','Abilities','entries','then','isStreamerMode','Starting\x20Equipment','multiclassing','click','activeTab_','state','appendTo','811JLtLLo','skills','SOURCE_TYP_OFFICIAL_ALL','compRaceDamageImmunity','1GhGDDz','229492GhwDTS','compsClassHpIncreaseMode','pRenderShop','Importing\x20race...','_foundryHpIncreaseMode','Imported\x20background.','mergeAbilityIncrease','_TOTAL_TASKS','compSpellAdditionalSpellRace','1vhwafj','getTotals','_pHandleSaveClick','totals','_pRender_pRenderTabSpells','getValues','inherit','data','abilityChosen','class_getProps','conditionImmune','_hasNextTab','pLoad','compsSpellSpells','_pRender_renderTabFeats','feat_ixMaxRace','40oXSrnv','prop','_actor','filterBox','error','btn-sm','Background','length','constructor','Equipment\x20Shop','compEquipment','createEmbeddedEntity','Race','_pHandleSaveClick_pDoApplyToolProficiencies','SOURCE_TYP_CUSTOM','optionalfeature','_getTab','slice','race_ixRace','Importing\x20background...','feats','delete','_data','Set\x20ability\x20scores.','pImportClass','_pRender','29104lRqCKq','_foundryIsSkipImportCharacteristics','pImportEquipmentItemEntries','hover','compFeat','class_ixMax','_compClass','decorate','Setting\x20ability\x20scores...','ability','compRaceConditionImmunity','propIxFeat','compClass','_compAbility','vulnerable','feat_getActiveFeatIxProps','race','item','compEquipmentCurrency','_pRender_renderTabAbilities','compRaceDamageVulnerability','append','find','forEach','addFauxOptionalFeatureFeatures','resist','subclassFeature','name','Importing\x20feats...','compsClassFeatureOptionsSelect','_compRace','isCancelled','_pHandleSaveClick_pDoApplySkills','DATA_URL_BACKGROUNDS','compRace','class','mutateForFilters','isPrimary','immune','classFeature','_foundryFormDataCharacteristics','setProgress','all','Build\x20cancelled.','skillProficiencies','compsSpellAdditionalSpellFeat','pGetAllSpells','DataSourceUrl','ActorCharactermancerSourceSelector_savedSelection','_pRender_renderTabBackground','compsClassLevelSelect','pGetFormData','_pPostLoad','_render_loading','pImportEntry','additionalSpells','205912BahtCC','assign','subrace','Imported\x20equipment.','pCacheAndGet','languageProficiencies','158495tJWhmr','_compFeat','pUpdateActorCurrency','bind','ascSort','PG_SPELLS','_comp','Upload\x20File','_compBackground','pInit','namespace','getFormDataAsi','preparationMode','_compEquipment','Building...','copy','subclass','pGetWithCache','Failed\x20to\x20load!\x20','map','uid','modalFilterClasses','_render_pRenderTabEquipmentStarting','sort','_tabs','source'];const _0x3aa8=function(_0x469a94,_0x5107d6){_0x469a94=_0x469a94-0x1c6;let _0x1d8a7b=_0x1d8a[_0x469a94];return _0x1d8a7b;};const _0x307feb=_0x3aa8;(function(_0x4b2592,_0x1512ec){const _0x37c4cc=_0x3aa8;while(!![]){try{const _0x205ad0=parseInt(_0x37c4cc(0x211))+-parseInt(_0x37c4cc(0x1d6))+parseInt(_0x37c4cc(0x21a))*parseInt(_0x37c4cc(0x282))+parseInt(_0x37c4cc(0x1c7))+parseInt(_0x37c4cc(0x27c))*-parseInt(_0x37c4cc(0x210))+parseInt(_0x37c4cc(0x244))*-parseInt(_0x37c4cc(0x29d))+parseInt(_0x37c4cc(0x22a))*parseInt(_0x37c4cc(0x20c));if(_0x205ad0===_0x1512ec)break;else _0x4b2592['push'](_0x4b2592['shift']());}catch(_0x29bca9){_0x4b2592['push'](_0x4b2592['shift']());}}}(_0x1d8a,0x21b5b));import{SharedConsts}from'../shared/SharedConsts.js';import{LGT,Util}from'./Util.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ImportListRace}from'./ImportListRace.js';import{Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{ImportListClass}from'./ImportListClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{ImportListBackground}from'./ImportListBackground.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{ImportListFeat}from'./ImportListFeat.js';import{UtilApplications}from'./UtilApplications.js';import{ActorCharactermancerRace}from'./ActorCharactermancerRace.js';import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{ActorCharactermancerEquipment}from'./ActorCharactermancerEquipment.js';import{ActorCharactermancerBackground}from'./ActorCharactermancerBackground.js';import{ActorCharactermancerClass}from'./ActorCharactermancerClass.js';import{ActorCharactermancerFeat}from'./ActorCharactermancerFeat.js';import{ActorCharactermancerSpell}from'./ActorCharactermancerSpell.js';import{ActorCharactermancerAbility}from'./ActorCharactermancerAbility.js';import{UtilDataSource}from'./UtilDataSource.js';class ActorCharactermancerSourceSelector extends AppSourceSelectorMulti{static async[_0x307feb(0x29c)](_0x22e95b,_0x4e7945,_0x2c5a5c,_0x1d931d){const _0x1b3b77=_0x307feb,_0x41f706=await this['_pGetSources'](),_0x450829=new ActorCharactermancerSourceSelector({'title':_0x1b3b77(0x2a7),'filterNamespace':_0x1b3b77(0x2a3),'savedSelectionKey':_0x1b3b77(0x274),'sourcesToDisplay':_0x41f706});_0x450829[_0x1b3b77(0x1f4)](!![]);const _0x27689c=await _0x450829['pWaitForUserInput']();if(_0x27689c==null)return;this['_postProcessAllSelectedData'](_0x27689c);const _0x12d81a=new ActorCharactermancer({'actor':_0x4e7945[_0x1b3b77(0x2a0)],'data':_0x27689c});_0x12d81a[_0x1b3b77(0x1f4)](!![]);}static['_postProcessAllSelectedData'](_0x1373d9){const _0x40b36f=_0x307feb;_0x1373d9[_0x40b36f(0x25b)]((_0x213886,_0x571dca)=>{const _0x418130=_0x40b36f;if(!_0x213886[_0x418130(0x267)]||!_0x213886['class'][_0x418130(0x231)])return;const _0x56b755=_0x1373d9[_0x418130(0x23b)](0x0,_0x571dca)[_0x418130(0x1d8)](_0x8c7220=>_0x8c7220['class']);if(!_0x56b755[_0x418130(0x231)])return;_0x213886[_0x418130(0x267)]=_0x213886[_0x418130(0x267)][_0x418130(0x1d8)](_0x436e06=>{const _0x587789=_0x418130,_0x16a602=_0x56b755[_0x587789(0x25a)](_0x5b5dff=>_0x5b5dff[_0x587789(0x267)]&&_0x5b5dff[_0x587789(0x267)][_0x587789(0x25a)](_0x197484=>_0x436e06[_0x587789(0x25f)]===_0x197484[_0x587789(0x25f)]&&_0x436e06[_0x587789(0x29b)]===_0x197484[_0x587789(0x29b)]));if(!_0x16a602)return!![];const _0x2eb9f9=_0x16a602[_0x587789(0x267)]['find'](_0x5ad9b3=>_0x436e06['name']===_0x5ad9b3[_0x587789(0x25f)]&&_0x436e06[_0x587789(0x29b)]===_0x5ad9b3[_0x587789(0x29b)]);return _0x2eb9f9['subclasses']=[..._0x2eb9f9[_0x587789(0x1da)]||[],..._0x436e06[_0x587789(0x1da)]||[]],![];});});const _0x35ebdc=_0x1373d9[_0x40b36f(0x295)](_0x20acd8=>_0x20acd8[_0x40b36f(0x267)]||[])['flat'](),_0x5e4c41=_0x1373d9[_0x40b36f(0x295)](_0x1cee10=>_0x1cee10[_0x40b36f(0x239)]||[])[_0x40b36f(0x1cc)]();Charactermancer_Class_Util[_0x40b36f(0x25c)](_0x35ebdc,_0x5e4c41);}static async[_0x307feb(0x1fb)](){const _0x458345=_0x307feb;return[new UtilDataSource['DataSourceSpecial'](Config[_0x458345(0x2a1)]('ui',_0x458345(0x205))?_0x458345(0x2c0):'5etools',this['_pLoadVetoolsSource']['bind'](this),{'cacheKey':_0x458345(0x2b3),'filterTypes':[UtilDataSource[_0x458345(0x20e)]],'isDefault':!![],'pPostLoad':this['_pPostLoad'][_0x458345(0x285)](this)}),new UtilDataSource[(_0x458345(0x273))](_0x458345(0x1d1),'',{'pPostLoad':this[_0x458345(0x278)][_0x458345(0x285)](this),'filterTypes':[UtilDataSource[_0x458345(0x238)]]}),new UtilDataSource[(_0x458345(0x1c9))](_0x458345(0x289),{'pPostLoad':this[_0x458345(0x278)][_0x458345(0x285)](this),'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x458345(0x1d9)](...ActorCharactermancerSourceSelector[_0x458345(0x2af)]))['map'](({name:_0x254ac8,url:_0x49550c})=>new UtilDataSource[(_0x458345(0x273))](_0x254ac8,_0x49550c,{'pPostLoad':this[_0x458345(0x278)][_0x458345(0x285)](this),'filterTypes':[UtilDataSource['SOURCE_TYP_BREW']]}))];}static async[_0x307feb(0x1f2)](){const _0x2770f3=_0x307feb,_0x1ba863={},[_0xbe641,_0x13f2a1,_0x20a9e8,_0x58ee41,_0x5778c6,_0x5a8d5c,_0x4dce93]=await Promise[_0x2770f3(0x26e)]([Vetools['pGetClasses'](),Vetools[_0x2770f3(0x2b0)](),Vetools['pGetWithCache'](Vetools[_0x2770f3(0x265)]),Vetools[_0x2770f3(0x1e1)](),Vetools[_0x2770f3(0x272)](),Vetools[_0x2770f3(0x293)](Vetools[_0x2770f3(0x1ce)]),Vetools[_0x2770f3(0x293)](Vetools['DATA_URL_OPTIONALFEATURES'])]);return Object[_0x2770f3(0x27d)](_0x1ba863,_0xbe641),_0x1ba863[_0x2770f3(0x254)]=_0x13f2a1[_0x2770f3(0x254)],_0x1ba863[_0x2770f3(0x1d4)]=_0x20a9e8['background'],_0x1ba863[_0x2770f3(0x255)]=_0x58ee41[_0x2770f3(0x255)],_0x1ba863[_0x2770f3(0x1fc)]=_0x5778c6[_0x2770f3(0x1fc)],_0x1ba863[_0x2770f3(0x1ec)]=_0x5a8d5c[_0x2770f3(0x1ec)],_0x1ba863[_0x2770f3(0x239)]=_0x4dce93['optionalfeature'],_0x1ba863;}static async['_pPostLoad'](_0xdfd171){const _0x24aabc=_0x307feb;return _0xdfd171={..._0xdfd171},_0xdfd171['race']&&(_0xdfd171[_0x24aabc(0x254)]=MiscUtil['copy'](_0xdfd171[_0x24aabc(0x254)]),_0xdfd171[_0x24aabc(0x254)][_0x24aabc(0x25b)](_0x262f8a=>PageFilterRaces['mutateForFilters'](_0x262f8a))),_0xdfd171[_0x24aabc(0x267)]&&(_0xdfd171[_0x24aabc(0x267)]=await PageFilterClassesFoundry[_0x24aabc(0x1d2)]({'class':_0xdfd171['class'],'subclass':_0xdfd171[_0x24aabc(0x292)],'classFeature':_0xdfd171[_0x24aabc(0x26b)],'subclassFeature':_0xdfd171[_0x24aabc(0x25e)]}),_0xdfd171[_0x24aabc(0x267)][_0x24aabc(0x25b)](_0x2debab=>PageFilterClasses[_0x24aabc(0x268)](_0x2debab))),_0xdfd171;}}ActorCharactermancerSourceSelector[_0x307feb(0x2af)]=[_0x307feb(0x267),_0x307feb(0x292),_0x307feb(0x254),_0x307feb(0x27e),'item',_0x307feb(0x1d4),'item',_0x307feb(0x1fc),_0x307feb(0x1ec),_0x307feb(0x239)];class ActorCharactermancer extends Application{constructor(_0x469816){const _0x229252=_0x307feb;_0x469816=_0x469816||{},super({'title':'Charactermancer','template':SharedConsts[_0x229252(0x1f0)]+_0x229252(0x1c6),'width':Util['getMaxWindowWidth'](0x4b0),'height':Util[_0x229252(0x1f8)](),'resizable':!![]});const _0x533e93={};_0x469816[_0x229252(0x221)][_0x229252(0x25b)](_0x4c7ccf=>{const _0x29d613=_0x229252;Object[_0x29d613(0x203)](_0x4c7ccf)[_0x29d613(0x25b)](([_0x36d73c,_0x2faf39])=>{const _0x1bb70d=_0x29d613;if(!_0x2faf39||!(_0x2faf39 instanceof Array))return;if(_0x533e93[_0x36d73c])_0x533e93[_0x36d73c]=[..._0x533e93[_0x36d73c],...MiscUtil[_0x1bb70d(0x291)](_0x2faf39)];else _0x533e93[_0x36d73c]=MiscUtil['copy'](_0x2faf39);});}),this[_0x229252(0x288)]=new ActorCharactermancer[(_0x229252(0x2b7))]({'actor':_0x469816[_0x229252(0x2a0)],'data':_0x533e93});}['activateListeners'](_0x3af5c4){const _0x4675ac=_0x307feb;this[_0x4675ac(0x288)][_0x4675ac(0x1f4)](_0x3af5c4);}}ActorCharactermancer[_0x307feb(0x2b7)]=class extends ActorCharactermancerBaseComponent{constructor(_0x413f0a){const _0x18247e=_0x307feb;_0x413f0a=_0x413f0a||{},super(),TabUiUtil[_0x18247e(0x24b)](this),this[_0x18247e(0x22c)]=_0x413f0a['actor'],this[_0x18247e(0x240)]=_0x413f0a[_0x18247e(0x221)],this[_0x18247e(0x1fa)]=_0x413f0a[_0x18247e(0x1e2)],this['_tabs']=[_0x18247e(0x1e3),_0x18247e(0x236),_0x18247e(0x202),_0x18247e(0x230),_0x18247e(0x206),_0x18247e(0x233),_0x18247e(0x1e8),_0x18247e(0x1f7)][_0x18247e(0x295)]((_0x1f6a12,_0x5dce33)=>this[_0x18247e(0x23a)](_0x5dce33,_0x1f6a12,_0x18247e(0x20a),{'hasBorder':!![]}));const [_0x531d93,_0x48a74f,_0x1ad85f,_0x29b247,_0x2a3c3a,_0x53ac53,_0x35750a,_0x160260]=this[_0x18247e(0x29a)];this['_compClass']=new ActorCharactermancerClass({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a[_0x18247e(0x221)],'parent':this,'tabClass':_0x531d93}),this[_0x18247e(0x262)]=new ActorCharactermancerRace({'actor':_0x413f0a['actor'],'data':_0x413f0a[_0x18247e(0x221)],'parent':this,'tabRace':_0x48a74f}),this['_compAbility']=new ActorCharactermancerAbility({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a['data'],'parent':this,'tabAbilities':_0x1ad85f}),this[_0x18247e(0x28a)]=new ActorCharactermancerBackground({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a['data'],'parent':this,'tabBackground':_0x29b247}),this[_0x18247e(0x28f)]=new ActorCharactermancerEquipment({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a[_0x18247e(0x221)],'parent':this,'tabEquipment':_0x2a3c3a,'tabShop':_0x53ac53}),this[_0x18247e(0x2bc)]=new ActorCharactermancerSpell({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a['data'],'parent':this,'tabSpells':_0x35750a}),this[_0x18247e(0x283)]=new ActorCharactermancerFeat({'actor':_0x413f0a[_0x18247e(0x2a0)],'data':_0x413f0a['data'],'parent':this,'tabFeats':_0x160260});}get[_0x307feb(0x250)](){return this['_compClass'];}get[_0x307feb(0x266)](){const _0xf3d491=_0x307feb;return this[_0xf3d491(0x262)];}get['compBackground'](){return this['_compBackground'];}get[_0x307feb(0x234)](){const _0x475b74=_0x307feb;return this[_0x475b74(0x28f)];}get[_0x307feb(0x2a9)](){const _0x3b9ccd=_0x307feb;return this[_0x3b9ccd(0x2bc)];}get[_0x307feb(0x248)](){const _0x180b4c=_0x307feb;return this[_0x180b4c(0x283)];}get[_0x307feb(0x1d3)](){const _0x5178e7=_0x307feb;return this[_0x5178e7(0x251)];}set[_0x307feb(0x209)](_0x55eeaa){const _0x2c1383=_0x307feb;this[_0x2c1383(0x2a5)](_0x55eeaa);}[_0x307feb(0x1f4)](_0x1de7f9){const _0x17a456=_0x307feb;this[_0x17a456(0x279)](_0x1de7f9),this[_0x17a456(0x1de)]()[_0x17a456(0x204)](()=>this[_0x17a456(0x243)](_0x1de7f9))[_0x17a456(0x1eb)](_0x21f93c=>{const _0x146ca9=_0x17a456;ui[_0x146ca9(0x1e4)][_0x146ca9(0x22e)](_0x146ca9(0x294)+VeCt[_0x146ca9(0x1f9)]);throw _0x21f93c;});}[_0x307feb(0x279)](_0x1302c7){const _0x166860=_0x307feb;_0x1302c7[_0x166860(0x259)](_0x166860(0x1ca));}async['_pLoad'](){const _0x1ee5ae=_0x307feb;await this[_0x1ee5ae(0x262)][_0x1ee5ae(0x226)](),await this[_0x1ee5ae(0x28a)][_0x1ee5ae(0x226)](),await this['_compClass'][_0x1ee5ae(0x226)](),await this[_0x1ee5ae(0x2bc)][_0x1ee5ae(0x226)](),await this[_0x1ee5ae(0x283)][_0x1ee5ae(0x226)]();}async[_0x307feb(0x243)](_0x3f639c){const _0x4e8d0e=_0x307feb;_0x3f639c[_0x4e8d0e(0x1db)]();const _0xb2526d=$('<button\x20class=\x22btn\x20btn-5et\x20btn-default\x20w-100p\x22>Previous</button>')[_0x4e8d0e(0x208)](()=>this['_doSwitchToPrevTab'](_0x4e8d0e(0x20a))),_0x4fecb6=$(_0x4e8d0e(0x2be))[_0x4e8d0e(0x208)](()=>this[_0x4e8d0e(0x201)]('state')),_0x348c62=()=>{const _0x4d5ba7=_0x4e8d0e;_0xb2526d[_0x4d5ba7(0x22b)]('disabled',!this[_0x4d5ba7(0x2ba)](_0x4d5ba7(0x20a))),_0x4fecb6[_0x4d5ba7(0x22b)]('disabled',!this[_0x4d5ba7(0x225)]('state'));};this['_addHookActiveTab'](_0x4e8d0e(0x20a),_0x348c62),_0x348c62();const _0x40f8d2=$(_0x4e8d0e(0x1ff))[_0x4e8d0e(0x208)](()=>this[_0x4e8d0e(0x21c)]());$$`<div class="w-100 no-shrink ui-tab__wrp-tab-heads--border">
			${this['_tabs'][_0x4e8d0e(0x295)](_0x164be0=>_0x164be0[_0x4e8d0e(0x1df)]['addClass'](_0x4e8d0e(0x22f)))}
		</div>`[_0x4e8d0e(0x20b)](_0x3f639c),this[_0x4e8d0e(0x29a)][_0x4e8d0e(0x25b)](_0x174a0c=>_0x174a0c[_0x4e8d0e(0x29e)][_0x4e8d0e(0x20b)](_0x3f639c)),_0x3f639c[_0x4e8d0e(0x259)]('<hr\x20class=\x22hr-1\x20w-100\x22>'),$$`<div class="w-100 no-shrink flex-h-right pr-3">
			<div class="flex-v-center btn-group">${_0xb2526d}${_0x4fecb6}</div>
			<div class="vr-2"></div>
			${_0x40f8d2}
		</div>`[_0x4e8d0e(0x20b)](_0x3f639c);const [_0x182323,_0x216a6c,_0x4d0b47,_0x532614,_0x279b0a,_0x262ecc,_0x126bde,_0x12b4b5]=this[_0x4e8d0e(0x29a)][_0x4e8d0e(0x295)](_0x1a5f0c=>_0x1a5f0c['$wrpTab']);this[_0x4e8d0e(0x2ad)](_0x182323),this[_0x4e8d0e(0x2a4)](_0x216a6c),this[_0x4e8d0e(0x257)](_0x4d0b47),this[_0x4e8d0e(0x275)](_0x532614),await this[_0x4e8d0e(0x298)](_0x279b0a),await this[_0x4e8d0e(0x2bf)](_0x262ecc),await this[_0x4e8d0e(0x21e)](_0x126bde),this[_0x4e8d0e(0x228)](_0x12b4b5);}[_0x307feb(0x2ad)](_0x30f3cd){const _0x5a7cde=_0x307feb;this[_0x5a7cde(0x24a)]['render'](_0x30f3cd);}[_0x307feb(0x2a4)](_0x5a55f4){const _0x1f80d2=_0x307feb;this[_0x1f80d2(0x262)][_0x1f80d2(0x1f4)](_0x5a55f4);}[_0x307feb(0x257)](_0x203634){const _0x42f7ec=_0x307feb;this[_0x42f7ec(0x251)][_0x42f7ec(0x1f4)](_0x203634);}[_0x307feb(0x275)](_0x12d010){const _0x5def4a=_0x307feb;this[_0x5def4a(0x28a)][_0x5def4a(0x1f4)](_0x12d010);}async['_render_pRenderTabEquipmentStarting'](_0x27f6f0){const _0x5f5626=_0x307feb;await this[_0x5f5626(0x28f)]['pRenderStarting'](_0x27f6f0);}async[_0x307feb(0x2bf)](_0x271441){const _0x55bb6b=_0x307feb;await this[_0x55bb6b(0x28f)][_0x55bb6b(0x213)](_0x271441);}async[_0x307feb(0x21e)](_0x3d8341){const _0x46c4f7=_0x307feb;await this[_0x46c4f7(0x2bc)]['pRender'](_0x3d8341);}['_pRender_renderTabFeats'](_0x32a26d){const _0x3cca5d=_0x307feb;this[_0x3cca5d(0x283)][_0x3cca5d(0x1f4)](_0x32a26d);}async[_0x307feb(0x21c)](){const _0x3653da=_0x307feb,_0x557e03=await InputUiUtil[_0x3653da(0x1f5)]({'title':'Are\x20You\x20Sure?'});if(!_0x557e03)return;const _0x56d981=new UtilApplications[(_0x3653da(0x1e5))]({'titleInitial':_0x3653da(0x290),'titleComplete':'Build\x20Complete'});await _0x56d981['pInit']();const _0x39735b={'_':0x0};try{await this['_pHandleSaveClick_'](_0x56d981,_0x39735b);}catch(_0x3bbfef){_0x56d981[_0x3653da(0x26d)]('Build\x20failed!\x20'+VeCt[_0x3653da(0x1f9)],_0x39735b['_'],this['constructor'][_0x3653da(0x218)],!![]);throw _0x3bbfef;}}async['_pHandleSaveClick_'](_0x4e9505,_0x5da4f3){const _0x3a4f66=_0x307feb;_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x24c),++_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x26f),this[_0x3a4f66(0x232)][_0x3a4f66(0x218)],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);const _0x17e7ba=this[_0x3a4f66(0x251)]['compStatgen'][_0x3a4f66(0x21b)](),_0x1fe7cf={'data':{'abilities':{...Parser[_0x3a4f66(0x1c8)][_0x3a4f66(0x1fd)](_0x4cc5ed=>({[_0x4cc5ed]:{'value':_0x17e7ba?.[_0x3a4f66(0x21d)]?.[_0x17e7ba['mode']]?.[_0x4cc5ed]||0x0}}))}}};await this[_0x3a4f66(0x22c)]['update'](_0x1fe7cf),_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x241),_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505[_0x3a4f66(0x26d)]('Build\x20cancelled.',_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x214),++_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);const _0x2556a8=this['_data'][_0x3a4f66(0x254)][this[_0x3a4f66(0x262)][_0x3a4f66(0x20a)][_0x3a4f66(0x23c)]];if(_0x2556a8){const _0x7fca2e=new ImportListRace({'actor':this['_actor']});await _0x7fca2e[_0x3a4f66(0x28b)]();const _0x3a3fda=MiscUtil['copy'](_0x2556a8);delete _0x3a3fda['ability'],delete _0x3a3fda[_0x3a4f66(0x23e)],delete _0x3a3fda['additionalSpells'],await this[_0x3a4f66(0x264)](this['_compRace']['compRaceSkillProficiencies'],_0x3a3fda,'skillProficiencies'),await this['_pHandleSaveClick_pDoApplyLanguageProficiencies'](this[_0x3a4f66(0x262)]['compRaceLanguageProficiencies'],_0x3a3fda,_0x3a4f66(0x281)),await this[_0x3a4f66(0x237)](this['_compRace'][_0x3a4f66(0x1d0)],_0x3a3fda,_0x3a4f66(0x2b8)),delete _0x3a3fda['immune'];if(this['_compRace'][_0x3a4f66(0x20f)]){const _0xfdb163=await this[_0x3a4f66(0x262)][_0x3a4f66(0x20f)][_0x3a4f66(0x277)](),_0x1b9bf6=[];Object[_0x3a4f66(0x203)](_0xfdb163[_0x3a4f66(0x221)])[_0x3a4f66(0x1d8)](([,_0x40e57f])=>_0x40e57f)['forEach'](([_0x5d762a])=>_0x1b9bf6[_0x3a4f66(0x1f1)](_0x5d762a));if(_0x1b9bf6[_0x3a4f66(0x231)])_0x3a3fda[_0x3a4f66(0x26a)]=_0x1b9bf6;}delete _0x3a3fda[_0x3a4f66(0x25d)];if(this['_compRace'][_0x3a4f66(0x2b2)]){const _0x2d4be4=await this[_0x3a4f66(0x262)][_0x3a4f66(0x2b2)]['pGetFormData'](),_0x524f86=[];Object['entries'](_0x2d4be4[_0x3a4f66(0x221)])[_0x3a4f66(0x1d8)](([,_0x18f309])=>_0x18f309)[_0x3a4f66(0x25b)](([_0x180eb6])=>_0x524f86[_0x3a4f66(0x1f1)](_0x180eb6));if(_0x524f86['length'])_0x3a3fda['resist']=_0x524f86;}delete _0x3a3fda[_0x3a4f66(0x252)];if(this[_0x3a4f66(0x262)][_0x3a4f66(0x258)]){const _0x3a026e=await this[_0x3a4f66(0x262)][_0x3a4f66(0x258)][_0x3a4f66(0x277)](),_0x1c05f9=[];Object[_0x3a4f66(0x203)](_0x3a026e['data'])['filter'](([,_0x206c6d])=>_0x206c6d)[_0x3a4f66(0x25b)](([_0x1e51cf])=>_0x1c05f9['push'](_0x1e51cf));if(_0x1c05f9['length'])_0x3a3fda[_0x3a4f66(0x252)]=_0x1c05f9;}delete _0x3a3fda[_0x3a4f66(0x224)];if(this[_0x3a4f66(0x262)][_0x3a4f66(0x24e)]){const _0x4412f8=await this['_compRace'][_0x3a4f66(0x24e)][_0x3a4f66(0x277)](),_0x3efa6c=[];Object['entries'](_0x4412f8['data'])[_0x3a4f66(0x1d8)](([,_0x3a1dfe])=>_0x3a1dfe)[_0x3a4f66(0x25b)](([_0x23e136])=>_0x3efa6c[_0x3a4f66(0x1f1)](_0x23e136));if(_0x3efa6c['length'])_0x3a3fda['conditionImmune']=_0x3efa6c;}await _0x7fca2e[_0x3a4f66(0x27a)](_0x3a3fda);}_0x4e9505[_0x3a4f66(0x26d)]('Imported\x20race.',_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x26f),_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x1ea),++_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);const _0x26b648=[];for(let _0x281854=0x0;_0x281854<this[_0x3a4f66(0x24a)]['state'][_0x3a4f66(0x249)]+0x1;++_0x281854){const {propIxClass:_0x1d4a7f,propIxSubclass:_0x1116f5}=ActorCharactermancerBaseComponent['class_getProps'](_0x281854),_0x94753f=this[_0x3a4f66(0x240)][_0x3a4f66(0x267)][this[_0x3a4f66(0x24a)]['state'][_0x1d4a7f]];if(!_0x94753f)continue;const _0x14c93d=this[_0x3a4f66(0x24a)][_0x3a4f66(0x20a)][_0x1116f5]!=null?_0x94753f[_0x3a4f66(0x1da)][this['_compClass'][_0x3a4f66(0x20a)][_0x1116f5]]:null;_0x26b648['push']({'ix':_0x281854,'cls':_0x94753f,'sc':_0x14c93d,'isPrimary':this[_0x3a4f66(0x24a)][_0x3a4f66(0x20a)]['class_ixPrimaryClass']===_0x281854});}if(_0x26b648[_0x3a4f66(0x231)]){_0x26b648[_0x3a4f66(0x299)]((_0x75063e,_0x5bd6fb)=>SortUtil['ascSort'](Number(_0x5bd6fb[_0x3a4f66(0x269)]),Number(_0x75063e[_0x3a4f66(0x269)]))||SortUtil[_0x3a4f66(0x286)](_0x75063e[_0x3a4f66(0x1cd)][_0x3a4f66(0x25f)],_0x5bd6fb[_0x3a4f66(0x1cd)]['name']));const _0x25bb99=new ImportListClass({'actor':this['_actor']});await _0x25bb99[_0x3a4f66(0x28b)]();const _0xe8cca5=this['_compClass'][_0x3a4f66(0x297)][_0x3a4f66(0x1f3)][_0x3a4f66(0x22d)]['getValues']();for(let _0x32a111=0x0;_0x32a111<_0x26b648[_0x3a4f66(0x231)];++_0x32a111){const {ix:_0x1f062e,cls:_0x27cb78,sc:_0x7b7450,isPrimary:_0x279a2b}=_0x26b648[_0x32a111],_0x157867=MiscUtil[_0x3a4f66(0x291)](_0x27cb78),_0x3fa9dc=_0x7b7450?MiscUtil[_0x3a4f66(0x291)](_0x7b7450):null;if(_0x3fa9dc)delete _0x3fa9dc[_0x3a4f66(0x27b)];if(_0x3fa9dc)_0x157867[_0x3a4f66(0x1da)]=[_0x3fa9dc];else _0x157867[_0x3a4f66(0x1da)]=[];_0x157867[_0x3a4f66(0x1e7)]=_0x32a111===0x0?Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY']:Charactermancer_Class_ProficiencyImportModeSelect[_0x3a4f66(0x2aa)],_0x157867[_0x3a4f66(0x215)]=await this[_0x3a4f66(0x24a)][_0x3a4f66(0x212)][_0x1f062e][_0x3a4f66(0x277)]()[_0x3a4f66(0x221)],_0x157867[_0x3a4f66(0x1cf)]=await this[_0x3a4f66(0x24a)]['compsClassLevelSelect'][_0x1f062e][_0x3a4f66(0x277)]()[_0x3a4f66(0x221)],_0x157867[_0x3a4f66(0x1d5)]=[];for(const _0x431006 of this[_0x3a4f66(0x24a)][_0x3a4f66(0x261)][_0x1f062e]){const _0x3d09bf=(await _0x431006['pGetFormData']())[_0x3a4f66(0x221)];_0x157867[_0x3a4f66(0x1d5)][_0x3a4f66(0x1f1)](..._0x3d09bf);}_0x157867[_0x3a4f66(0x1d7)]=!![];const _0xdecc94=_0x279a2b?['startingProficiencies',_0x3a4f66(0x20d)]:[_0x3a4f66(0x207),'proficienciesGained',_0x3a4f66(0x20d)];await this[_0x3a4f66(0x264)](this[_0x3a4f66(0x24a)][_0x3a4f66(0x1f6)][_0x1f062e],_0x157867,..._0xdecc94),delete _0x157867[_0x3a4f66(0x1e0)],await _0x25bb99[_0x3a4f66(0x242)](_0x157867,{'filterValues':_0xe8cca5});}}_0x4e9505[_0x3a4f66(0x26d)]('Imported\x20classes\x20and\x20subclasses.',_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505['setProgress']('Build\x20cancelled.',_0x5da4f3['_'],this['constructor']['_TOTAL_TASKS']);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x23d),++_0x5da4f3['_'],this[_0x3a4f66(0x232)]['_TOTAL_TASKS']);const _0x110dd1=this[_0x3a4f66(0x240)]['background'][this[_0x3a4f66(0x28a)][_0x3a4f66(0x20a)]['background_ixBackground']];if(_0x110dd1){const _0x21c7ec=new ImportListBackground({'actor':this['_actor']});await _0x21c7ec[_0x3a4f66(0x28b)]();const _0x39e6e4=MiscUtil[_0x3a4f66(0x291)](_0x110dd1);await this['_pHandleSaveClick_pDoApplySkills'](this[_0x3a4f66(0x28a)][_0x3a4f66(0x1ed)],_0x39e6e4,_0x3a4f66(0x270)),await this['_pHandleSaveClick_pDoApplyLanguageProficiencies'](this[_0x3a4f66(0x28a)]['compBackgroundLanguageProficiencies'],_0x39e6e4,'languageProficiencies'),await this['_pHandleSaveClick_pDoApplyToolProficiencies'](this[_0x3a4f66(0x28a)]['compBackgroundToolProficiencies'],_0x39e6e4,_0x3a4f66(0x2b8)),this['_compBackground'][_0x3a4f66(0x1fe)]?_0x39e6e4[_0x3a4f66(0x26c)]=await this[_0x3a4f66(0x28a)]['compBackgroundCharacteristics'][_0x3a4f66(0x277)]():_0x39e6e4[_0x3a4f66(0x245)]=!![],delete _0x39e6e4['startingEquipment'],await _0x21c7ec[_0x3a4f66(0x27a)](_0x39e6e4);}_0x4e9505['setProgress'](_0x3a4f66(0x216),_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x26f),_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x260),++_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);const _0x254266=[],_0xd790c3=new Set(this[_0x3a4f66(0x283)][_0x3a4f66(0x253)]());for(let _0x5c18f2=0x0;_0x5c18f2<this[_0x3a4f66(0x283)]['state'][_0x3a4f66(0x1dc)]+0x1;++_0x5c18f2){const {propIxFeat:_0x3ceb22}=ActorCharactermancerBaseComponent['feat_getProps'](_0x5c18f2,'ability');if(!_0xd790c3[_0x3a4f66(0x1e6)](_0x3ceb22))continue;_0x254266[_0x3a4f66(0x1f1)]({'propIxFeat':_0x3ceb22,'namespace':_0x3a4f66(0x24d),'ix':_0x5c18f2});}for(let _0x2e5fc2=0x0;_0x2e5fc2<this[_0x3a4f66(0x283)][_0x3a4f66(0x20a)][_0x3a4f66(0x229)]+0x1;++_0x2e5fc2){const {propIxFeat:_0x3f5a58}=ActorCharactermancerBaseComponent['feat_getProps'](_0x2e5fc2,_0x3a4f66(0x254));if(!_0xd790c3[_0x3a4f66(0x1e6)](_0x3f5a58))continue;_0x254266[_0x3a4f66(0x1f1)]({'propIxFeat':_0x3f5a58,'namespace':'race','ix':_0x2e5fc2});}for(let _0x4905b5=0x0;_0x4905b5<this['_compFeat'][_0x3a4f66(0x20a)]['feat_ixMaxCustom']+0x1;++_0x4905b5){const {propIxFeat:_0x246ba9}=ActorCharactermancerBaseComponent['feat_getProps'](_0x4905b5,'custom');if(!_0xd790c3[_0x3a4f66(0x1e6)](_0x246ba9))continue;_0x254266[_0x3a4f66(0x1f1)]({'propIxFeat':_0x246ba9,'namespace':'custom','ix':_0x4905b5});}const _0x33173b=this[_0x3a4f66(0x251)][_0x3a4f66(0x2b4)]['getFormDataAsi']();if(_0x254266[_0x3a4f66(0x231)]){const _0x4b17d0=new ImportListFeat({'actor':this[_0x3a4f66(0x22c)]});await _0x4b17d0[_0x3a4f66(0x28b)]();for(const _0x252f48 of _0x254266){const _0x3843db=this['_data'][_0x3a4f66(0x1ec)][this[_0x3a4f66(0x283)][_0x3a4f66(0x20a)][_0x252f48[_0x3a4f66(0x24f)]]];if(!_0x3843db)continue;const _0x98793=MiscUtil[_0x3a4f66(0x291)](_0x3843db);if(_0x33173b[_0x3a4f66(0x23e)][_0x252f48[_0x3a4f66(0x28c)]]?.[_0x252f48['ix']]){const _0x33ff1b=_0x33173b[_0x3a4f66(0x23e)][_0x252f48[_0x3a4f66(0x28c)]][_0x252f48['ix']];_0x98793[_0x3a4f66(0x24d)]=[_0x33ff1b[_0x3a4f66(0x222)]],Renderer['feat'][_0x3a4f66(0x217)](_0x98793);}delete _0x98793[_0x3a4f66(0x24d)],delete _0x98793[_0x3a4f66(0x27b)],await _0x4b17d0[_0x3a4f66(0x27a)](_0x98793);}}_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x1e9),_0x5da4f3['_'],this[_0x3a4f66(0x232)]['_TOTAL_TASKS']);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505['setProgress']('Build\x20cancelled.',_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x2a8),++_0x5da4f3['_'],this['constructor']['_TOTAL_TASKS']);const _0x4e425d=this['_compClass'][_0x3a4f66(0x2ae)](),_0x374a4c=this[_0x3a4f66(0x2bc)]['filterValuesSpellsCache']||this[_0x3a4f66(0x2bc)][_0x3a4f66(0x1dd)][_0x3a4f66(0x21f)]();for(let _0x20da11=0x0;_0x20da11<this[_0x3a4f66(0x24a)]['state'][_0x3a4f66(0x249)]+0x1;++_0x20da11){const {propIxClass:_0xdfc6fa,propIxSubclass:_0x4b51db}=ActorCharactermancerBaseComponent[_0x3a4f66(0x223)](_0x20da11),_0x34f5ee=this['_data'][_0x3a4f66(0x267)][this[_0x3a4f66(0x24a)]['state'][_0xdfc6fa]];if(!_0x34f5ee)continue;const _0x20b668=await this[_0x3a4f66(0x24a)][_0x3a4f66(0x276)][_0x20da11][_0x3a4f66(0x277)]()[_0x3a4f66(0x221)],_0x47ae10=Math['max'](..._0x20b668)+0x1;if(this['_compSpell'][_0x3a4f66(0x227)][_0x20da11]){const _0x248c63=await this[_0x3a4f66(0x2bc)]['compsSpellSpells'][_0x20da11][_0x3a4f66(0x277)](_0x374a4c),_0x4f4021=_0x248c63?.[_0x3a4f66(0x221)]?.[_0x3a4f66(0x200)]||[];for(let _0x52a5a5=0x0;_0x52a5a5<_0x4f4021['length'];++_0x52a5a5){const {spell:_0x3bd2dc,isPrepared:_0x5c31da,isLearned:_0xde98fa,preparationMode:_0x2d252d,usesCurrent:_0xc28172,usesMax:_0x12ee8a,usesPer:_0x293ea8}=_0x4f4021[_0x52a5a5],_0x372cac=await DataConverterSpell[_0x3a4f66(0x2a6)](_0x3bd2dc,{'isPrepared':_0x5c31da||_0xde98fa,'casterLevel':_0x47ae10,'abilityAbv':_0x34f5ee[_0x3a4f66(0x1ee)],'preparationMode':_0x2d252d,'usesCurrent':_0xc28172,'usesMax':_0x12ee8a,'usesPer':_0x293ea8}),_0x2dd303=await this['_actor'][_0x3a4f66(0x235)]('OwnedItem',_0x372cac,{});}}const _0x46130b=this[_0x3a4f66(0x24a)][_0x3a4f66(0x20a)][_0x4b51db]!=null?_0x34f5ee[_0x3a4f66(0x1da)][this[_0x3a4f66(0x24a)][_0x3a4f66(0x20a)][_0x4b51db]]:null;if(!_0x46130b)continue;if(this['_compSpell'][_0x3a4f66(0x2bb)][_0x20da11]){const _0xc34cc3=await this[_0x3a4f66(0x2bc)]['compsSpellAdditionalSpellSubclass'][_0x20da11][_0x3a4f66(0x277)]();await this[_0x3a4f66(0x2b6)]({'formData':_0xc34cc3,'targetLevel':_0x47ae10,'abilityAbv':_0x46130b[_0x3a4f66(0x1ee)]||_0x34f5ee[_0x3a4f66(0x1ee)]});}}if(this[_0x3a4f66(0x2bc)][_0x3a4f66(0x219)]){const _0x26e8d=await this[_0x3a4f66(0x2bc)][_0x3a4f66(0x219)][_0x3a4f66(0x277)]();await this['_pHandleSaveClick_pDoImportAdditionalSpells']({'formData':_0x26e8d,'totalClassLevels':_0x4e425d});}const _0xff16a7=this[_0x3a4f66(0x251)]['compStatgen'][_0x3a4f66(0x28d)]();for(const _0x4d5499 of _0x254266){const _0x2a6a1f=this[_0x3a4f66(0x2bc)][_0x3a4f66(0x271)][_0x4d5499[_0x3a4f66(0x28c)]][_0x4d5499['ix']];if(_0x2a6a1f){let _0x1eed49=null;if(_0xff16a7['feats'][_0x4d5499[_0x3a4f66(0x28c)]]?.[_0x4d5499['ix']]){const _0x2bfe52=_0xff16a7[_0x3a4f66(0x23e)][_0x4d5499['namespace']][_0x4d5499['ix']];_0x1eed49=Object[_0x3a4f66(0x29f)](_0x2bfe52[_0x3a4f66(0x222)]||{})[0x0];}const _0x235bd4=await _0x2a6a1f[_0x3a4f66(0x277)]();await this[_0x3a4f66(0x2b6)]({'formData':_0x235bd4,'totalClassLevels':_0x4e425d,'parentAbilityAbv':_0x1eed49});}}_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x1cb),_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505['setProgress'](_0x3a4f66(0x26f),_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);_0x4e9505['setProgress']('Importing\x20equipment...',++_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);const _0x547ded=await this[_0x3a4f66(0x28f)][_0x3a4f66(0x256)]['pGetFormData'](),_0x45c4fd=await this[_0x3a4f66(0x28f)][_0x3a4f66(0x2b5)][_0x3a4f66(0x277)](),_0x26b925=await this['_compEquipment']['compEquipmentShopGold'][_0x3a4f66(0x277)]();if(_0x547ded?.['data']?.[_0x3a4f66(0x2b9)])await Charactermancer_StartingEquipment[_0x3a4f66(0x284)](this['_actor'],_0x547ded);if(_0x45c4fd?.[_0x3a4f66(0x221)]?.[_0x3a4f66(0x2ac)])await Charactermancer_StartingEquipment[_0x3a4f66(0x246)](this['_actor'],_0x45c4fd);if(_0x26b925?.[_0x3a4f66(0x221)]?.[_0x3a4f66(0x2ac)])await Charactermancer_StartingEquipment[_0x3a4f66(0x246)](this[_0x3a4f66(0x22c)],_0x26b925);_0x4e9505[_0x3a4f66(0x26d)](_0x3a4f66(0x27f),_0x5da4f3['_'],this[_0x3a4f66(0x232)]['_TOTAL_TASKS']);if(_0x4e9505[_0x3a4f66(0x263)])return _0x4e9505['setProgress'](_0x3a4f66(0x26f),_0x5da4f3['_'],this[_0x3a4f66(0x232)][_0x3a4f66(0x218)]);_0x4e9505['setProgress'](_0x3a4f66(0x2ab),++_0x5da4f3['_'],this['constructor'][_0x3a4f66(0x218)]);if(this[_0x3a4f66(0x1fa)])this[_0x3a4f66(0x1fa)]();_0x4e9505[_0x3a4f66(0x26d)]('Build\x20complete!',_0x5da4f3['_'],this['constructor']['_TOTAL_TASKS']);}async[_0x307feb(0x264)](_0x59a664,_0x299720,..._0x57e16c){const _0x452457=_0x307feb;MiscUtil['delete'](_0x299720,..._0x57e16c);if(_0x59a664){const _0x1076e1=await _0x59a664[_0x452457(0x277)](),_0x3f067a={};Object['keys'](Parser['SKILL_TO_ATB_ABV'])[_0x452457(0x1d8)](_0x192455=>_0x1076e1['data'][_0x192455])[_0x452457(0x25b)](_0x55f991=>_0x3f067a[_0x55f991]=!![]),Object['keys'](_0x3f067a)[_0x452457(0x231)]&&MiscUtil[_0x452457(0x1ef)](_0x299720,..._0x57e16c,[_0x3f067a]);}}async['_pHandleSaveClick_pDoApplyLanguageProficiencies'](_0x328814,_0x37feb2,..._0x438d5b){const _0x4d83b0=_0x307feb;MiscUtil[_0x4d83b0(0x23f)](_0x37feb2,..._0x438d5b);if(_0x328814){const _0x2a6e3a=await _0x328814[_0x4d83b0(0x277)](),_0xf38d77={};Object[_0x4d83b0(0x203)](_0x2a6e3a[_0x4d83b0(0x221)])[_0x4d83b0(0x25b)](([_0x113b70,_0x426785])=>_0xf38d77[_0x113b70]=_0x426785),Object[_0x4d83b0(0x29f)](_0xf38d77)['length']&&MiscUtil[_0x4d83b0(0x1ef)](_0x37feb2,..._0x438d5b,[_0xf38d77]);}}async[_0x307feb(0x237)](_0x2b2783,_0x731648,..._0x9d5963){const _0x4c7328=_0x307feb;MiscUtil[_0x4c7328(0x23f)](_0x731648,..._0x9d5963);if(_0x2b2783){const _0x34a768=await _0x2b2783['pGetFormData'](),_0x114cde={};Object['entries'](_0x34a768['data'])['forEach'](([_0xc48015,_0x31f930])=>_0x114cde[_0xc48015]=_0x31f930),Object['keys'](_0x114cde)[_0x4c7328(0x231)]&&MiscUtil[_0x4c7328(0x1ef)](_0x731648,..._0x9d5963,[_0x114cde]);}}async['_pHandleSaveClick_pDoImportAdditionalSpells']({formData:_0x168ee3,targetLevel:_0x2c259a,abilityAbv:_0x40b1ce,parentAbilityAbv:_0x26ff16}){const _0x435909=_0x307feb,_0x16b97c=_0x168ee3?.['data']||[];_0x40b1ce=_0x168ee3?.['abilityAbv']||_0x40b1ce;if(_0x40b1ce===_0x435909(0x220))_0x40b1ce=_0x26ff16;for(const _0x294cd2 of _0x16b97c){if(_0x294cd2[_0x435909(0x2bd)])continue;let [_0x569a31,_0x82136b]=_0x294cd2[_0x435909(0x296)]['split']('|');if(!_0x82136b)_0x82136b=SRC_PHB;const _0x413cdc=UrlUtil['URL_TO_HASH_BUILDER'][UrlUtil[_0x435909(0x287)]]({'name':_0x569a31,'source':_0x82136b}),_0x44188b=await Renderer[_0x435909(0x247)][_0x435909(0x280)](UrlUtil[_0x435909(0x287)],_0x82136b,_0x413cdc),_0x13d79d=await DataConverterSpell['pGetSpellItem'](_0x44188b,{'isPrepared':_0x294cd2['isPrepared'],'preparationMode':_0x294cd2[_0x435909(0x28e)],'casterLevel':_0x2c259a,'abilityAbv':_0x40b1ce,'usesCurrent':_0x294cd2['uses'],'usesMax':_0x294cd2['uses'],'usesPer':_0x294cd2[_0x435909(0x2b1)]}),_0x3cf051=await this[_0x435909(0x22c)][_0x435909(0x235)](_0x435909(0x2a2),_0x13d79d,{});}}},ActorCharactermancer[_0x307feb(0x2b7)]['_TOTAL_TASKS']=0x8;export{ActorCharactermancerSourceSelector,ActorCharactermancerBaseComponent};