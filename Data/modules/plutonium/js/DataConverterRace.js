'use strict';const _0x2c5f=['data.requirements','672661qzyxNm','source','<div><table\x20class=\x22summary\x20stripe-even\x22>\x0a\x09\x09\x09<tr>\x0a\x09\x09\x09\x09<th\x20class=\x22col-4\x20text-center\x22>Ability\x20Scores</th>\x0a\x09\x09\x09\x09<th\x20class=\x22col-4\x20text-center\x22>Size</th>\x0a\x09\x09\x09\x09<th\x20class=\x22col-4\x20text-center\x22>Speed</th>\x0a\x09\x09\x09</tr>\x0a\x09\x09\x09<tr>\x0a\x09\x09\x09\x09<td\x20class=\x22text-center\x22>','366UkrpuS','asText','get','_getRaceDescription','1588fHJouj','</td>\x0a\x09\x09\x09\x09<td\x20class=\x22text-center\x22>','PG_RACES','_pGetCompendiumImage','size','bind','789179tXEYLW','getSpeedString','raceSource','permissions','find','raceFeature','_pGetCompendiumFeatureImage','87991fBmnNC','5CWcNMO','_getCompendiumFeatureAliases','202424RAqpdp','isCancelled','MODULE_NAME','7rAAgex','render','ability','getCleanOriginalData','getAbilityData','getCleanEntityName','actor','getInvertedName','permission','importRace','_pGetFeatureSideData','</div>','2XplOvP','URL_TO_HASH_BUILDER','_getCompendiumAliases','</td>\x0a\x09\x09\x09</tr>\x0a\x09\x09</table>\x0a\x09\x09','/media/icon/family-tree.svg','1jLvmCy','modules/','entries','pMutActorUpdateRaceFeature','272133KFcswm','getNameWithSourcePart','pGetRaceItem','getFauxRaceFeature','sizeAbvToFull','foundryRaceFeature','pGetRaceFeatureItem','_baseSrd','4OiwdVO','raceName','name','pGetCompendiumImage','feat','player','copy','push','_pGetFeatureAdditionalData','homebrew','_baseName','pGetRaceAdditionalData','getItemActorPassive','data','filterValues'];const _0x1f38=function(_0x40c9d0,_0x514088){_0x40c9d0=_0x40c9d0-0xa3;let _0x2c5f79=_0x2c5f[_0x40c9d0];return _0x2c5f79;};const _0x38c36f=_0x1f38;(function(_0x39c858,_0x475180){const _0x2d976c=_0x1f38;while(!![]){try{const _0x190ec8=parseInt(_0x2d976c(0xb3))*parseInt(_0x2d976c(0xa4))+-parseInt(_0x2d976c(0xe1))+parseInt(_0x2d976c(0xc4))+parseInt(_0x2d976c(0xdb))*-parseInt(_0x2d976c(0xd7))+-parseInt(_0x2d976c(0xe8))*parseInt(_0x2d976c(0xa7))+-parseInt(_0x2d976c(0xb8))*-parseInt(_0x2d976c(0xd4))+-parseInt(_0x2d976c(0xbc))*-parseInt(_0x2d976c(0xe9));if(_0x190ec8===_0x475180)break;else _0x39c858['push'](_0x39c858['shift']());}catch(_0x2115a6){_0x39c858['push'](_0x39c858['shift']());}}}(_0x2c5f,0x6e50e));import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';class DataConverterRace{static async[_0x38c36f(0xbe)](_0x53ff29,_0x8f923a){const _0x5e68d4=_0x38c36f;_0x8f923a=_0x8f923a||{};const _0x3dfff9=DataConverter[_0x5e68d4(0xaa)](_0x53ff29),_0x5deba1={'name':UtilApplications[_0x5e68d4(0xac)](DataConverter[_0x5e68d4(0xbd)](_0x53ff29)),'type':_0x5e68d4(0xc8),'data':{'description':{'value':this[_0x5e68d4(0xda)](_0x53ff29),'chat':'','unidentified':''},'source':DataConverter['getSourceWithPagePart'](_0x53ff29),'damage':{'parts':[]},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{[SharedConsts['MODULE_NAME']]:{'page':UrlUtil[_0x5e68d4(0xdd)],'source':_0x53ff29[_0x5e68d4(0xd5)],'hash':UrlUtil[_0x5e68d4(0xb4)][UrlUtil[_0x5e68d4(0xdd)]](_0x53ff29),'data':{'race':_0x3dfff9},'filterValues':_0x8f923a[_0x5e68d4(0xd2)]}},'effects':[],'img':await this[_0x5e68d4(0xde)](_0x53ff29)};if(_0x8f923a['isAddPermission'])_0x5deba1[_0x5e68d4(0xaf)]={'default':Config[_0x5e68d4(0xd9)](_0x5e68d4(0xb0),_0x5e68d4(0xe4))};return _0x5deba1;}static[_0x38c36f(0xda)](_0x337586){const _0x1c6c2b=_0x38c36f;if(!Config['get']('importRace','isImportDescription'))return'';return _0x1c6c2b(0xd6)+Renderer[_0x1c6c2b(0xab)](_0x337586[_0x1c6c2b(0xa9)])[_0x1c6c2b(0xd8)]+_0x1c6c2b(0xdc)+Parser[_0x1c6c2b(0xc0)](_0x337586[_0x1c6c2b(0xdf)]||SZ_VARIES)+_0x1c6c2b(0xdc)+Parser[_0x1c6c2b(0xe2)](_0x337586)+_0x1c6c2b(0xb6)+Renderer['get']()['setFirstSection'](!![])[_0x1c6c2b(0xa8)]({'type':_0x1c6c2b(0xba),'entries':_0x337586[_0x1c6c2b(0xba)]},0x1)+_0x1c6c2b(0xb2);}static async[_0x38c36f(0xde)](_0x8d6ec3){const _0x5afe4f=_0x38c36f;return await DataConverter[_0x5afe4f(0xc7)]('race',_0x8d6ec3,{'fnGetAliases':this[_0x5afe4f(0xb5)]})||_0x5afe4f(0xb9)+SharedConsts[_0x5afe4f(0xa6)]+'/media/icon/family-tree.svg';}static['_getCompendiumAliases'](_0x240c0d){const _0x722a5d=_0x38c36f;if(!_0x240c0d[_0x722a5d(0xc6)]&&!_0x240c0d['_baseName'])return[];const _0x2a2348=[],_0x442036=PageFilterRaces[_0x722a5d(0xae)](_0x240c0d[_0x722a5d(0xc6)]);if(_0x442036&&_0x442036!==_0x240c0d[_0x722a5d(0xc6)])_0x2a2348[_0x722a5d(0xcb)](_0x442036);if(_0x240c0d['_baseName'])_0x2a2348[_0x722a5d(0xcb)](_0x240c0d[_0x722a5d(0xce)]);return _0x2a2348;}static async[_0x38c36f(0xc2)](_0x4df1d0,_0x4ad3ba,_0x57fa90){const _0xa39c22=_0x38c36f,_0x5ba33c=this[_0xa39c22(0xbf)](_0x4df1d0,_0x4ad3ba),_0x12ab6d=await this[_0xa39c22(0xcc)](_0x5ba33c);return DataConverter[_0xa39c22(0xd0)](_0x5ba33c,{'mode':_0xa39c22(0xc9),'img':await this[_0xa39c22(0xe7)](_0x4df1d0,_0x4ad3ba),'fvttType':_0xa39c22(0xc8),'source':_0x4df1d0[_0xa39c22(0xd5)],'actor':_0x57fa90[_0xa39c22(0xad)],'additionalData':_0x12ab6d});}static['getFauxRaceFeature'](_0x28d2f7,_0x5050ac){const _0x233729=_0x38c36f;return{'source':_0x28d2f7['source'],'raceName':_0x28d2f7[_0x233729(0xc6)],'raceSource':_0x28d2f7[_0x233729(0xd5)],'srd':_0x28d2f7['srd']||_0x28d2f7[_0x233729(0xc3)],...MiscUtil[_0x233729(0xca)](_0x5050ac)};}static async[_0x38c36f(0xbb)](_0xfe2af0,_0x69e47b,_0x530ee2,_0x3c68df){const _0x5c7a1f=_0x38c36f,_0x19eb5b=await this[_0x5c7a1f(0xb1)](_0x530ee2),_0x4a216c={'sideData':_0x19eb5b,'isCancelled':![]};await DataConverter['pMutActorUpdate'](_0xfe2af0,_0x69e47b,_0x530ee2,_0x4a216c);if(_0x4a216c['isCancelled'])_0x3c68df[_0x5c7a1f(0xa5)]=!![];}static async['_pGetFeatureSideData'](_0xd3a833){const _0x5e28b2=_0x38c36f;let _0x3bac27=(MiscUtil['get'](BrewUtil,_0x5e28b2(0xcd),_0x5e28b2(0xc1))||[])[_0x5e28b2(0xe5)](_0x565c4f=>_0x565c4f[_0x5e28b2(0xc6)]===_0xd3a833[_0x5e28b2(0xc6)]&&_0x565c4f['source']===_0xd3a833[_0x5e28b2(0xd5)]&&_0x565c4f[_0x5e28b2(0xc5)]===_0xd3a833[_0x5e28b2(0xc5)]&&_0x565c4f[_0x5e28b2(0xe3)]===_0xd3a833[_0x5e28b2(0xe3)]);if(!_0x3bac27){const _0x3277bd=await Vetools[_0x5e28b2(0xcf)]();_0x3bac27=_0x3277bd[_0x5e28b2(0xe6)][_0x5e28b2(0xe5)](_0xc7a3a0=>_0xc7a3a0[_0x5e28b2(0xc6)]===_0xd3a833['name']&&_0xc7a3a0['source']===_0xd3a833[_0x5e28b2(0xd5)]&&_0xc7a3a0['raceName']===_0xd3a833[_0x5e28b2(0xc5)]&&_0xc7a3a0[_0x5e28b2(0xe3)]===_0xd3a833[_0x5e28b2(0xe3)]);}return _0x3bac27;}static async[_0x38c36f(0xcc)](_0x3b36e7){const _0x2b0029=_0x38c36f,_0x1cb6c4=await this[_0x2b0029(0xb1)](_0x3b36e7);if(!_0x1cb6c4)return null;return _0x1cb6c4[_0x2b0029(0xd1)];}static async[_0x38c36f(0xe7)](_0x33425f,_0x4f7393){const _0x44d9ee=_0x38c36f;return await DataConverter[_0x44d9ee(0xc7)](_0x44d9ee(0xe6),_0x4f7393,{'fnGetAliases':this[_0x44d9ee(0xa3)][_0x44d9ee(0xe0)](this,_0x33425f),'deepKeys':[_0x44d9ee(0xd3)]})||_0x44d9ee(0xb9)+SharedConsts[_0x44d9ee(0xa6)]+_0x44d9ee(0xb7);}static[_0x38c36f(0xa3)](_0x50892e,_0x1eeeb9){const _0x23ff26=_0x38c36f;if(!_0x50892e[_0x23ff26(0xc6)]&&!_0x50892e['_baseName'])return[];if(!_0x1eeeb9[_0x23ff26(0xc6)])return[];const _0x5af651=[];_0x5af651['push']({'name':_0x1eeeb9['name'],'data.requirements':_0x50892e[_0x23ff26(0xc6)]});const _0x2a1f64=PageFilterRaces['getInvertedName'](_0x50892e[_0x23ff26(0xc6)]);return _0x2a1f64&&_0x2a1f64!==_0x50892e['name']&&_0x5af651[_0x23ff26(0xcb)]({'name':_0x1eeeb9[_0x23ff26(0xc6)],'data.requirements':_0x2a1f64}),_0x50892e['_baseName']&&_0x5af651[_0x23ff26(0xcb)]({'name':_0x1eeeb9[_0x23ff26(0xc6)],'data.requirements':_0x50892e[_0x23ff26(0xce)]}),_0x5af651;}}export{DataConverterRace};