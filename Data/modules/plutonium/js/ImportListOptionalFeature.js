const _0x1df5=['sourceJsonToAbv','OwnedItem','doAbsorbItems','URL_TO_HASH_BUILDER','Name','sourceShort','folder','SRD','_content','SOURCE_TYP_BREW','DataSourceUrl','getListPrerequisiteLevelText','_pImportEntry_pImportToItems','_lFeatureType','utils','Type','Source','pGetOptionalFeatureItem','prerequisite','PG_OPT_FEATURES','_titleButtonRun','pGetSources','Other\x20Options\x20and\x20Features','_pageFilter','getData','level','text-center','log','_pImportEntry_pImportToActor','SOURCE_TYP_OFFICIAL_ALL','create','_list','sourceLong','pImportEntry','options\x20and\x20features','name','DataSourceFile','pGetHomebrewSources','Item','_titleSearch','_vLevel','SOURCE_TYP_CUSTOM','Importing\x20other\x20option/feature\x20\x22','type','source','createEmbeddedEntity','Prerequisite','absorbFnGetData','items','isTemp','render','_pack','Custom\x20URL','_actor','isStreamerMode','importEntity','absorbFnBindListeners','map','_vPrerequisite','sheet','optionalfeature','Import\x20Other\x20Options\x20and\x20Features'];(function(_0x14685f,_0x1df534){const _0x83074b=function(_0x162d82){while(--_0x162d82){_0x14685f['push'](_0x14685f['shift']());}};_0x83074b(++_0x1df534);}(_0x1df5,0xb9));const _0x8307=function(_0x14685f,_0x1df534){_0x14685f=_0x14685f-0x0;let _0x83074b=_0x1df5[_0x14685f];return _0x83074b;};'use strict';import{ImportList}from'./ImportList.js';import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterOptionalfeature}from'./DataConverterOptionalfeature.js';class ImportListOptionalFeature extends ImportList{constructor(_0x3b9f74){_0x3b9f74=_0x3b9f74||{},super({'title':_0x8307('0x0')},_0x3b9f74,{'props':[_0x8307('0x3d')],'titleSearch':_0x8307('0x23'),'sidebarTab':'items','gameProp':_0x8307('0x31'),'defaultFolderPath':[_0x8307('0x17')],'folderType':_0x8307('0x27'),'pageFilter':new PageFilterOptionalFeatures(),'page':UrlUtil[_0x8307('0x14')],'isPreviewable':!![]});}async[_0x8307('0x16')](){return[new ImportList[(_0x8307('0xb'))](Config['get']('ui',_0x8307('0x37'))?_0x8307('0x8'):'5etools',Vetools['DATA_URL_OPTIONALFEATURES'],{'filterTypes':[ImportList[_0x8307('0x1e')]],'isDefault':!![]}),new ImportList[(_0x8307('0xb'))](_0x8307('0x35'),'',{'filterTypes':[ImportList[_0x8307('0x2a')]]}),new ImportList[(_0x8307('0x25'))]('Upload\x20File',{'filterTypes':[ImportList['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x8307('0x26')]('optionalfeature'))[_0x8307('0x3a')](({name,url})=>new ImportList[(_0x8307('0xb'))](name,url,{'filterTypes':[ImportList[_0x8307('0xa')]]}))];}[_0x8307('0x19')](){return{'isPreviewable':this['_isPreviewable'],'titleButtonRun':this[_0x8307('0x15')],'titleSearch':this[_0x8307('0x28')],'cols':[{'name':_0x8307('0x5'),'width':0x4,'field':'name'},{'name':_0x8307('0x10'),'width':0x2,'field':_0x8307('0x2c'),'rowClassName':'text-center'},{'name':_0x8307('0x2f'),'width':0x3,'field':_0x8307('0x13'),'rowClassName':'text-center'},{'name':'Level','width':0x1,'field':_0x8307('0x1a'),'rowClassName':_0x8307('0x1b')},{'name':_0x8307('0x11'),'width':0x1,'field':_0x8307('0x2d'),'titleProp':_0x8307('0x21'),'displayProp':_0x8307('0x6'),'rowClassName':_0x8307('0x1b')}],'rows':this[_0x8307('0x9')]['map']((_0x29039e,_0x23f08a)=>{return this[_0x8307('0x18')]['mutateForFilters'](_0x29039e),_0x29039e[_0x8307('0x3b')]=Renderer[_0x8307('0xf')]['getPrerequisiteText'](_0x29039e[_0x8307('0x13')],!![],new Set([_0x8307('0x1a')])),_0x29039e['_vLevel']=Renderer[_0x8307('0x3d')][_0x8307('0xc')](_0x29039e['prerequisite']),{'name':_0x29039e[_0x8307('0x24')],'type':_0x29039e[_0x8307('0xe')],'prerequisite':_0x29039e[_0x8307('0x3b')],'level':_0x29039e[_0x8307('0x29')],'source':_0x29039e['source'],'sourceShort':Parser[_0x8307('0x1')](_0x29039e[_0x8307('0x2d')]),'sourceLong':Parser['sourceJsonToFull'](_0x29039e['source']),'ix':_0x23f08a};})};}['_activateListeners_absorbListItems'](){this[_0x8307('0x20')][_0x8307('0x3')](this[_0x8307('0x9')],{'fnGetName':_0x62e439=>_0x62e439['name'],'fnGetValues':_0x52dfc9=>({'source':_0x52dfc9[_0x8307('0x2d')],'prerequisite':_0x52dfc9['_vPrerequisite'],'level':_0x52dfc9[_0x8307('0x29')],'type':_0x52dfc9['_lFeatureType'],'hash':UrlUtil[_0x8307('0x4')][this['_page']](_0x52dfc9)}),'fnGetData':UtilList2[_0x8307('0x30')],'fnBindListeners':_0x4e65a5=>UtilList2[_0x8307('0x39')](this[_0x8307('0x20')],_0x4e65a5)});}async[_0x8307('0x22')](_0x19fa44,_0x1c5e05){_0x1c5e05=_0x1c5e05||{},console[_0x8307('0x1c')](...LGT,_0x8307('0x2b')+_0x19fa44[_0x8307('0x24')]+'\x22\x20(from\x20\x22'+Parser[_0x8307('0x1')](_0x19fa44[_0x8307('0x2d')])+'\x22)');if(_0x1c5e05[_0x8307('0x32')])return this[_0x8307('0xd')](_0x19fa44,_0x1c5e05);else{if(this[_0x8307('0x36')])return this[_0x8307('0x1d')](_0x19fa44,_0x1c5e05);else return this['_pImportEntry_pImportToItems'](_0x19fa44,_0x1c5e05);}}async['_pImportEntry_pImportToActor'](_0x55ae28,_0x250b96){await this[_0x8307('0x36')][_0x8307('0x2e')](_0x8307('0x2'),await DataConverterOptionalfeature[_0x8307('0x12')](_0x55ae28),{});if(this[_0x8307('0x36')]['isToken'])this[_0x8307('0x36')][_0x8307('0x3c')][_0x8307('0x33')]();return{'name':_0x55ae28[_0x8307('0x24')],'actor':this['_actor']};}async['_pImportEntry_pImportToItems'](_0x91c6aa,_0x2fd469){const _0x40357b=await DataConverterOptionalfeature[_0x8307('0x12')](_0x91c6aa,{'isAddPermission':!![]});if(_0x2fd469[_0x8307('0x32')]||!this[_0x8307('0x34')]){if(!_0x2fd469['isTemp']){const _0x1b7575=await this['_pImportEntry_pGetFolderId'](_0x91c6aa);if(_0x1b7575)_0x40357b[_0x8307('0x7')]=_0x1b7575;}const _0x6ae440=await Item[_0x8307('0x1f')](_0x40357b,{'renderSheet':!!_0x2fd469[_0x8307('0x32')],'temporary':!!_0x2fd469[_0x8307('0x32')]});if(!_0x2fd469[_0x8307('0x32')])await game[_0x8307('0x31')]['insert'](_0x6ae440);return _0x6ae440;}else{const _0x47500c=new Item(_0x40357b);return await this[_0x8307('0x34')][_0x8307('0x38')](_0x47500c),_0x47500c;}}}export{ImportListOptionalFeature};