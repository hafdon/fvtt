const _0x25ff=['init','666085bPkWVH','1pPLgAv','1781EazHic','renderItemDirectory','5mvsxna','renderSettings','renderJournalDirectory','isStreamerMode','.header-actions','.game-system','renderRollTableDirectory','407tEETnN','render','filter','<button><i\x20class=\x22fas\x20fa-cogs\x22></i>\x20Configure\x20','user','addClass','click','_init_addDirectoryWrapper','span','.ui__wrp-player-settings','.action-buttons','each','element','125068IuXcBJ','3571NxQhuh','309331zeqDYD','button[data-action=\x22configure\x22]','text','insertAfter','remove','renderActorDirectory','<div\x20class=\x22w-100\x22></div>','_doRenderSettings_handleConfigFixEscapeKey','.compendium-footer','82585jhZdpY','<button\x20class=\x22ui__btn-open-menu\x22><i\x20class=\x22fas\x20fa-bars\x22></i>\x20Open\x20Main\x20Menu</button>','get','MODULE_NAME','#compendium','.ui__btn-open-menu','_doRenderSettings_addPlayerConfigButton','1353503WkSHEO','isGM','menu','find','dir__btn-header','_init_addCompendiumObfuscation','appendTo','\x20(Expanded\x20SRD)','$getDirButton','length','Plutonium\x20','_doRenderSettings_handleConfigHidePlutoniumDirectoryButtons','.dir__wrp-header','178bLBePJ','.cfg__btn-open-alt','compendium','pHandleButtonClick','isFixEscapeKey'];const _0xcd7f=function(_0x56eb8b,_0x444d30){_0x56eb8b=_0x56eb8b-0x133;let _0x25ff0e=_0x25ff[_0x56eb8b];return _0x25ff0e;};const _0x3fa3fd=_0xcd7f;(function(_0x2188a1,_0x58512c){const _0x125593=_0xcd7f;while(!![]){try{const _0x18cd19=parseInt(_0x125593(0x151))+-parseInt(_0x125593(0x139))*-parseInt(_0x125593(0x16d))+-parseInt(_0x125593(0x146))*-parseInt(_0x125593(0x16f))+parseInt(_0x125593(0x148))+parseInt(_0x125593(0x16c))*parseInt(_0x125593(0x16b))+parseInt(_0x125593(0x147))*-parseInt(_0x125593(0x165))+-parseInt(_0x125593(0x158));if(_0x18cd19===_0x58512c)break;else _0x2188a1['push'](_0x2188a1['shift']());}catch(_0x23e90f){_0x2188a1['push'](_0x2188a1['shift']());}}}(_0x25ff,0x664fb));import{Config}from'./Config.js';import{ChooseImporter}from'./ChooseImporter.js';import{MenuCollectionTools}from'./MenuCollectionTools.js';import{SharedConsts}from'../shared/SharedConsts.js';class UtilUi{static[_0x3fa3fd(0x16a)](){const _0x1f2638=_0x3fa3fd;game[_0x1f2638(0x13d)][_0x1f2638(0x159)]&&(UtilUi[_0x1f2638(0x140)](_0x1f2638(0x14d)),UtilUi[_0x1f2638(0x140)](_0x1f2638(0x16e)),UtilUi['_init_addDirectoryWrapper'](_0x1f2638(0x134)),UtilUi['_init_addDirectoryWrapper'](_0x1f2638(0x138))),UtilUi['_init_addCompendiumObfuscation']();}static[_0x3fa3fd(0x15d)](){const _0x2567dd=_0x3fa3fd,_0x191237='('+SharedConsts[_0x2567dd(0x154)]+')';Hooks['on']('renderCompendiumDirectory',()=>{const _0x3f330a=_0x2567dd;if(!Config[_0x3f330a(0x153)]('ui',_0x3f330a(0x135)))return;$(_0x3f330a(0x155))['find'](_0x3f330a(0x150))[_0x3f330a(0x144)]((_0x424b6b,_0x1274cd)=>{const _0x205645=_0x3f330a;$(_0x1274cd)[_0x205645(0x15b)](_0x205645(0x141))[_0x205645(0x13b)]((_0x234dcd,_0x197d97)=>$(_0x197d97)[_0x205645(0x14a)]()['trim']()===_0x191237)['text'](_0x205645(0x15f));});}),ui[_0x2567dd(0x167)][_0x2567dd(0x13a)]();}static[_0x3fa3fd(0x140)](_0x4deae8){const _0x1df94e=_0x3fa3fd,_0x2caace=Config[_0x1df94e(0x153)]('import','minimumRole'),_0x10cfc7=game[_0x1df94e(0x13d)]['role']>=_0x2caace;Hooks['on'](_0x4deae8,(_0x54c352,_0x2e7ff1)=>{const _0x36bf06=_0x1df94e;_0x2e7ff1['find'](_0x36bf06(0x164))[_0x36bf06(0x14c)](),$$`<div class="flex-col dir__wrp-header w-100 no-shrink min-w-100 dir__control-header">
					<div class="flex w-100">
						${_0x10cfc7?ChooseImporter[_0x36bf06(0x160)](_0x4deae8)[_0x36bf06(0x13e)](_0x36bf06(0x15c)):_0x36bf06(0x14e)}
						${MenuCollectionTools[_0x36bf06(0x160)](_0x4deae8)[_0x36bf06(0x13e)](_0x36bf06(0x15c))}
						${Config['$getDirButton']()[_0x36bf06(0x13e)](_0x36bf06(0x15c))}
					</div>
				</div>`[_0x36bf06(0x14b)](_0x2e7ff1[_0x36bf06(0x15b)](_0x36bf06(0x136))),MenuCollectionTools[_0x36bf06(0x160)](_0x4deae8)[_0x36bf06(0x13e)]('dir__btn-header\x20dir__control-header--alt')['css']({'maxWidth':0x1c})[_0x36bf06(0x15e)](_0x2e7ff1[_0x36bf06(0x15b)](_0x36bf06(0x143)));}),Hooks['on'](_0x1df94e(0x133),(_0x3ac8ab,_0x31b621)=>{const _0x4be321=_0x1df94e;this[_0x4be321(0x14f)](_0x3ac8ab,_0x31b621),this['_doRenderSettings_handleConfigHidePlutoniumDirectoryButtons'](_0x3ac8ab,_0x31b621),this[_0x4be321(0x157)](_0x3ac8ab,_0x31b621);});}static['_doRenderSettings_handleConfigFixEscapeKey'](_0x16a7b7,_0x23ce18){const _0x152a04=_0x3fa3fd;if(!Config[_0x152a04(0x153)]('ui',_0x152a04(0x169)))return _0x23ce18['find'](_0x152a04(0x156))[_0x152a04(0x14c)]();if(_0x23ce18[_0x152a04(0x15b)](_0x152a04(0x156))[_0x152a04(0x161)])return;$(_0x152a04(0x152))[_0x152a04(0x13f)](()=>{const _0x55c79e=_0x152a04,_0x4c0247=ui[_0x55c79e(0x15a)][_0x55c79e(0x145)];if(!_0x4c0247[_0x55c79e(0x161)])ui['menu'][_0x55c79e(0x13a)](!![]);else _0x4c0247['slideDown'](0x96);})['insertBefore'](_0x23ce18[_0x152a04(0x15b)](_0x152a04(0x149)));}static[_0x3fa3fd(0x163)](_0x45ec21,_0x391bd5){const _0x3efcf0=_0x3fa3fd;if(!Config['get']('ui','isHidePlutoniumDirectoryButtons'))return _0x391bd5['find'](_0x3efcf0(0x166))['remove']();if(_0x391bd5[_0x3efcf0(0x15b)]('.cfg__btn-open-alt')[_0x3efcf0(0x161)])return;Config[_0x3efcf0(0x160)]({'isGameSettingsButton':!![]})['insertAfter'](_0x391bd5[_0x3efcf0(0x15b)](_0x3efcf0(0x149)));}static[_0x3fa3fd(0x157)](_0x14ca8c,_0x730b6f){const _0x15cf10=_0x3fa3fd;if(game[_0x15cf10(0x13d)][_0x15cf10(0x159)])return;if(_0x730b6f['find'](_0x15cf10(0x142))[_0x15cf10(0x161)])return;const _0x31de2f=$(_0x15cf10(0x13c)+(Config[_0x15cf10(0x153)]('ui',_0x15cf10(0x135))?'SRD\x20Module':_0x15cf10(0x162))+'</button>')['click'](_0x5d199c=>Config[_0x15cf10(0x168)](_0x5d199c));$$`<div class="ui__wrp-player-settings">${_0x31de2f}</div>`[_0x15cf10(0x14b)](_0x730b6f['find'](_0x15cf10(0x137)));}}export{UtilUi};