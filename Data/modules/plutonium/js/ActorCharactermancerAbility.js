const _0x19b0=['toMessage','1yxxrEL','_state','getClass_','_getDefaultState','tabAbilities','387321XHElHT','render','feat_getProps','compClass','race_ixRace','getMode','compRace','getCurrentLevel','addHookBase','126326AbZTCE','data','compStatgen','map','_data','ability','ascSort','feats','56520mpJLRW','23185UyCfPz','common_cntFeatsCustom','proxyAssignSimple','compAbility','7781elCyTY','getTotals','race','push','_parent','evaluate','$wrpTab','total','forEach','length','common_cntAsi','ixRace','_roll_getRolledStats','_compStatgen','351311QsLeoB','ability_cntPossibleFeats','compFeat','state','rolled_rollCount','rolled_formula','464733yxStfM','class_ixMax','class_getProps','feat_cntFeatsCustom','modalFilterFeats','_actor','_tabAbilities'];const _0x3506=function(_0x115411,_0x4fa262){_0x115411=_0x115411-0x1d2;let _0x19b068=_0x19b0[_0x115411];return _0x19b068;};const _0x2e82f9=_0x3506;(function(_0x34fdef,_0x2d42e6){const _0x335da0=_0x3506;while(!![]){try{const _0x439d13=-parseInt(_0x335da0(0x1df))+parseInt(_0x335da0(0x1e8))+parseInt(_0x335da0(0x1fa))+parseInt(_0x335da0(0x200))+-parseInt(_0x335da0(0x208))*parseInt(_0x335da0(0x1ec))+-parseInt(_0x335da0(0x1e7))+-parseInt(_0x335da0(0x1d6));if(_0x439d13===_0x2d42e6)break;else _0x34fdef['push'](_0x34fdef['shift']());}catch(_0x40bda6){_0x34fdef['push'](_0x34fdef['shift']());}}}(_0x19b0,0x3fca1));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';class StatGenUiCharactermancer extends StatGenUi{[_0x2e82f9(0x1f8)](){const _0x464593=_0x2e82f9;try{const _0x27dc8e=new Roll(this['_state']['rolled_formula']);_0x27dc8e[_0x464593(0x1f1)]({'async':![]});}catch(_0x416d8d){return this['_$rollIptFormula']['addClass']('form-control--error');}const _0x9c0696=[];for(let _0x21d557=0x0;_0x21d557<this['_state'][_0x464593(0x1fe)];_0x21d557++){const _0x1f8294=new Roll(this[_0x464593(0x1d2)][_0x464593(0x1ff)]);_0x1f8294[_0x464593(0x1f1)]({'async':![]}),_0x9c0696[_0x464593(0x1ef)](_0x1f8294),_0x1f8294[_0x464593(0x207)]()['then'](null);}return _0x9c0696['sort']((_0x4fb15e,_0x1321c4)=>SortUtil[_0x464593(0x1e5)](_0x1321c4['total'],_0x4fb15e[_0x464593(0x1f3)])),_0x9c0696[_0x464593(0x1e2)](_0x3fe34c=>({'total':_0x3fe34c[_0x464593(0x1f3)],'text':(_0x3fe34c?.['terms']||[])[_0x464593(0x1e2)](_0x396a9d=>(_0x396a9d?.['results']||[])[_0x464593(0x1e2)](_0x29d814=>'['+(_0x29d814['result']||'â€’')+']')['join']('+'))}));}}class ActorCharactermancerAbility extends ActorCharactermancerBaseComponent{constructor(_0x4e43b6){const _0x66dd95=_0x2e82f9;_0x4e43b6=_0x4e43b6||{},super(),this[_0x66dd95(0x205)]=_0x4e43b6['actor'],this[_0x66dd95(0x1e3)]=_0x4e43b6[_0x66dd95(0x1e0)],this['_parent']=_0x4e43b6['parent'],this[_0x66dd95(0x206)]=_0x4e43b6[_0x66dd95(0x1d5)],this[_0x66dd95(0x1f9)]=null;}get[_0x2e82f9(0x1e1)](){const _0x151c97=_0x2e82f9;return this[_0x151c97(0x1f9)];}['addHookAbilityScores'](..._0x2f2254){const _0x47125d=_0x2e82f9;return this[_0x47125d(0x1f9)]['addHookAbilityScores'](..._0x2f2254);}['getMode'](..._0x43917e){const _0xf3f5fb=_0x2e82f9;return this[_0xf3f5fb(0x1f9)][_0xf3f5fb(0x1db)](..._0x43917e);}['setIxFeat'](..._0x1ff055){const _0x3cae65=_0x2e82f9;return this[_0x3cae65(0x1f9)]['setIxFeat'](..._0x1ff055);}['getTotals'](..._0x4016c8){const _0x3304e8=_0x2e82f9;return this[_0x3304e8(0x1f9)][_0x3304e8(0x1ed)](..._0x4016c8);}['render'](){const _0x156cfb=_0x2e82f9,_0x3f7f1a=this['_tabAbilities']?.[_0x156cfb(0x1f2)];if(!_0x3f7f1a)return;this['_compStatgen']=new StatGenUiCharactermancer({'isCharacterMode':!![],'isFvttMode':!![],'races':this[_0x156cfb(0x1e3)][_0x156cfb(0x1ee)],'feats':this['_data']['feat'],'modalFilterRaces':this['_parent'][_0x156cfb(0x1dc)]['modalFilterRaces'],'modalFilterFeats':this[_0x156cfb(0x1f0)][_0x156cfb(0x1fc)][_0x156cfb(0x204)],'existingScores':this['_getExistingScores']()}),this[_0x156cfb(0x1f9)][_0x156cfb(0x1d7)](_0x3f7f1a);const _0x4beef1=()=>{const _0x4d7a3b=_0x156cfb;let _0x4b7c44=0x0;for(let _0x5505ea=0x0;_0x5505ea<this[_0x4d7a3b(0x1f0)]['compClass'][_0x4d7a3b(0x1fd)][_0x4d7a3b(0x201)]+0x1;++_0x5505ea){const {propIxClass:_0x10c2fc,propCntAsi:_0x603885}=ActorCharactermancerBaseComponent[_0x4d7a3b(0x202)](_0x5505ea),_0xecfa4a=this[_0x4d7a3b(0x1f0)]['compClass'][_0x4d7a3b(0x1d3)]({'propIxClass':_0x10c2fc});if(!_0xecfa4a)continue;_0x4b7c44+=Number(this[_0x4d7a3b(0x1f0)][_0x4d7a3b(0x1d9)]['state'][_0x603885])||0x0;}this['_compStatgen'][_0x4d7a3b(0x1f6)]=_0x4b7c44;};this[_0x156cfb(0x1f0)][_0x156cfb(0x1d9)][_0x156cfb(0x1de)]('class_pulseChange',_0x4beef1),this[_0x156cfb(0x1f0)][_0x156cfb(0x1d9)][_0x156cfb(0x1de)]('class_totalLevels',_0x4beef1),_0x4beef1();const _0x4685cd=()=>{const _0x153a6e=_0x156cfb;this['_compStatgen'][_0x153a6e(0x1e9)]=this[_0x153a6e(0x1f0)][_0x153a6e(0x1fc)][_0x153a6e(0x1fd)]['feat_cntFeatsCustom'];};this[_0x156cfb(0x1f0)][_0x156cfb(0x1fc)][_0x156cfb(0x1de)]('feat_cntFeatsCustom',_0x4685cd),_0x4685cd();const _0x40b86a=()=>{const _0x28640f=_0x156cfb,_0x3c5d0f=this[_0x28640f(0x1f9)]['getFormDataAsi']();if(!_0x3c5d0f[_0x28640f(0x1e6)])return;const _0x22f494={};Object['entries'](_0x3c5d0f[_0x28640f(0x1e6)])[_0x28640f(0x1f4)](([_0xae7bdc,_0x266d0e])=>{const _0x5eed14=_0x28640f,_0x33970b=_0x266d0e[_0x5eed14(0x1f5)];switch(_0xae7bdc){case _0x5eed14(0x1e4):this[_0x5eed14(0x1f0)][_0x5eed14(0x1eb)][_0x5eed14(0x1fd)][_0x5eed14(0x1fb)]=_0x33970b;break;case'race':this[_0x5eed14(0x1f0)][_0x5eed14(0x1dc)][_0x5eed14(0x1fd)]['race_cntFeats']=_0x33970b;break;case'custom':this['_parent'][_0x5eed14(0x1fc)]['state'][_0x5eed14(0x203)]=_0x33970b;break;}_0x266d0e[_0x5eed14(0x1f4)]((_0xac6ddd,_0x5a99f7)=>{const _0x172d2f=_0x5eed14,{propIxFeat:_0x588916}=ActorCharactermancerBaseComponent[_0x172d2f(0x1d8)](_0x5a99f7,_0xae7bdc);if(_0xac6ddd){const _0x40dee0=_0xac6ddd['ix']===-0x1?null:_0xac6ddd['ix'];if(_0x40dee0!==this[_0x172d2f(0x1f0)]['compFeat']['state'][_0x588916])_0x22f494[_0x588916]=_0x40dee0;}else{if(this['_parent'][_0x172d2f(0x1fc)]['state'][_0x588916]!=null)_0x22f494[_0x588916]=null;}});}),this[_0x28640f(0x1f0)][_0x28640f(0x1fc)][_0x28640f(0x1ea)]('state',_0x22f494),this[_0x28640f(0x1d2)]['ability_readonly_cntFeats']=(_0x3c5d0f[_0x28640f(0x1e6)]['ability']||[])['filter'](Boolean)[_0x28640f(0x1f5)];};this[_0x156cfb(0x1f9)]['addHookPulseAsi'](_0x40b86a),_0x40b86a();const _0x1dc755=()=>this['_parent'][_0x156cfb(0x1dc)]['state']['race_ixRace']=this['_compStatgen']['ixRace'];this[_0x156cfb(0x1f9)]['addHookIxRace'](_0x1dc755);const _0x1a5beb=()=>this[_0x156cfb(0x1f9)][_0x156cfb(0x1f7)]=this[_0x156cfb(0x1f0)][_0x156cfb(0x1dc)][_0x156cfb(0x1fd)][_0x156cfb(0x1da)];this['_parent'][_0x156cfb(0x1dc)][_0x156cfb(0x1de)](_0x156cfb(0x1da),_0x1a5beb),_0x1a5beb();}['_getExistingScores'](){const _0x38afe9=_0x2e82f9;if(!Charactermancer_Util[_0x38afe9(0x1dd)](this[_0x38afe9(0x205)]))return null;return Charactermancer_Util['getBaseAbilityScores'](this[_0x38afe9(0x205)]);}[_0x2e82f9(0x1d4)](){return{'ability_cntPossibleFeats':0x0,'ability_readonly_cntFeats':0x0};}}export{ActorCharactermancerAbility};