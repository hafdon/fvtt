const _0x3120=['modules/','49366izJVJe','<div>\x0a\x09\x09\x09\x09\x09\x09\x09','\x0a\x09\x09\x09\x09\x09\x09\x09','</div>','psionic','bonus','min','join','_getPsionicItems_getActionTypeFromString','feat','_getPsionicItems_getDisciplineActiveItems','203383ZdPcFb','getTypeOrderString','filter','2tVbtyk','find','filterValues','14957KDKHCd',')\x20saving\x20throw','_getPsionicItems_getTalentItem','submodes','minute','_getPsionicItems_getDamageTypeFromString','getPsionicItem','setFirstSection','prepared','<p><i>','map','hour','exec','_getPsionicFlags','render','getNameWithSourcePart','6IwUbla','<div>','toLowerCase','113011JprmcU','focus','cost','unit','name','duration','none','concentration','push','1321513LcMuDB','values','replace','380272RDWkTJ','</i></p>','length','entries','1mflEEq','_getPsionicItems_getDisciplineFocusItem','cantrip','psi)','permission','evo','importPsionic','_PSI_DURATION_MAP','spell','get','2nvLzHp','_getPsionicItems_getSaveFromString','level','getCleanEntityName','permissions','copy','getBodyText','\x0a\x09\x09\x09\x09\x09\x09</div>','URL_TO_HASH_BUILDER','getSourceWithPagePart','getPsionicItems','/media/icon/brain.svg','MODULE_NAME','round','85yiMEpi','max','int','split','stringify','1cakuVH','\x20-\x20','data','slice','test','16670QqFATj','<br>','PG_PSIONICS','type','isImportDescription'];const _0x26e3=function(_0x44faf4,_0x367878){_0x44faf4=_0x44faf4-0x1df;let _0x3120dd=_0x3120[_0x44faf4];return _0x3120dd;};const _0x5a6fa7=_0x26e3;(function(_0x39c8cc,_0x14dab6){const _0x4ee0c0=_0x26e3;while(!![]){try{const _0x215048=parseInt(_0x4ee0c0(0x1e6))*-parseInt(_0x4ee0c0(0x20a))+parseInt(_0x4ee0c0(0x236))*parseInt(_0x4ee0c0(0x239))+-parseInt(_0x4ee0c0(0x223))*-parseInt(_0x4ee0c0(0x215))+-parseInt(_0x4ee0c0(0x220))*parseInt(_0x4ee0c0(0x1f7))+-parseInt(_0x4ee0c0(0x226))*parseInt(_0x4ee0c0(0x1ed))+parseInt(_0x4ee0c0(0x1e9))+-parseInt(_0x4ee0c0(0x205))*-parseInt(_0x4ee0c0(0x20f));if(_0x215048===_0x14dab6)break;else _0x39c8cc['push'](_0x39c8cc['shift']());}catch(_0x25b591){_0x39c8cc['push'](_0x39c8cc['shift']());}}}(_0x3120,0xcad40));import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';class DataConverterPsionic{static[_0x5a6fa7(0x201)](_0x35e02e,_0x391037){const _0x5b6938=_0x5a6fa7;return _0x391037=_0x391037||{},[this[_0x5b6938(0x228)](_0x35e02e,_0x391037),this[_0x5b6938(0x1ee)](_0x35e02e,_0x391037),...this[_0x5b6938(0x21f)](_0x35e02e,_0x391037)][_0x5b6938(0x222)](Boolean);}static['_getPsionicFlags'](_0x342cea,_0x213595){const _0x20882a=_0x5a6fa7;_0x213595=_0x213595||{};const _0x1cb6da={[SharedConsts['MODULE_NAME']]:{'page':UrlUtil[_0x20882a(0x211)],'source':_0x342cea['source'],'hash':UrlUtil[_0x20882a(0x1ff)][UrlUtil[_0x20882a(0x211)]](_0x342cea)}};return _0x213595['isAddDataFlags']&&(_0x1cb6da[SharedConsts['MODULE_NAME']][_0x20882a(0x20c)]={'psionic':MiscUtil[_0x20882a(0x1fc)](_0x342cea)},_0x1cb6da[SharedConsts[_0x20882a(0x203)]]['filterValues']=_0x213595[_0x20882a(0x225)]),_0x1cb6da;}static[_0x5a6fa7(0x228)](_0x1b9ef2,_0x191d28){const _0x59e01d=_0x5a6fa7;if(_0x1b9ef2[_0x59e01d(0x212)]!=='T')return null;const _0x4fc013=JSON['stringify'](_0x1b9ef2[_0x59e01d(0x1ec)]),_0x139f01=this[_0x59e01d(0x21d)](_0x4fc013);let _0x125e26='',_0x227289=null;const _0x17ad23=[];_0x4fc013[_0x59e01d(0x1e8)](/\({@damage ([^}]+)}\)/g,(..._0x98c869)=>_0x17ad23[_0x59e01d(0x1e5)](_0x98c869[0x1]));const _0x19548d=/(?:^|[^(]){@dice ([^}]+)}(?:[^)]|$)/[_0x59e01d(0x232)](_0x4fc013);if(_0x17ad23[_0x59e01d(0x1eb)]===0x3){if(_0x19548d)_0x227289=_0x19548d[0x1];else _0x227289=_0x17ad23[0x0];}if(_0x19548d)_0x125e26=_0x19548d;else{if(_0x17ad23[_0x59e01d(0x1eb)])_0x125e26=_0x17ad23[0x0];}const _0x2f994f=this[_0x59e01d(0x22b)](_0x4fc013),_0x3fc3df=_0x125e26?[_0x125e26,_0x2f994f]['filter'](Boolean):null,_0x435ef2=this['_getPsionicItems_getSaveFromString'](_0x4fc013);return{'name':UtilApplications[_0x59e01d(0x1fa)](DataConverter['getNameWithSourcePart'](_0x1b9ef2)),'type':_0x59e01d(0x1f5),'data':{'source':DataConverter[_0x59e01d(0x200)](_0x1b9ef2),'description':{'value':Config[_0x59e01d(0x1f6)]('importPsionic','isImportDescription')?'<div>'+Renderer[_0x59e01d(0x219)][_0x59e01d(0x1fd)](_0x1b9ef2,Renderer[_0x59e01d(0x1f6)]())+_0x59e01d(0x218):'','chat':'','unidentified':''},'actionType':_0x139f01,'level':0x0,'school':_0x59e01d(0x1f2),'components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':![]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':_0x139f01,'cost':0x1,'condition':''},'duration':{'value':0x0,'units':''},'damage':{'parts':[_0x3fc3df][_0x59e01d(0x222)](Boolean),'versatile':''},'scaling':{'mode':_0x227289?_0x59e01d(0x1ef):_0x59e01d(0x1e3),'formula':_0x227289||''},'save':{'ability':_0x435ef2,'dc':null},'ability':_0x59e01d(0x207),'uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':'prepared','prepared':!![]}},'img':'modules/'+SharedConsts['MODULE_NAME']+_0x59e01d(0x202),'flags':{...this[_0x59e01d(0x233)](_0x1b9ef2,_0x191d28)},'effects':[]};}static[_0x5a6fa7(0x1ee)](_0x3ec3a6,_0xb34dc2){const _0x496b45=_0x5a6fa7;if(_0x3ec3a6[_0x496b45(0x212)]!=='D')return null;return{'name':UtilApplications[_0x496b45(0x1fa)](DataConverter['getNameWithSourcePart'](_0x3ec3a6,_0x3ec3a6[_0x496b45(0x1e1)]+'\x20-\x20Focus')),'type':_0x496b45(0x1f5),'data':{'source':DataConverter[_0x496b45(0x200)](_0x3ec3a6),'description':{'value':Config[_0x496b45(0x1f6)](_0x496b45(0x1f3),'isImportDescription')?'<div>'+Renderer[_0x496b45(0x1f6)]()[_0x496b45(0x22d)](!![])['render']({'entries':[_0x3ec3a6[_0x496b45(0x23a)]]})+_0x496b45(0x218):'','chat':'','unidentified':''},'actionType':_0x496b45(0x21a),'level':0x0,'school':_0x496b45(0x1f2),'components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':![]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':'bonus','cost':0x1,'condition':'(Only\x20one\x20focus\x20may\x20be\x20active\x20at\x20a\x20time)'},'duration':{'value':0x0,'units':''},'damage':{'parts':[],'versatile':''},'scaling':{'mode':'none','formula':''},'save':{'ability':null,'dc':null},'ability':_0x496b45(0x207),'uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':_0x496b45(0x22e),'prepared':!![]}},'img':_0x496b45(0x214)+SharedConsts[_0x496b45(0x203)]+_0x496b45(0x202),'flags':{...this[_0x496b45(0x233)](_0x3ec3a6,_0xb34dc2)},'effects':[]};}static[_0x5a6fa7(0x21f)](_0x30c285,_0xa826ef){const _0x4108d1=_0x5a6fa7,_0x4d851c=_0x2157f9=>{const _0xbc364e=_0x26e3,_0x4c0320=_0x53488a=>_0x53488a[_0xbc364e(0x1df)]?'\x20('+(_0x53488a[_0xbc364e(0x1df)][_0xbc364e(0x21b)]===_0x53488a['cost'][_0xbc364e(0x206)]?_0x53488a[_0xbc364e(0x1df)][_0xbc364e(0x21b)]:_0x53488a[_0xbc364e(0x1df)][_0xbc364e(0x21b)]+'-'+_0x53488a[_0xbc364e(0x1df)]['max'])+_0xbc364e(0x1f0):'',_0x257bb3=_0x4c0320(_0x2157f9),_0x228c25=_0x2157f9[_0xbc364e(0x229)]?Renderer[_0xbc364e(0x1f6)]()[_0xbc364e(0x22d)](!![])['render']({'type':'list','style':'list-hang-notitle','items':_0x2157f9[_0xbc364e(0x229)][_0xbc364e(0x230)](_0x1514d2=>({'type':'item','name':''+_0x1514d2[_0xbc364e(0x1e1)]+_0x4c0320(_0x1514d2),'entry':_0x1514d2[_0xbc364e(0x1ec)][_0xbc364e(0x21c)](_0xbc364e(0x210))}))},0x2):'',_0x1129c2=JSON[_0xbc364e(0x209)](_0x2157f9[_0xbc364e(0x1ec)]),_0x373a44=this[_0xbc364e(0x21d)](_0x1129c2);let _0x242405=null;const _0xd6820e=[],_0x516e09=this['_getPsionicItems_getDamageTypeFromString'](_0x1129c2);_0x1129c2[_0xbc364e(0x1e8)](/{@(?:scaledice|scaledamage) ([^}]+)}/,(..._0x1e0941)=>{const _0x502aa2=_0xbc364e,[_0x4fe89b,_0x2b0543,_0x104de8]=_0x1e0941[0x1][_0x502aa2(0x208)]('|');_0xd6820e['push'](_0x4fe89b),_0x242405=_0x104de8;});!_0xd6820e[_0xbc364e(0x1eb)]&&_0x1129c2[_0xbc364e(0x1e8)](/{@damage ([^}]+)}/g,(..._0x28aa62)=>_0xd6820e['push'](_0x28aa62[0x1]));const _0x9e6d=_0xd6820e['map'](_0x18469a=>[_0x18469a,_0x516e09][_0xbc364e(0x222)](Boolean)),_0x2ee5c8=this[_0xbc364e(0x1f8)](_0x1129c2),_0x3ada0c=_0x2157f9[_0xbc364e(0x1df)]?_0x2157f9['cost'][_0xbc364e(0x21b)]:_0x2157f9['submodes']?MiscUtil[_0xbc364e(0x1f6)](_0x2157f9[_0xbc364e(0x229)][_0xbc364e(0x224)](_0x3b8056=>_0x3b8056[_0xbc364e(0x1df)]),'cost',_0xbc364e(0x21b))||0x1:0x1,_0x1127eb=_0x2157f9[_0xbc364e(0x1e4)]?_0x2157f9[_0xbc364e(0x1e4)][_0xbc364e(0x1e2)]:0x0,_0x4856c4=(_0x2157f9['concentration']?DataConverterPsionic['_PSI_DURATION_MAP'][_0x2157f9[_0xbc364e(0x1e4)][_0xbc364e(0x1e0)]]:'')||'';return{'name':UtilApplications[_0xbc364e(0x1fa)](DataConverter[_0xbc364e(0x235)](_0x30c285,_0x30c285[_0xbc364e(0x1e1)]+_0xbc364e(0x20b)+_0x2157f9['name']+_0x257bb3)),'type':_0xbc364e(0x1f5),'data':{'source':DataConverter[_0xbc364e(0x200)](_0x30c285),'description':{'value':Config[_0xbc364e(0x1f6)](_0xbc364e(0x1f3),_0xbc364e(0x213))?_0xbc364e(0x216)+Renderer[_0xbc364e(0x1f6)]()[_0xbc364e(0x22d)](!![])[_0xbc364e(0x234)]({'entries':_0x2157f9[_0xbc364e(0x1ec)]},0x2)+_0xbc364e(0x217)+_0x228c25+_0xbc364e(0x1fe):'','chat':'','unidentified':''},'actionType':_0x373a44,'level':_0x3ada0c,'school':'evo','components':{'value':'','vocal':![],'somatic':![],'material':![],'ritual':![],'concentration':!!_0x2157f9[_0xbc364e(0x1e4)]},'materials':{'value':'','consumed':![],'cost':0x0,'supply':0x0},'target':{'value':0x0,'units':'','type':''},'range':{'value':null,'units':'','long':null},'activation':{'type':_0x373a44,'cost':0x1,'condition':''},'duration':{'value':_0x1127eb,'units':_0x4856c4},'damage':{'parts':_0x9e6d,'versatile':''},'scaling':{'mode':_0x242405?_0xbc364e(0x1f9):'none','formula':_0x242405||''},'save':{'ability':_0x2ee5c8,'dc':null},'ability':'int','uses':{'value':0x0,'max':0x0,'per':''},'attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','preparation':{'mode':_0xbc364e(0x22e),'prepared':!![]}},'img':_0xbc364e(0x214)+SharedConsts[_0xbc364e(0x203)]+'/media/icon/brain.svg','flags':{...this['_getPsionicFlags'](_0x30c285,_0xa826ef)},'effects':[]};};if(_0x30c285[_0x4108d1(0x212)]==='T')return[];else return _0x30c285['modes'][_0x4108d1(0x230)](_0x4107a7=>_0x4d851c(_0x4107a7));}static[_0x5a6fa7(0x21d)](_0x5ab61d){const _0x566e27=_0x5a6fa7,_0x460f00=/bonus action/i['test'](_0x5ab61d),_0x71f93d=/as an action|using your action/i[_0x566e27(0x20e)](_0x5ab61d);return _0x460f00?_0x566e27(0x21a):_0x71f93d?'action':'';}static['_getPsionicItems_getDamageTypeFromString'](_0x2046ad){const _0x29af85=_0x5a6fa7,_0xc1015b=Parser['DMG_TYPES'][_0x29af85(0x230)](_0x5568fc=>new RegExp('('+_0x5568fc+')[^.]+damage','ig')[_0x29af85(0x232)](_0x2046ad)),_0x1db7ca=_0xc1015b[_0x29af85(0x222)](Boolean)[_0x29af85(0x230)](_0x5d8af0=>_0x5d8af0[0x1]['toLowerCase']());return _0x1db7ca[0x0]||null;}static[_0x5a6fa7(0x1f8)](_0x3f55b2){const _0x486b2e=_0x5a6fa7,_0x17027c=Object[_0x486b2e(0x1e7)](Parser['ATB_ABV_TO_FULL'])[_0x486b2e(0x230)](_0x48cdea=>new RegExp('('+_0x48cdea+_0x486b2e(0x227),'ig')[_0x486b2e(0x232)](_0x3f55b2)),_0x465aee=_0x17027c[_0x486b2e(0x222)](Boolean)[_0x486b2e(0x230)](_0x33dff6=>_0x33dff6[0x1][_0x486b2e(0x20d)](0x0,0x3)[_0x486b2e(0x238)]());return _0x465aee[0x0]||null;}static[_0x5a6fa7(0x22c)](_0x53601b,_0x3621d2){const _0x56b132=_0x5a6fa7;_0x3621d2=_0x3621d2||{};const _0x4e37f5=Renderer['psionic'][_0x56b132(0x221)](_0x53601b),_0x11041a=_0x56b132(0x22f)+_0x4e37f5+_0x56b132(0x1ea)+Renderer[_0x56b132(0x219)][_0x56b132(0x1fd)](_0x53601b,Renderer[_0x56b132(0x1f6)]()[_0x56b132(0x22d)](!![])),_0x1d3621={'name':_0x53601b['name'],'type':_0x56b132(0x21e),'data':{'description':{'value':Config[_0x56b132(0x1f6)](_0x56b132(0x1f3),_0x56b132(0x213))?_0x56b132(0x237)+_0x11041a+_0x56b132(0x218):'','chat':'','unidentified':''},'source':DataConverter[_0x56b132(0x200)](_0x53601b),'damage':{'parts':[]},'activation':{'type':'','cost':0x0,'condition':''},'duration':{'value':null,'units':''},'target':{'value':null,'units':'','type':''},'range':{'value':null,'long':null,'units':''},'uses':{'value':0x0,'max':0x0,'per':null},'ability':null,'actionType':'','attackBonus':0x0,'chatFlavor':'','critical':null,'formula':'','save':{'ability':'','dc':null},'requirements':'','recharge':{'value':null,'charged':![]}},'flags':{...this['_getPsionicFlags'](_0x53601b,_0x3621d2)},'effects':[],'img':_0x56b132(0x214)+SharedConsts[_0x56b132(0x203)]+'/media/icon/brain.svg'};if(_0x3621d2['isAddPermission'])_0x1d3621[_0x56b132(0x1f1)]={'default':Config[_0x56b132(0x1f6)]('importPsionic',_0x56b132(0x1fb))};return _0x1d3621;}}DataConverterPsionic[_0x5a6fa7(0x1f4)]={'min':_0x5a6fa7(0x22a),'hr':_0x5a6fa7(0x231),'rnd':_0x5a6fa7(0x204)};export{DataConverterPsionic};